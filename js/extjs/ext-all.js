var Ext=Ext||{};Ext._startTime=(new Date).getTime(),function(){var e,t,n=this,i=Object.prototype,r=i.toString,o=!0,a={toString:1},s=function(){},l=function(){var e=l.caller.caller;return e.$owner.prototype[e.$name].apply(this,arguments)},d=/\S/,c=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/;Function.prototype.$extIsFunction=!0,Ext.global=n;for(e in a)o=null;o&&(o=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]),Ext.enumerables=o,Ext.apply=function(e,t,n){if(n&&Ext.apply(e,n),e&&t&&"object"==typeof t){var i,r,a;for(i in t)e[i]=t[i];if(o)for(r=o.length;r--;)a=o[r],t.hasOwnProperty(a)&&(e[a]=t[a])}return e},Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{}),Ext.apply(Ext,{name:Ext.sandboxName||"Ext",emptyFn:s,identityFn:function(e){return e},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(e,t){var n;if(e)for(n in t)void 0===e[n]&&(e[n]=t[n]);return e},iterate:function(e,t,n){Ext.isEmpty(e)||(void 0===n&&(n=e),Ext.isIterable(e)?Ext.Array.each.call(Ext.Array,e,t,n):Ext.Object.each.call(Ext.Object,e,t,n))}}),Ext.apply(Ext,{extend:function(){var e=i.constructor,t=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])};return function(n,i,r){Ext.isObject(i)&&(r=i,i=n,n=r.constructor!==e?r.constructor:function(){i.apply(this,arguments)});var o,a=function(){},s=i.prototype;return a.prototype=s,o=n.prototype=new a,o.constructor=n,n.superclass=s,s.constructor===e&&(s.constructor=i),n.override=function(e){Ext.override(n,e)},o.override=t,o.proto=o,n.override(r),n.extend=function(e){return Ext.extend(n,e)},n}}(),override:function(e,t){if(e.$isClass)e.override(t);else if("function"==typeof e)Ext.apply(e.prototype,t);else{var n,i,r=e.self;if(r&&r.$isClass)for(n in t)t.hasOwnProperty(n)&&(i=t[n],"function"==typeof i&&(i.$name=n,i.$owner=r,i.$previous=e.hasOwnProperty(n)?e[n]:l),e[n]=i);else Ext.apply(e,t)}return e}}),Ext.apply(Ext,{valueFrom:function(e,t,n){return Ext.isEmpty(e,n)?t:e},typeOf:function(e){var t,n;if(null===e)return"null";if(t=typeof e,"undefined"===t||"string"===t||"number"===t||"boolean"===t)return t;switch(n=r.call(e)){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}return"function"===t?"function":"object"===t?void 0!==e.nodeType?3===e.nodeType?d.test(e.nodeValue)?"textnode":"whitespace":"element":"object":void 0},coerce:function(e,t){var n=Ext.typeOf(e),i=Ext.typeOf(t),r="string"==typeof e;if(n!==i)switch(i){case"string":return String(e);case"number":return Number(e);case"boolean":return!r||e&&"false"!==e?Boolean(e):!1;case"null":return!r||e&&"null"!==e?e:null;case"undefined":return!r||e&&"undefined"!==e?e:void 0;case"date":return r&&isNaN(e)?Ext.Date.parse(e,Ext.Date.defaultFormat):Date(Number(e))}return e},isEmpty:function(e,t){return null===e||void 0===e||(t?!1:""===e)||Ext.isArray(e)&&0===e.length},isArray:"isArray"in Array?Array.isArray:function(e){return"[object Array]"===r.call(e)},isDate:function(e){return"[object Date]"===r.call(e)},isObject:"[object Object]"===r.call(null)?function(e){return null!==e&&void 0!==e&&"[object Object]"===r.call(e)&&void 0===e.ownerDocument}:function(e){return"[object Object]"===r.call(e)},isSimpleObject:function(e){return e instanceof Object&&e.constructor===Object},isPrimitive:function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},isFunction:function(e){return!(!e||!e.$extIsFunction)},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isElement:function(e){return e?1===e.nodeType:!1},isTextNode:function(e){return e?"#text"===e.nodeName:!1},isDefined:function(e){return"undefined"!=typeof e},isIterable:function(e){return!e||"number"!=typeof e.length||"string"==typeof e||e.$extIsFunction?!1:e.propertyIsEnumerable?e.hasOwnProperty("length")&&!e.propertyIsEnumerable("length")?!0:c.test(r.call(e)):!!e.item}}),Ext.apply(Ext,{clone:function(e){var t,n,i,a,s,l;if(null===e||void 0===e)return e;if(e.nodeType&&e.cloneNode)return e.cloneNode(!0);if(t=r.call(e),"[object Date]"===t)return new Date(e.getTime());if("[object Array]"===t)for(n=e.length,s=[];n--;)s[n]=Ext.clone(e[n]);else if("[object Object]"===t&&e.constructor===Object){s={};for(l in e)s[l]=Ext.clone(e[l]);if(o)for(i=o.length;i--;)a=o[i],e.hasOwnProperty(a)&&(s[a]=e[a])}return s||e},getUniqueGlobalNamespace:function(){var e,t=this.uniqueGlobalNamespace;if(void 0===t){e=0;do t="ExtBox"+ ++e;while(void 0!==Ext.global[t]);Ext.global[t]=Ext,this.uniqueGlobalNamespace=t}return t},functionFactoryCache:{},cacheableFunctionFactory:function(){var e,t,n,i=this,r=Array.prototype.slice.call(arguments),o=i.functionFactoryCache;return Ext.isSandboxed&&(n=r.length,n>0&&(n--,r[n]="var Ext=window."+Ext.name+";"+r[n])),e=r.join(""),t=o[e],t||(t=Function.prototype.constructor.apply(Function.prototype,r),o[e]=t),t},functionFactory:function(){var e,t=Array.prototype.slice.call(arguments);return Ext.isSandboxed&&(e=t.length,e>0&&(e--,t[e]="var Ext=window."+Ext.name+";"+t[e])),Function.prototype.constructor.apply(Function.prototype,t)},Logger:{verbose:s,log:s,info:s,warn:s,error:function(e){throw new Error(e)},deprecate:s}}),Ext.type=Ext.typeOf,t=Ext.app,t||(t=Ext.app={}),Ext.apply(t,{namespaces:{},collectNamespaces:function(e){var t,n=Ext.app.namespaces;for(t in e)e.hasOwnProperty(t)&&(n[t]=!0)},addNamespaces:function(e){var t,n,i=Ext.app.namespaces;for(Ext.isArray(e)||(e=[e]),t=0,n=e.length;n>t;t++)i[e[t]]=!0},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(e){var t,n=Ext.app.namespaces,i="";for(t in n)n.hasOwnProperty(t)&&t.length>i.length&&t+"."===e.substring(0,t.length+1)&&(i=t);return""===i?void 0:i}})}(),Ext.globalEval=Ext.global.execScript?function(e){execScript(e)}:function($$code){!function(){var Ext=this.Ext;eval($$code)}()},function(){var e,t="4.2.1.883";Ext.Version=e=Ext.extend(Object,{constructor:function(t){var n,i;return t instanceof e?t:(this.version=this.shortVersion=String(t).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,""),i=this.version.search(/([^\d\.])/),-1!==i&&(this.release=this.version.substr(i,t.length),this.shortVersion=this.version.substr(0,i)),this.shortVersion=this.shortVersion.replace(/[^\d]/g,""),n=this.version.split("."),this.major=parseInt(n.shift()||0,10),this.minor=parseInt(n.shift()||0,10),this.patch=parseInt(n.shift()||0,10),this.build=parseInt(n.shift()||0,10),this)},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(t){return 1===e.compare(this.version,t)},isGreaterThanOrEqual:function(t){return e.compare(this.version,t)>=0},isLessThan:function(t){return-1===e.compare(this.version,t)},isLessThanOrEqual:function(t){return e.compare(this.version,t)<=0},equals:function(t){return 0===e.compare(this.version,t)},match:function(e){return e=String(e),this.version.substr(0,e.length)===e},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,arguments)},gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}}),Ext.apply(e,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(e){return e?isNaN(e)?this.releaseValueMap[e]||e:parseInt(e,10):0},compare:function(t,n){var i,r,o;for(t=new e(t).toArray(),n=new e(n).toArray(),o=0;o<Math.max(t.length,n.length);o++){if(i=this.getComponentValue(t[o]),r=this.getComponentValue(n[o]),r>i)return-1;if(i>r)return 1}return 0}}),Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(t,n){return Ext.versions[t]=new e(n),Ext.lastRegisteredVersion=Ext.versions[t],this},getVersion:function(e){return void 0===e?Ext.lastRegisteredVersion:Ext.versions[e]},deprecate:function(t,n,i,r){e.compare(Ext.getVersion(t),n)<1&&i.call(r)}}),Ext.setVersion("core",t)}(),Ext.String=function(){var e,t,n,i,r=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,o=/('|\\)/g,a=/\{(\d+)\}/g,s=/([-.*+?\^${}()|\[\]\/\\])/g,l=/^\s+|\s+$/g,d=/\s+/,c=/(^[^a-z]*|[^\w])/gi,u=function(t,n){return e[n]},h=function(e,n){return n in t?t[n]:String.fromCharCode(parseInt(n.substr(2),10))},f=function(e,t){return null===e||void 0===e||null===t||void 0===t?!1:t.length<=e.length};return{insert:function(e,t,n){if(!e)return t;if(!t)return e;var i=e.length;return n||0===n||(n=i),0>n&&(n*=-1,n=n>=i?0:i-n),0===n?e=t+e:n>=e.length?e+=t:e=e.substr(0,n)+t+e.substr(n),e},startsWith:function(e,t,n){var i=f(e,t);return i&&(n&&(e=e.toLowerCase(),t=t.toLowerCase()),i=0===e.lastIndexOf(t,0)),i},endsWith:function(e,t,n){var i=f(e,t);return i&&(n&&(e=e.toLowerCase(),t=t.toLowerCase()),i=-1!==e.indexOf(t,e.length-t.length)),i},createVarName:function(e){return e.replace(c,"")},htmlEncode:function(e){return e?String(e).replace(n,u):e},htmlDecode:function(e){return e?String(e).replace(i,h):e},addCharacterEntities:function(r){var o,a,s=[],l=[];for(o in r)a=r[o],t[o]=a,e[a]=o,s.push(a),l.push(o);n=new RegExp("("+s.join("|")+")","g"),i=new RegExp("("+l.join("|")+"|&#[0-9]{1,5};"+")","g")},resetCharacterEntities:function(){e={},t={},this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(e,t){return Ext.isEmpty(t)?e:e+(-1===e.indexOf("?")?"?":"&")+t},trim:function(e){return e.replace(r,"")},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substr(1)},uncapitalize:function(e){return e.charAt(0).toLowerCase()+e.substr(1)},ellipsis:function(e,t,n){if(e&&e.length>t){if(n){var i=e.substr(0,t-2),r=Math.max(i.lastIndexOf(" "),i.lastIndexOf("."),i.lastIndexOf("!"),i.lastIndexOf("?"));if(-1!==r&&r>=t-15)return i.substr(0,r)+"..."}return e.substr(0,t-3)+"..."}return e},escapeRegex:function(e){return e.replace(s,"\\$1")},escape:function(e){return e.replace(o,"\\$1")},toggle:function(e,t,n){return e===t?n:t},leftPad:function(e,t,n){var i=String(e);for(n=n||" ";i.length<t;)i=n+i;return i},format:function(e){var t=Ext.Array.toArray(arguments,1);return e.replace(a,function(e,n){return t[n]})},repeat:function(e,t,n){1>t&&(t=0);for(var i=[],r=t;r--;)i.push(e);return i.join(n||"")},splitWords:function(e){return e&&"string"==typeof e?e.replace(l,"").split(d):e||[]}}}(),Ext.String.resetCharacterEntities(),Ext.htmlEncode=Ext.String.htmlEncode,Ext.htmlDecode=Ext.String.htmlDecode,Ext.urlAppend=Ext.String.urlAppend,Ext.Number=new function(){var e=this,t="1"!==.9.toFixed(),n=Math;Ext.apply(this,{constrain:function(e,t,n){var i=parseFloat(e);return t>i?t:i>n?n:i},snap:function(t,n,i,r){var o;return void 0===t||i>t?i||0:(n&&(o=t%n,0!==o&&(t-=o,2*o>=n?t+=n:-n>2*o&&(t-=n))),e.constrain(t,i,r))},snapInRange:function(t,n,i,r){var o;return i=i||0,void 0===t||i>t?i:(n&&(o=(t-i)%n)&&(t-=o,o*=2,o>=n&&(t+=n)),void 0!==r&&t>(r=e.snapInRange(r,n,i))&&(t=r),t)},toFixed:t?function(e,t){t=t||0;var i=n.pow(10,t);return(n.round(e*i)/i).toFixed(t)}:function(e,t){return e.toFixed(t)},from:function(e,t){return isFinite(e)&&(e=parseFloat(e)),isNaN(e)?t:e},randomInt:function(e,t){return n.floor(n.random()*(t-e+1)+e)},correctFloat:function(e){return parseFloat(e.toPrecision(14))}}),Ext.num=function(){return e.from.apply(this,arguments)}},function(){function e(e,t){return 0>t?Math.max(0,e.length+t):Math.min(e.length,t)}function t(t,n,i,r){var o,a,s,l,d,c,u=r?r.length:0,h=t.length,f=e(t,n);if(f===h)u&&t.push.apply(t,r);else{if(o=Math.min(i,h-f),a=f+o,s=a+u-o,l=h-a,d=h-o,a>s)for(c=0;l>c;++c)t[s+c]=t[a+c];else if(s>a)for(c=l;c--;)t[s+c]=t[a+c];if(u&&f===d)t.length=d,t.push.apply(t,r);else for(t.length=d+u,c=0;u>c;++c)t[f+c]=r[c]}return t}function n(e,t,n,i){return i&&i.length?0!==t||n?t<e.length?e.splice.apply(e,[t,n].concat(i)):e.push.apply(e,i):e.unshift.apply(e,i):e.splice(t,n),e}function i(e,n,i){return t(e,n,i)}function r(e,t,n){return e.splice(t,n),e}function o(n,i,r){var o=e(n,i),a=n.slice(i,e(n,o+r));return arguments.length<4?t(n,o,r):t(n,o,r,h.call(arguments,3)),a}function a(e){return e.splice.apply(e,h.call(arguments,1))}var s,l,d,c,u=Array.prototype,h=u.slice,f=function(){var e,t=[],n=20;if(!t.splice)return!1;for(;n--;)t.push("A");return t.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F"),e=t.length,t.splice(13,0,"XXX"),e+1!=t.length?!1:!0}(),g="forEach"in u,p="map"in u,m="indexOf"in u,x="every"in u,y="some"in u,E="filter"in u,v=function(){var e=[1,2,3,4,5].sort(function(){return 0});return 1===e[0]&&2===e[1]&&3===e[2]&&4===e[3]&&5===e[4]}(),b=!0;try{"undefined"!=typeof document&&h.call(document.getElementsByTagName("body"))}catch(C){b=!1}l=f?r:i,d=f?n:t,c=f?a:o,s=Ext.Array={each:function(e,t,n,i){e=s.from(e);var r,o=e.length;if(i!==!0){for(r=0;o>r;r++)if(t.call(n||e[r],e[r],r,e)===!1)return r}else for(r=o-1;r>-1;r--)if(t.call(n||e[r],e[r],r,e)===!1)return r;return!0},forEach:g?function(e,t,n){e.forEach(t,n)}:function(e,t,n){for(var i=0,r=e.length;r>i;i++)t.call(n,e[i],i,e)},indexOf:m?function(e,t,n){return u.indexOf.call(e,t,n)}:function(e,t,n){var i,r=e.length;for(i=0>n?Math.max(0,r+n):n||0;r>i;i++)if(e[i]===t)return i;return-1},contains:m?function(e,t){return-1!==u.indexOf.call(e,t)}:function(e,t){var n,i;for(n=0,i=e.length;i>n;n++)if(e[n]===t)return!0;return!1},toArray:function(e,t,n){if(!e||!e.length)return[];if("string"==typeof e&&(e=e.split("")),b)return h.call(e,t||0,n||e.length);var i,r=[];for(t=t||0,n=n?0>n?e.length+n:n:e.length,i=t;n>i;i++)r.push(e[i]);return r},pluck:function(e,t){var n,i,r,o=[];for(n=0,i=e.length;i>n;n++)r=e[n],o.push(r[t]);return o},map:p?function(e,t,n){return e.map(t,n)}:function(e,t,n){for(var i=[],r=0,o=e.length;o>r;r++)i[r]=t.call(n,e[r],r,e);return i},every:x?function(e,t,n){return e.every(t,n)}:function(e,t,n){for(var i=0,r=e.length;r>i;++i)if(!t.call(n,e[i],i,e))return!1;return!0},some:y?function(e,t,n){return e.some(t,n)}:function(e,t,n){for(var i=0,r=e.length;r>i;++i)if(t.call(n,e[i],i,e))return!0;return!1},equals:function(e,t){var n,i=e.length,r=t.length;if(e===t)return!0;if(i!==r)return!1;for(n=0;i>n;++n)if(e[n]!==t[n])return!1;return!0},clean:function(e){for(var t,n=[],i=0,r=e.length;r>i;i++)t=e[i],Ext.isEmpty(t)||n.push(t);return n},unique:function(e){for(var t,n=[],i=0,r=e.length;r>i;i++)t=e[i],-1===s.indexOf(n,t)&&n.push(t);return n},filter:E?function(e,t,n){return e.filter(t,n)}:function(e,t,n){for(var i=[],r=0,o=e.length;o>r;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i},findBy:function(e,t,n){for(var i=0,r=e.length;r>i;i++)if(t.call(n||e,e[i],i))return e[i];return null},from:function(e,t){if(void 0===e||null===e)return[];if(Ext.isArray(e))return t?h.call(e):e;var n=typeof e;return!e||void 0===e.length||"string"===n||"function"===n&&e.apply?[e]:s.toArray(e)},remove:function(e,t){var n=s.indexOf(e,t);return-1!==n&&l(e,n,1),e},include:function(e,t){s.contains(e,t)||e.push(t)},clone:function(e){return h.call(e)},merge:function(){var e,t,n=h.call(arguments),i=[];for(e=0,t=n.length;t>e;e++)i=i.concat(n[e]);return s.unique(i)},intersect:function(){var e,t,n,i,r,o,a,d,c,u,f,g,p,m=[],x=h.call(arguments);if(!x.length)return m;for(e=x.length,f=r=0;e>f;f++)o=x[f],(!i||o.length<i.length)&&(i=o,r=f);for(i=s.unique(i),l(x,r,1),a=i.length,e=x.length,f=0;a>f;f++){for(d=i[f],u=0,g=0;e>g;g++)for(t=x[g],n=t.length,p=0;n>p;p++)if(c=t[p],d===c){u++;break}u===e&&m.push(d)}return m},difference:function(e,t){var n,i,r,o=h.call(e),a=o.length;for(n=0,r=t.length;r>n;n++)for(i=0;a>i;i++)o[i]===t[n]&&(l(o,i,1),i--,a--);return o},slice:[1,2].slice(1,void 0).length?function(e,t,n){return h.call(e,t,n)}:function(e,t,n){return"undefined"==typeof t?h.call(e):"undefined"==typeof n?h.call(e,t):h.call(e,t,n)},sort:v?function(e,t){return t?e.sort(t):e.sort()}:function(e,t){for(var n,i,r,o,a=e.length,s=0;a>s;s++){for(r=s,i=s+1;a>i;i++)t?(n=t(e[i],e[r]),0>n&&(r=i)):e[i]<e[r]&&(r=i);r!==s&&(o=e[s],e[s]=e[r],e[r]=o)}return e},flatten:function(e){function t(e){var i,r,o;for(i=0,r=e.length;r>i;i++)o=e[i],Ext.isArray(o)?t(o):n.push(o);return n}var n=[];return t(e)},min:function(e,t){var n,i,r,o=e[0];for(n=0,i=e.length;i>n;n++)r=e[n],t?1===t(o,r)&&(o=r):o>r&&(o=r);return o},max:function(e,t){var n,i,r,o=e[0];for(n=0,i=e.length;i>n;n++)r=e[n],t?-1===t(o,r)&&(o=r):r>o&&(o=r);return o},mean:function(e){return e.length>0?s.sum(e)/e.length:void 0},sum:function(e){var t,n,i,r=0;for(t=0,n=e.length;n>t;t++)i=e[t],r+=i;return r},toMap:function(e,t,n){var i={},r=e.length;if(t)if("string"==typeof t)for(;r--;)i[e[r][t]]=r+1;else for(;r--;)i[t.call(n,e[r])]=r+1;else for(;r--;)i[e[r]]=r+1;return i},toValueMap:function(e,t,n){var i={},r=e.length;if(t)if("string"==typeof t)for(;r--;)i[e[r][t]]=e[r];else for(;r--;)i[t.call(n,e[r])]=e[r];else for(;r--;)i[e[r]]=e[r];return i},erase:l,insert:function(e,t,n){return d(e,t,0,n)},replace:d,splice:c,push:function(e){var t,n=arguments.length,i=1;for(void 0===e?e=[]:Ext.isArray(e)||(e=[e]);n>i;i++)t=arguments[i],Array.prototype.push[Ext.isIterable(t)?"apply":"call"](e,t);return e}},Ext.each=s.each,s.union=s.merge,Ext.min=s.min,Ext.max=s.max,Ext.sum=s.sum,Ext.mean=s.mean,Ext.flatten=s.flatten,Ext.clean=s.clean,Ext.unique=s.unique,Ext.pluck=s.pluck,Ext.toArray=function(){return s.toArray.apply(s,arguments)}}(),Ext.Function={flexSetter:function(e){return function(t,n){var i,r;if(null===t)return this;if("string"!=typeof t){for(i in t)t.hasOwnProperty(i)&&e.call(this,i,t[i]);if(Ext.enumerables)for(r=Ext.enumerables.length;r--;)i=Ext.enumerables[r],t.hasOwnProperty(i)&&e.call(this,i,t[i])}else e.call(this,t,n);return this}},bind:function(e,t,n,i){if(2===arguments.length)return function(){return e.apply(t,arguments)};var r=e,o=Array.prototype.slice;return function(){var e=n||arguments;return i===!0?(e=o.call(arguments,0),e=e.concat(n)):"number"==typeof i&&(e=o.call(arguments,0),Ext.Array.insert(e,i,n)),r.apply(t||Ext.global,e)}},pass:function(e,t,n){return Ext.isArray(t)||(t=Ext.isIterable(t)?Ext.Array.clone(t):void 0!==t?[t]:[]),function(){var i=[].concat(t);return i.push.apply(i,arguments),e.apply(n||this,i)}},alias:function(e,t){return function(){return e[t].apply(e,arguments)}},clone:function(e){return function(){return e.apply(this,arguments)}},createInterceptor:function(e,t,n,i){return Ext.isFunction(t)?(i=Ext.isDefined(i)?i:null,function(){var r=this,o=arguments;return t.target=r,t.method=e,t.apply(n||r||Ext.global,o)!==!1?e.apply(r||Ext.global,o):i}):e},createDelayed:function(e,t,n,i,r){return(n||i)&&(e=Ext.Function.bind(e,n,i,r)),function(){var n=this,i=Array.prototype.slice.call(arguments);setTimeout(function(){e.apply(n,i)},t)}},defer:function(e,t,n,i,r){return e=Ext.Function.bind(e,n,i,r),t>0?setTimeout(Ext.supports.TimeoutActualLateness?function(){e()}:e,t):(e(),0)},createSequence:function(e,t,n){return t?function(){var i=e.apply(this,arguments);return t.apply(n||this,arguments),i}:e},createBuffered:function(e,t,n,i){var r;return function(){var o=i||Array.prototype.slice.call(arguments,0),a=n||this;r&&clearTimeout(r),r=setTimeout(function(){e.apply(a,o)},t)}},createThrottled:function(e,t,n){var i,r,o,a,s=function(){e.apply(n||this,o),i=Ext.Date.now()};return function(){r=Ext.Date.now()-i,o=arguments,clearTimeout(a),!i||r>=t?s():a=setTimeout(s,t-r)}},interceptBefore:function(e,t,n,i){var r=e[t]||Ext.emptyFn;return e[t]=function(){var e=n.apply(i||this,arguments);return r.apply(this,arguments),e}},interceptAfter:function(e,t,n,i){var r=e[t]||Ext.emptyFn;return e[t]=function(){return r.apply(this,arguments),n.apply(i||this,arguments)}}},Ext.defer=Ext.Function.alias(Ext.Function,"defer"),Ext.pass=Ext.Function.alias(Ext.Function,"pass"),Ext.bind=Ext.Function.alias(Ext.Function,"bind"),function(){var e=function(){},t=Ext.Object={chain:Object.create||function(t){e.prototype=t;var n=new e;return e.prototype=null,n},toQueryObjects:function(e,n,i){var r,o,a=t.toQueryObjects,s=[];if(Ext.isArray(n))for(r=0,o=n.length;o>r;r++)i?s=s.concat(a(e+"["+r+"]",n[r],!0)):s.push({name:e,value:n[r]});else if(Ext.isObject(n))for(r in n)n.hasOwnProperty(r)&&(i?s=s.concat(a(e+"["+r+"]",n[r],!0)):s.push({name:e,value:n[r]}));else s.push({name:e,value:n});return s},toQueryString:function(e,n){var i,r,o,a,s,l=[],d=[];for(i in e)e.hasOwnProperty(i)&&(l=l.concat(t.toQueryObjects(i,e[i],n)));for(r=0,o=l.length;o>r;r++)a=l[r],s=a.value,Ext.isEmpty(s)?s="":Ext.isDate(s)&&(s=Ext.Date.toString(s)),d.push(encodeURIComponent(a.name)+"="+encodeURIComponent(String(s)));return d.join("&")},fromQueryString:function(e,t){var n,i,r,o,a,s,l,d,c,u,h,f,g,p,m=e.replace(/^\?/,"").split("&"),x={};for(a=0,s=m.length;s>a;a++)if(l=m[a],l.length>0)if(i=l.split("="),r=decodeURIComponent(i[0]),o=void 0!==i[1]?decodeURIComponent(i[1]):"",t){if(u=r.match(/(\[):?([^\]]*)\]/g),h=r.match(/^([^\[]+)/),r=h[0],f=[],null===u){x[r]=o;continue}for(d=0,c=u.length;c>d;d++)g=u[d],g=2===g.length?"":g.substring(1,g.length-1),f.push(g);for(f.unshift(r),n=x,d=0,c=f.length;c>d;d++)g=f[d],d===c-1?Ext.isArray(n)&&""===g?n.push(o):n[g]=o:((void 0===n[g]||"string"==typeof n[g])&&(p=f[d+1],n[g]=Ext.isNumeric(p)||""===p?[]:{}),n=n[g])}else x.hasOwnProperty(r)?(Ext.isArray(x[r])||(x[r]=[x[r]]),x[r].push(o)):x[r]=o;return x},each:function(e,t,n){for(var i in e)if(e.hasOwnProperty(i)&&t.call(n||e,i,e[i],e)===!1)return},merge:function(e){for(var n,i,r,o,a=1,s=arguments.length,l=t.merge,d=Ext.clone;s>a;a++){n=arguments[a];for(i in n)r=n[i],r&&r.constructor===Object?(o=e[i],o&&o.constructor===Object?l(o,r):e[i]=d(r)):e[i]=r}return e},mergeIf:function(e){for(var t,n,i,r=1,o=arguments.length,a=Ext.clone;o>r;r++){t=arguments[r];for(n in t)n in e||(i=t[n],e[n]=i&&i.constructor===Object?a(i):i)}return e},getKey:function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n;return null},getValues:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n},getKeys:"function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},getSize:function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},equals:function(){var e=function(e,t){var n;for(n in e)if(e.hasOwnProperty(n)&&e[n]!==t[n])return!1;return!0};return function(t,n){return t===n?!0:t&&n?e(t,n)&&e(n,t):t||n?!1:t===n}}(),classify:function(e){var n,i,r=e,o=[],a={},s=function(){for(var e,t=0,n=o.length;n>t;t++)e=o[t],this[e]=new a[e]};for(n in e)e.hasOwnProperty(n)&&(i=e[n],i&&i.constructor===Object&&(o.push(n),a[n]=t.classify(i)));return s.prototype=r,s}};Ext.merge=Ext.Object.merge,Ext.mergeIf=Ext.Object.mergeIf,Ext.urlEncode=function(){var e=Ext.Array.from(arguments),n="";return"string"==typeof e[1]&&(n=e[1]+"&",e[1]=!1),n+t.toQueryString.apply(t,e)},Ext.urlDecode=function(){return t.fromQueryString.apply(t,arguments)}}(),Ext.Date=new function(){function e(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(a,function(e,n){return t[n]})}var t=this,n=/(\\.)/g,i=/([gGhHisucUOPZ]|MS)/,r=/([djzmnYycU]|MS)/,o=/\\/gi,a=/\{(\d+)\}/g,s=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),l=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear(),","jan4 = new Date(year, 0, 4, 0, 0, 0),","week1monday = new Date(jan4.getTime() - ((jan4.getDay() - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");Ext.apply(t,{now:Date.now||function(){return+new Date},toString:function(e){var t=Ext.String.leftPad;return e.getFullYear()+"-"+t(e.getMonth()+1,2,"0")+"-"+t(e.getDate(),2,"0")+"T"+t(e.getHours(),2,"0")+":"+t(e.getMinutes(),2,"0")+":"+t(e.getSeconds(),2,"0")},getElapsed:function(e,n){return Math.abs(e-(n||t.now()))},useStrict:!1,formatCodeToRegex:function(n,i){var r=t.parseCodes[n];return r&&(r="function"==typeof r?r():r,t.parseCodes[n]=r),r?Ext.applyIf({c:r.c?e(r.c,i||"{0}"):r.c},r):{g:0,c:null,s:Ext.String.escapeRegex(n)}},parseFunctions:{MS:function(e){var t=(e||"").match(s);return t?new Date(1*((t[1]||"")+t[2])):null},time:function(e){var t=parseInt(e,10);return t||0===t?new Date(t):null},timestamp:function(e){var t=parseInt(e,10);return t||0===t?new Date(1e3*t):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return t.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(e){return Ext.Date.monthNames[e].substring(0,3)},getShortDayName:function(e){return Ext.Date.dayNames[e].substring(0,3)},getMonthNumber:function(e){return Ext.Date.monthNumbers[e.substring(0,1).toUpperCase()+e.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(e){return i.test(e.replace(n,""))},formatContainsDateInfo:function(e){return r.test(e.replace(n,""))},unescapeFormat:function(e){return e.replace(o,"")},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var e,n,i,r,o;for(e="Y-m-dTH:i:sP",n=[],i=0,r=e.length;r>i;++i)o=e.charAt(i),n.push("T"==o?"'T'":t.getFormatCode(o));return n.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(e,n,i,r,o,a,s){r=r||0,o=o||0,a=a||0,s=s||0;var l=t.add(new Date(100>e?100:e,n-1,i,r,o,a,s),t.YEAR,100>e?e-100:0);return e==l.getFullYear()&&n==l.getMonth()+1&&i==l.getDate()&&r==l.getHours()&&o==l.getMinutes()&&a==l.getSeconds()&&s==l.getMilliseconds()},parse:function(e,n,i){var r=t.parseFunctions;return null==r[n]&&t.createParser(n),r[n].call(t,e,Ext.isDefined(i)?i:t.useStrict)},parseDate:function(e,n,i){return t.parse(e,n,i)},getFormatCode:function(e){var n=t.formatCodes[e];return n&&(n="function"==typeof n?n():n,t.formatCodes[e]=n),n||"'"+Ext.String.escape(e)+"'"},createFormat:function(e){var n,i=[],r=!1,o="";for(n=0;n<e.length;++n)o=e.charAt(n),r||"\\"!=o?r?(r=!1,i.push("'"+Ext.String.escape(o)+"'")):i.push(t.getFormatCode(o)):r=!0;t.formatFunctions[e]=Ext.functionFactory("return "+i.join("+"))},createParser:function(n){for(var i,r=t.parseRegexes.length,o=1,a=[],s=[],d=!1,c="",u=0,h=n.length,f=[];h>u;++u)c=n.charAt(u),d||"\\"!=c?d?(d=!1,s.push(Ext.String.escape(c))):(i=t.formatCodeToRegex(c,o),o+=i.g,s.push(i.s),i.g&&i.c&&(i.calcAtEnd?f.push(i.c):a.push(i.c))):d=!0;a=a.concat(f),t.parseRegexes[r]=new RegExp("^"+s.join("")+"$","i"),t.parseFunctions[n]=Ext.functionFactory("input","strict",e(l,r,a.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var e=[],n=0;7>n;e.push(t.getShortDayName(n)),++n);return{g:0,c:null,s:"(?:"+e.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+t.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+t.monthNames.join("|")+")"}},M:function(){for(var e=[],n=0;12>n;e.push(t.getShortMonthName(n)),++n);return Ext.applyIf({s:"("+e.join("|")+")"},t.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var e,n,i=[],r=[t.formatCodeToRegex("Y",1),t.formatCodeToRegex("m",2),t.formatCodeToRegex("d",3),t.formatCodeToRegex("H",4),t.formatCodeToRegex("i",5),t.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",t.formatCodeToRegex("P",8).c,"}else{",t.formatCodeToRegex("O",8).c,"}","}"].join("\n")}];
for(e=0,n=r.length;n>e;++e)i.push(r[e].c);return{g:1,c:i.join(""),s:[r[0].s,"(?:","-",r[1].s,"(?:","-",r[2].s,"(?:","(?:T| )?",r[3].s,":",r[4].s,"(?::",r[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(e,n){return t.format(e,n)},isEqual:function(e,t){return e&&t?e.getTime()===t.getTime():!(e||t)},format:function(e,n){var i=t.formatFunctions;return Ext.isDate(e)?(null==i[n]&&t.createFormat(n),i[n].call(e)+""):""},getTimezone:function(e){return e.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(e,t){var n=e.getTimezoneOffset();return(n>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(n)/60),2,"0")+(t?":":"")+Ext.String.leftPad(Math.abs(n%60),2,"0")},getDayOfYear:function(e){var n,i=0,r=Ext.Date.clone(e),o=e.getMonth();for(n=0,r.setDate(1),r.setMonth(0);o>n;r.setMonth(++n))i+=t.getDaysInMonth(r);return i+e.getDate()-1},getWeekOfYear:function(){var e=864e5,t=7*e;return function(n){var i=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()+3)/e,r=Math.floor(i/7),o=new Date(r*t).getUTCFullYear();return r-Math.floor(Date.UTC(o,0,7)/t)+1}}(),isLeapYear:function(e){var t=e.getFullYear();return!(0!=(3&t)||!(t%100||0==t%400&&t))},getFirstDayOfMonth:function(e){var t=(e.getDay()-(e.getDate()-1))%7;return 0>t?t+7:t},getLastDayOfMonth:function(e){return t.getLastDateOfMonth(e).getDay()},getFirstDateOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),1)},getLastDateOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),t.getDaysInMonth(e))},getDaysInMonth:function(){var e=[31,28,31,30,31,30,31,31,30,31,30,31];return function(n){var i=n.getMonth();return 1==i&&t.isLeapYear(n)?29:e[i]}}(),getSuffix:function(e){switch(e.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(e){return new Date(e.getTime())},isDST:function(e){return new Date(e.getFullYear(),0,1).getTimezoneOffset()!=e.getTimezoneOffset()},clearTime:function(e,n){if(n)return Ext.Date.clearTime(Ext.Date.clone(e));var i,r,o=e.getDate();if(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getDate()!=o){for(i=1,r=t.add(e,Ext.Date.HOUR,i);r.getDate()!=o;i++,r=t.add(e,Ext.Date.HOUR,i));e.setDate(o),e.setHours(r.getHours())}return e},add:function(e,n,i){var r,o,a=Ext.Date.clone(e),s=(Ext.Date,0);if(!n||0===i)return a;if(o=i-parseInt(i,10),i=parseInt(i,10))switch(n.toLowerCase()){case Ext.Date.MILLI:a.setTime(a.getTime()+i);break;case Ext.Date.SECOND:a.setTime(a.getTime()+1e3*i);break;case Ext.Date.MINUTE:a.setTime(a.getTime()+1e3*60*i);break;case Ext.Date.HOUR:a.setTime(a.getTime()+1e3*60*60*i);break;case Ext.Date.DAY:a.setDate(a.getDate()+i);break;case Ext.Date.MONTH:r=e.getDate(),r>28&&(r=Math.min(r,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(e),Ext.Date.MONTH,i)).getDate())),a.setDate(r),a.setMonth(e.getMonth()+i);break;case Ext.Date.YEAR:r=e.getDate(),r>28&&(r=Math.min(r,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(e),Ext.Date.YEAR,i)).getDate())),a.setDate(r),a.setFullYear(e.getFullYear()+i)}if(o){switch(n.toLowerCase()){case Ext.Date.MILLI:s=1;break;case Ext.Date.SECOND:s=1e3;break;case Ext.Date.MINUTE:s=6e4;break;case Ext.Date.HOUR:s=36e5;break;case Ext.Date.DAY:s=864e5;break;case Ext.Date.MONTH:r=t.getDaysInMonth(a),s=864e5*r;break;case Ext.Date.YEAR:r=t.isLeapYear(a)?366:365,s=864e5*r}s&&a.setTime(a.getTime()+s*o)}return a},subtract:function(e,n,i){return t.add(e,n,-i)},between:function(e,t,n){var i=e.getTime();return t.getTime()<=i&&i<=n.getTime()},compat:function(){var e,n,i,r,o=window.Date,a=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],s=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],l=a.length,d=s.length;for(r=0;l>r;r++)n=a[r],o[n]=t[n];for(e=0;d>e;e++)i=s[e],o.prototype[i]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this),t[i].apply(t,e)}}})},function(e){var t=[],n=function(){},i=function(e,t,n,i){var r=function(){var t=this.callParent(arguments);return e.apply(this,arguments),t};return r.$name=n,r.$owner=i,t&&(r.$previous=t.$previous,t.$previous=r),r};Ext.apply(n,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(e){var t,n,i,r,o,a,s=e.prototype;if(n=this.prototype=Ext.Object.chain(s),n.self=this,this.superclass=n.superclass=s,!e.$isClass){t=Ext.Base.prototype;for(i in t)i in n&&(n[i]=t[i])}if(a=s.$inheritableStatics)for(i=0,r=a.length;r>i;i++)o=a[i],this.hasOwnProperty(o)||(this[o]=e[o]);e.$onExtended&&(this.$onExtended=e.$onExtended.slice()),n.config=new n.configClass,n.initConfigList=n.initConfigList.slice(),n.initConfigMap=Ext.clone(n.initConfigMap),n.configMap=Ext.Object.chain(n.configMap)},$onExtended:[],triggerExtended:function(){var e,t,n=this.$onExtended,i=n.length;if(i>0)for(e=0;i>e;e++)t=n[e],t.fn.apply(t.scope||this,arguments)},onExtended:function(e,t){return this.$onExtended.push({fn:e,scope:t}),this},addConfig:function(e,t){var n,i,r,o=this.prototype,a=Ext.Class.configNameCache,s=o.configMap,l=o.initConfigList,d=o.initConfigMap,c=o.config;for(i in e)e.hasOwnProperty(i)&&(s[i]||(s[i]=!0),r=e[i],n=a[i].initialized,d[i]||null===r||o[n]||(d[i]=!0,l.push(i)));t?Ext.merge(c,e):Ext.mergeIf(c,e),o.configClass=Ext.Object.classify(c)},addStatics:function(e){var t,n;for(n in e)e.hasOwnProperty(n)&&(t=e[n],"function"!=typeof t||t.$isClass||t===Ext.emptyFn||t===Ext.identityFn||(t.$owner=this,t.$name=n),this[n]=t);return this},addInheritableStatics:function(e){var t,n,i,r,o=this.prototype;t=o.$inheritableStatics,n=o.$hasInheritableStatics,t||(t=o.$inheritableStatics=[],n=o.$hasInheritableStatics={});for(i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r,n[i]||(n[i]=!0,t.push(i)));return this},addMembers:function(e){var t,n,i,r,o=this.prototype,a=Ext.enumerables,s=[];for(i in e)s.push(i);for(a&&s.push.apply(s,a),t=0,n=s.length;n>t;t++)i=s[t],e.hasOwnProperty(i)&&(r=e[i],"function"!=typeof r||r.$isClass||r===Ext.emptyFn||r===Ext.identityFn||(r.$owner=this,r.$name=i),o[i]=r);return this},addMember:function(e,t){return"function"!=typeof t||t.$isClass||t===Ext.emptyFn||t===Ext.identityFn||(t.$owner=this,t.$name=e),this.prototype[e]=t,this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(e,t){var n,i,r,o,a,s=this.prototype,l=e.prototype;for(t=Ext.Array.from(t),n=0,i=t.length;i>n;n++)r=t[n],a=l[r],"function"==typeof a?(o=Ext.Function.clone(a),o.$owner=this,o.$name=r,s[r]=o):s[r]=a;return this},override:function(e){var t,n,i,r,o,a,s=this,l=Ext.enumerables,d=s.prototype,c=Ext.Function.clone;2===arguments.length&&(t=e,e={},e[t]=arguments[1],l=null);do{o=[],r=null;for(t in e)"statics"==t?r=e[t]:"inheritableStatics"==t?s.addInheritableStatics(e[t]):"config"==t?s.addConfig(e[t],!0):o.push(t);for(l&&o.push.apply(o,l),n=o.length;n--;)t=o[n],e.hasOwnProperty(t)&&(i=e[t],"function"!=typeof i||i.$className||i===Ext.emptyFn||i===Ext.identityFn||("undefined"!=typeof i.$owner&&(i=c(i)),i.$owner=s,i.$name=t,a=d[t],a&&(i.$previous=a)),d[t]=i);d=s,e=r}while(e);return this},callParent:function(e){var n;return(n=this.callParent.caller)&&(n.$previous||(n=n.$owner?n:n.caller)&&n.$owner.superclass.self[n.$name]).apply(this,e||t)},callSuper:function(e){var n;return(n=this.callSuper.caller)&&((n=n.$owner?n:n.caller)&&n.$owner.superclass.self[n.$name]).apply(this,e||t)},mixin:function(e,t){var n,r,o,a,s,l,d,c,u=this,h=t.prototype,f=u.prototype;"undefined"!=typeof h.onClassMixedIn&&h.onClassMixedIn.call(t,u),f.hasOwnProperty("mixins")||(f.mixins="mixins"in f?Ext.Object.chain(f.mixins):{});for(n in h)if(l=h[n],"mixins"===n)Ext.merge(f.mixins,l);else if("xhooks"===n)for(d in l)c=l[d],c.$previous=Ext.emptyFn,f.hasOwnProperty(d)?i(c,f[d],d,u):f[d]=i(c,null,d,u);else"mixinId"!==n&&"config"!==n&&void 0===f[n]&&(f[n]=l);if(r=h.$inheritableStatics)for(o=0,a=r.length;a>o;o++)s=r[o],u.hasOwnProperty(s)||(u[s]=t[s]);return"config"in h&&u.addConfig(h.config,!1),f.mixins[e]=h,u},getName:function(){return Ext.getClassName(this)},createAlias:e(function(e,t){this.override(e,function(){return this[t].apply(this,arguments)})}),addXtype:function(e){var t=this.prototype,n=t.xtypesMap,i=t.xtypes,r=t.xtypesChain;return t.hasOwnProperty("xtypesMap")||(n=t.xtypesMap=Ext.merge({},t.xtypesMap||{}),i=t.xtypes=t.xtypes?[].concat(t.xtypes):[],r=t.xtypesChain=t.xtypesChain?[].concat(t.xtypesChain):[],t.xtype=e),n[e]||(n[e]=!0,i.push(e),r.push(e),Ext.ClassManager.setAlias(this,"widget."+e)),this}}),n.implement({isInstance:!0,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var e=this.statics.caller,t=this.self;return e?e.$owner:t},callParent:function(e){var n,i=(n=this.callParent.caller)&&(n.$previous||(n=n.$owner?n:n.caller)&&n.$owner.superclass[n.$name]);return i.apply(this,e||t)},callSuper:function(e){var n,i=(n=this.callSuper.caller)&&(n=n.$owner?n:n.caller)&&n.$owner.superclass[n.$name];return i.apply(this,e||t)},self:n,constructor:function(){return this},initConfig:function(e){var t,n,i,r,o,a=e,s=Ext.Class.configNameCache,l=new this.configClass,d=this.initConfigList,c=this.configMap;if(this.initConfig=Ext.emptyFn,this.initialConfig=a||{},this.config=e=a?Ext.merge(l,e):l,a){d=d.slice();for(r in a)c[r]&&null!==a[r]&&(d.push(r),this[s[r].initialized]=!1)}for(n=0,i=d.length;i>n;n++)r=d[n],t=s[r],o=t.initialized,this[o]||(this[o]=!0,this[t.set].call(this,e[r]));return this},hasConfig:function(e){return Boolean(this.configMap[e])},setConfig:function(e,t){if(!e)return this;var n,i,r=Ext.Class.configNameCache,o=this.config,a=this.configMap,s=this.initialConfig;t=Boolean(t);for(n in e)t&&s.hasOwnProperty(n)||(i=e[n],o[n]=i,a[n]&&this[r[n].set](i));return this},getConfig:function(e){var t=Ext.Class.configNameCache;return this[t[e].get]()},getInitialConfig:function(e){var t=this.config;return e?t[e]:t},onConfigUpdate:function(e,t,n){var i,r,o,a,s,l,d=this.self;for(e=Ext.Array.from(e),n=n||this,i=0,r=e.length;r>i;i++)o=e[i],a="update"+Ext.String.capitalize(o),s=this[a]||Ext.emptyFn,l=function(){s.apply(this,arguments),n[t].apply(n,arguments)},l.$name=a,l.$owner=d,this[a]=l},destroy:function(){this.destroy=Ext.emptyFn}}),n.prototype.callOverridden=n.prototype.callParent,Ext.Base=n}(Ext.Function.flexSetter),function(){function e(){function e(){return this.constructor.apply(this,arguments)||null}return e}var t,n,i,r=Ext.Base,o=[];for(n in r)r.hasOwnProperty(n)&&o.push(n);i=o.length,Ext.Class=t=function(e,n,i){return"function"!=typeof e&&(i=n,n=e,e=null),n||(n={}),e=t.create(e,n),t.process(e,n,i),e},Ext.apply(t,{onBeforeCreated:function(e,t,n){e.addMembers(t),n.onCreated.call(e,e)},create:function(t){var n,a;for(t||(t=e()),a=0;i>a;a++)n=o[a],t[n]=r[n];return t},process:function(e,n,i){var r,o,a,s,l,d,c,u=n.preprocessors||t.defaultPreprocessors,h=this.preprocessors,f={onBeforeCreated:this.onBeforeCreated},g=[];for(delete n.preprocessors,a=0,s=u.length;s>a;a++)if(r=u[a],"string"==typeof r){if(r=h[r],o=r.properties,o===!0)g.push(r.fn);else if(o)for(l=0,d=o.length;d>l;l++)if(c=o[l],n.hasOwnProperty(c)){g.push(r.fn);break}}else g.push(r);f.onCreated=i?i:Ext.emptyFn,f.preprocessors=g,this.doProcess(e,n,f)},doProcess:function(e,t,n){for(var i=this,r=n.preprocessors,o=r.shift(),a=i.doProcess;o;o=r.shift())if(o.call(i,e,t,n,a)===!1)return;n.onBeforeCreated.apply(i,arguments)},preprocessors:{},registerPreprocessor:function(e,t,n,i,r){return i||(i="last"),n||(n=[e]),this.preprocessors[e]={name:e,properties:n||!1,fn:t},this.setDefaultPreprocessorPosition(e,i,r),this},getPreprocessor:function(e){return this.preprocessors[e]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(e){return this.defaultPreprocessors=Ext.Array.from(e),this},setDefaultPreprocessorPosition:function(e,t,n){var i,r=this.defaultPreprocessors;if("string"==typeof t){if("first"===t)return r.unshift(e),this;if("last"===t)return r.push(e),this;t="after"===t?1:-1}return i=Ext.Array.indexOf(r,n),-1!==i&&Ext.Array.splice(r,Math.max(0,i+t),0,e),this},configNameCache:{},getConfigNameMap:function(e){var t,n=this.configNameCache,i=n[e];return i||(t=e.charAt(0).toUpperCase()+e.substr(1),i=n[e]={internal:e,initialized:"_is"+t+"Initialized",apply:"apply"+t,update:"update"+t,set:"set"+t,get:"get"+t,doSet:"doSet"+t,changeEvent:e.toLowerCase()+"change"}),i}}),t.registerPreprocessor("extend",function(e,t){var n,i,r,o=Ext.Base,a=o.prototype,s=t.extend;if(delete t.extend,n=s&&s!==Object?s:o,i=n.prototype,!n.$isClass)for(r in a)i[r]||(i[r]=a[r]);e.extend(n),e.triggerExtended.apply(e,arguments),t.onClassExtended&&(e.onExtended(t.onClassExtended,e),delete t.onClassExtended)},!0),t.registerPreprocessor("statics",function(e,t){e.addStatics(t.statics),delete t.statics}),t.registerPreprocessor("inheritableStatics",function(e,t){e.addInheritableStatics(t.inheritableStatics),delete t.inheritableStatics}),t.registerPreprocessor("config",function(e,n){var i=n.config,r=e.prototype;delete n.config,Ext.Object.each(i,function(e,i){var o,a,s=t.getConfigNameMap(e),l=s.internal,d=s.initialized,c=s.apply,u=s.update,h=s.set,f=s.get,g=h in r||n.hasOwnProperty(h),p=c in r||n.hasOwnProperty(c),m=u in r||n.hasOwnProperty(u);null!==i&&(g||p||m)?r[d]=!1:(r[l]=i,r[d]=!0),g||(n[h]=function(e){var t=this[l],n=this[c],i=this[u];return this[d]||(this[d]=!0),n&&(e=n.call(this,e,t)),"undefined"!=typeof e&&(this[l]=e,i&&e!==t&&i.call(this,e,t)),this}),f in r&&!n.hasOwnProperty(f)||(a=n[f]||!1,o=a?function(){return a.apply(this,arguments)}:function(){return this[l]},n[f]=function(){var t;return this[d]||(this[d]=!0,this[h](this.config[e])),t=this[f],"$previous"in t?t.$previous=o:this[f]=o,o.apply(this,arguments)})}),e.addConfig(i,!0)}),t.registerPreprocessor("mixins",function(e,t,n){var i,r,o,a,s=t.mixins;delete t.mixins,Ext.Function.interceptBefore(n,"onCreated",function(){if(s instanceof Array)for(o=0,a=s.length;a>o;o++)r=s[o],i=r.prototype.mixinId||r.$className,e.mixin(i,r);else for(var t in s)s.hasOwnProperty(t)&&e.mixin(t,s[t])})}),Ext.extend=function(e,n,i){2===arguments.length&&Ext.isObject(n)&&(i=n,n=e,e=null);var r;if(!n)throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");return i.extend=n,i.preprocessors=["extend","statics","inheritableStatics","mixins","config"],e?(r=new t(e,i),r.prototype.constructor=e):r=new t(i),r.prototype.override=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},r}}(),function(e,t,n,i,r){function o(){function e(){return this.constructor.apply(this,arguments)||null}return e}var a=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:!0,namespaceParseCache:{},instantiators:[],isCreated:function(e){var t,n,i,o,a,s=this.existCache;if(this.classes[e]||s[e])return!0;for(o=r,a=this.parseNamespace(e),t=0,n=a.length;n>t;t++)if(i=a[t],"string"!=typeof i)o=i;else{if(!o||!o[i])return!1;o=o[i]}return s[e]=!0,this.triggerCreated(e),!0},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(e){var t,n,i,r,o,a,s=this.createdListeners,l=this.nameCreatedListeners,d=this.maps.nameToAlternates[e],c=[e];for(t=0,n=s.length;n>t;t++)o=s[t],o.fn.call(o.scope,e);for(d&&c.push.apply(c,d),t=0,n=c.length;n>t;t++)if(a=c[t],s=l[a]){for(i=0,r=s.length;r>i;i++)o=s[i],o.fn.call(o.scope,a);delete l[a]}},onCreated:function(e,t,n){var i=this.createdListeners,r=this.nameCreatedListeners,o={fn:e,scope:t};if(n){if(this.isCreated(n))return e.call(t,n),void 0;r[n]||(r[n]=[]),r[n].push(o)}else i.push(o)},parseNamespace:function(e){var t,n,i,o,a,s,l,d,c,u=this.namespaceParseCache;if(this.enableNamespaceParseCache&&u.hasOwnProperty(e))return u[e];for(t=[],n=this.namespaceRewrites,i=r,o=e,d=0,c=n.length;c>d;d++)if(a=n[d],s=a.from,l=a.to,o===s||o.substring(0,s.length)===s){o=o.substring(s.length),"string"!=typeof l?i=l:t=t.concat(l.split("."));break}return t.push(i),t=t.concat(o.split(".")),this.enableNamespaceParseCache&&(u[e]=t),t},setNamespace:function(e,t){var n,i,o=r,a=this.parseNamespace(e),s=a.length-1,l=a[s];for(n=0;s>n;n++)i=a[n],"string"!=typeof i?o=i:(o[i]||(o[i]={}),o=o[i]);return o[l]=t,o[l]},createNamespaces:function(){var e,t,n,i,o,a,s=r;for(n=0,o=arguments.length;o>n;n++)for(e=this.parseNamespace(arguments[n]),i=0,a=e.length;a>i;i++)t=e[i],"string"!=typeof t?s=t:(s[t]||(s[t]={}),s=s[t]);return s},set:function(e,t){var n,i=this,r=i.maps,o=r.nameToAlternates,a=i.getName(t);return i.classes[e]=i.setNamespace(e,t),a&&a!==e&&(r.alternateToName[e]=a,n=o[a]||(o[a]=[]),n.push(e)),this},get:function(e){var t,n,i,o,a,s=this.classes;if(s[e])return s[e];for(t=r,n=this.parseNamespace(e),o=0,a=n.length;a>o;o++)if(i=n[o],"string"!=typeof i)t=i;else{if(!t||!t[i])return null;t=t[i]}return t},setAlias:function(e,t){var n,i=this.maps.aliasToName,r=this.maps.nameToAliases;return n="string"==typeof e?e:this.getName(e),t&&i[t]!==n&&(i[t]=n),r[n]||(r[n]=[]),t&&Ext.Array.include(r[n],t),this},addNameAliasMappings:function(e){var t,n,i,r,o=this.maps.aliasToName,a=this.maps.nameToAliases;for(t in e)for(n=a[t]||(a[t]=[]),r=0;r<e[t].length;r++)i=e[t][r],o[i]||(o[i]=t,n.push(i));return this},addNameAlternateMappings:function(e){var t,n,i,r,o=this.maps.alternateToName,a=this.maps.nameToAlternates;for(t in e)for(n=a[t]||(a[t]=[]),r=0;r<e[t].length;r++)i=e[t][r],o[i]||(o[i]=t,n.push(i));return this},getByAlias:function(e){return this.get(this.getNameByAlias(e))},getNameByAlias:function(e){return this.maps.aliasToName[e]||""},getNameByAlternate:function(e){return this.maps.alternateToName[e]||""},getAliasesByName:function(e){return this.maps.nameToAliases[e]||[]},getName:function(e){return e&&e.$className||""},getClass:function(e){return e&&e.self||null},create:function(t,n,i){var r=o();return"function"==typeof n&&(n=n(r)),n.$className=t,new e(r,n,function(){var e,r,o,s,l,d,c,u=n.postprocessors||a.defaultPostprocessors,h=a.postprocessors,f=[];for(delete n.postprocessors,r=0,o=u.length;o>r;r++)if(e=u[r],"string"==typeof e){if(e=h[e],d=e.properties,d===!0)f.push(e.fn);else if(d)for(s=0,l=d.length;l>s;s++)if(c=d[s],n.hasOwnProperty(c)){f.push(e.fn);break}}else f.push(e);n.postprocessors=f,n.createdFn=i,a.processCreate(t,this,n)})},processCreate:function(e,t,n){var i=this,r=n.postprocessors.shift(),o=n.createdFn;return r?(r.call(i,e,t,n,i.processCreate)!==!1&&i.processCreate(e,t,n),void 0):(e&&i.set(e,t),o&&o.call(t,t),e&&i.triggerCreated(e),void 0)},createOverride:function(e,t,n){var i=this,r=t.override,o=t.requires,a=t.uses,s=function(){var l,d;o?(d=o,o=null,Ext.Loader.require(d,s)):(l=i.get(r),delete t.override,delete t.requires,delete t.uses,Ext.override(l,t),i.triggerCreated(e),a&&Ext.Loader.addUsedClasses(a),n&&n.call(l))};return i.existCache[e]=!0,i.onCreated(s,i,r),i},instantiateByAlias:function(){var e=arguments[0],t=n.call(arguments),i=this.getNameByAlias(e);return i||(i=this.maps.aliasToName[e],Ext.syncRequire(i)),t[0]=i,this.instantiate.apply(this,t)},instantiate:function(){var e,t,i=arguments[0],r=typeof i,o=n.call(arguments,1);return"function"!=r?("string"!=r&&0===o.length&&(o=[i],i=i.xclass),t=this.get(i)):t=i,t||(e=this.getNameByAlias(i),e&&(i=e,t=this.get(i))),t||(e=this.getNameByAlternate(i),e&&(i=e,t=this.get(i))),t||(Ext.syncRequire(i),t=this.get(i)),this.getInstantiator(o.length)(t,o)},dynInstantiate:function(e,t){return t=i(t,!0),t.unshift(e),this.instantiate.apply(this,t)},getInstantiator:function(e){var t,n,i,r=this.instantiators;if(t=r[e],!t){for(n=e,i=[],n=0;e>n;n++)i.push("a["+n+"]");t=r[e]=new Function("c","a","return new c("+i.join(",")+")")}return t},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(e,t,n,i,r){return i||(i="last"),n||(n=[e]),this.postprocessors[e]={name:e,properties:n||!1,fn:t},this.setDefaultPostprocessorPosition(e,i,r),this},setDefaultPostprocessors:function(e){return this.defaultPostprocessors=i(e),this},setDefaultPostprocessorPosition:function(e,t,n){var i,r=this.defaultPostprocessors;if("string"==typeof t){if("first"===t)return r.unshift(e),this;if("last"===t)return r.push(e),this;t="after"===t?1:-1}return i=Ext.Array.indexOf(r,n),-1!==i&&Ext.Array.splice(r,Math.max(0,i+t),0,e),this},getNamesByExpression:function(e){var t,n,i,r,o,a,s,l=this.maps.nameToAliases,d=[];if(-1!==e.indexOf("*")){e=e.replace(/\*/g,"(.*?)"),o=new RegExp("^"+e+"$");for(t in l)if(l.hasOwnProperty(t))if(i=l[t],-1!==t.search(o))d.push(t);else for(a=0,s=i.length;s>a;a++)if(n=i[a],-1!==n.search(o)){d.push(t);break}}else r=this.getNameByAlias(e),r?d.push(r):(r=this.getNameByAlternate(e),r?d.push(r):d.push(e));return d}};a.registerPostprocessor("alias",function(e,n,i){var r,o,a=i.alias;for(r=0,o=a.length;o>r;r++)t=a[r],this.setAlias(n,t)},["xtype","alias"]),a.registerPostprocessor("singleton",function(e,t,n,i){return n.singleton?(i.call(this,e,new t,n),!1):!0}),a.registerPostprocessor("alternateClassName",function(e,t,n){var i,r,o,a=n.alternateClassName;for(a instanceof Array||(a=[a]),i=0,r=a.length;r>i;i++)o=a[i],this.set(o,t)}),Ext.apply(Ext,{create:t(a,"instantiate"),widget:function(e,t){var n,i,r,o,s=e;return"string"!=typeof s?(t=e,s=t.xtype):t=t||{},t.isComponent?t:(n="widget."+s,i=a.getNameByAlias(n),i||(o=!0),r=a.get(i),o||!r?a.instantiateByAlias(n,t):new r(t))},createByAlias:t(a,"instantiateByAlias"),define:function(e,t){return t.override?a.createOverride.apply(a,arguments):a.create.apply(a,arguments)},undefine:function(e){var t,n,i,r,o=a.classes,s=a.maps,l=s.aliasToName,d=s.nameToAliases,c=s.alternateToName,u=s.nameToAlternates,h=d[e],f=u[e];if(delete a.namespaceParseCache[e],delete d[e],delete u[e],delete o[e],h)for(r=h.length;r--;)delete l[h[r]];if(f)for(r=f.length;r--;)delete c[f[r]];for(t=a.parseNamespace(e),n=t.length-1,i=t[0],r=1;n>r;r++)if(i=i[t[r]],!i)return;try{delete i[t[n]]}catch(g){i[t[n]]=void 0}},getClassName:t(a,"getName"),getDisplayName:function(e){if(e){if(e.displayName)return e.displayName;if(e.$name&&e.$class)return Ext.getClassName(e.$class)+"#"+e.$name;if(e.$className)return e.$className}return"Anonymous"},getClass:t(a,"getClass"),namespace:t(a,"createNamespaces")}),Ext.createWidget=Ext.widget,Ext.ns=Ext.namespace,e.registerPreprocessor("className",function(e,t){t.$className&&(e.$className=t.$className)},!0,"first"),e.registerPreprocessor("alias",function(e,t){var n,r,o,a,s=e.prototype,l=i(t.xtype),d=i(t.alias),c="widget.",u=c.length,h=Array.prototype.slice.call(s.xtypesChain||[]),f=Ext.merge({},s.xtypesMap||{});for(n=0,r=d.length;r>n;n++)o=d[n],o.substring(0,u)===c&&(a=o.substring(u),Ext.Array.include(l,a));for(e.xtype=t.xtype=l[0],t.xtypes=l,n=0,r=l.length;r>n;n++)a=l[n],f[a]||(f[a]=!0,h.push(a));for(t.xtypesChain=h,t.xtypesMap=f,Ext.Function.interceptAfter(t,"onClassCreated",function(){var e,t,i=s.mixins;for(e in i)if(i.hasOwnProperty(e)&&(t=i[e],l=t.xtypes))for(n=0,r=l.length;r>n;n++)a=l[n],f[a]||(f[a]=!0,h.push(a))}),n=0,r=l.length;r>n;n++)a=l[n],Ext.Array.include(d,c+a);t.alias=d},["xtype","alias"])}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global),Ext._alternatesMetadata&&(Ext.ClassManager.addNameAlternateMappings(Ext._alternatesMetadata),Ext._alternatesMetadata=null),Ext._aliasMetadata&&(Ext.ClassManager.addNameAliasMappings(Ext._aliasMetadata),Ext._aliasMetadata=null),Ext.Loader=new function(){var e=this,t=Ext.ClassManager,n=Ext.Class,i=Ext.Function.flexSetter,r=Ext.Function.alias,o=Ext.Function.pass,a=Ext.Function.defer,s=Ext.Array.erase,l=["extend","mixins","requires"],d={},c=[],u=/\/\.\//g,h=/\./g,f=0;Ext.apply(e,{isInHistory:d,history:c,config:{enabled:!1,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",garbageCollect:!1,paths:{Ext:"."},preserveScripts:!0,scriptCharset:void 0},setConfig:function(t,n){return Ext.isObject(t)&&1===arguments.length?(Ext.merge(e.config,t),"paths"in t&&Ext.app.collectNamespaces(t.paths)):(e.config[t]=Ext.isObject(n)?Ext.merge(e.config[t],n):n,"paths"===t&&Ext.app.collectNamespaces(n)),e},getConfig:function(t){return t?e.config[t]:e.config},setPath:i(function(t,n){return e.config.paths[t]=n,Ext.app.namespaces[t]=!0,f++,e}),addClassPathMappings:function(t){var n;if(0==f)e.config.paths=t;else for(n in t)e.config.paths[n]=t[n];return f++,e},getPath:function(t){var n="",i=e.config.paths,r=e.getPrefix(t);if(r.length>0){if(r===t)return i[r];n=i[r],t=t.substring(r.length+1)}return n.length>0&&(n+="/"),n.replace(u,"/")+t.replace(h,"/")+".js"},getPrefix:function(t){var n,i=e.config.paths,r="";if(i.hasOwnProperty(t))return t;for(n in i)i.hasOwnProperty(n)&&n+"."===t.substring(0,n.length+1)&&n.length>r.length&&(r=n);return r},isAClassNameWithAKnownPrefix:function(t){var n=e.getPrefix(t);return""!==n&&n!==t},require:function(e,t,n){t&&t.call(n)},syncRequire:function(){},exclude:function(t){return{require:function(n,i,r){return e.require(n,i,r,t)},syncRequire:function(n,i,r){return e.syncRequire(n,i,r,t)}}},onReady:function(e,t,n,i){var r;n!==!1&&Ext.onDocumentReady&&(r=e,e=function(){Ext.onDocumentReady(r,t,i)}),e.call(t)}});var g=[],p={},m={},x={},y={},E=[],v=[],b={},C=function(e,t){return t.priority-e.priority};Ext.apply(e,{documentHead:"undefined"!=typeof document&&(document.head||document.getElementsByTagName("head")[0]),isLoading:!1,queue:g,isClassFileLoaded:p,isFileLoaded:m,readyListeners:E,optionalRequires:v,requiresMap:b,numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:!1,classNameToFilePathMap:x,scriptsLoading:0,syncModeEnabled:!1,scriptElements:y,refreshQueue:function(){var n,i,r,o,a=g.length;if(!a&&!e.scriptsLoading)return e.triggerReady();for(n=0;a>n;n++)if(i=g[n]){if(o=i.requires,o.length>e.numLoadedFiles)continue;for(r=0;r<o.length;)t.isCreated(o[r])?s(o,r,1):r++;if(0===i.requires.length){s(g,n,1),i.callback.call(i.scope),e.refreshQueue();break}}return e},injectScriptElement:function(t,n,i,r,o){var s=document.createElement("script"),l=!1,d=e.config,c=function(){l||(l=!0,s.onload=s.onreadystatechange=s.onerror=null,"number"==typeof d.scriptChainDelay?a(n,d.scriptChainDelay,r):n.call(r),e.cleanupScriptElement(s,d.preserveScripts===!1,d.garbageCollect))},u=function(){a(i,1,r),e.cleanupScriptElement(s,d.preserveScripts===!1,d.garbageCollect)};return s.type="text/javascript",s.onerror=u,o=o||d.scriptCharset,o&&(s.charset=o),"addEventListener"in s?s.onload=c:"readyState"in s?s.onreadystatechange=function(){("loaded"==this.readyState||"complete"==this.readyState)&&c()}:s.onload=c,s.src=t,(e.documentHead||document.getElementsByTagName("head")[0]).appendChild(s),s},removeScriptElement:function(t){return y[t]&&(e.cleanupScriptElement(y[t],!0,!!e.getConfig("garbageCollect")),delete y[t]),e},cleanupScriptElement:function(t,n,i){var r;if(t.onload=t.onreadystatechange=t.onerror=null,n&&(Ext.removeNode(t),i))for(r in t)try{"src"!=r&&(t[r]=null),delete t[r]}catch(o){}return e},loadScript:function(t){var n,i=e.getConfig(),r="string"==typeof t,o=r?t:t.url,a=!r&&t.onError,s=!r&&t.onLoad,l=!r&&t.scope,d=function(){e.numPendingFiles--,e.scriptsLoading--,a&&a.call(l,"Failed loading '"+o+"', please verify that the file exists"),0===e.numPendingFiles+e.scriptsLoading&&e.refreshQueue()},c=function(){e.numPendingFiles--,e.scriptsLoading--,s&&s.call(l),0===e.numPendingFiles+e.scriptsLoading&&e.refreshQueue()};e.isLoading=!0,e.numPendingFiles++,e.scriptsLoading++,n=i.disableCaching?o+"?"+i.disableCachingParam+"="+Ext.Date.now():o,y[o]=e.injectScriptElement(n,c,d)},loadScriptFile:function(t,n,i,r,o){if(m[t])return e;var a,s,l,d=e.getConfig(),c=t+(d.disableCaching?"?"+d.disableCachingParam+"="+Ext.Date.now():""),u=!1,h="";if(r=r||e,e.isLoading=!0,o){a="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");try{a.open("GET",c,!1),a.send(null)}catch(f){u=!0}s=1223===a.status?204:0!==a.status||"file:"!=(self.location||{}).protocol&&"ionp:"!=(self.location||{}).protocol?a.status:200,u=u||0===s,u||(s>=200&&300>s||304===s)&&(Ext.isIE||(h="\n//# sourceURL="+t),Ext.globalEval(a.responseText+h),n.call(r)),a=null}else l=function(){},y[t]=e.injectScriptElement(c,n,l,r)},syncRequire:function(){var t=e.syncModeEnabled;t||(e.syncModeEnabled=!0),e.require.apply(e,arguments),t||(e.syncModeEnabled=!1),e.refreshQueue()},require:function(n,i,r,a){var s,l,d,c,u,h,f,m,y,E,v,b={},C={},w=[],S=[],P=[],k=[];if(a)for(a="string"==typeof a?[a]:a,m=0,E=a.length;E>m;m++)if(u=a[m],"string"==typeof u&&u.length>0)for(w=t.getNamesByExpression(u),y=0,v=w.length;v>y;y++)b[w[y]]=!0;for(n="string"==typeof n?[n]:n?n:[],s=i?i.length>0?function(){var e,n,r=[];for(e=0,n=k.length;n>e;e++)r.push(t.get(k[e]));return i.apply(this,r)}:i:Ext.emptyFn,r=r||Ext.global,m=0,E=n.length;E>m;m++)if(c=n[m],"string"==typeof c&&c.length>0)for(S=t.getNamesByExpression(c),v=S.length,y=0;v>y;y++)f=S[y],b[f]!==!0&&(k.push(f),t.isCreated(f)||C[f]||(C[f]=!0,P.push(f)));if(!(P.length>0))return s.call(r),e;if(!e.config.enabled)throw new Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(P.length>1?"es":"")+": "+P.join(", "));for(l=e.syncModeEnabled,l||g.push({requires:P.slice(),callback:s,scope:r}),E=P.length,m=0;E>m;m++)h=P[m],d=e.getPath(h),l&&p.hasOwnProperty(h)&&(p[h]||(e.numPendingFiles--,e.removeScriptElement(d),delete p[h])),p.hasOwnProperty(h)||(p[h]=!1,x[h]=d,e.numPendingFiles++,e.loadScriptFile(d,o(e.onFileLoaded,[h,d],e),o(e.onFileLoadError,[h,d],e),e,l));return l&&(s.call(r),1===E)?t.get(h):e},onFileLoaded:function(t,n){var i=p[t];e.numLoadedFiles++,p[t]=!0,m[n]=!0,i||e.numPendingFiles--,0===e.numPendingFiles&&e.refreshQueue()},onFileLoadError:function(){e.numPendingFiles--,e.hasFileLoadError=!0},addUsedClasses:function(t){var n,i,r;if(t)for(t="string"==typeof t?[t]:t,i=0,r=t.length;r>i;i++)n=t[i],"string"!=typeof n||Ext.Array.contains(v,n)||v.push(n);return e},triggerReady:function(){var t,n=v;if(e.isLoading&&(e.isLoading=!1,0!==n.length))return n=n.slice(),v.length=0,e.require(n,e.triggerReady,e),e;for(Ext.Array.sort(E,C);E.length&&!e.isLoading;)t=E.shift(),t.fn.call(t.scope);return e},onReady:function(t,n,i,r){var o;i!==!1&&Ext.onDocumentReady&&(o=t,t=function(){Ext.onDocumentReady(o,n,r)}),e.isLoading?E.push({fn:t,scope:n,priority:r&&r.priority||0}):t.call(n)},historyPush:function(t){return t&&p.hasOwnProperty(t)&&!d[t]&&(d[t]=!0,c.push(t)),e}}),Ext.disableCacheBuster=function(e,t){var n=new Date;n.setTime(n.getTime()+1e3*60*60*24*(e?3650:-1)),n=n.toGMTString(),document.cookie="ext-cache=1; expires="+n+"; path="+(t||"/")},Ext.require=r(e,"require"),Ext.syncRequire=r(e,"syncRequire"),Ext.exclude=r(e,"exclude"),Ext.onReady=function(t,n,i){e.onReady(t,n,!0,i)},n.registerPreprocessor("loader",function(n,i,r,o){var a,s,d,c,u,h,f,g=this,p=[];for(t.getName(n),a=0,d=l.length;d>a;a++)if(h=l[a],i.hasOwnProperty(h))if(f=i[h],"string"==typeof f)p.push(f);else if(f instanceof Array)for(s=0,c=f.length;c>s;s++)u=f[s],"string"==typeof u&&p.push(u);else if("function"!=typeof f)for(s in f)f.hasOwnProperty(s)&&(u=f[s],"string"==typeof u&&p.push(u));return 0!==p.length?(e.require(p,function(){for(a=0,d=l.length;d>a;a++)if(h=l[a],i.hasOwnProperty(h))if(f=i[h],"string"==typeof f)i[h]=t.get(f);else if(f instanceof Array)for(s=0,c=f.length;c>s;s++)u=f[s],"string"==typeof u&&(i[h][s]=t.get(u));else if("function"!=typeof f)for(var e in f)f.hasOwnProperty(e)&&(u=f[e],"string"==typeof u&&(i[h][e]=t.get(u)));
o.call(g,n,i,r)}),!1):void 0},!0,"after","className"),t.registerPostprocessor("uses",function(t,n,i){var r=i.uses;r&&e.addUsedClasses(r)}),t.onCreated(e.historyPush)},Ext._classPathMetadata&&(Ext.Loader.addClassPathMappings(Ext._classPathMetadata),Ext._classPathMetadata=null),function(){var e=document.getElementsByTagName("script"),t=e[e.length-1],n=t.src,i=n.substring(0,n.lastIndexOf("/")+1),r=Ext.Loader;r.setConfig({enabled:!0,disableCaching:!0,paths:{Ext:i+"src"}})}(),Ext._endTime=(new Date).getTime(),Ext._beforereadyhandler&&Ext._beforereadyhandler(),Ext.Error=Ext.extend(Error,{statics:{ignore:!1,raise:function(e){e=e||{},Ext.isString(e)&&(e={msg:e});var t,n=this.raise.caller;if(n&&(n.$name&&(e.sourceMethod=n.$name),n.$owner&&(e.sourceClass=n.$owner.$className)),Ext.Error.handle(e)!==!0)throw t=Ext.Error.prototype.toString.call(e),Ext.log({msg:t,level:"error",dump:e,stack:!0}),new Ext.Error(e)},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(e){Ext.isString(e)&&(e={msg:e});var t=this;Ext.apply(t,e),t.message=t.message||t.msg},toString:function(){var e=this,t=e.sourceClass?e.sourceClass:"",n=e.sourceMethod?"."+e.sourceMethod+"(): ":"",i=e.msg||"(No description provided)";return t+n+i}}),Ext.deprecated=function(){return Ext.emptyFn},Ext.JSON=new function(){var me=this,encodingFunction,decodingFunction,useNative=null,useHasOwn=!!{}.hasOwnProperty,isNative=function(){return null===useNative&&(useNative=Ext.USE_NATIVE_JSON&&window.JSON&&"[object JSON]"==JSON.toString()),useNative},pad=function(e){return 10>e?"0"+e:e},doDecode=function(json){return eval("("+json+")")},doEncode=function(e,t){return null===e||void 0===e?"null":Ext.isDate(e)?Ext.JSON.encodeDate(e):Ext.isString(e)?Ext.JSON.encodeString(e):"number"==typeof e?isFinite(e)?String(e):"null":Ext.isBoolean(e)?String(e):e.toJSON?e.toJSON():Ext.isArray(e)?encodeArray(e,t):Ext.isObject(e)?encodeObject(e,t):"function"==typeof e?"null":"undefined"},m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(e){return'"'+e.replace(charToReplace,function(e){var t=m[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeArray=function(e){var t,n=["[",""],i=e.length;for(t=0;i>t;t+=1)n.push(Ext.JSON.encodeValue(e[t]),",");return n[n.length-1]="]",n.join("")},encodeObject=function(e){var t,n,i=["{",""];for(t in e)if(n=e[t],!useHasOwn||e.hasOwnProperty(t)){if("function"==typeof n||void 0===n)continue;i.push(Ext.JSON.encodeValue(t),":",Ext.JSON.encodeValue(n),",")}return i[i.length-1]="}",i.join("")};me.encodeString=encodeString,me.encodeValue=doEncode,me.encodeDate=function(e){return'"'+e.getFullYear()+"-"+pad(e.getMonth()+1)+"-"+pad(e.getDate())+"T"+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())+'"'},me.encode=function(e){return encodingFunction||(encodingFunction=isNative()?JSON.stringify:me.encodeValue),encodingFunction(e)},me.decode=function(e,t){decodingFunction||(decodingFunction=isNative()?JSON.parse:doDecode);try{return decodingFunction(e)}catch(n){if(t===!0)return null;Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+e})}}},Ext.encode=Ext.JSON.encode,Ext.decode=Ext.JSON.decode,Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1e3,windowId:"ext-window",documentId:"ext-document",isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!0,rootHierarchyState:{},addCacheEntry:function(e,t,n){n=n||t.dom;var i=Ext.cache,r=e||t&&t.id||n.id,o=i[r]||(i[r]={data:{},events:{},dom:n,skipGarbageCollection:!(!n.getElementById&&!n.navigator)});return t&&(t.$cache=o,o.el=t),o},updateCacheEntry:function(e,t){return e.dom=t,e.el&&(e.el.dom=t),e},id:function(e,t){var n=this,i="";return e=Ext.getDom(e,!0)||{},e===document?e.id=n.documentId:e===window&&(e.id=n.windowId),e.id||(n.isSandboxed&&(i=Ext.sandboxName.toLowerCase()+"-"),e.id=i+(t||"ext-gen")+ ++Ext.idSeed),e.id},escapeId:function(){var e=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,t=/([\W]{1})/g,n=/^(\d)/g,i=function(e,t){return"\\"+t},r=function(e,t){return"\\00"+t.charCodeAt(0).toString(16)+" "};return function(o){return e.test(o)?o:o.replace(t,i).replace(n,r)}}(),getBody:function(){var e;return function(){return e||(e=Ext.get(document.body))}}(),getHead:function(){var e;return function(){return e||(e=Ext.get(document.getElementsByTagName("head")[0]))}}(),getDoc:function(){var e;return function(){return e||(e=Ext.get(document))}}(),getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){var e,t,n=arguments.length;for(e=0;n>e;e++)t=arguments[e],t&&(Ext.isArray(t)?this.destroy.apply(this,t):t.isStore?t.destroyStore():Ext.isFunction(t.destroy)?t.destroy():t.dom&&t.remove())},callback:function(e,t,n,i){var r,o;return Ext.isFunction(e)?r=e:t&&Ext.isString(e)&&(r=t[e]),r&&(n=n||[],t=t||window,i?Ext.defer(r,i,t,n):o=r.apply(t,n)),o},resolveMethod:function(e,t){return Ext.isFunction(e)?e:t[e]},htmlEncode:function(e){return Ext.String.htmlEncode(e)},htmlDecode:function(e){return Ext.String.htmlDecode(e)},urlAppend:function(e,t){return Ext.String.urlAppend(e,t)}}),Ext.ns=Ext.namespace,window.undefined=window.undefined,function(){var e,t=function(e){return e.test(Ext.userAgent)},n="CSS1Compat"==document.compatMode,i=function(e,t){var n;return e&&(n=t.exec(Ext.userAgent))?parseFloat(n[1]):0},r=document.documentMode,o=t(/opera/),a=o&&t(/version\/10\.5/),s=t(/\bchrome\b/),l=t(/webkit/),d=!s&&t(/safari/),c=d&&t(/applewebkit\/4/),u=d&&t(/version\/3/),h=d&&t(/version\/4/),f=d&&t(/version\/5\.0/),g=d&&t(/version\/5/),p=!o&&t(/msie/),m=p&&(t(/msie 7/)&&8!=r&&9!=r&&10!=r||7==r),x=p&&(t(/msie 8/)&&7!=r&&9!=r&&10!=r||8==r),y=p&&(t(/msie 9/)&&7!=r&&8!=r&&10!=r||9==r),E=p&&(t(/msie 10/)&&7!=r&&8!=r&&9!=r||10==r),v=p&&t(/msie 6/),b=!l&&t(/gecko/),C=b&&t(/rv:1\.9/),w=b&&t(/rv:2\.0/),S=b&&t(/rv:5\./),P=b&&t(/rv:10\./),k=C&&t(/rv:1\.9\.0/),T=C&&t(/rv:1\.9\.1/),I=C&&t(/rv:1\.9\.2/),M=t(/windows|win32/),D=t(/macintosh|mac os x/),A=t(/linux/),R=null,F=i(!0,/\bchrome\/(\d+\.\d+)/),L=i(!0,/\bfirefox\/(\d+\.\d+)/),O=i(p,/msie (\d+\.\d+)/),B=i(o,/version\/(\d+\.\d+)/),N=i(d,/version\/(\d+\.\d+)/),H=i(l,/webkit\/(\d+\.\d+)/),W=/^https/i.test(window.location.protocol);try{document.execCommand("BackgroundImageCache",!1,!0)}catch(z){}e=function(){},e.info=e.warn=e.error=Ext.emptyFn,Ext.setVersion("extjs","4.2.1.883"),Ext.apply(Ext,{SSL_SECURE_URL:W&&p?"javascript:''":"about:blank",plainTableCls:Ext.buildSettings.baseCSSPrefix+"table-plain",plainListCls:Ext.buildSettings.baseCSSPrefix+"list-plain",enableNestedListenerRemoval:!1,USE_NATIVE_JSON:!1,getDom:function(e,t){if(!e||!document)return null;if(e.dom)return e.dom;if("string"==typeof e){var n=Ext.getElementById(e);return n&&p&&t?e==n.getAttribute("id")?n:null:n}return e},removeNode:v||m||x?function(){var e;return function(t){if(t&&"BODY"!=t.tagName.toUpperCase()){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(t):Ext.EventManager.removeAll(t);var n=Ext.cache,i=t.id;n[i]&&(delete n[i].dom,delete n[i]),x&&t.parentNode&&t.parentNode.removeChild(t),e=e||document.createElement("div"),e.appendChild(t),e.innerHTML=""}}}():function(e){if(e&&e.parentNode&&"BODY"!=e.tagName.toUpperCase()){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(e):Ext.EventManager.removeAll(e);var t=Ext.cache,n=e.id;t[n]&&(delete t[n].dom,delete t[n]),e.parentNode.removeChild(e)}},isStrict:n,isIEQuirks:p&&!n&&(v||m||x||y),isOpera:o,isOpera10_5:a,isWebKit:l,isChrome:s,isSafari:d,isSafari3:u,isSafari4:h,isSafari5:g,isSafari5_0:f,isSafari2:c,isIE:p,isIE6:v,isIE7:m,isIE7m:v||m,isIE7p:p&&!v,isIE8:x,isIE8m:v||m||x,isIE8p:p&&!(v||m),isIE9:y,isIE9m:v||m||x||y,isIE9p:p&&!(v||m||x),isIE10:E,isIE10m:v||m||x||y||E,isIE10p:p&&!(v||m||x||y),isGecko:b,isGecko3:C,isGecko4:w,isGecko5:S,isGecko10:P,isFF3_0:k,isFF3_5:T,isFF3_6:I,isFF4:L>=4&&5>L,isFF5:L>=5&&6>L,isFF10:L>=10&&11>L,isLinux:A,isWindows:M,isMac:D,chromeVersion:F,firefoxVersion:L,ieVersion:O,operaVersion:B,safariVersion:N,webKitVersion:H,isSecure:W,BLANK_IMAGE_URL:v||m?"//www.sencha.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(e,t,n){return Ext.isEmpty(e,n)?t:e},escapeRe:function(e){return e.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},addBehaviors:function(e){if(Ext.isReady){var t,n,i,r={};for(n in e)(t=n.split("@"))[1]&&(i=t[0],r[i]||(r[i]=Ext.select(i)),r[i].on(t[1],e[n]));r=null}else Ext.onReady(function(){Ext.addBehaviors(e)})},getScrollbarSize:function(e){if(!Ext.isReady)return{};if(e||!R){var t=document.body,n=document.createElement("div");n.style.width=n.style.height="100px",n.style.overflow="scroll",n.style.position="absolute",t.appendChild(n),R={width:n.offsetWidth-n.clientWidth,height:n.offsetHeight-n.clientHeight},t.removeChild(n)}return R},getScrollBarWidth:function(e){var t=Ext.getScrollbarSize(e);return t.width+2},copyTo:function(e,t,n,i){"string"==typeof n&&(n=n.split(/[,;\s]/));var r,o,a=n?n.length:0;for(r=0;a>r;r++)o=n[r],(i||t.hasOwnProperty(o))&&(e[o]=t[o]);return e},destroyMembers:function(e){for(var t=1,n=arguments,i=n.length;i>t;t++)Ext.destroy(e[n[t]]),delete e[n[t]]},log:e,partition:function(e,t){var n,i,r=[[],[]],o=e.length;for(n=0;o>n;n++)i=e[n],r[t&&t(i,n,e)||!t&&i?0:1].push(i);return r},invoke:function(e,t){var n,i,r=[],o=Array.prototype.slice.call(arguments,2),a=e.length;for(n=0;a>n;n++)i=e[n],i&&"function"==typeof i[t]?r.push(i[t].apply(i,o)):r.push(void 0);return r},zip:function(){var e,t,n,i=Ext.partition(arguments,function(e){return"function"!=typeof e}),r=i[0],o=i[1][0],a=Ext.max(Ext.pluck(r,"length")),s=[];for(e=0;a>e;e++)if(s[e]=[],o)s[e]=o.apply(o,Ext.pluck(r,e));else for(t=0,n=r.length;n>t;t++)s[e].push(r[t][e]);return s},toSentence:function(e,t){var n,i,r=e.length;return 1>=r?e[0]:(n=e.slice(0,r-1),i=e[r-1],Ext.util.Format.format("{0} {1} {2}",n.join(", "),t||"and",i))},setGlyphFontFamily:function(e){Ext._glyphFontFamily=e},useShims:v})}(),Ext.application=function(e){var t,n,i;if("string"==typeof e)Ext.require(e,function(){t=Ext.ClassManager.get(e)});else{if(Ext.Loader.setPath(e.name,e.appFolder||"app"),n=e.paths)for(i in n)n.hasOwnProperty(i)&&Ext.Loader.setPath(i,n[i]);e["paths processed"]=!0,Ext.define(e.name+".$application",Ext.apply({extend:"Ext.app.Application"},e),function(){t=this})}Ext.onReady(function(){Ext.app.Application.instance=new t})},function(){Ext.ns("Ext.util");var e,t=Ext.util.Format={},n=/<\/?[^>]+>/gi,i=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,r=/\r?\n/g,o=/^#+$/,a=/[\d,\.#]+/,s=/[^\d\.#]/g,l={};Ext.apply(t,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:!1,undef:function(e){return void 0!==e?e:""},defaultValue:function(e,t){return void 0!==e&&""!==e?e:t},substr:"b"!="ab".substr(-1)?function(e,t,n){var i=String(e);return 0>t?i.substr(Math.max(i.length+t,0),n):i.substr(t,n)}:function(e,t,n){return String(e).substr(t,n)},lowercase:function(e){return String(e).toLowerCase()},uppercase:function(e){return String(e).toUpperCase()},usMoney:function(e){return t.currency(e,"$",2)},currency:function(e,n,i,r){var o="",a=",0",s=0;for(e-=0,0>e&&(e=-e,o="-"),i=Ext.isDefined(i)?i:t.currencyPrecision,a+=i>0?".":"";i>s;s++)a+="0";return e=t.number(e,a),(r||t.currencyAtEnd)===!0?Ext.String.format("{0}{1}{2}",o,e,n||t.currencySign):Ext.String.format("{0}{1}{2}",o,n||t.currencySign,e)},date:function(e,t){return e?(Ext.isDate(e)||(e=new Date(Date.parse(e))),Ext.Date.dateFormat(e,t||Ext.Date.defaultFormat)):""},dateRenderer:function(e){return function(n){return t.date(n,e)}},stripTags:function(e){return e?String(e).replace(n,""):e},stripScripts:function(e){return e?String(e).replace(i,""):e},fileSize:function(){var e=1024,t=1048576,n=1073741824;return function(i){var r;return r=e>i?1===i?"1 byte":i+" bytes":t>i?Math.round(10*i/e)/10+" KB":n>i?Math.round(10*i/t)/10+" MB":Math.round(10*i/n)/10+" GB"}}(),math:function(){var e={};return function(t,n){return e[n]||(e[n]=Ext.functionFactory("v","return v "+n+";")),e[n](t)}}(),round:function(e,t){var n=Number(e);return"number"==typeof t&&(t=Math.pow(10,t),n=Math.round(e*t)/t),n},number:function(n,i){if(!i)return n;var r=l[i];if(!r){var d,c,u,h,f,g=i,p=t.thousandSeparator,m=t.decimalSeparator,x=0;"/i"==i.substr(i.length-2)?(e||(e=new RegExp("[^\\d\\"+t.decimalSeparator+"]","g")),i=i.substr(0,i.length-2),d=-1!=i.indexOf(p),c=i.replace(e,"").split(m)):(d=-1!=i.indexOf(","),c=i.replace(s,"").split(".")),u=i.replace(a,""),c.length>2||2===c.length&&(x=c[1].length,h=o.test(c[1])),f=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,fnum,parts"+(d?",thousandSeparator,thousands=[],j,n,i":"")+(u?',formatString="'+i+'",formatPattern=/[\\d,\\.#]+/':"")+(h?",trailingZeroes=/\\.?0+$/;":";")+"return function(v){"+'if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";'+"neg=v<0;","fnum=Ext.Number.toFixed(Math.abs(v), "+x+");"],d?(x&&(f[f.length]='parts=fnum.split(".");',f[f.length]="fnum=parts[0];"),f[f.length]="if(v>=1000) {",f[f.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}",x&&(f[f.length]="fnum += utilFormat.decimalSeparator+parts[1];")):x&&(f[f.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'),h&&(f[f.length]='fnum=fnum.replace(trailingZeroes,"");'),f[f.length]='if(neg&&fnum!=="'+(x?"0."+Ext.String.repeat("0",x):"0")+'")fnum="-"+fnum;',f[f.length]="return ",f[f.length]=u?"formatString.replace(formatPattern, fnum);":"fnum;",f[f.length]="};",r=l[g]=Ext.functionFactory("Ext",f.join(""))(Ext)}return r(n)},numberRenderer:function(e){return function(n){return t.number(n,e)}},attributes:function(e){if("object"==typeof e){var t,n=[];for(t in e)n.push(t,'="',"style"===t?Ext.DomHelper.generateStyles(e[t]):Ext.htmlEncode(e[t]),'"');e=n.join("")}return e||""},plural:function(e,t,n){return e+" "+(1==e?t:n?n:t+"s")},nl2br:function(e){return Ext.isEmpty(e)?"":e.replace(r,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(e){if(e=e||0,"number"==typeof e)return{top:e,right:e,bottom:e,left:e};var t=e.split(" "),n=t.length;return 1==n?t[1]=t[2]=t[3]=t[0]:2==n?(t[2]=t[0],t[3]=t[1]):3==n&&(t[3]=t[1]),{top:parseInt(t[0],10)||0,right:parseInt(t[1],10)||0,bottom:parseInt(t[2],10)||0,left:parseInt(t[3],10)||0}},escapeRegex:function(e){return e.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})}(),Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(e){var t=this;"number"==typeof e?t.interval=e:e&&Ext.apply(t,e),t.tasks=[],t.timerFn=Ext.Function.bind(t.onTick,t)},newTask:function(e){var t=new Ext.util.TaskRunner.Task(e);return t.manager=this,t},start:function(e){var t=this,n=Ext.Date.now();return e.pending||(t.tasks.push(e),e.pending=!0),e.stopped=!1,e.taskStartTime=n,e.taskRunTime=e.fireOnStart!==!1?0:e.taskStartTime,e.taskRunCount=0,t.firing||(e.fireOnStart!==!1?t.startTimer(0,n):t.startTimer(e.interval,n)),e},stop:function(e){return e.stopped||(e.stopped=!0,e.onStop&&e.onStop.call(e.scope||e,e)),e},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1e99,onTick:function(){var e,t,n,i,r,o,a=this,s=a.tasks,l=Ext.Date.now(),d=1e99,c=s.length;for(a.timerId=null,a.firing=!0,n=0;c>n||n<(c=s.length);++n){if(i=s[n],!(o=i.stopped)){if(e=i.taskRunTime+i.interval,l>=e){r=1;try{r=i.run.apply(i.scope||i,i.args||[++i.taskRunCount])}catch(u){try{i.onError&&(r=i.onError.call(i.scope||i,i,u))}catch(h){}}i.taskRunTime=l,r===!1||i.taskRunCount===i.repeat?(a.stop(i),o=!0):(o=i.stopped,e=l+i.interval)}!o&&i.duration&&i.duration<=l-i.taskStartTime&&(a.stop(i),o=!0)}o?(i.pending=!1,t||(t=s.slice(0,n))):(t&&t.push(i),d>e&&(d=e))}t&&(a.tasks=t),a.firing=!1,a.tasks.length&&a.startTimer(d-l,Ext.Date.now()),a.fireIdleEvent!==!1&&Ext.EventManager.idleEvent.fire()},startTimer:function(e,t){var n=this,i=t+e,r=n.timerId;r&&n.nextExpires-i>n.interval&&(clearTimeout(r),r=null),r||(e<n.interval&&(e=n.interval),n.timerId=setTimeout(n.timerFn,e),n.nextExpires=i)}},function(){var e=this,t=e.prototype;t.destroy=t.stopAll,Ext.util.TaskManager=Ext.TaskManager=new e,e.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(e){Ext.apply(this,e)},restart:function(e){void 0!==e&&(this.interval=e),this.manager.start(this)},start:function(e){this.stopped&&this.restart(e)},stop:function(){this.manager.stop(this)}}),t=e.Task.prototype,t.destroy=t.stop}),Ext.define("Ext.util.TaskManager",{extend:Ext.util.TaskRunner,alternateClassName:["Ext.TaskManager"],singleton:!0}),Ext.define("Ext.perf.Accumulator",function(){function e(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function t(t){var n=t?t:l()-this.time,i=this,r=i.accum;++r.count,--r.depth||e(r.total,n),e(r.pure,n-i.childTime),a=i.parent,a&&(++a.accum.childCount,a.childTime+=n)}function n(){return{min:Number.MAX_VALUE,max:0,sum:0}}function i(e,t){return function(){var n=e.enter(),i=t.apply(this,arguments);return n.leave(),i}}function r(e,t,n,i){var r={avg:0,min:i.min,max:i.max,sum:0};return e&&(n=n||0,r.sum=i.sum-t*n,r.avg=r.sum/e),r}var o,a=null,s=Ext.global.chrome,l=function(){l=function(){return(new Date).getTime()};var e,t;if(Ext.isChrome&&s&&s.Interval)e=new s.Interval,e.start(),l=function(){return e.microseconds()/1e3};else if(window.ActiveXObject)try{t=new ActiveXObject("SenchaToolbox.Toolbox"),Ext.senchaToolbox=t,l=function(){return t.milliseconds}}catch(n){}else Date.now&&(l=Date.now);return Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=l,l()};return{constructor:function(e){var t=this;t.count=t.childCount=t.depth=t.maxDepth=0,t.pure=n(),t.total=n(),t.name=e},statics:{getTimestamp:l},format:function(e){o||(o=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(e){return Math.round(100*e)/100}}));var t=this.getData(e);return t.name=this.name,t.pure.type="Pure",t.total.type="Total",t.times=[t.pure,t.total],o.apply(t)},getData:function(e){var t=this;return{count:t.count,childCount:t.childCount,depth:t.maxDepth,pure:r(t.count,t.childCount,e,t.pure),total:r(t.count,t.childCount,e,t.total)}},enter:function(){var e=this,n={accum:e,leave:t,childTime:0,parent:a};return++e.depth,e.maxDepth<e.depth&&(e.maxDepth=e.depth),a=n,n.time=l(),n},monitor:function(e,t,n){var i=this.enter();n?e.apply(t,n):e.call(t),i.leave()},report:function(){Ext.log(this.format())},tap:function(e,t){var n,r,o,a,s,l,d,c,u=this,h="string"==typeof t?[t]:t;return c=function(){if("string"==typeof e)for(n=Ext.global,a=e.split("."),o=0,s=a.length;s>o;++o)n=n[a[o]];else n=e;for(o=0,s=h.length;s>o;++o)l=h[o],r="!"==l.charAt(0),r?l=l.substring(1):r=!(l in n.prototype),d=r?n:n.prototype,d[l]=i(u,d[l])},Ext.ClassManager.onCreated(c,u,e),u}}}(),function(){Ext.perf.getTimestamp=this.getTimestamp}),Ext.define("Ext.perf.Monitor",{singleton:!0,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[],this.accumulatorsByName={}},calibrate:function(){var e,t,n,i=new Ext.perf.Accumulator("$"),r=i.total,o=Ext.perf.Accumulator.getTimestamp,a=0;n=o();do e=i.enter(),e.leave(),++a;while(r.sum<100);return t=o(),(t-n)/a},get:function(e){var t=this,n=t.accumulatorsByName[e];return n||(t.accumulatorsByName[e]=n=new Ext.perf.Accumulator(e),t.accumulators.push(n)),n},enter:function(e){return this.get(e).enter()},monitor:function(e,t,n){this.get(e).monitor(t,n)},report:function(){var e=this,t=e.accumulators,n=e.calibrate();t.sort(function(e,t){return e.name<t.name?-1:t.name<e.name?1:0}),e.updateGC(),Ext.log("Calibration: "+Math.round(100*n)/100+" msec/sample"),Ext.each(t,function(e){Ext.log(e.format(n))})},getData:function(e){var t={},n=this.accumulators;return Ext.each(n,function(n){(e||n.count)&&(t[n.name]=n.getData())}),t},reset:function(){Ext.each(this.accumulators,function(e){var t=e;t.count=t.childCount=t.depth=t.maxDepth=0,t.pure={min:Number.MAX_VALUE,max:0,sum:0},t.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var e,t=this.accumulatorsByName.GC,n=Ext.senchaToolbox;t&&(t.count=n.garbageCollectionCounter||0,t.count&&(e=t.pure,t.total.sum=e.sum=n.garbageCollectionMilliseconds,e.min=e.max=e.sum/t.count,e=t.total,e.min=e.max=e.sum/t.count))},watchGC:function(){Ext.perf.getTimestamp();var e=Ext.senchaToolbox;e&&(this.get("GC"),e.watchGarbageCollector(!1))},setup:function(e){e||(e={render:{"Ext.AbstractComponent":"render"},layout:{"Ext.layout.Context":"run"}}),this.currentConfig=e;var t,n,i,r,o;for(t in e)if(e.hasOwnProperty(t)){n=e[t],i=Ext.Perf.get(t);for(r in n)n.hasOwnProperty(r)&&(o=n[r],i.tap(r,o))}this.watchGC()}}),Ext.is={init:function(e){var t,n,i=this.platforms,r=i.length;for(e=e||window.navigator,t=0;r>t;t++)n=i[t],this[n.identity]=n.regex.test(e[n.property]);this.Desktop=this.Mac||this.Windows||this.Linux&&!this.Android,this.Tablet=this.iPad,this.Phone=!this.Desktop&&!this.Tablet,this.iOS=this.iPhone||this.iPad||this.iPod,this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]},Ext.is.init(),function(){function e(){var e=Ext.isIE6?"IE6":Ext.isIE7?"IE7":Ext.isIE8?"IE8":Ext.isIE9?"IE9":Ext.isIE10?"IE10":"";return e?e+(Ext.isStrict?"-strict":"-quirks"):""}var t=function(e,t){var n=e.ownerDocument.defaultView,i=(n?n.getComputedStyle(e,null):e.currentStyle)||e.style;return i[t]},n={"IE6-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE6-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,1,1,0,0,1,0,1,0,0,0],"IE7-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE7-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,1,0,0,1,0,1,0,0,0],"IE8-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE8-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,0,1,0,0,1],"IE9-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE9-strict":[0,1,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,0,0,1],"IE10-quirks":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1],"IE10-strict":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1]};Ext.supports={init:function(){var t,i,r,o=this,a=document,s=o.toRun||o.tests,l=s.length,d=l&&Ext.isReady&&a.createElement("div"),c=[],u=e();for(d&&(d.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="width: 200px; height: 200px; position: relative; padding: 5px;">','<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>',"</div>",'<div style="position: absolute; left: 10%; top: 10%;"></div>','<div style="float:left; background-color:transparent;"></div>'].join(""),a.body.appendChild(d)),i=n[u];l--;)t=s[l],r=i&&i[l],void 0!==r?o[t.identity]=r:d||t.early?o[t.identity]=t.fn.call(o,a,d):c.push(t);d&&a.body.removeChild(d),o.toRun=c},PointerEvents:"pointerEvents"in document.documentElement.style,LocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),CSS3BoxShadow:"boxShadow"in document.documentElement.style||"WebkitBoxShadow"in document.documentElement.style||"MozBoxShadow"in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:"undefined"!=typeof window.orientation&&"onorientationchange"in window,DeviceMotion:"ondevicemotion"in window,Touch:"ontouchstart"in window&&!Ext.is.Desktop,TimeoutActualLateness:function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=0!==arguments.length},0)}(),tests:[{identity:"Transitions",fn:function(e,n){for(var i=["webkit","Moz","o","ms","khtml"],r="TransitionEnd",o=[i[0]+r,"transitionend",i[2]+r,i[3]+r,i[4]+r],a=i.length,s=0,l=!1;a>s;s++)if(t(n,i[s]+"TransitionProperty")){Ext.supports.CSS3Prefix=i[s],Ext.supports.CSS3TransitionEnd=o[s],l=!0;break}return l}},{identity:"RightMargin",fn:function(e,t){var n=e.defaultView;return!(n&&"0px"!=n.getComputedStyle(t.firstChild.firstChild,null).marginRight)}},{identity:"DisplayChangeInputSelectionBug",early:!0,fn:function(){var e=Ext.webKitVersion;return e>0&&533>e}},{identity:"DisplayChangeTextAreaSelectionBug",early:!0,fn:function(){var e=Ext.webKitVersion;return e>0&&534.24>e}},{identity:"TransparentColor",fn:function(e,t,n){return n=e.defaultView,!(n&&"transparent"!=n.getComputedStyle(t.lastChild,null).backgroundColor)}},{identity:"ComputedStyle",fn:function(e,t,n){return n=e.defaultView,n&&n.getComputedStyle}},{identity:"Svg",fn:function(e){return!!e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(e){return!!e.createElement("canvas").getContext}},{identity:"Vml",fn:function(e){var t=e.createElement("div");return t.innerHTML="<!--[if vml]><br/><br/><![endif]-->",2==t.childNodes.length}},{identity:"Float",fn:function(e,t){return!!t.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(e){return!!e.createElement("audio").canPlayType}},{identity:"History",fn:function(){var e=window.history;return!(!e||!e.pushState)}},{identity:"CSS3DTransform",fn:function(){return"undefined"!=typeof WebKitCSSMatrix&&(new WebKitCSSMatrix).hasOwnProperty("m41")}},{identity:"CSS3LinearGradient",fn:function(e,t){var n="background-image:",i="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",r="linear-gradient(left top, black, white)",o="-moz-"+r,a="-ms-"+r,s="-o-"+r,l=[n+i,n+r,n+o,n+a,n+s];return t.style.cssText=l.join(";"),-1!==(""+t.style.backgroundImage).indexOf("gradient")&&!Ext.isIE9}},{identity:"CSS3BorderRadius",fn:function(){var e,t=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],n=!1;for(e=0;e<t.length;e++)if(void 0!==document.body.style[t[e]])return!0;return n}},{identity:"GeoLocation",fn:function(){return"undefined"!=typeof navigator&&"geolocation"in navigator||"undefined"!=typeof google&&"undefined"!=typeof google.gears}},{identity:"MouseEnterLeave",fn:function(e,t){return"onmouseenter"in t&&"onmouseleave"in t}},{identity:"MouseWheel",fn:function(e,t){return"onmousewheel"in t}},{identity:"Opacity",fn:function(e,t){return Ext.isIE6||Ext.isIE7||Ext.isIE8?!1:(t.firstChild.style.cssText="opacity:0.73","0.73"==t.firstChild.style.opacity)}},{identity:"Placeholder",fn:function(e){return"placeholder"in e.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)&&Ext.isIE10m}},{identity:"BoundingClientRect",fn:function(e,t){return Ext.isFunction(t.getBoundingClientRect)}},{identity:"RotatedBoundingClientRect",fn:function(){var e=document.body,t=!1,n=document.createElement("div"),i=n.style;return n.getBoundingClientRect&&(i.WebkitTransform=i.MozTransform=i.OTransform=i.transform="rotate(90deg)",i.width="100px",i.height="30px",e.appendChild(n),t=100!==n.getBoundingClientRect().height,e.removeChild(n)),t}},{identity:"IncludePaddingInWidthCalculation",fn:function(e,t){return 210==t.childNodes[1].firstChild.offsetWidth}},{identity:"IncludePaddingInHeightCalculation",fn:function(e,t){return 210==t.childNodes[1].firstChild.offsetHeight}},{identity:"ArraySort",fn:function(){var e=[1,2,3,4,5].sort(function(){return 0});return 1===e[0]&&2===e[1]&&3===e[2]&&4===e[3]&&5===e[4]}},{identity:"Range",fn:function(){return!!document.createRange}},{identity:"CreateContextualFragment",fn:function(){var e=Ext.supports.Range?document.createRange():!1;return e&&!!e.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||Ext.isGecko||Ext.webKitVersion>=534.16}},{identity:"TextAreaMaxLength",fn:function(){var e=document.createElement("textarea");return"maxlength"in e}},{identity:"GetPositionPercentage",fn:function(e,n){return"10%"==t(n.childNodes[2],"left")}},{identity:"PercentageHeightOverflowBug",fn:function(e){var t,n,i=!1;return Ext.getScrollbarSize().height&&(n=e.createElement("div"),t=n.style,t.height="50px",t.width="50px",t.overflow="auto",t.position="absolute",n.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join(""),e.body.appendChild(n),50===n.firstChild.offsetHeight&&(i=!0),e.body.removeChild(n)),i}},{identity:"xOriginBug",fn:function(e,t){t.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var n=document.getElementById("b1").getBoundingClientRect(),i=document.getElementById("b2").getBoundingClientRect(),r=document.getElementById("b3").getBoundingClientRect();return i.left!==n.left&&r.right!==n.right}},{identity:"ScrollWidthInlinePaddingBug",fn:function(e){var t,n,i=!1;return n=e.createElement("div"),t=n.style,t.height="50px",t.width="50px",t.padding="10px",t.overflow="hidden",t.position="absolute",n.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>',e.body.appendChild(n),70===n.scrollWidth&&(i=!0),e.body.removeChild(n),i}}]}}(),Ext.supports.init(),Ext.util.DelayedTask=function(e,t,n,i){var r,o=this,a=function(){clearInterval(o.id),o.id=null,e.apply(t,n||[]),Ext.EventManager.idleEvent.fire()};i="boolean"==typeof i?i:!0,o.id=null,o.delay=function(s,l,d,c){i&&o.cancel(),r=s||r,e=l||e,t=d||t,n=c||n,o.id||(o.id=setInterval(a,r))},o.cancel=function(){o.id&&(clearInterval(o.id),o.id=null)}},Ext.define("Ext.util.Event",function(){var e=Array.prototype.slice,t=Ext.Array.insert,n=Ext.Array.toArray,i=Ext.util.DelayedTask;return{isEvent:!0,suspended:0,noOptions:{},constructor:function(e,t){this.name=t,this.observable=e,this.listeners=[]},addListener:function(e,n,i){var r,o,a,s,l,d,c,u,h,f,g=this;if(n=n||g.observable,!g.isListening(e,n)){if(o=g.createListener(e,n,i),g.firing&&(g.listeners=g.listeners.slice(0)),r=g.listeners,u=c=r.length,a=i&&i.priority,l=g._highestNegativePriorityIndex,d=void 0!==l,a)if(s=0>a,!s||d){for(h=s?l:0;c>h;h++)if(f=r[h].o?r[h].o.priority||0:0,a>f){u=h;break}}else g._highestNegativePriorityIndex=u;else d&&(u=l);!s&&l>=u&&g._highestNegativePriorityIndex++,u===c?g.listeners[c]=o:t(g.listeners,u,[o])}},createListener:function(e,t,n){t=t||this.observable;var i=this,r={fn:e,scope:t,ev:i},o=e;return n&&(r.o=n,n.single&&(o=i.createSingle(o,r,n,t)),n.target&&(o=i.createTargeted(o,r,n,t)),n.delay&&(o=i.createDelayed(o,r,n,t)),n.buffer&&(o=i.createBuffered(o,r,n,t))),r.fireFn=o,r},findListener:function(e,t){for(var n,i,r=this.listeners,o=r.length;o--;)if(n=r[o],n&&(i=n.scope,n.fn==e&&i==(t||this.observable)))return o;return-1},isListening:function(e,t){return-1!==this.findListener(e,t)},removeListener:function(e,t){var n,i,r,o,a=this;if(n=a.findListener(e,t),-1!=n){if(i=a.listeners[n],r=a._highestNegativePriorityIndex,a.firing&&(a.listeners=a.listeners.slice(0)),i.task&&(i.task.cancel(),delete i.task),o=i.tasks&&i.tasks.length){for(;o--;)i.tasks[o].cancel();
delete i.tasks}return a.listeners.splice(n,1),r&&(r>n?a._highestNegativePriorityIndex--:n===r&&n===a.listeners.length&&delete a._highestNegativePriorityIndex),!0}return!1},clearListeners:function(){for(var e=this.listeners,t=e.length;t--;)this.removeListener(e[t].fn,e[t].scope)},suspend:function(){this.suspended+=1},resume:function(){this.suspended&&this.suspended--},fire:function(){var t,n,i,r,o=this,a=o.listeners,s=a.length;if(!o.suspended&&s>0)for(o.firing=!0,n=arguments.length?e.call(arguments,0):[],r=n.length,t=0;s>t;t++)if(i=a[t],i.o&&(n[r]=i.o),i&&i.fireFn.apply(i.scope||o.observable,n)===!1)return o.firing=!1;return o.firing=!1,!0},createTargeted:function(e,t,n,i){return function(){n.target===arguments[0]&&e.apply(i,arguments)}},createBuffered:function(e,t,r,o){return t.task=new i,function(){t.task.delay(r.buffer,e,o,n(arguments))}},createDelayed:function(e,t,r,o){return function(){var a=new i;t.tasks||(t.tasks=[]),t.tasks.push(a),a.delay(r.delay||10,e,o,n(arguments))}},createSingle:function(e,t,n,i){return function(){var n=t.ev;return n.removeListener(t.fn,i)&&n.observable&&n.observable.hasListeners[n.name]--,e.apply(i,arguments)}}}}),Ext.EventManager=new function(){var e,t=this,n=document,i=window,r=/\\/g,o=Ext.baseCSSPrefix,a=!Ext.isIE9&&"addEventListener"in n,s=function(){function e(e){r.push(o+e)}var t,i=n.body||n.getElementsByTagName("body")[0],r=[o+"body"],a=[],s=Ext.supports.CSS3LinearGradient,l=Ext.supports.CSS3BorderRadius;return i?(t=i.parentNode,Ext.isIE&&Ext.isIE9m&&(e("ie"),Ext.isIE6?e("ie6"):(e("ie7p"),Ext.isIE7?e("ie7"):(e("ie8p"),Ext.isIE8?e("ie8"):(e("ie9p"),Ext.isIE9&&e("ie9")))),Ext.isIE7m&&e("ie7m"),Ext.isIE8m&&e("ie8m"),Ext.isIE9m&&e("ie9m"),(Ext.isIE7||Ext.isIE8)&&e("ie78")),Ext.isIE10&&e("ie10"),Ext.isGecko&&(e("gecko"),Ext.isGecko3&&e("gecko3"),Ext.isGecko4&&e("gecko4"),Ext.isGecko5&&e("gecko5")),Ext.isOpera&&e("opera"),Ext.isWebKit&&e("webkit"),Ext.isSafari&&(e("safari"),Ext.isSafari2&&e("safari2"),Ext.isSafari3&&e("safari3"),Ext.isSafari4&&e("safari4"),Ext.isSafari5&&e("safari5"),Ext.isSafari5_0&&e("safari5_0")),Ext.isChrome&&e("chrome"),Ext.isMac&&e("mac"),Ext.isLinux&&e("linux"),l||e("nbr"),s||e("nlg"),t&&(Ext.isBorderBox=Ext.isStrict&&(Ext.isIE6||Ext.isIE7)?!1:!0,Ext.isBorderBox||a.push(o+"content-box"),Ext.isStrict?a.push(o+"strict"):a.push(o+"quirks"),Ext.fly(t,"_internal").addCls(a)),Ext.fly(i,"_internal").addCls(r),!0):!1};Ext.apply(t,{hasBoundOnReady:!1,hasFiredReady:!1,deferReadyEvent:1,onReadyChain:[],readyEvent:function(){return e=new Ext.util.Event,e.fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||(new Date).getTime(),e.self.prototype.fire.apply(e,arguments),Ext._afterReadytime=(new Date).getTime()},e}(),idleEvent:new Ext.util.Event,isReadyPaused:function(){return/[?&]ext-pauseReadyFire\b/i.test(location.search)&&!Ext._continueFireReady},bindReadyEvent:function(){t.hasBoundOnReady||("complete"==n.readyState?t.onReadyEvent({type:n.readyState||"body"}):(n.addEventListener("DOMContentLoaded",t.onReadyEvent,!1),i.addEventListener("load",t.onReadyEvent,!1),t.hasBoundOnReady=!0))},onReadyEvent:function(e){e&&e.type&&t.onReadyChain.push(e.type),t.hasBoundOnReady&&(n.removeEventListener("DOMContentLoaded",t.onReadyEvent,!1),i.removeEventListener("load",t.onReadyEvent,!1)),Ext.isReady||t.fireDocReady()},fireDocReady:function(){Ext.isReady||(Ext._readyTime=(new Date).getTime(),Ext.isReady=!0,Ext.supports.init(),t.onWindowUnload(),e.onReadyChain=t.onReadyChain,Ext.isNumber(t.deferReadyEvent)?(Ext.Function.defer(t.fireReadyEvent,t.deferReadyEvent),t.hasDocReadyTimer=!0):t.fireReadyEvent())},fireReadyEvent:function(){for(t.hasDocReadyTimer=!1,t.isFiring=!0;e.listeners.length&&!t.isReadyPaused();)e.fire();t.isFiring=!1,t.hasFiredReady=!0,Ext.EventManager.idleEvent.fire()},onDocumentReady:function(n,i,r){r=r||{},r.single=!0,e.addListener(n,i,r),t.isFiring||t.hasDocReadyTimer||(Ext.isReady?t.fireReadyEvent():t.bindReadyEvent())},stoppedMouseDownEvent:new Ext.util.Event,propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(e){var t;return e=Ext.getDom(e),t=e===n||e===i?e===n?Ext.documentId:Ext.windowId:Ext.id(e),Ext.cache[t]||Ext.addCacheEntry(t,null,e),t},prepareListenerConfig:function(e,n,i){var r,o,a,s=t.propRe;for(r in n)n.hasOwnProperty(r)&&(s.test(r)||(o=n[r],a="function"==typeof o?[e,r,o,n.scope,n]:[e,r,o.fn,o.scope,o],i?t.removeListener.apply(t,a):t.addListener.apply(t,a)))},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(e,n){return t.mouseEnterLeaveRe.test(e)&&!Ext.supports.MouseEnterLeave?(n&&(n=Ext.Function.createInterceptor(n,t.contains)),e="mouseenter"==e?"mouseover":"mouseout"):"mousewheel"!=e||Ext.supports.MouseWheel||Ext.isOpera||(e="DOMMouseScroll"),{eventName:e,fn:n}},contains:function(e){e=e.browserEvent||e;var n=e.currentTarget,i=t.getRelatedTarget(e);if(n&&n.firstChild)for(;i;){if(i===n)return!1;i=i.parentNode,i&&1!=i.nodeType&&(i=null)}return!0},addListener:function(e,i,r,o,s){if("string"!=typeof i)return t.prepareListenerConfig(e,i),void 0;var l,d,c,u,h,f,g,p=e.dom||Ext.getDom(e);"string"==typeof r&&(r=Ext.resolveMethod(r,o||e)),s=s||{},d=t.normalizeEvent(i,r),c=t.createListenerWrap(p,i,d.fn,o,s),u=t.getEventListenerCache(e.dom?e:p,i),i=d.eventName,l=a||Ext.isIE9&&!p.attachEvent,l||(h=t.normalizeId(p),h&&(f=Ext.cache[h][i],f&&f.firing&&(u=t.cloneEventListenerCache(p,i)))),g=!!s.capture,u.push({fn:r,wrap:c,scope:o,capture:g}),l?p.addEventListener(i,c,g):1===u.length&&(h=t.normalizeId(p,!0),r=Ext.Function.bind(t.handleSingleEvent,t,[h,i],!0),Ext.cache[h][i]={firing:!1,fn:r},p.attachEvent("on"+i,r)),p==n&&"mousedown"==i&&t.stoppedMouseDownEvent.addListener(c)},normalizeId:function(e,n){var i;return i=e===document?Ext.documentId:e===window?Ext.windowId:e.id,!i&&n&&(i=t.getId(e)),i},handleSingleEvent:function(e,n,i){var r,o,a=t.getEventListenerCache(n,i),s=Ext.cache[n][i];if(!s.firing){for(s.firing=!0,o=0,r=a.length;r>o;++o)a[o].wrap(e);s.firing=!1}},removeListener:function(e,i,r,o){if("string"!=typeof i)return t.prepareListenerConfig(e,i,!0),void 0;var s,l,d,c,u,h,f=Ext.getDom(e),g=e.dom?e:Ext.get(f),p=t.getEventListenerCache(g,i),m=t.normalizeEvent(i).eventName,x=p.length;if(f)for(c=a||Ext.isIE9&&!f.detachEvent,"string"==typeof r&&(r=Ext.resolveMethod(r,o||e));x--;)if(u=p[x],!(!u||r&&u.fn!=r||o&&u.scope!==o)){if(h=u.wrap,h.task&&(clearTimeout(h.task),delete h.task),l=h.tasks&&h.tasks.length){for(;l--;)clearTimeout(h.tasks[l]);delete h.tasks}c?f.removeEventListener(m,h,u.capture):(s=t.normalizeId(f,!0),d=Ext.cache[s][m],d&&d.firing&&(p=t.cloneEventListenerCache(f,m)),1===p.length&&(r=d.fn,delete Ext.cache[s][m],f.detachEvent("on"+m,r))),h&&f==n&&"mousedown"==i&&t.stoppedMouseDownEvent.removeListener(h),Ext.Array.erase(p,x,1)}},removeAll:function(e){var n,i,r,o="string"==typeof e?e:e.id;if(o&&(n=Ext.cache[o])){i=n.events;for(r in i)i.hasOwnProperty(r)&&t.removeListener(e,r);n.events={}}},purgeElement:function(e,n){var i,r,o=Ext.getDom(e),a=0;if(n?t.removeListener(e,n):t.removeAll(e),o&&o.childNodes)for(r=o.childNodes,i=r.length;i>a;a++)t.purgeElement(r[a],n)},createListenerWrap:function(e,n,i,o,a){a=a||{};var s,l,d=function(c,u){return l||(s=["if(!"+Ext.name+") {return;}"],a.buffer||a.delay||a.freezeEvent?(a.freezeEvent&&s.push("e = X.EventObject.setEvent(e);"),s.push("e = new X.EventObjectImpl(e, "+(a.freezeEvent?"true":"false")+");")):s.push("e = X.EventObject.setEvent(e);"),a.delegate?(s.push('var result, t = e.getTarget("'+(a.delegate+"").replace(r,"\\\\")+'", this);'),s.push("if(!t) {return;}")):s.push("var t = e.target, result;"),a.target&&s.push("if(e.target !== options.target) {return;}"),a.stopEvent?s.push("e.stopEvent();"):(a.preventDefault&&s.push("e.preventDefault();"),a.stopPropagation&&s.push("e.stopPropagation();")),a.normalized===!1&&s.push("e = e.browserEvent;"),a.buffer&&(s.push("(wrap.task && clearTimeout(wrap.task));"),s.push("wrap.task = setTimeout(function() {")),a.delay&&(s.push("wrap.tasks = wrap.tasks || [];"),s.push("wrap.tasks.push(setTimeout(function() {")),s.push("result = fn.call(scope || dom, e, t, options);"),a.single&&s.push("evtMgr.removeListener(dom, ename, fn, scope);"),"mousemove"!==n&&"unload"!==n&&(s.push("if (evtMgr.idleEvent.listeners.length) {"),s.push("evtMgr.idleEvent.fire();"),s.push("}")),a.delay&&s.push("}, "+a.delay+"));"),a.buffer&&s.push("}, "+a.buffer+");"),s.push("return result;"),l=Ext.cacheableFunctionFactory("e","options","fn","scope","ename","dom","wrap","args","X","evtMgr",s.join("\n"))),l.call(e,c,a,i,o,n,e,d,u,Ext,t)};return d},getEventCache:function(e){var n,i,r;return e?(e.$cache?n=e.$cache:(r="string"==typeof e?e:t.getId(e),n=Ext.cache[r]),i=n.events||(n.events={})):[]},getEventListenerCache:function(e,n){var i=t.getEventCache(e);return i[n]||(i[n]=[])},cloneEventListenerCache:function(e,n){var i,r=t.getEventCache(e);return i=r[n]?r[n].slice(0):[],r[n]=i,i},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(e){t.stopPropagation(e),t.preventDefault(e)},stopPropagation:function(e){e=e.browserEvent||e,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},preventDefault:function(e){if(e=e.browserEvent||e,e.preventDefault)e.preventDefault();else{e.returnValue=!1;try{(e.ctrlKey||e.keyCode>111&&e.keyCode<124)&&(e.keyCode=-1)}catch(t){}}},getRelatedTarget:function(e){e=e.browserEvent||e;var n=e.relatedTarget;return n||(t.mouseLeaveRe.test(e.type)?n=e.toElement:t.mouseEnterRe.test(e.type)&&(n=e.fromElement)),t.resolveTextNode(n)},getPageX:function(e){return t.getPageXY(e)[0]},getPageY:function(e){return t.getPageXY(e)[1]},getPageXY:function(e){e=e.browserEvent||e;var t=e.pageX,i=e.pageY,r=n.documentElement,o=n.body;return t||0===t||(t=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),i=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),[t,i]},getTarget:function(e){return e=e.browserEvent||e,t.resolveTextNode(e.target||e.srcElement)},resolveTextNode:Ext.isGecko?function(e){if(e){var t=HTMLElement.prototype.toString.call(e);if("[xpconnect wrapped native prototype]"!==t&&"[object XULElement]"!==t)return 3==e.nodeType?e.parentNode:e}}:function(e){return e&&3==e.nodeType?e.parentNode:e},curWidth:0,curHeight:0,onWindowResize:function(e,n,r){var o=t.resizeEvent;o||(t.resizeEvent=o=new Ext.util.Event,t.on(i,"resize",t.fireResize,null,{buffer:100})),o.addListener(e,n,r)},fireResize:function(){var e=Ext.Element.getViewWidth(),n=Ext.Element.getViewHeight();(t.curHeight!=n||t.curWidth!=e)&&(t.curHeight=n,t.curWidth=e,t.resizeEvent.fire(e,n))},removeResizeListener:function(e,n){var i=t.resizeEvent;i&&i.removeListener(e,n)},onWindowUnload:function(e,n,r){var o=t.unloadEvent;o||(t.unloadEvent=o=new Ext.util.Event,t.addListener(i,"unload",t.fireUnload)),e&&o.addListener(e,n,r)},fireUnload:function(){try{n=i=void 0;var e,r,o,a,s;if(t.unloadEvent.fire(),Ext.isGecko3)for(e=Ext.ComponentQuery.query("gridview"),r=0,o=e.length;o>r;r++)e[r].scrollToTop();s=Ext.cache;for(a in s)s.hasOwnProperty(a)&&t.removeAll(a)}catch(l){}},removeUnloadListener:function(e,n){var i=t.unloadEvent;i&&i.removeListener(e,n)},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera),getKeyEvent:function(){return t.useKeyDown?"keydown":"keypress"}}),!a&&document.attachEvent&&Ext.apply(t,{pollScroll:function(){var e=!0;try{document.documentElement.doScroll("left")}catch(n){e=!1}return e&&document.body?t.onReadyEvent({type:"doScroll"}):t.scrollTimeout=setTimeout(t.pollScroll,20),e},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var e=document.readyState;t.readyStatesRe.test(e)&&t.onReadyEvent({type:e})},bindReadyEvent:function(){var e=!0;if(!t.hasBoundOnReady){try{e=void 0===window.frameElement}catch(i){e=!1}e&&n.documentElement.doScroll||(t.pollScroll=Ext.emptyFn),t.pollScroll()!==!0&&("complete"==n.readyState?t.onReadyEvent({type:"already "+(n.readyState||"body")}):(n.attachEvent("onreadystatechange",t.checkReadyState),window.attachEvent("onload",t.onReadyEvent),t.hasBoundOnReady=!0))}},onReadyEvent:function(e){e&&e.type&&t.onReadyChain.push(e.type),t.hasBoundOnReady&&(document.detachEvent("onreadystatechange",t.checkReadyState),window.detachEvent("onload",t.onReadyEvent)),Ext.isNumber(t.scrollTimeout)&&(clearTimeout(t.scrollTimeout),delete t.scrollTimeout),Ext.isReady||t.fireDocReady()},onReadyChain:[]}),Ext.onReady=function(e,t,n){Ext.Loader.onReady(e,t,!0,n)},Ext.onDocumentReady=t.onDocumentReady,t.on=t.addListener,t.un=t.removeListener,Ext.onReady(s)},Ext.define("Ext.util.Observable",function(e){var t=[],n=Array.prototype,i=n.slice,r=Ext.util.Event,o=function(e){return e instanceof o?e:(this.observable=e,arguments[1].isObservable&&(this.managedListeners=!0),this.args=i.call(arguments,1),void 0)};return o.prototype.destroy=function(){this.observable[this.managedListeners?"mun":"un"].apply(this.observable,this.args)},{statics:{releaseCapture:function(e){e.fireEventArgs=this.prototype.fireEventArgs},capture:function(e,t,n){var i=function(e,i){return t.apply(n,[e].concat(i))};this.captureArgs(e,i,n)},captureArgs:function(e,t,n){e.fireEventArgs=Ext.Function.createInterceptor(e.fireEventArgs,t,n)},observe:function(e,t){return e&&(e.isObservable||(Ext.applyIf(e,new this),this.captureArgs(e.prototype,e.fireEventArgs,e)),Ext.isObject(t)&&e.on(t)),e},prepareClass:function(t,n){if(!t.HasListeners){var i=function(){},r=t.superclass.HasListeners||n&&n.HasListeners||e.HasListeners;t.prototype.HasListeners=t.HasListeners=i,i.prototype=t.hasListeners=new r}}},isObservable:!0,eventsSuspended:0,constructor:function(e){var t=this;Ext.apply(t,e),t.hasListeners||(t.hasListeners=new t.HasListeners),t.events=t.events||{},t.listeners&&(t.on(t.listeners),t.listeners=null),t.bubbleEvents&&t.enableBubble(t.bubbleEvents)},onClassExtended:function(t){t.HasListeners||e.prepareClass(t)},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,addManagedListener:function(e,t,n,i,r,a){var s,l,d=this,c=d.managedListeners=d.managedListeners||[];if("string"!=typeof t){l=arguments.length>4?r:t,r=t;for(t in r)r.hasOwnProperty(t)&&(s=r[t],d.eventOptionsRe.test(t)||d.addManagedListener(e,t,s.fn||s,s.scope||r.scope||i,s.fn?s:l,!0));if(r&&r.destroyable)return new o(d,e,r)}else if("string"==typeof n&&(i=i||d,n=Ext.resolveMethod(n,i)),c.push({item:e,ename:t,fn:n,scope:i,options:r}),e.on(t,n,i,r),!a&&r&&r.destroyable)return new o(d,e,t,n,i)},removeManagedListener:function(e,t,n,i){var r,o,a,s,l,d=this;if("string"!=typeof t){r=t;for(t in r)r.hasOwnProperty(t)&&(o=r[t],d.eventOptionsRe.test(t)||d.removeManagedListener(e,t,o.fn||o,o.scope||r.scope||i))}else for(a=d.managedListeners?d.managedListeners.slice():[],"string"==typeof n&&(i=i||d,n=Ext.resolveMethod(n,i)),l=0,s=a.length;s>l;l++)d.removeManagedListenerItem(!1,a[l],e,t,n,i)},fireEvent:function(e){return this.fireEventArgs(e,i.call(arguments,1))},fireEventArgs:function(e,n){e=e.toLowerCase();var i=this,r=i.events,o=r&&r[e],a=!0;return o&&i.hasListeners[e]&&(a=i.continueFireEvent(e,n||t,o.bubble)),a},continueFireEvent:function(e,t,n){var i,r,o=this,a=!0;do{if(o.eventsSuspended)return(i=o.eventQueue)&&i.push([e,t,n]),a;if(r=o.events[e],r&&r!==!0&&(a=r.fire.apply(r,t))===!1)break}while(n&&(o=o.getBubbleParent()));return a},getBubbleParent:function(){var e=this,t=e.getBubbleTarget&&e.getBubbleTarget();return t&&t.isObservable?t:null},addListener:function(e,t,n,i){var a,s,l=this,d=0;if("string"!=typeof e){i=e;for(e in i)i.hasOwnProperty(e)&&(a=i[e],l.eventOptionsRe.test(e)||l.addListener(e,a.fn||a,a.scope||i.scope,a.fn?a:i));if(i&&i.destroyable)return new o(l,i)}else if(e=e.toLowerCase(),s=l.events[e],s&&s.isEvent?d=s.listeners.length:l.events[e]=s=new r(l,e),"string"==typeof t&&(n=n||l,t=Ext.resolveMethod(t,n)),s.addListener(t,n,i),s.listeners.length!==d&&l.hasListeners._incr_(e),i&&i.destroyable)return new o(l,e,t,n,i)},removeListener:function(e,t,n){var i,r,o,a=this;if("string"!=typeof e){o=e;for(e in o)o.hasOwnProperty(e)&&(i=o[e],a.eventOptionsRe.test(e)||a.removeListener(e,i.fn||i,i.scope||o.scope))}else e=e.toLowerCase(),r=a.events[e],r&&r.isEvent&&("string"==typeof t&&(n=n||a,t=Ext.resolveMethod(t,n)),r.removeListener(t,n)&&a.hasListeners._decr_(e))},clearListeners:function(){var e,t,n=this.events,i=this.hasListeners;for(t in n)n.hasOwnProperty(t)&&(e=n[t],e.isEvent&&(delete i[t],e.clearListeners()));this.clearManagedListeners()},clearManagedListeners:function(){for(var e=this.managedListeners||[],t=0,n=e.length;n>t;t++)this.removeManagedListenerItem(!0,e[t]);this.managedListeners=[]},removeManagedListenerItem:function(e,t,n,i,r,o){!e&&(t.item!==n||t.ename!==i||r&&t.fn!==r||o&&t.scope!==o)||(t.item.un(t.ename,t.fn,t.scope),e||Ext.Array.remove(this.managedListeners,t))},addEvents:function(e){var t,n,i,r=this,o=r.events||(r.events={});if("string"==typeof e)for(n=arguments,i=n.length;i--;)t=n[i],o[t]||(o[t]=!0);else Ext.applyIf(r.events,e)},hasListener:function(e){return!!this.hasListeners[e.toLowerCase()]},suspendEvents:function(e){this.eventsSuspended+=1,e&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(){var e,t,n=arguments.length;for(e=0;n>e;e++)t=this.events[arguments[e]],t&&t.suspend&&t.suspend()},resumeEvent:function(){var e,t,n=arguments.length;for(e=0;n>e;e++)t=this.events[arguments[e]],t&&t.resume&&t.resume()},resumeEvents:function(){var e,t,n=this,i=n.eventQueue;if(n.eventsSuspended&&!--n.eventsSuspended&&(delete n.eventQueue,i))for(e=i.length,t=0;e>t;t++)n.continueFireEvent.apply(n,i[t])},relayEvents:function(e,t,n){for(var i,r=this,a=t.length,s=0,l={};a>s;s++)i=t[s],l[i]=r.createRelayer(n?n+i:i);return r.mon(e,l,null,null,void 0),new o(r,e,l)},createRelayer:function(e,t){var n=this;return function(){return n.fireEventArgs.call(n,e,t?i.apply(arguments,t):arguments)}},enableBubble:function(e){if(e){var t,n,i,o=this,a="string"==typeof e?arguments:e,s=a.length,l=o.events;for(i=0;s>i;++i)t=a[i].toLowerCase(),n=l[t],n&&"boolean"!=typeof n||(l[t]=n=new r(o,t)),o.hasListeners._incr_(t),n.bubble=!0}}}},function(){function e(e){var t,n,i,r,o=(this.methodEvents=this.methodEvents||{})[e],a=this;return o||(this.methodEvents[e]=o={},o.originalFn=this[e],o.methodName=e,o.before=[],o.after=[],r=function(e,r,o){void 0!==(n=e.apply(r||a,o))&&("object"==typeof n?(t=void 0!==n.returnValue?n.returnValue:n,i=!!n.cancel):n===!1?i=!0:t=n)},this[e]=function(){var e,s,l,d=Array.prototype.slice.call(arguments,0);for(t=n=void 0,i=!1,s=0,l=o.before.length;l>s;s++)if(e=o.before[s],r(e.fn,e.scope,d),i)return t;for(void 0!==(n=o.originalFn.apply(a,d))&&(t=n),s=0,l=o.after.length;l>s;s++)if(e=o.after[s],r(e.fn,e.scope,d),i)return t;return t}),o}var t,n=this,i=n.prototype,r=function(){},o=function(e){if(!e.HasListeners){var t=e.prototype;n.prepareClass(e,this),e.onExtended(function(e){n.prepareClass(e)}),t.onClassMixedIn?Ext.override(e,{onClassMixedIn:function(e){o.call(this,e),this.callParent(arguments)}}):t.onClassMixedIn=function(e){o.call(this,e)}}};r.prototype={_decr_:function(e){--this[e]||delete this[e]},_incr_:function(e){this.hasOwnProperty(e)?++this[e]:this[e]=1}},i.HasListeners=n.HasListeners=r,n.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"}),n.observeClass=n.observe,Ext.globalEvents=t=new n({events:{idle:Ext.EventManager.idleEvent,ready:Ext.EventManager.readyEvent}}),Ext.on=function(){return t.addListener.apply(t,arguments)},Ext.un=function(){return t.removeListener.apply(t,arguments)},Ext.apply(i,{onClassMixedIn:o,beforeMethod:function(t,n,i){e.call(this,t).before.push({fn:n,scope:i})},afterMethod:function(t,n,i){e.call(this,t).after.push({fn:n,scope:i})},removeMethodListener:function(e,t,n){var i,r,o=this.getMethodEvent(e);for(i=0,r=o.before.length;r>i;i++)if(o.before[i].fn==t&&o.before[i].scope==n)return Ext.Array.erase(o.before,i,1),void 0;for(i=0,r=o.after.length;r>i;i++)if(o.after[i].fn==t&&o.after[i].scope==n)return Ext.Array.erase(o.after,i,1),void 0},toggleEventLogging:function(e){Ext.util.Observable[e?"capture":"releaseCapture"](this,function(e){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(e,arguments)})}})}),Ext.define("Ext.EventObjectImpl",{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var e;return Ext.isGecko?e=3:Ext.isMac?(e=Ext.isSafari&&Ext.webKitVersion>=532?120:12,e*=3):e=120,e}(),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2},constructor:function(e,t){e&&this.setEvent(e.browserEvent||e,t)},setEvent:function(e,t){var n,i,r=this;return e===r||e&&e.browserEvent?e:(r.browserEvent=e,e?(n=e.button?r.btnMap[e.button]:e.which?e.which-1:-1,r.clickRe.test(e.type)&&-1==n&&(n=0),i={type:e.type,button:n,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey||e.metaKey||!1,altKey:e.altKey,keyCode:e.keyCode,charCode:e.charCode,target:Ext.EventManager.getTarget(e),relatedTarget:Ext.EventManager.getRelatedTarget(e),currentTarget:e.currentTarget,xy:t?r.getXY():null}):i={button:-1,shiftKey:!1,ctrlKey:!1,altKey:!1,keyCode:0,charCode:0,target:null,xy:[0,0]},Ext.apply(r,i),r)},stopEvent:function(){this.stopPropagation(),this.preventDefault()},preventDefault:function(){this.browserEvent&&Ext.EventManager.preventDefault(this.browserEvent)},stopPropagation:function(){var e=this.browserEvent;e&&("mousedown"==e.type&&Ext.EventManager.stoppedMouseDownEvent.fire(this),Ext.EventManager.stopPropagation(e))},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(e){return Ext.isWebKit?this.safariKeys[e]||e:e},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){return this.xy||(this.xy=Ext.EventManager.getPageXY(this.browserEvent)),this.xy},getTarget:function(e,t,n){return e?Ext.fly(this.target).findParent(e,t,n):n?Ext.get(this.target):this.target},getRelatedTarget:function(e,t,n){return e&&this.relatedTarget?Ext.fly(this.relatedTarget).findParent(e,t,n):n?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(e){var t=this.WHEEL_SCALE,n=Math.round(e/t);return!n&&e&&(n=0>e?-1:1),n},getWheelDeltas:function(){var e=this,t=e.browserEvent,n=0,i=0;return Ext.isDefined(t.wheelDeltaX)?(n=t.wheelDeltaX,i=t.wheelDeltaY):t.wheelDelta?i=t.wheelDelta:t.detail&&(i=-t.detail,i>100?i=3:-100>i&&(i=-3),Ext.isDefined(t.axis)&&t.axis===t.HORIZONTAL_AXIS&&(n=i,i=0)),{x:e.correctWheelDelta(n),y:e.correctWheelDelta(i)}},getWheelDelta:function(){var e=this.getWheelDeltas();return e.y},within:function(e,t,n){if(e){var i,r=t?this.getRelatedTarget():this.getTarget();if(r)return i=Ext.fly(e,"_internal").contains(r),!i&&n&&(i=r==Ext.getDom(e)),i}return!1},isNavKeyPress:function(){var e=this,t=this.normalizeKey(e.keyCode);return t>=33&&40>=t||t==e.RETURN||t==e.TAB||t==e.ESC},isSpecialKey:function(){var e=this.normalizeKey(this.keyCode);return"keypress"==this.type&&this.ctrlKey||this.isNavKeyPress()||e==this.BACKSPACE||e>=16&&20>=e||e>=44&&46>=e},getPoint:function(){var e=this.getXY();return new Ext.util.Point(e[0],e[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:function(){function e(e,t){var i="mousemove"!=e;return function(r,o){var a=o.getXY(),s=n.createMouseEvent(r.ownerDocument,e,!0,i,t,a[0],a[1],o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget);n.fireEvent(r,e,s)}}function t(){}var n,i,r={};return!Ext.isIE9m&&document.createEvent?n={createHtmlEvent:function(e,t,n,i){var r=e.createEvent("HTMLEvents");return r.initEvent(t,n,i),r},createMouseEvent:function(e,t,n,i,r,o,a,s,l,d,c,u,h){var f=e.createEvent("MouseEvents"),g=e.defaultView||window;return f.initMouseEvent?f.initMouseEvent(t,n,i,g,r,o,a,o,a,s,l,d,c,u,h):(f=e.createEvent("UIEvents"),f.initEvent(t,n,i),f.view=g,f.detail=r,f.screenX=o,f.screenY=a,f.clientX=o,f.clientY=a,f.ctrlKey=s,f.altKey=l,f.metaKey=c,f.shiftKey=d,f.button=u,f.relatedTarget=h),f},createUIEvent:function(e,t,n,i,r){var o=e.createEvent("UIEvents"),a=e.defaultView||window;return o.initUIEvent(t,n,i,a,r),o},fireEvent:function(e,t,n){e.dispatchEvent(n)},fixTarget:function(e){return e!=window||e.dispatchEvent?e:document}}:document.createEventObject&&(i={0:1,1:4,2:2},n={createHtmlEvent:function(e,t,n,i){var r=e.createEventObject();return r.bubbles=n,r.cancelable=i,r},createMouseEvent:function(e,t,n,r,o,a,s,l,d,c,u,h,f){var g=e.createEventObject();return g.bubbles=n,g.cancelable=r,g.detail=o,g.screenX=a,g.screenY=s,g.clientX=a,g.clientY=s,g.ctrlKey=l,g.altKey=d,g.shiftKey=c,g.metaKey=u,g.button=i[h]||h,g.relatedTarget=f,g},createUIEvent:function(e,t,n,i){var r=e.createEventObject();return r.bubbles=n,r.cancelable=i,r},fireEvent:function(e,t,n){e.fireEvent("on"+t,n)},fixTarget:function(e){return e==document?document.documentElement:e}}),Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(e,t){var i=t[0],o=t[1];r[e]=function(t){var r=n.createHtmlEvent(e,i,o);n.fireEvent(t,e,r)}}),Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(t){r[t]=e(t,1)}),Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(e,t){var i=t[0],o=t[1];r[e]=function(t){var r=n.createUIEvent(t.ownerDocument,e,i,o,1);n.fireEvent(t,e,r)}}),n||(r={},n={fixTarget:Ext.identityFn}),function(e){var i=this,o=r[i.type]||t,a=e?e.dom||e:i.getTarget();a=n.fixTarget(a),o(a,i)}}()},function(){Ext.EventObject=new Ext.EventObjectImpl}),Ext.define("Ext.dom.AbstractQuery",{select:function(e,t){var n,i,r,o,a,s=[];for(t=t||document,"string"==typeof t&&(t=document.getElementById(t)),e=e.split(","),i=0,o=e.length;o>i;i++)if("string"==typeof e[i])if("@"==typeof e[i][0])n=t.getAttributeNode(e[i].substring(1)),s.push(n);else for(n=t.querySelectorAll(e[i]),r=0,a=n.length;a>r;r++)s.push(n[r]);return s},selectNode:function(e,t){return this.select(e,t)[0]},is:function(e,t){return"string"==typeof e&&(e=document.getElementById(e)),-1!==this.select(t).indexOf(e)}}),Ext.define("Ext.dom.AbstractHelper",{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,styleSepRe:/\s*(?::|;)\s*/,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:function(){function e(e,t,n){return t+"-"+n.toLowerCase()}var t=/([a-z])([A-Z])/g,n={};return function(i){return n[i]||(n[i]=i.replace(t,e))}}(),generateMarkup:function(e,t){var n,i,r,o,a,s=this,l=typeof e;if("string"==l||"number"==l)t.push(e);else if(Ext.isArray(e))for(o=0;o<e.length;o++)e[o]&&s.generateMarkup(e[o],t);else{r=e.tag||"div",t.push("<",r);for(n in e)e.hasOwnProperty(n)&&(i=e[n],s.confRe.test(n)||("object"==typeof i?(t.push(" ",n,'="'),s.generateStyles(i,t).push('"')):t.push(" ",s.attributeTransform[n]||n,'="',i,'"')));s.emptyTags.test(r)?t.push("/>"):(t.push(">"),(i=e.tpl)&&i.applyOut(e.tplData,t),(i=e.html)&&t.push(i),(i=e.cn||e.children)&&s.generateMarkup(i,t),a=s.closeTags,t.push(a[r]||(a[r]="</"+r+">")))}return t},generateStyles:function(e,t){var n,i=t||[];for(n in e)e.hasOwnProperty(n)&&i.push(this.decamelizeName(n),":",e[n],";");return t||i.join("")},markup:function(e){if("string"==typeof e)return e;var t=this.generateMarkup(e,[]);return t.join("")},applyStyles:function(e,t){if(t){var n,i=0;if(e=Ext.fly(e,"_applyStyles"),"function"==typeof t&&(t=t.call()),"string"==typeof t)for(t=Ext.util.Format.trim(t).split(this.styleSepRe),n=t.length;n>i;)e.setStyle(t[i++],t[i++]);else Ext.isObject(t)&&e.setStyle(t)}},insertHtml:function(e,t,n){var i,r,o,a,s={};return e=e.toLowerCase(),s.beforebegin=["BeforeBegin","previousSibling"],s.afterend=["AfterEnd","nextSibling"],r=t.ownerDocument.createRange(),i="setStart"+(this.endRe.test(e)?"After":"Before"),s[e]?(r[i](t),o=r.createContextualFragment(n),t.parentNode.insertBefore(o,"beforebegin"==e?t:t.nextSibling),t[("beforebegin"==e?"previous":"next")+"Sibling"]):(a=("afterbegin"==e?"first":"last")+"Child",t.firstChild?(r[i](t[a]),o=r.createContextualFragment(n),"afterbegin"==e?t.insertBefore(o,t.firstChild):t.appendChild(o)):t.innerHTML=n,t[a])},insertBefore:function(e,t,n){return this.doInsert(e,t,n,"beforebegin")},insertAfter:function(e,t,n){return this.doInsert(e,t,n,"afterend","nextSibling")},insertFirst:function(e,t,n){return this.doInsert(e,t,n,"afterbegin","firstChild")},append:function(e,t,n){return this.doInsert(e,t,n,"beforeend","",!0)},overwrite:function(e,t,n){return e=Ext.getDom(e),e.innerHTML=this.markup(t),n?Ext.get(e.firstChild):e.firstChild},doInsert:function(e,t,n,i){var r=this.insertHtml(i,Ext.getDom(e),this.markup(t));return n?Ext.get(r,!0):r}}),Ext.define("Ext.dom.AbstractElement_static",{override:"Ext.dom.AbstractElement",inheritableStatics:{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,msRe:/^-ms-/,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*)?;?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(e,t){return"number"==typeof e?e+(t||this.defaultUnit||"px"):""===e||"auto"==e||void 0===e||null===e?e||"":this.unitRe.test(e)?e:e||""},isAncestor:function(e,t){var n=!1;if(e=Ext.getDom(e),t=Ext.getDom(t),e&&t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(t));for(;t=t.parentNode;)n=t==e||n}return n},parseBox:function(e){e=e||0;var t,n,i=typeof e;return"number"===i?{top:e,right:e,bottom:e,left:e}:"string"!==i?e:(t=e.split(" "),n=t.length,1==n?t[1]=t[2]=t[3]=t[0]:2==n?(t[2]=t[0],t[3]=t[1]):3==n&&(t[3]=t[1]),{top:parseFloat(t[0])||0,right:parseFloat(t[1])||0,bottom:parseFloat(t[2])||0,left:parseFloat(t[3])||0})},unitizeBox:function(e,t){var n=this.addUnits,i=this.parseBox(e);return n(i.top,t)+" "+n(i.right,t)+" "+n(i.bottom,t)+" "+n(i.left,t)},camelReplaceFn:function(e,t){return t.charAt(1).toUpperCase()},normalize:function(e){return"float"==e&&(e=Ext.supports.Float?"cssFloat":"styleFloat"),this.propertyCache[e]||(this.propertyCache[e]=e.replace(this.msRe,"ms-").replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(Ext.isStrict?document.documentElement.scrollHeight:document.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(Ext.isStrict?document.documentElement.scrollWidth:document.body.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){return Ext.supports.OrientationChange?0==window.orientation?"portrait":"landscape":window.innerHeight>window.innerWidth?"portrait":"landscape"
},fromPoint:function(e,t){return Ext.get(document.elementFromPoint(e,t))},parseStyles:function(e){var t,n={},i=this.cssRe;if(e)for(i.lastIndex=0;t=i.exec(e);)n[t[1]]=t[2]||"";return n}}},function(){function e(e,t,n){return function(){e.selectionStart=t,e.selectionEnd=n}}var t=document,n=null,i="CSS1Compat"==t.compatMode;"activeElement"in t||!t.addEventListener||t.addEventListener("focus",function(e){e&&e.target&&(n=e.target==t?null:e.target)},!0),this.addInheritableStatics({getActiveElement:function(){var e;try{e=t.activeElement}catch(i){}return e=e||n,e||(e=n=document.body),e},getRightMarginFixCleaner:function(i){var r,o,a,s,l=Ext.supports,d=l.DisplayChangeInputSelectionBug,c=l.DisplayChangeTextAreaSelectionBug;return(d||c)&&(r=t.activeElement||n,o=r&&r.tagName,(c&&"TEXTAREA"==o||d&&"INPUT"==o&&"text"==r.type)&&Ext.dom.Element.isAncestor(i,r)&&(a=r.selectionStart,s=r.selectionEnd,Ext.isNumber(a)&&Ext.isNumber(s)))?e(r,a,s):Ext.emptyFn},getViewWidth:function(e){return e?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(e){return e?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(i?t.documentElement.scrollHeight:t.body.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(i?t.documentElement.scrollWidth:t.body.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return Ext.isIE9m?Ext.isStrict?t.documentElement.clientHeight:t.body.clientHeight:self.innerHeight},getViewportWidth:function(){return Ext.isStrict||Ext.isOpera?Ext.isIE9m?t.documentElement.clientWidth:self.innerWidth:t.body.clientWidth},serializeForm:function(e){var t,n,i,r,o,a,s,l,d,c=e.elements||(document.forms[e]||Ext.getDom(e)).elements,u=!1,h=encodeURIComponent,f="",g=c.length;for(a=0;g>a;a++)if(t=c[a],n=t.name,i=t.type,r=t.options,!t.disabled&&n)if(/select-(one|multiple)/i.test(i))for(l=r.length,s=0;l>s;s++)d=r[s],d.selected&&(o=d.hasAttribute?d.hasAttribute("value"):d.getAttributeNode("value").specified,f+=Ext.String.format("{0}={1}&",h(n),h(o?d.value:d.text)));else/file|undefined|reset|button/i.test(i)||/radio|checkbox/i.test(i)&&!t.checked||"submit"==i&&u||(f+=h(n)+"="+h(t.value)+"&",u=/submit/i.test(i));return f.substr(0,f.length-1)}})}),Ext.define("Ext.dom.AbstractElement_insertion",{override:"Ext.dom.AbstractElement",appendChild:function(e,t){var n,i,r,o,a=this;if(e.nodeType||e.dom||"string"==typeof e)return e=Ext.getDom(e),a.dom.appendChild(e),t?e:Ext.get(e);if(e.length){for(n=Ext.fly(document.createDocumentFragment(),"_internal"),i=e.length,Ext.DomHelper.useDom=!0,r=0;i>r;r++)n.appendChild(e[r],t);return Ext.DomHelper.useDom=o,a.dom.appendChild(n.dom),t?n.dom:n}return a.createChild(e,null,t)},appendTo:function(e){return Ext.getDom(e).appendChild(this.dom),this},insertBefore:function(e){return e=Ext.getDom(e),e.parentNode.insertBefore(this.dom,e),this},insertAfter:function(e){return e=Ext.getDom(e),e.parentNode.insertBefore(this.dom,e.nextSibling),this},insertFirst:function(e,t){return e=e||{},e.nodeType||e.dom||"string"==typeof e?(e=Ext.getDom(e),this.dom.insertBefore(e,this.dom.firstChild),t?e:Ext.get(e)):this.createChild(e,this.dom.firstChild,t)},insertSibling:function(e,t,n){var i,r,o,a,s=this,l=Ext.core.DomHelper,d=l.useDom,c="after"==(t||"before").toLowerCase();if(Ext.isArray(e)){for(r=Ext.fly(document.createDocumentFragment(),"_internal"),o=e.length,l.useDom=!0,a=0;o>a;a++)i=r.appendChild(e[a],n);return l.useDom=d,s.dom.parentNode.insertBefore(r.dom,c?s.dom.nextSibling:s.dom),i}return e=e||{},e.nodeType||e.dom?(i=s.dom.parentNode.insertBefore(Ext.getDom(e),c?s.dom.nextSibling:s.dom),n||(i=Ext.get(i))):i=c&&!s.dom.nextSibling?l.append(s.dom.parentNode,e,!n):l[c?"insertAfter":"insertBefore"](s.dom,e,!n),i},replace:function(e){return e=Ext.get(e),this.insertBefore(e),e.remove(),this},replaceWith:function(e){var t=this;return e.nodeType||e.dom||"string"==typeof e?(e=Ext.get(e),t.dom.parentNode.insertBefore(e.dom,t.dom)):e=Ext.core.DomHelper.insertBefore(t.dom,e),delete Ext.cache[t.id],Ext.removeNode(t.dom),t.id=Ext.id(t.dom=e),Ext.dom.AbstractElement.addToCache(t.isFlyweight?new Ext.dom.AbstractElement(t.dom):t),t},createChild:function(e,t,n){return e=e||{tag:"div"},t?Ext.core.DomHelper.insertBefore(t,e,n!==!0):Ext.core.DomHelper.append(this.dom,e,n!==!0)},wrap:function(e,t,n){var i=Ext.core.DomHelper.insertBefore(this.dom,e||{tag:"div"},!0),r=i;return n&&(r=Ext.DomQuery.selectNode(n,i.dom)),r.appendChild(this.dom),t?i.dom:i},insertHtml:function(e,t,n){var i=Ext.core.DomHelper.insertHtml(e,this.dom,t);return n?Ext.get(i):i}}),Ext.define("Ext.dom.AbstractElement_style",{override:"Ext.dom.AbstractElement"},function(){var e=this,t=/\w/g,n=/\s+/,i=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,r=Ext.supports.ClassList,o="padding",a="margin",s="border",l="-left",d="-right",c="-top",u="-bottom",h="-width",f={l:s+l+h,r:s+d+h,t:s+c+h,b:s+u+h},g={l:o+l,r:o+d,t:o+c,b:o+u},p={l:a+l,r:a+d,t:a+c,b:a+u},m=new e.Fly;Ext.override(e,{styleHooks:{},addStyles:function(e,n){var i,r,o=0,a=(e||"").match(t),s=a.length,l=[];if(1==s)o=Math.abs(parseFloat(this.getStyle(n[a[0]]))||0);else if(s){for(i=0;s>i;i++)r=a[i],l.push(n[r]);for(l=this.getStyle(l),i=0;s>i;i++)r=a[i],o+=Math.abs(parseFloat(l[n[r]])||0)}return o},addCls:function(){var e=function(e){var i,r,o,a,s,l=this,d=l.dom,c=l.trimRe,u=e;if("string"==typeof e&&(e=e.replace(c,"").split(n)),d&&e&&(a=e.length))if(d.className)if(i=d.classList){for(o=0;a>o;++o)s=e[o],s&&(i.contains(s)||(r?r.push(s):(r=d.className.replace(c,""),r=r?[r,s]:[s])));r&&(d.className=r.join(" "))}else t(u);else d.className=e.join(" ");return l},t=function(e){var t,n=this,i=n.dom;return i&&e&&e.length&&(t=Ext.Element.mergeClsList(i.className,e),t.changed&&(i.className=t.join(" "))),n};return r?e:t}(),removeCls:function(e){var t,i,r,o=this,a=o.dom;return"string"==typeof e&&(e=e.replace(o.trimRe,"").split(n)),a&&a.className&&e&&(i=e.length)&&(t=a.classList,1===i&&t?e[0]&&t.remove(e[0]):(r=Ext.Element.removeCls(a.className,e),r.changed&&(a.className=r.join(" ")))),o},radioCls:function(e){var t,n,i,r=this.dom.parentNode.childNodes;for(e=Ext.isArray(e)?e:[e],n=0,i=r.length;i>n;n++)t=r[n],t&&1==t.nodeType&&m.attach(t).removeCls(e);return this.addCls(e)},toggleCls:function(){var e=function(e){var n,i=this,r=i.dom;return r&&(e=e.replace(i.trimRe,""),e&&(n=r.classList,n?n.toggle(e):t(e))),i},t=function(e){return this.hasCls(e)?this.removeCls(e):this.addCls(e)};return r?e:t}(),hasCls:function(){var e=function(e){var n,i=this.dom,r=!1;return i&&e&&(n=i.classList,r=n?n.contains(e):t(e)),r},t=function(e){var t=this.dom;return t?e&&-1!==(" "+t.className+" ").indexOf(" "+e+" "):!1};return r?e:t}(),replaceCls:function(e,t){return this.removeCls(e).addCls(t)},isStyle:function(e,t){return this.getStyle(e)==t},getStyle:function(t,n){var i,r,o,a,s,l,d,c=this,u=c.dom,h="string"!=typeof t,f=c.styleHooks,g=t,p=g,m=1;if(h&&(o={},g=p[0],d=0,!(m=p.length)))return o;if(!u||u.documentElement)return o||"";i=u.style,n?l=i:(l=u.ownerDocument.defaultView.getComputedStyle(u,null),l||(n=!0,l=i));do{if(a=f[g],a||(f[g]=a={name:e.normalize(g)}),a.get?s=a.get(u,c,n,l):(r=a.name,s=l[r]),!h)return s;o[g]=s,g=p[++d]}while(m>d);return o},getStyles:function(){var e,t=Ext.Array.slice(arguments),n=t.length;return n&&"boolean"==typeof t[n-1]&&(e=t.pop()),this.getStyle(t,e)},isTransparent:function(e){var t=this.getStyle(e);return t?i.test(t):!1},setStyle:function(t,n){var i,r=this,o=r.dom,a=r.styleHooks,s=o.style,l=t;if("string"==typeof l)i=a[l],i||(a[l]=i={name:e.normalize(l)}),n=null==n?"":n,i.set?i.set(o,n,r):s[i.name]=n,i.afterSet&&i.afterSet(o,n,r);else for(l in t)t.hasOwnProperty(l)&&(i=a[l],i||(a[l]=i={name:e.normalize(l)}),n=t[l],n=null==n?"":n,i.set?i.set(o,n,r):s[i.name]=n,i.afterSet&&i.afterSet(o,n,r));return r},getHeight:function(e){var t=this.dom,n=e?t.clientHeight-this.getPadding("tb"):t.offsetHeight;return n>0?n:0},getWidth:function(e){var t=this.dom,n=e?t.clientWidth-this.getPadding("lr"):t.offsetWidth;return n>0?n:0},setWidth:function(t){var n=this;return n.dom.style.width=e.addUnits(t),n},setHeight:function(t){var n=this;return n.dom.style.height=e.addUnits(t),n},getBorderWidth:function(e){return this.addStyles(e,f)},getPadding:function(e){return this.addStyles(e,g)},margins:p,applyStyles:function(t){if(t){var n,i,r=this.dom;if("function"==typeof t&&(t=t.call()),"string"==typeof t)for(t=Ext.util.Format.trim(t).split(/\s*(?::|;)\s*/),n=0,i=t.length;i>n;)r.style[e.normalize(t[n++])]=t[n++];else"object"==typeof t&&this.setStyle(t)}},setSize:function(t,n){var i=this,r=i.dom.style;return Ext.isObject(t)&&(n=t.height,t=t.width),r.width=e.addUnits(t),r.height=e.addUnits(n),i},getViewSize:function(){var t=document,n=this.dom;return n==t||n==t.body?{width:e.getViewportWidth(),height:e.getViewportHeight()}:{width:n.clientWidth,height:n.clientHeight}},getSize:function(e){var t=this.dom;return{width:Math.max(0,e?t.clientWidth-this.getPadding("lr"):t.offsetWidth),height:Math.max(0,e?t.clientHeight-this.getPadding("tb"):t.offsetHeight)}},repaint:function(){var e=this.dom;return this.addCls(Ext.baseCSSPrefix+"repaint"),setTimeout(function(){m.attach(e).removeCls(Ext.baseCSSPrefix+"repaint")},1),this},getMargin:function(e){var t,n,i,r=this,o={t:"top",l:"left",r:"right",b:"bottom"};if(e)return r.addStyles(e,r.margins);i=[];for(t in r.margins)r.margins.hasOwnProperty(t)&&i.push(r.margins[t]);if(n=r.getStyle(i),n&&"object"==typeof n)for(t in r.margins)r.margins.hasOwnProperty(t)&&(n[o[t]]=parseFloat(n[r.margins[t]])||0);return n},mask:function(e,t,n){var i,r,o=this,a=o.dom,s=(o.$cache||o.getCache()).data,l=s.mask,d="",c=Ext.baseCSSPrefix;o.addCls(c+"masked"),"static"==o.getStyle("position")&&o.addCls(c+"masked-relative"),l&&l.remove(),d=t&&"string"==typeof t?" "+t:" "+c+"mask-gray",i=o.createChild({cls:c+"mask"+(n!==!1?"":" "+c+"mask-gray"),html:e?'<div class="'+(t||c+"mask-message")+'">'+e+"</div>":""}),r=o.getSize(),s.mask=i,a===document.body&&(r.height=window.innerHeight,o.orientationHandler&&Ext.EventManager.unOrientationChange(o.orientationHandler,o),o.orientationHandler=function(){r=o.getSize(),r.height=window.innerHeight,i.setSize(r)},Ext.EventManager.onOrientationChange(o.orientationHandler,o)),i.setSize(r),Ext.is.iPad&&Ext.repaint()},unmask:function(){var e=this,t=(e.$cache||e.getCache()).data,n=t.mask,i=Ext.baseCSSPrefix;n&&(n.remove(),delete t.mask),e.removeCls([i+"masked",i+"masked-relative"]),e.dom===document.body&&(Ext.EventManager.unOrientationChange(e.orientationHandler,e),delete e.orientationHandler)}}),Ext.onReady(function(){function t(e,t,n,r){var o=r[this.name]||"";return i.test(o)?"transparent":o}function n(e,t,n,i){var r,o,a=i.marginRight;return"0px"!=a&&(r=e.style,o=r.display,r.display="inline-block",a=(n?i:e.ownerDocument.defaultView.getComputedStyle(e,null)).marginRight,r.display=o),a}function r(t,n,i,r){var o,a,s,l=r.marginRight;return"0px"!=l&&(o=t.style,a=e.getRightMarginFixCleaner(t),s=o.display,o.display="inline-block",l=(i?r:t.ownerDocument.defaultView.getComputedStyle(t,"")).marginRight,o.display=s,a()),l}var o,a,s,l,d,c=Ext.supports;if(o=e.prototype.styleHooks,c.init&&c.init(),c.RightMargin||(o.marginRight=o["margin-right"]={name:"marginRight",get:c.DisplayChangeInputSelectionBug||c.DisplayChangeTextAreaSelectionBug?r:n}),!c.TransparentColor)for(a=["background-color","border-color","color","outline-color"],s=a.length;s--;)l=a[s],d=e.normalize(l),o[l]=o[d]={name:d,get:t}})}),Ext.define("Ext.dom.AbstractElement_traversal",{override:"Ext.dom.AbstractElement",findParent:function(e,t,n){var i,r=this.dom,o=document.documentElement,a=0;for(t=t||50,isNaN(t)&&(i=Ext.getDom(t),t=Number.MAX_VALUE);r&&1==r.nodeType&&t>a&&r!=o&&r!=i;){if(Ext.DomQuery.is(r,e))return n?Ext.get(r):r;a++,r=r.parentNode}return null},findParentNode:function(e,t,n){var i=Ext.fly(this.dom.parentNode,"_internal");return i?i.findParent(e,t,n):null},up:function(e,t,n){return this.findParentNode(e,t,!n)},select:function(e,t){return Ext.dom.Element.select(e,this.dom,t)},query:function(e){return Ext.DomQuery.select(e,this.dom)},down:function(e,t){var n=Ext.DomQuery.selectNode(e,this.dom);return t?n:Ext.get(n)},child:function(e,t){var n,i,r=this;return i=Ext.id(r.dom),i=Ext.escapeId(i),n=Ext.DomQuery.selectNode("#"+i+" > "+e,r.dom),t?n:Ext.get(n)},parent:function(e,t){return this.matchNode("parentNode","parentNode",e,t)},next:function(e,t){return this.matchNode("nextSibling","nextSibling",e,t)},prev:function(e,t){return this.matchNode("previousSibling","previousSibling",e,t)},first:function(e,t){return this.matchNode("nextSibling","firstChild",e,t)},last:function(e,t){return this.matchNode("previousSibling","lastChild",e,t)},matchNode:function(e,t,n,i){if(!this.dom)return null;for(var r=this.dom[t];r;){if(1==r.nodeType&&(!n||Ext.DomQuery.is(r,n)))return i?r:Ext.get(r);r=r[e]}return null},isAncestor:function(e){return this.self.isAncestor.call(this.self,this.dom,e)}}),Ext.define("Ext.dom.AbstractElement",{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,inheritableStatics:{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,get:function(e){var t,n,i,r,o,a=this,s=window.document,l=Ext.dom.Element;return e?(e.isFly&&(e=e.dom),"string"==typeof e?e==Ext.windowId?l.get(window):e==Ext.documentId?l.get(s):(t=Ext.cache[e],t&&t.skipGarbageCollection?i=t.el:(r=s.getElementById(e))?i=t&&t.el?Ext.updateCacheEntry(t,r).el:new l(r,!!t):null):e.tagName?((o=e.id)||(o=Ext.id(e)),t=Ext.cache[o],i=t&&t.el?Ext.updateCacheEntry(t,e).el:new l(e,!!t)):e instanceof a?(e!=a.docEl&&e!=a.winEl&&(o=e.id,t=Ext.cache[o],t&&Ext.updateCacheEntry(t,s.getElementById(o)||e.dom)),e):e.isComposite?e:Ext.isArray(e)?a.select(e):e===s?(a.docEl||(n=a.docEl=Ext.Object.chain(l.prototype),n.dom=s,n.el=n,n.id=Ext.id(s),a.addToCache(n)),a.docEl):e===window?(a.winEl||(a.winEl=Ext.Object.chain(l.prototype),a.winEl.dom=window,a.winEl.id=Ext.id(window),a.addToCache(a.winEl)),a.winEl):null):null},addToCache:function(e,t){return e&&Ext.addCacheEntry(t,e),e},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var e,t,n,i,r,o,a={},s=[],l=!1,d=this.trimRe,c=this.whitespaceRe;for(t=0,n=arguments.length;n>t;t++)if(e=arguments[t],Ext.isString(e)&&(e=e.replace(d,"").split(c)),e)for(i=0,r=e.length;r>i;i++)o=e[i],a[o]||(t&&(l=!0),a[o]=!0);for(o in a)s.push(o);return s.changed=l,s},removeCls:function(e,t){var n,i,r,o={},a=[],s=!1,l=this.whitespaceRe;if(e)for(Ext.isString(e)&&(e=e.replace(this.trimRe,"").split(l)),n=0,i=e.length;i>n;n++)o[e[n]]=!0;if(t)for(Ext.isString(t)&&(t=t.split(l)),n=0,i=t.length;i>n;n++)r=t[n],o[r]&&(s=!0,delete o[r]);for(r in o)a.push(r);return a.changed=s,a},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(e,t){var n,i=this,r="string"==typeof e?document.getElementById(e):e;return i.el=i,r?(n=r.id,!t&&n&&Ext.cache[n]?Ext.cache[n].el:(i.dom=r,i.id=n||Ext.id(r),i.self.addToCache(i),void 0)):null},set:function(e,t){var n,i,r=this.dom;for(n in e)e.hasOwnProperty(n)&&(i=e[n],"style"==n?this.applyStyles(i):"cls"==n?r.className=i:t!==!1?void 0===i?r.removeAttribute(n):r.setAttribute(n,i):r[n]=i);return this},defaultUnit:"px",is:function(e){return Ext.DomQuery.is(this.dom,e)},getValue:function(e){var t=this.dom.value;return e?parseInt(t,10):t},remove:function(){var e=this,t=e.dom;e.isAnimate&&e.stopAnimation(),t&&(Ext.removeNode(t),delete e.dom)},contains:function(e){if(!e)return!1;var t=this,n=e.dom||e;return n===t.dom||Ext.dom.AbstractElement.isAncestor(t.dom,n)},getAttribute:function(e,t){var n=this.dom;return n.getAttributeNS(t,e)||n.getAttribute(t+":"+e)||n.getAttribute(e)||n[e]},update:function(e){return this.dom&&(this.dom.innerHTML=e),this},setHTML:function(e){return this.dom&&(this.dom.innerHTML=e),this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){return this.setVisible(!1),this},show:function(){return this.setVisible(!0),this},setVisible:function(e){var t=this,n=t.self,i=t.getVisibilityMode(),r=Ext.baseCSSPrefix;switch(i){case n.VISIBILITY:t.removeCls([r+"hidden-display",r+"hidden-offsets"]),t[e?"removeCls":"addCls"](r+"hidden-visibility");break;case n.DISPLAY:t.removeCls([r+"hidden-visibility",r+"hidden-offsets"]),t[e?"removeCls":"addCls"](r+"hidden-display");break;case n.OFFSETS:t.removeCls([r+"hidden-visibility",r+"hidden-display"]),t[e?"removeCls":"addCls"](r+"hidden-offsets")}return t},getVisibilityMode:function(){var e=(this.$cache||this.getCache()).data,t=e.visibilityMode;return void 0===t&&(e.visibilityMode=t=this.self.DISPLAY),t},setVisibilityMode:function(e){return(this.$cache||this.getCache()).data.visibilityMode=e,this},getCache:function(){var e=this,t=e.dom.id||Ext.id(e.dom);return e.$cache=Ext.cache[t]||Ext.addCacheEntry(t,null,e.dom),e.$cache}},function(){var e=this;Ext.getDetachedBody=function(){var t=e.detachedBodyEl;return t||(t=document.createElement("div"),e.detachedBodyEl=t=new e.Fly(t),t.isDetachedBody=!0),t},Ext.getElementById=function(t){var n,i=document.getElementById(t);return!i&&(n=e.detachedBodyEl)&&(i=n.dom.querySelector("#"+Ext.escapeId(t))),i},Ext.get=function(e){return Ext.dom.Element.get(e)},this.addStatics({Fly:new Ext.Class({extend:e,isFly:!0,constructor:function(e){this.dom=e,this.el=this},attach:function(e){return this.dom=e,this.$cache=e.id?Ext.cache[e.id]:null,this}}),_flyweights:{},fly:function(t,n){var i=null,r=e._flyweights;return n=n||"_global",t=Ext.getDom(t),t&&(i=r[n]||(r[n]=new e.Fly),i.dom=t,i.$cache=t.id?Ext.cache[t.id]:null),i}}),Ext.fly=function(){return e.fly.apply(e,arguments)},function(e){e.destroy=e.remove,e.getById=document.querySelector?function(e,t){var n=document.getElementById(e)||this.dom.querySelector("#"+Ext.escapeId(e));return t?n:n?Ext.get(n):null}:function(e,t){var n=document.getElementById(e);return t?n:n?Ext.get(n):null}}(this.prototype)}),Ext.define("Ext.dom.Helper",function(){var e="afterbegin",t="afterend",n="beforebegin",i="beforeend",r="<table>",o="</table>",a=r+"<tbody>",s="</tbody>"+o,l=a+"<tr>",d="</tr>"+s,c=document.createElement("div"),u=["BeforeBegin","previousSibling"],h=["AfterEnd","nextSibling"],f={beforebegin:u,afterend:h},g={beforebegin:u,afterend:h,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{extend:Ext.dom.AbstractHelper,tableRe:/^(?:table|thead|tbody|tr|td)$/i,tableElRe:/td|tr|tbody|thead/i,useDom:!1,createDom:function(e,t){var n,i,r,o,a,s,l,d=document;if(Ext.isArray(e))for(n=d.createDocumentFragment(),s=0,l=e.length;l>s;s++)this.createDom(e[s],n);else if("string"==typeof e)n=d.createTextNode(e);else{n=d.createElement(e.tag||"div"),i=!!n.setAttribute;for(r in e)this.confRe.test(r)||(o=e[r],"cls"==r?n.className=o:i?n.setAttribute(r,o):n[r]=o);Ext.DomHelper.applyStyles(n,e.style),(a=e.children||e.cn)?this.createDom(a,n):e.html&&(n.innerHTML=e.html)}return t&&t.appendChild(n),n},ieTable:function(e,t,n,i){c.innerHTML=[t,n,i].join("");for(var r,o=-1,a=c;++o<e;)a=a.firstChild;if(r=a.nextSibling)for(r=a,a=document.createDocumentFragment();r;)nx=r.nextSibling,a.appendChild(r),r=nx;return a},insertIntoTable:function(c,u,h,f){var g,p,m=u==n,x=u==e,y=u==i,E=u==t;return"td"==c&&(x||y)||!this.tableElRe.test(c)&&(m||E)?null:(p=m?h:E?h.nextSibling:x?h.firstChild:null,(m||E)&&(h=h.parentNode),g="td"==c||"tr"==c&&(y||x)?this.ieTable(4,l,f,d):("tbody"==c||"thead"==c)&&(y||x)||"tr"==c&&(m||E)?this.ieTable(3,a,f,s):this.ieTable(2,r,f,o),h.insertBefore(g,p),g)},createContextualFragment:function(e){var t,n,i=document.createDocumentFragment();for(c.innerHTML=e,n=c.childNodes,t=n.length;t--;)i.appendChild(n[0]);return i},applyStyles:function(e,t){t&&("function"==typeof t&&(t=t.call()),"string"==typeof t&&(t=Ext.dom.Element.parseStyles(t)),"object"==typeof t&&Ext.fly(e,"_applyStyles").setStyle(t))},createHtml:function(e){return this.markup(e)},doInsert:function(e,t,n,i,r,o){e=e.dom||Ext.getDom(e);var a;return this.useDom?(a=this.createDom(t,null),o?e.appendChild(a):("firstChild"==r?e:e.parentNode).insertBefore(a,e[r]||e)):a=this.insertHtml(i,e,this.markup(t)),n?Ext.get(a,!0):a},overwrite:function(e,t,n){var i;if(e=Ext.getDom(e),t=this.markup(t),Ext.isIE&&this.tableRe.test(e.tagName)){for(;e.firstChild;)e.removeChild(e.firstChild);return t?(i=this.insertHtml("afterbegin",e,t),n?Ext.get(i):i):null}return e.innerHTML=t,n?Ext.get(e.firstChild):e.firstChild},insertHtml:function(t,i,r){var o,a,s,l,d;return t=t.toLowerCase(),i.insertAdjacentHTML?Ext.isIE&&this.tableRe.test(i.tagName)&&(d=this.insertIntoTable(i.tagName.toLowerCase(),t,i,r))?d:(o=g[t])?(Ext.global.MSApp&&Ext.global.MSApp.execUnsafeLocalFunction?MSApp.execUnsafeLocalFunction(function(){i.insertAdjacentHTML(o[0],r)}):i.insertAdjacentHTML(o[0],r),i[o[1]]):void 0:(3===i.nodeType&&(t="afterbegin"===t?"beforebegin":t,t="beforeend"===t?"afterend":t),a=Ext.supports.CreateContextualFragment?i.ownerDocument.createRange():void 0,l="setStart"+(this.endRe.test(t)?"After":"Before"),f[t]?(a?(a[l](i),d=a.createContextualFragment(r)):d=this.createContextualFragment(r),i.parentNode.insertBefore(d,t==n?i:i.nextSibling),i[(t==n?"previous":"next")+"Sibling"]):(s=(t==e?"first":"last")+"Child",i.firstChild?(a?(a[l](i[s]),d=a.createContextualFragment(r)):d=this.createContextualFragment(r),t==e?i.insertBefore(d,i.firstChild):i.appendChild(d)):i.innerHTML=r,i[s]))},createTemplate:function(e){var t=this.markup(e);return new Ext.Template(t)}}}(),function(){Ext.ns("Ext.core"),Ext.DomHelper=Ext.core.DomHelper=new this}),Ext.define("Ext.Template",{inheritableStatics:{from:function(e,t){return e=Ext.getDom(e),new this(e.value||e.innerHTML,t||"")}},constructor:function(e){var t,n=this,i=arguments,r=[],o=0,a=i.length;if(n.initialConfig={},1===a&&Ext.isArray(e)&&(i=e,a=i.length),a>1)for(;a>o;o++)t=i[o],"object"==typeof t?(Ext.apply(n.initialConfig,t),Ext.apply(n,t)):r.push(t);else r.push(e);n.html=r.join(""),n.compiled&&n.compile()},isTemplate:!0,disableFormats:!1,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(e){function t(t,n,i,s){return i&&r?(s=s?[e[n]].concat(Ext.functionFactory("return ["+s+"];")()):[e[n]],"this."==i.substr(0,5)?a[i.substr(5)].apply(a,s):o[i].apply(o,s)):void 0!==e[n]?e[n]:""}var n,i=this,r=i.disableFormats!==!0,o=Ext.util.Format,a=i;return i.compiled?i.compiled(e).join(""):n=i.html.replace(i.re,t)},applyOut:function(e,t){var n=this;return n.compiled?t.push.apply(t,n.compiled(e)):t.push(n.apply(e)),t},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(e,t){var n=this;return n.html=e,n.compiled=null,t?n.compile():n},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){function fn(e,t,n,i){return n&&useFormat?(i=i?","+i:"",n="this."!=n.substr(0,5)?"fm."+n+"(":"this."+n.substr(5)+"("):(i="",n="(values['"+t+"'] == undefined ? '' : "),"',"+n+"values['"+t+"']"+i+") ,'"}var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==!0,body,bodyReturn;return bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn),body="this.compiled = function(values){ return ['"+bodyReturn+"'];};",eval(body),me},insertFirst:function(e,t,n){return this.doInsert("afterBegin",e,t,n)},insertBefore:function(e,t,n){return this.doInsert("beforeBegin",e,t,n)},insertAfter:function(e,t,n){return this.doInsert("afterEnd",e,t,n)},append:function(e,t,n){return this.doInsert("beforeEnd",e,t,n)},doInsert:function(e,t,n,i){var r=Ext.DomHelper.insertHtml(e,Ext.getDom(t),this.apply(n));return i?Ext.get(r):r},overwrite:function(e,t,n){var i=Ext.DomHelper.overwrite(Ext.getDom(e),this.apply(t));return n?Ext.get(i):i}}),Ext.define("Ext.XTemplateParser",{constructor:function(e){Ext.apply(this,e)},doTpl:Ext.emptyFn,parse:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f=this,g=e.length,p={elseif:"elif"},m=f.topRe,x=f.actionsRe;for(f.level=0,f.stack=n=[],t=0;g>t;t=c){if(m.lastIndex=t,r=m.exec(e),!r){f.doText(e.substring(t,g));break}if(d=r.index,c=m.lastIndex,d>t&&f.doText(e.substring(t,d)),r[1])c=e.indexOf("%}",d+2),f.doEval(e.substring(d+2,c)),c+=2;else if(r[2])c=e.indexOf("]}",d+2),f.doExpr(e.substring(d+2,c)),c+=2;else if(r[3])f.doTag(r[3]);else if(r[4]){for(u=null;null!==(l=x.exec(r[4]));)i=l[2]||l[3],i&&(i=Ext.String.htmlDecode(i),o=l[1],o=p[o]||o,u=u||{},a=u[o],"string"==typeof a?u[o]=[a,i]:a?u[o].push(i):u[o]=i);u?u["if"]?(f.doIf(u["if"],u),n.push({type:"if"})):u["switch"]?(f.doSwitch(u["switch"],u),n.push({type:"switch"})):u["case"]?f.doCase(u["case"],u):u.elif?f.doElseIf(u.elif,u):u["for"]?(++f.level,(h=f.propRe.exec(r[4]))&&(u.propName=h[1]||h[2]),f.doFor(u["for"],u),n.push({type:"for",actions:u})):u.foreach?(++f.level,(h=f.propRe.exec(r[4]))&&(u.propName=h[1]||h[2]),f.doForEach(u.foreach,u),n.push({type:"foreach",actions:u})):u.exec&&(f.doExec(u.exec,u),n.push({type:"exec",actions:u})):f.elseRe.test(r[4])?f.doElse():f.defaultRe.test(r[4])?f.doDefault():(f.doTpl(),n.push({type:"tpl"}))}else 5===r[0].length?n.push({type:"tpl"}):(s=n.pop(),f.doEnd(s.type,s.actions),("for"==s.type||"foreach"==s.type)&&--f.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/}),Ext.define("Ext.XTemplateCompiler",{extend:Ext.XTemplateParser,useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(e){var t=this,n=t.generate(e);return t.useEval?t.evalTpl(n):new Function("Ext",n)(Ext)},generate:function(e){var t,n=this,i="var fm=Ext.util.Format,ts=Object.prototype.toString;";return n.maxLevel=0,n.body=["var c0=values, a0="+n.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"],n.definitions?"string"==typeof n.definitions?n.definitions=[n.definitions,i]:n.definitions.push(i):n.definitions=[i],n.switches=[],n.parse(e),n.definitions.push((n.useEval?"$=":"return")+" function ("+n.fnArgs+") {",n.body.join(""),"}"),t=n.definitions.join("\n"),n.definitions.length=n.body.length=n.switches.length=0,delete n.definitions,delete n.body,delete n.switches,t},doText:function(e){var t=this,n=t.body;e=e.replace(t.aposRe,"\\'").replace(t.newLineRe,"\\n"),t.useIndex?n.push("out[out.length]='",e,"'\n"):n.push("out.push('",e,"')\n")},doExpr:function(e){var t=this.body;t.push("if ((v="+e+") != null) out"),this.useIndex?t.push("[out.length]=v+''\n"):t.push(".push(v+'')\n")},doTag:function(e){var t=this.parseTag(e);t?this.doExpr(t):this.doText("{"+e+"}")},doElse:function(){this.body.push("} else {\n")},doEval:function(e){this.body.push(e,"\n")},doIf:function(e,t){var n=this;"."===e?n.body.push("if (values) {\n"):n.propNameRe.test(e)?n.body.push("if (",n.parseTag(e),") {\n"):n.body.push("if (",n.addFn(e),n.callFn,") {\n"),t.exec&&n.doExec(t.exec)},doElseIf:function(e,t){var n=this;"."===e?n.body.push("else if (values) {\n"):n.propNameRe.test(e)?n.body.push("} else if (",n.parseTag(e),") {\n"):n.body.push("} else if (",n.addFn(e),n.callFn,") {\n"),t.exec&&n.doExec(t.exec)},doSwitch:function(e){var t=this;"."===e?t.body.push("switch (values) {\n"):t.propNameRe.test(e)?t.body.push("switch (",t.parseTag(e),") {\n"):t.body.push("switch (",t.addFn(e),t.callFn,") {\n"),t.switches.push(0)},doCase:function(e){var t,n,i=this,r=Ext.isArray(e)?e:[e],o=i.switches.length-1;for(i.switches[o]?i.body.push("break;\n"):i.switches[o]++,n=0,o=r.length;o>n;++n)t=i.intRe.exec(r[n]),r[n]=t?t[1]:"'"+r[n].replace(i.aposRe,"\\'")+"'";i.body.push("case ",r.join(": case "),":\n")},doDefault:function(){var e=this,t=e.switches.length-1;e.switches[t]?e.body.push("break;\n"):e.switches[t]++,e.body.push("default:\n")},doEnd:function(e,t){var n=this,i=n.level-1;"for"==e||"foreach"==e?(t.exec&&n.doExec(t.exec),n.body.push("}\n"),n.body.push("parent=p",i,";values=r",i+1,";xcount=n"+i+";xindex=i",i,"+1;xkey=k",i,";\n")):("if"==e||"switch"==e)&&n.body.push("}\n")},doFor:function(e,t){var n,i,r=this,o=r.level,a=o-1;n="."===e?"values":r.propNameRe.test(e)?r.parseTag(e):r.addFn(e)+r.callFn,r.maxLevel<o&&(r.maxLevel=o,r.body.push("var ")),i="."==e?"c"+o:"a"+a+"?c"+a+"[i"+a+"]:c"+a,r.body.push("i",o,"=0,n",o,"=0,c",o,"=",n,",a",o,"=",r.createArrayTest(o),",r",o,"=values,p",o,",k",o,";\n","p",o,"=parent=",i,"\n","if (c",o,"){if(a",o,"){n",o,"=c",o,".length;}else if (c",o,".isMixedCollection){c",o,"=c",o,".items;n",o,"=c",o,".length;}else if(c",o,".isStore){c",o,"=c",o,".data.items;n",o,"=c",o,".length;}else{c",o,"=[c",o,"];n",o,"=1;}}\n","for (xcount=n",o,";i",o,"<n"+o+";++i",o,"){\n","values=c",o,"[i",o,"]"),t.propName&&r.body.push(".",t.propName),r.body.push("\n","xindex=i",o,"+1\n"),t.between&&r.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},doForEach:function(e,t){var n,i,r=this,o=r.level,a=o-1;n="."===e?"values":r.propNameRe.test(e)?r.parseTag(e):r.addFn(e)+r.callFn,r.maxLevel<o&&(r.maxLevel=o,r.body.push("var ")),i="."==e?"c"+o:"a"+a+"?c"+a+"[i"+a+"]:c"+a,r.body.push("i",o,"=-1,n",o,"=0,c",o,"=",n,",a",o,"=",r.createArrayTest(o),",r",o,"=values,p",o,",k",o,";\n","p",o,"=parent=",i,"\n","for(k",o," in c",o,"){\n","xindex=++i",o,"+1;\n","xkey=k",o,";\n","values=c",o,"[k",o,"];"),t.propName&&r.body.push(".",t.propName),t.between&&r.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},createArrayTest:"isArray"in Array?function(e){return"Array.isArray(c"+e+")"}:function(e){return"ts.call(c"+e+')==="[object Array]"'},doExec:function(e){var t=this,n="f"+t.definitions.length;t.definitions.push("function "+n+"("+t.fnArgs+") {"," try { with(values) {","  "+e," }} catch(e) {","}","}"),t.body.push(n+t.callFn+"\n")},addFn:function(e){var t=this,n="f"+t.definitions.length;return"."===e?t.definitions.push("function "+n+"("+t.fnArgs+") {"," return values","}"):".."===e?t.definitions.push("function "+n+"("+t.fnArgs+") {"," return parent","}"):t.definitions.push("function "+n+"("+t.fnArgs+") {"," try { with(values) {","  return("+e+")"," }} catch(e) {","}","}"),n},parseTag:function(e){var t,n,i,r,o,a=this,s=a.tagRe.exec(e);return s?(t=s[1],n=s[2],i=s[3],r=s[4],"."==t?(a.validTypes||(a.definitions.push("var validTypes={string:1,number:1,boolean:1};"),a.validTypes=!0),o='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):o="#"==t?"xindex":"$"==t?"xkey":"parent."==t.substr(0,7)?t:isNaN(t)&&-1==t.indexOf("-")&&-1!=t.indexOf(".")?"values."+t:"values['"+t+"']",r&&(o="("+o+r+")"),n&&a.useFormat?(i=i?","+i:"","this."!=n.substr(0,5)?n="fm."+n+"(":n+="(",n+o+i+")"):o):null},evalTpl:function($){return eval($),$},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},function(){var e=this.prototype;e.fnArgs="out,values,parent,xindex,xcount,xkey",e.callFn=".call(this,"+e.fnArgs+")"}),Ext.define("Ext.XTemplate",{extend:Ext.Template,emptyObj:{},apply:function(e,t){return this.applyOut(e,[],t).join("")},applyOut:function(e,t,n){var i,r=this;r.fn||(i=new Ext.XTemplateCompiler({useFormat:r.disableFormats!==!0,definitions:r.definitions}),r.fn=i.compile(r.html));try{r.fn(t,e,n||r.emptyObj,1,1)}catch(o){}return t},compile:function(){return this},statics:{getTpl:function(e,t){var n,i=e[t];if(i&&!i.isTemplate){if(i=Ext.ClassManager.dynInstantiate("Ext.XTemplate",i),e.hasOwnProperty(t))n=e;else for(n=e.self.prototype;n&&!n.hasOwnProperty(t);n=n.superclass);n[t]=i,i.owner=n}return i||null}}}),Ext.ns("Ext.core"),Ext.dom.Query=Ext.core.DomQuery=Ext.DomQuery=function(){function children(e){for(var t,n=e.firstChild,i=-1;n;)t=n.nextSibling,3!=n.nodeType||nonSpace.test(n.nodeValue)?n.nodeIndex=++i:e.removeChild(n),n=t;return this}function attrValue(e,t){return e.tagName||"undefined"==typeof e.length||(e=e[0]),e?"for"==t?e.htmlFor:"class"==t||"className"==t?e.className:e.getAttribute(t)||e[t]:null}function getNodes(e,t,n){var i,r,o,a,s,l,d,c,u,h=[],f=-1;if(!e)return h;if(n=n.replace("|",":")||"*","undefined"!=typeof e.getElementsByTagName&&(e=[e]),t){if("/"==t||">"==t)for(d=n.toUpperCase(),r=0;o=e[r];r++)for(l=o.childNodes,a=0;u=l[a];a++)(u.nodeName==d||u.nodeName==n||"*"==n)&&(h[++f]=u);
else if("+"==t)for(d=n.toUpperCase(),r=0;c=e[r];r++){for(;(c=c.nextSibling)&&1!=c.nodeType;);!c||c.nodeName!=d&&c.nodeName!=n&&"*"!=n||(h[++f]=c)}else if("~"==t)for(d=n.toUpperCase(),r=0;c=e[r];r++)for(;c=c.nextSibling;)(c.nodeName==d||c.nodeName==n||"*"==n)&&(h[++f]=c)}else if(n=unescapeCssSelector(n),!supportsColonNsSeparator&&DQ.isXml(e[0])&&-1!==n.indexOf(":"))for(r=0;o=e[r];r++)for(i=o.getElementsByTagName(n.split(":").pop()),a=0;s=i[a];a++)s.tagName===n&&(h[++f]=s);else for(r=0;o=e[r];r++)for(i=o.getElementsByTagName(n),a=0;s=i[a];a++)h[++f]=s;return h}function concat(e,t){return e.push.apply(e,t),e}function byTag(e,t){if((e.tagName||e===doc)&&(e=[e]),!t)return e;var n,i,r=[],o=-1;for(t=t.toLowerCase(),n=0;i=e[n];n++)1==i.nodeType&&i.tagName.toLowerCase()==t&&(r[++o]=i);return r}function byId(e,t){if(t=unescapeCssSelector(t),(e.tagName||e===doc)&&(e=[e]),!t)return e;var n,i,r=[],o=-1;for(n=0;i=e[n];n++)if(i&&i.id==t)return r[++o]=i,r;return r}function byAttribute(e,t,n,i,r){var o,a,s,l,d,c=[],u=-1,h="{"==r,f=DQ.operators[i];for(n=unescapeCssSelector(n),l=0;d=e[l];l++)1===d.nodeType&&(s||(a=DQ.isXml(d),s=!0),o=a?d.getAttribute(t):h?DQ.getStyle(d,t):"class"==t||"className"==t?d.className:"for"==t?d.htmlFor:"href"==t?d.getAttribute("href",2):d.getAttribute(t),(f&&f(o,n)||!f&&o)&&(c[++u]=d));return c}function byPseudo(e,t,n){return n=unescapeCssSelector(n),DQ.pseudos[t](e,n)}function nodupIEXml(e){var t,n,i,r,o=++key;for(e[0].setAttribute("_nodup",o),t=[e[0]],n=1,i=e.length;i>n;n++)r=e[n],!r.getAttribute("_nodup")!=o&&(r.setAttribute("_nodup",o),t[t.length]=r);for(n=0,i=e.length;i>n;n++)e[n].removeAttribute("_nodup");return t}function nodup(e){if(!e)return[];var t,n,i,r,o,a=e.length,s=e,l=-1;if(!a||"undefined"!=typeof e.nodeType||1==a)return e;if(isIE&&"undefined"!=typeof e[0].selectSingleNode)return nodupIEXml(e);for(r=++key,e[0]._nodup=r,n=1;t=e[n];n++){if(t._nodup==r){for(s=[],o=0;n>o;o++)s[++l]=e[o];for(o=n+1;i=e[o];o++)i._nodup!=r&&(i._nodup=r,s[++l]=i);return s}t._nodup=r}return s}function quickDiffIEXml(e,t){var n,i,r=++key,o=[];for(n=0,i=e.length;i>n;n++)e[n].setAttribute("_qdiff",r);for(n=0,i=t.length;i>n;n++)t[n].getAttribute("_qdiff")!=r&&(o[o.length]=t[n]);for(n=0,i=e.length;i>n;n++)e[n].removeAttribute("_qdiff");return o}function quickDiff(e,t){var n,i,r=e.length,o=++key,a=[];if(!r)return t;if(isIE&&"undefined"!=typeof e[0].selectSingleNode)return quickDiffIEXml(e,t);for(n=0;r>n;n++)e[n]._qdiff=o;for(n=0,i=t.length;i>n;n++)t[n]._qdiff!=o&&(a[a.length]=t[n]);return a}function quickId(e,t,n,i){if(e==n){i=unescapeCssSelector(i);var r=n.ownerDocument||n;return r.getElementById(i)}return e=getNodes(e,t,"*"),byId(e,i)}var DQ,doc=document,cache={},simpleCache={},valueCache={},useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=function(){var e=doc.createElement("div");return e.innerHTML="<!-- -->text<!-- -->",e.children&&0===e.children.length}(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=window.ActiveXObject?!0:!1,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=function(){var e,t='<r><a:b xmlns:a="n"></a:b></r>';return window.DOMParser?e=(new DOMParser).parseFromString(t,"application/xml"):(e=new ActiveXObject("Microsoft.XMLDOM"),e.loadXML(t)),!!e.getElementsByTagName("a:b").length}(),longHexToChar=function(e,t){return String.fromCharCode(parseInt(t,16))},shortToLongHex=function(e,t){for(;t.length<6;)t="0"+t;return"\\"+t},charToLongHex=function(e,t){return num=t.charCodeAt(0).toString(16),1===num.length&&(num="0"+num),"\\0000"+num},unescapeCssSelector=function(e){return hasEscapes?e.replace(longHex,longHexToChar):e},setupEscapes=function(e){return hasEscapes=e.indexOf("\\")>-1,hasEscapes&&(e=e.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")),e};return eval("var batch = 30803, child, next, prev, byClassName;"),child=useChildrenCollection?function(e,t){return e.children[t]}:function(e,t){for(var n=0,i=e.firstChild;i;){if(1==i.nodeType&&++n==t)return i;i=i.nextSibling}return null},next=useElementPointer?function(e){return e.nextElementSibling}:function(e){for(;(e=e.nextSibling)&&1!=e.nodeType;);return e},prev=useElementPointer?function(e){return e.previousElementSibling}:function(e){for(;(e=e.previousSibling)&&1!=e.nodeType;);return e},byClassName=useClassList?function(e,t){if(t=unescapeCssSelector(t),!t)return e;var n,i,r,o=[],a=-1;for(n=0;i=e[n];n++)r=i.classList,r?r.contains(t)&&(o[++a]=i):-1!==(" "+i.className+" ").indexOf(t)&&(o[++a]=i);return o}:function(e,t){if(t=unescapeCssSelector(t),!t)return e;var n,i,r=[],o=-1;for(n=0;i=e[n];n++)-1!==(" "+i.className+" ").indexOf(t)&&(r[++o]=i);return r},DQ={getStyle:function(e,t){return Ext.fly(e,"_DomQuery").getStyle(t)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;for(path=setupEscapes(path),lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',path=path.replace(lmode[1],""));"/"==path.substr(0,1);)path=path.substr(1);for(;path&&lastPath!=path;){for(lastPath=path,tokenMatch=path.match(tagTokenRe),"select"==type?tokenMatch?(fn[fn.length]="#"==tokenMatch[1]?'n = quickId(n, mode, root, "'+tokenMatch[2]+'");':'n = getNodes(n, mode, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],"")):"@"!=path.substr(0,1)&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tokenMatch&&(fn[fn.length]="#"==tokenMatch[1]?'n = byId(n, "'+tokenMatch[2]+'");':'n = byTag(n, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],""));!(modeMatch=path.match(modeRe));){for(matched=!1,j=0;matchersLn>j;j++)if(t=matchers[j],m=path.match(t.re)){fn[fn.length]=t.select.replace(tplRe,function(e,t){return m[t]}),path=path.replace(m[0],""),matched=!0;break}matched||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}modeMatch[1]&&(fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";',path=path.replace(modeMatch[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},jsSelect:function(e,t,n){t=t||doc,"string"==typeof t&&(t=doc.getElementById(t));var i,r,o,a,s=e.split(","),l=[];for(i=0,r=s.length;r>i;i++)o=s[i].replace(trimRe,""),cache[o]?setupEscapes(o):(cache[o]=DQ.compile(o,n),cache[o]||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:o+" is not a valid selector"})),a=cache[o](t),a&&a!==doc&&(l=l.concat(a));return s.length>1?nodup(l):l},isXml:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1},select:doc.querySelectorAll?function(e,t,n,i){if(t=t||doc,!DQ.isXml(t))try{return t.parentNode&&9!==t.nodeType&&-1===e.indexOf(",")&&!startIdRe.test(e)&&(e="#"+Ext.escapeId(Ext.id(t))+" "+e,t=t.parentNode),i?[t.querySelector(e)]:Ext.Array.toArray(t.querySelectorAll(e))}catch(r){}return DQ.jsSelect.call(this,e,t,n)}:function(e,t,n){return DQ.jsSelect.call(this,e,t,n)},selectNode:function(e,t){return Ext.DomQuery.select(e,t,null,!0)[0]},selectValue:function(e,t,n){e=e.replace(trimRe,""),valueCache[e]?setupEscapes(e):valueCache[e]=DQ.compile(e,"select");var i,r=valueCache[e](t);return r=r[0]?r[0]:r,"function"==typeof r.normalize&&r.normalize(),i=r&&r.firstChild?r.firstChild.nodeValue:null,null===i||void 0===i||""===i?n:i},selectNumber:function(e,t,n){var i=DQ.selectValue(e,t,n||0);return parseFloat(i)},is:function(e,t){"string"==typeof e&&(e=doc.getElementById(e));var n=Ext.isArray(e),i=DQ.filter(n?e:[e],t);return n?i.length==e.length:i.length>0},filter:function(e,t,n){t=t.replace(trimRe,""),simpleCache[t]?setupEscapes(t):simpleCache[t]=DQ.compile(t,"simple");var i=simpleCache[t](e);return n?quickDiff(i,e):i},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"^=":function(e,t){return e&&e.substr(0,t.length)==t},"$=":function(e,t){return e&&e.substr(e.length-t.length)==t},"*=":function(e,t){return e&&-1!==e.indexOf(t)},"%=":function(e,t){return 0===e%t},"|=":function(e,t){return e&&(e==t||e.substr(0,t.length+1)==t+"-")},"~=":function(e,t){return e&&-1!=(" "+e+" ").indexOf(" "+t+" ")}},pseudos:{"first-child":function(e){var t,n,i,r=[],o=-1;for(n=0;i=t=e[n];n++){for(;(t=t.previousSibling)&&1!=t.nodeType;);t||(r[++o]=i)}return r},"last-child":function(e){var t,n,i,r=[],o=-1;for(n=0;i=t=e[n];n++){for(;(t=t.nextSibling)&&1!=t.nodeType;);t||(r[++o]=i)}return r},"nth-child":function(e,t){var n,i,r,o,a,s=[],l=-1,d=nthRe.exec("even"==t&&"2n"||"odd"==t&&"2n+1"||!nthRe2.test(t)&&"n+"+t||t),c=(d[1]||1)-0,u=d[2]-0;for(n=0;i=e[n];n++){if(a=i.parentNode,batch!=a._batch){for(r=0,o=a.firstChild;o;o=o.nextSibling)1==o.nodeType&&(o.nodeIndex=++r);a._batch=batch}1==c?(0===u||i.nodeIndex==u)&&(s[++l]=i):0===(i.nodeIndex+u)%c&&(s[++l]=i)}return s},"only-child":function(e){var t,n,i=[],r=-1;for(t=0;n=e[t];t++)prev(n)||next(n)||(i[++r]=n);return i},empty:function(e){var t,n,i,r,o,a,s=[],l=-1;for(t=0;n=e[t];t++){for(i=n.childNodes,r=0,a=!0;o=i[r];)if(++r,1==o.nodeType||3==o.nodeType){a=!1;break}a&&(s[++l]=n)}return s},contains:function(e,t){var n,i,r=[],o=-1;for(n=0;i=e[n];n++)-1!=(i.textContent||i.innerText||i.text||"").indexOf(t)&&(r[++o]=i);return r},nodeValue:function(e,t){var n,i,r=[],o=-1;for(n=0;i=e[n];n++)i.firstChild&&i.firstChild.nodeValue==t&&(r[++o]=i);return r},checked:function(e){var t,n,i=[],r=-1;for(t=0;n=e[t];t++)n.checked===!0&&(i[++r]=n);return i},not:function(e,t){return DQ.filter(e,t,!0)},any:function(e,t){var n,i,r,o,a=t.split("|"),s=[],l=-1;for(i=0;r=e[i];i++)for(o=0;n=a[o];o++)if(DQ.is(r,n)){s[++l]=r;break}return s},odd:function(e){return this["nth-child"](e,"odd")},even:function(e){return this["nth-child"](e,"even")},nth:function(e,t){return e[t-1]||[]},first:function(e){return e[0]||[]},last:function(e){return e[e.length-1]||[]},has:function(e,t){var n,i,r=DQ.select,o=[],a=-1;for(n=0;i=e[n];n++)r(t,i).length>0&&(o[++a]=i);return o},next:function(e,t){var n,i,r,o=DQ.is,a=[],s=-1;for(n=0;i=e[n];n++)r=next(i),r&&o(r,t)&&(a[++s]=i);return a},prev:function(e,t){var n,i,r,o=DQ.is,a=[],s=-1;for(n=0;i=e[n];n++)r=prev(i),r&&o(r,t)&&(a[++s]=i);return a},focusable:function(e){for(var t,n=e.length,i=[],r=0;n>r;r++)t=e[r],Ext.fly(t,"_DomQuery").isFocusable()&&i.push(t);return i},visible:function(e,t){for(var n,i=e.length,r=[],o=0;i>o;o++)n=e[o],Ext.fly(n,"_DomQuery").isVisible(t)&&r.push(n);return r}}}}(),Ext.query=Ext.DomQuery.select,Ext.define("Ext.dom.Element_anim",{override:"Ext.dom.Element",animate:function(e){var t,n,i=this,r=i.dom.id||Ext.id(i.dom);return Ext.fx.Manager.hasFxBlock(r)||(e.listeners&&(t=e.listeners,delete e.listeners),e.internalListeners&&(e.listeners=e.internalListeners,delete e.internalListeners),n=new Ext.fx.Anim(i.anim(e)),t&&n.on(t),Ext.fx.Manager.queueFx(n)),i},anim:function(e){if(!Ext.isObject(e))return e?{}:!1;var t,n=this,i=e.duration||Ext.fx.Anim.prototype.duration,r=e.easing||"ease";return e.stopAnimation&&n.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(n.id)),Ext.fx.Manager.setFxDefaults(n.id,{delay:0}),t={target:n.dom,remove:e.remove,alternate:e.alternate||!1,duration:i,easing:r,callback:e.callback,listeners:e.listeners,iterations:e.iterations||1,scope:e.scope,block:e.block,concurrent:e.concurrent,delay:e.delay||0,paused:!0,keyframes:e.keyframes,from:e.from||{},to:Ext.apply({},e)},Ext.apply(t.to,e.to),delete t.to.to,delete t.to.from,delete t.to.remove,delete t.to.alternate,delete t.to.keyframes,delete t.to.iterations,delete t.to.listeners,delete t.to.target,delete t.to.paused,delete t.to.callback,delete t.to.scope,delete t.to.duration,delete t.to.easing,delete t.to.concurrent,delete t.to.block,delete t.to.stopAnimation,delete t.to.delay,t},slideIn:function(e,t,n){var i,r,o,a,s=this,l=s.dom,d=l.style;return e=e||"t",t=t||{},i=function(){var i,c,u,h,f=this,g=t.listeners,p=Ext.fly(l,"_anim");switch(n||p.fixDisplay(),i=p.getBox(),"t"!=e&&"b"!=e||0!==i.height?"l"!=e&&"r"!=e||0!==i.width||(i.width=l.scrollWidth):i.height=l.scrollHeight,c=p.getStyles("width","height","left","right","top","bottom","position","z-index",!0),p.setSize(i.width,i.height),t.preserveScroll&&(o=p.cacheScrollValues()),h=p.wrap({id:Ext.id()+"-anim-wrap-for-"+p.dom.id,style:{visibility:n?"visible":"hidden"}}),a=h.dom.parentNode,h.setPositioning(p.getPositioning(!0)),h.isStyle("position","static")&&h.position("relative"),p.clearPositioning("auto"),h.clip(),o&&o(),p.setStyle({visibility:"",position:"absolute"}),n&&h.setSize(i.width,i.height),e){case"t":u={from:{width:i.width+"px",height:"0px"},to:{width:i.width+"px",height:i.height+"px"}},d.bottom="0px";break;case"l":u={from:{width:"0px",height:i.height+"px"},to:{width:i.width+"px",height:i.height+"px"}},s.anchorAnimX(e);break;case"r":u={from:{x:i.x+i.width,width:"0px",height:i.height+"px"},to:{x:i.x,width:i.width+"px",height:i.height+"px"}},s.anchorAnimX(e);break;case"b":u={from:{y:i.y+i.height,width:i.width+"px",height:"0px"},to:{y:i.y,width:i.width+"px",height:i.height+"px"}};break;case"tl":u={from:{x:i.x,y:i.y,width:"0px",height:"0px"},to:{width:i.width+"px",height:i.height+"px"}},d.bottom="0px",s.anchorAnimX("l");break;case"bl":u={from:{y:i.y+i.height,width:"0px",height:"0px"},to:{y:i.y,width:i.width+"px",height:i.height+"px"}},s.anchorAnimX("l");break;case"br":u={from:{x:i.x+i.width,y:i.y+i.height,width:"0px",height:"0px"},to:{x:i.x,y:i.y,width:i.width+"px",height:i.height+"px"}},s.anchorAnimX("r");break;case"tr":u={from:{x:i.x+i.width,width:"0px",height:"0px"},to:{x:i.x,width:i.width+"px",height:i.height+"px"}},d.bottom="0px",s.anchorAnimX("r")}h.show(),r=Ext.apply({},t),delete r.listeners,r=new Ext.fx.Anim(Ext.applyIf(r,{target:h,duration:500,easing:"ease-out",from:n?u.to:u.from,to:n?u.from:u.to})),r.on("afteranimate",function(){var e=Ext.fly(l,"_anim");e.setStyle(c),n&&(t.useDisplay?e.setDisplayed(!1):e.hide()),h.dom&&(h.dom.parentNode?h.dom.parentNode.insertBefore(e.dom,h.dom):a.appendChild(e.dom),h.remove()),o&&o(),f.end()}),g&&r.on(g)},s.animate({duration:t.duration?2*Math.max(t.duration,500):1e3,listeners:{beforeanimate:i}}),s},slideOut:function(e,t){return this.slideIn(e,t,!0)},puff:function(e){var t,n=this,i=n.dom,r=n.getBox(),o=n.getStyles("width","height","left","right","top","bottom","position","z-index","font-size","opacity",!0);return e=Ext.applyIf(e||{},{easing:"ease-out",duration:500,useDisplay:!1}),t=function(){var t=Ext.fly(i,"_anim");t.clearOpacity(),t.show(),this.to={width:2*r.width,height:2*r.height,x:r.x-r.width/2,y:r.y-r.height/2,opacity:0,fontSize:"200%"},this.on("afteranimate",function(){var t=Ext.fly(i,"_anim");t&&(e.useDisplay?t.setDisplayed(!1):t.hide(),t.setStyle(o),Ext.callback(e.callback,e.scope))})},n.animate({duration:e.duration,easing:e.easing,listeners:{beforeanimate:{fn:t}}}),n},switchOff:function(e){var t,n=this,i=n.dom;return e=Ext.applyIf(e||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1}),t=function(){var t,n,r=Ext.fly(i,"_anim"),o=this,a=r.getSize(),s=r.getXY();r.clearOpacity(),r.clip(),n=r.getPositioning(),t=new Ext.fx.Animator({target:i,duration:e.duration,easing:e.easing,keyframes:{33:{opacity:.3},66:{height:1,y:s[1]+a.height/2},100:{width:1,x:s[0]+a.width/2}}}),t.on("afteranimate",function(){var t=Ext.fly(i,"_anim");e.useDisplay?t.setDisplayed(!1):t.hide(),t.clearOpacity(),t.setPositioning(n),t.setSize(a),o.end()})},n.animate({duration:2*Math.max(e.duration,500),listeners:{beforeanimate:{fn:t}},callback:e.callback,scope:e.scope}),n},frame:function(e,t,n){var i,r=this,o=r.dom;return e=e||"#C3DAF9",t=t||1,n=n||{},i=function(){var i,r,a,s=Ext.fly(o,"_anim"),l=this;s.show(),i=s.getBox(),r=Ext.getBody().createChild({id:s.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+e}}),a=new Ext.fx.Anim({target:r,duration:n.duration||1e3,iterations:t,from:{top:i.y,left:i.x,borderWidth:0,opacity:1,height:i.height,width:i.width},to:{top:i.y-20,left:i.x-20,borderWidth:10,opacity:0,height:i.height+40,width:i.width+40}}),a.on("afteranimate",function(){r.remove(),l.end()})},r.animate({duration:2*Math.max(n.duration,500)||2e3,listeners:{beforeanimate:{fn:i}},callback:n.callback,scope:n.scope}),r},ghost:function(e,t){var n,i=this,r=i.dom;return e=e||"b",n=function(){var t=Ext.fly(r,"_anim"),n=t.getWidth(),i=t.getHeight(),o=t.getXY(),a=t.getPositioning(),s={opacity:0};switch(e){case"t":s.y=o[1]-i;break;case"l":s.x=o[0]-n;break;case"r":s.x=o[0]+n;break;case"b":s.y=o[1]+i;break;case"tl":s.x=o[0]-n,s.y=o[1]-i;break;case"bl":s.x=o[0]-n,s.y=o[1]+i;break;case"br":s.x=o[0]+n,s.y=o[1]+i;break;case"tr":s.x=o[0]+n,s.y=o[1]-i}this.to=s,this.on("afteranimate",function(){var e=Ext.fly(r,"_anim");e&&(e.hide(),e.clearOpacity(),e.setPositioning(a))})},i.animate(Ext.applyIf(t||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:n}})),i},highlight:function(e,t){var n,i,r,o,a,s,l=this,d=l.dom,c={};return d.tagName.match(l.tableTagRe)?l.select("div").highlight(e,t):(t=t||{},o=t.listeners||{},r=t.attr||"backgroundColor",c[r]=e||"ffff9c",t.to?i=t.to:(i={},i[r]=t.endColor||l.getColor(r,"ffffff","")),t.listeners=Ext.apply(Ext.apply({},o),{beforeanimate:function(){n=d.style[r];var e=Ext.fly(d,"_anim");return e.clearOpacity(),e.show(),a=o.beforeanimate,a?(s=a.fn||a,s.apply(a.scope||o.scope||window,arguments)):void 0},afteranimate:function(){d&&(d.style[r]=n),a=o.afteranimate,a&&(s=a.fn||a,s.apply(a.scope||o.scope||window,arguments))}}),l.animate(Ext.apply({},t,{duration:1e3,easing:"ease-in",from:c,to:i})),l)},pause:function(e){var t=this;return Ext.fx.Manager.setFxDefaults(t.id,{delay:e}),t},fadeIn:function(e){var t=this,n=t.dom;return t.animate(Ext.apply({},e,{opacity:1,internalListeners:{beforeanimate:function(){var e=Ext.fly(n,"_anim");e.isStyle("display","none")?e.setDisplayed(""):e.show()}}})),this},fadeOut:function(e){var t=this,n=t.dom;return e=Ext.apply({opacity:0,internalListeners:{afteranimate:function(t){if(n&&0===t.to.opacity){var i=Ext.fly(n,"_anim");e.useDisplay?i.setDisplayed(!1):i.hide()}}}},e),t.animate(e),t},scale:function(e,t,n){return this.animate(Ext.apply({},n,{width:e,height:t})),this},shift:function(e){return this.animate(e),this},anchorAnimX:function(e){var t="l"===e?"right":"left";this.dom.style[t]="0px"}}),Ext.define("Ext.dom.Element_dd",{override:"Ext.dom.Element",initDD:function(e,t,n){var i=new Ext.dd.DD(Ext.id(this.dom),e,t);return Ext.apply(i,n)},initDDProxy:function(e,t,n){var i=new Ext.dd.DDProxy(Ext.id(this.dom),e,t);return Ext.apply(i,n)},initDDTarget:function(e,t,n){var i=new Ext.dd.DDTarget(Ext.id(this.dom),e,t);return Ext.apply(i,n)}}),Ext.define("Ext.dom.Element_fx",{override:"Ext.dom.Element"},function(){var e=Ext.dom.Element,t="visibility",n="display",i="none",r="hidden",o="offsets",a="asclass",s="nosize",l="originalDisplay",d="visibilityMode",c="isVisible",u=Ext.baseCSSPrefix+"hide-offsets",h=function(e){var t=(e.$cache||e.getCache()).data,n=t[l];return void 0===n&&(t[l]=n=""),n},f=function(t){var n=(t.$cache||t.getCache()).data,i=n[d];return void 0===i&&(n[d]=i=e.VISIBILITY),i};e.override({originalDisplay:"",visibilityMode:1,setVisible:function(i,l){var d=this,h=d.dom,g=f(d);if("string"==typeof l){switch(l){case n:g=e.DISPLAY;break;case t:g=e.VISIBILITY;break;case o:g=e.OFFSETS;break;case s:case a:g=e.ASCLASS}d.setVisibilityMode(g),l=!1}if(l&&d.anim)i&&(d.setOpacity(.01),d.setVisible(!0)),Ext.isObject(l)||(l={duration:350,easing:"ease-in"}),d.animate(Ext.applyIf({callback:function(){i||Ext.fly(h,"_internal").setVisible(!1).setOpacity(1)},to:{opacity:i?1:0}},l));else{if(g==e.DISPLAY)return d.setDisplayed(i);g==e.OFFSETS?d[i?"removeCls":"addCls"](u):g==e.VISIBILITY?(d.fixDisplay(),h.style.visibility=i?"":r):g==e.ASCLASS&&d[i?"removeCls":"addCls"](d.visibilityCls||e.visibilityCls)}return(d.$cache||d.getCache()).data[c]=i,d},hasMetrics:function(){var t=f(this);return this.isVisible()||t==e.OFFSETS||t==e.VISIBILITY},toggle:function(e){var t=this;return t.setVisible(!t.isVisible(),t.anim(e)),t},setDisplayed:function(e){return"boolean"==typeof e&&(e=e?h(this):i),this.setStyle(n,e),this},fixDisplay:function(){var e=this;e.isStyle(n,i)&&(e.setStyle(t,r),e.setStyle(n,h(e)),e.isStyle(n,i)&&e.setStyle(n,"block"))},hide:function(e){return"string"==typeof e?(this.setVisible(!1,e),this):(this.setVisible(!1,this.anim(e)),this)},show:function(e){return"string"==typeof e?(this.setVisible(!0,e),this):(this.setVisible(!0,this.anim(e)),this)}})}),Ext.define("Ext.dom.Element_position",{override:"Ext.dom.Element"},function(){var e,t=this,n="left",i="right",r="top",o="bottom",a="position",s="static",l="relative",d="z-index",c="BODY",u="padding",h="border",f="-left",g="-right",p="-top",m="-bottom",x="-width",y={l:h+f+x,r:h+g+x,t:h+p+x,b:h+m+x},E={l:u+f,r:u+g,t:u+p,b:u+m},v=[E.l,E.r,E.t,E.b],b=[y.l,y.r,y.t,y.b],C=Math.round,w=document,S=function(t){return e||(e=new Ext.Element.Fly),e.attach(t),e};t.override({pxRe:/^\d+(?:\.\d*)?px$/i,inheritableStatics:{getX:function(e){return t.getXY(e)[0]},getXY:function(e){var t,n,i=w.body,r=w.documentElement,o=0,a=0,s=[0,0];if(e=Ext.getDom(e),e!=w&&e!=i){if(Ext.isIE)try{t=e.getBoundingClientRect(),a=r.clientTop||i.clientTop,o=r.clientLeft||i.clientLeft}catch(l){t={left:0,top:0}}else t=e.getBoundingClientRect();n=S(w).getScroll(),s=[C(t.left+n.left-o),C(t.top+n.top-a)]}return s},getY:function(e){return t.getXY(e)[1]},setX:function(e,n){t.setXY(e,[n,!1])},setXY:function(e,t){(e=Ext.fly(e,"_setXY")).position();var n,i=e.translatePoints(t),r=e.dom.style;r.right="auto";for(n in i)isNaN(i[n])||(r[n]=i[n]+"px")},setY:function(e,n){t.setXY(e,[!1,n])}},center:function(e){return this.alignTo(e||w,"c-c")},clearPositioning:function(e){return e=e||"",this.setStyle({left:e,right:e,top:e,bottom:e,"z-index":"",position:s})},getAnchorToXY:function(e,t,n,i){return e.getAnchorXY(t,n,i)},getBottom:function(e){return(e?this.getLocalY():this.getY())+this.getHeight()},getBorderPadding:function(){var e=this.getStyle(v),t=this.getStyle(b);return{beforeX:(parseFloat(t[y.l])||0)+(parseFloat(e[E.l])||0),afterX:(parseFloat(t[y.r])||0)+(parseFloat(e[E.r])||0),beforeY:(parseFloat(t[y.t])||0)+(parseFloat(e[E.t])||0),afterY:(parseFloat(t[y.b])||0)+(parseFloat(e[E.b])||0)}},getCenterXY:function(){return this.getAlignToXY(w,"c-c")},getLeft:function(e){return e?this.getLocalX():this.getX()},getLocalX:function(){var e=this,n=e.dom.offsetParent,i=e.getStyle("left");return i&&"auto"!==i?e.pxRe.test(i)?i=parseFloat(i):(i=e.getX(),n&&(i-=t.getX(n))):i=0,i},getLocalXY:function(){var e=this,n=e.dom.offsetParent,i=e.getStyle(["left","top"]),r=i.left,o=i.top;return r&&"auto"!==r?e.pxRe.test(r)?r=parseFloat(r):(r=e.getX(),n&&(r-=t.getX(n))):r=0,o&&"auto"!==o?e.pxRe.test(o)?o=parseFloat(o):(o=e.getY(),n&&(o-=t.getY(n))):o=0,[r,o]},getLocalY:function(){var e=this,n=e.dom.offsetParent,i=e.getStyle("top");return i&&"auto"!==i?e.pxRe.test(i)?i=parseFloat(i):(i=e.getY(),n&&(i-=t.getY(n))):i=0,i},getPageBox:function(e){var t=this,n=t.dom,i=n.nodeName==c,r=i?Ext.Element.getViewWidth():n.offsetWidth,o=i?Ext.Element.getViewHeight():n.offsetHeight,a=t.getXY(),s=a[1],l=a[0]+r,d=a[1]+o,u=a[0];return e?new Ext.util.Region(s,l,d,u):{left:u,top:s,width:r,height:o,right:l,bottom:d}},getPositioning:function(e){var t=this.getStyle(["left","top","position","z-index"]),n=this.dom;return e&&("auto"===t.left&&(t.left=n.offsetLeft+"px"),"auto"===t.top&&(t.top=n.offsetTop+"px")),t},getRight:function(e){return(e?this.getLocalX():this.getX())+this.getWidth()},getTop:function(e){return e?this.getLocalY():this.getY()},getX:function(){return t.getX(this.dom)},getXY:function(){return t.getXY(this.dom)},getY:function(){return t.getY(this.dom)},moveTo:function(e,t,n){return this.setXY([e,t],n)},position:function(e,t,n,i){var r=this;!e&&r.isStyle(a,s)?r.setStyle(a,l):e&&r.setStyle(a,e),t&&r.setStyle(d,t),(n||i)&&r.setXY([n||!1,i||!1])},setBottom:function(e){return this.dom.style[o]=this.addUnits(e),this},setBounds:function(e,t,n,i,r){return this.setBox({x:e,y:t,width:n,height:i},r)},setLeft:function(e){return this.dom.style[n]=this.addUnits(e),this},setLeftTop:function(e,t){var n=this,i=n.dom.style;return i.left=n.addUnits(e),i.top=n.addUnits(t),n},setLocalX:function(e){var t=this.dom.style;t.right="auto",t.left=null===e?"auto":e+"px"},setLocalXY:function(e,t){var n=this.dom.style;n.right="auto",e&&e.length&&(t=e[1],e=e[0]),null===e?n.left="auto":void 0!==e&&(n.left=e+"px"),null===t?n.top="auto":void 0!==t&&(n.top=t+"px")},setLocalY:function(e){this.dom.style.top=null===e?"auto":e+"px"},setLocation:function(e,t,n){return this.setXY([e,t],n)},setPositioning:function(e){return this.setStyle(e)},setRight:function(e){return this.dom.style[i]=this.addUnits(e),this},setTop:function(e){return this.dom.style[r]=this.addUnits(e),this},setX:function(e,t){return this.setXY([e,this.getY()],t)},setXY:function(e,n){var i=this;return n&&i.anim?(Ext.isObject(n)||(n={}),i.animate(Ext.applyIf({to:{x:e[0],y:e[1]}},n))):t.setXY(i.dom,e),this},setY:function(e,t){return this.setXY([this.getX(),e],t)}}),t.getTrueXY=t.getXY}),Ext.define("Ext.dom.Element_scroll",{override:"Ext.dom.Element",isScrollable:function(){var e=this.dom;return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},getScroll:function(){var e,t,n=this,i=n.dom,r=document,o=r.body,a=r.documentElement;return i===r||i===o?(e=a.scrollLeft||(o?o.scrollLeft:0),t=a.scrollTop||(o?o.scrollTop:0)):(e=i.scrollLeft,t=i.scrollTop),{left:e,top:t}},getScrollLeft:function(){var e=this.dom,t=document;return e===t||e===t.body?this.getScroll().left:e.scrollLeft},getScrollTop:function(){var e=this.dom,t=document;return e===t||e===t.body?this.getScroll().top:e.scrollTop},setScrollLeft:function(e){return this.dom.scrollLeft=e,this},setScrollTop:function(e){return this.dom.scrollTop=e,this},scrollBy:function(e,t,n){var i=this,r=i.dom;return e.length?(n=t,t=e[1],e=e[0]):"number"!=typeof e&&(n=t,t=e.y,e=e.x),e&&i.scrollTo("left",i.constrainScrollLeft(r.scrollLeft+e),n),t&&i.scrollTo("top",i.constrainScrollTop(r.scrollTop+t),n),i},scrollTo:function(e,t,n){var i,r=/top/i.test(e),o=this,a=r?"scrollTop":"scrollLeft",s=o.dom;return n&&o.anim?(i={to:{}},i.to[a]=t,Ext.isObject(n)&&Ext.applyIf(i,n),o.animate(i)):(s[a]=t,s[a]=t),o},scrollIntoView:function(e,t,n,i){var r,o=this,a=o.dom,s=o.getOffsetsTo(e=Ext.getDom(e)||Ext.getBody().dom),l=s[0]+e.scrollLeft,d=s[1]+e.scrollTop,c=d+a.offsetHeight,u=l+a.offsetWidth,h=e.clientHeight,f=parseInt(e.scrollTop,10),g=parseInt(e.scrollLeft,10),p=f+h,m=g+e.clientWidth;return i&&(n?n=Ext.apply({listeners:{afteranimate:function(){o.scrollChildFly.attach(a).highlight()}}},n):o.scrollChildFly.attach(a).highlight()),a.offsetHeight>h||f>d?r=d:c>p&&(r=c-h),null!=r&&o.scrollChildFly.attach(e).scrollTo("top",r,n),t!==!1&&(r=null,a.offsetWidth>e.clientWidth||g>l?r=l:u>m&&(r=u-e.clientWidth),null!=r&&o.scrollChildFly.attach(e).scrollTo("left",r,n)),o},scrollChildIntoView:function(e,t){this.scrollChildFly.attach(Ext.getDom(e)).scrollIntoView(this,t)},scroll:function(e,t,n){if(!this.isScrollable())return!1;var i,r,o=this,a=o.dom,s="r"===e||"l"===e?"left":"top",l=!1;return"r"===e&&(t=-t),"left"===s?(i=a.scrollLeft,r=o.constrainScrollLeft(i+t)):(i=a.scrollTop,r=o.constrainScrollTop(i+t)),r!==i&&(this.scrollTo(s,r,n),l=!0),l},constrainScrollLeft:function(e){var t=this.dom;return Math.max(Math.min(e,t.scrollWidth-t.clientWidth),0)},constrainScrollTop:function(e){var t=this.dom;return Math.max(Math.min(e,t.scrollHeight-t.clientHeight),0)}},function(){this.prototype.scrollChildFly=new this.Fly,this.prototype.scrolltoFly=new this.Fly}),Ext.define("Ext.dom.Element_style",{override:"Ext.dom.Element"},function(){function e(e,t,n,i){return"none"==i[this.styleName]?"0px":i[this.name]}var t,n,i,r,o,a,s,l=this,d=document.defaultView,c=/table-row|table-.*-group/,u="_internal",h="hidden",f="height",g="width",p="isClipped",m="overflow",x="overflow-x",y="overflow-y",E="originalClip",v=/#document|body/i;if(d&&d.getComputedStyle||(l.prototype.getStyle=function(e,t){var n,i,r,o,a,s,d,c=this,u=c.dom,h="string"!=typeof e,f=c.styleHooks,g=e,p=g,m=1,x=t;if(h&&(r={},g=p[0],d=0,!(m=p.length)))return r;if(!u||u.documentElement)return r||"";i=u.style,t?s=i:(s=u.currentStyle,s||(x=!0,s=i));do{if(o=f[g],o||(f[g]=o={name:l.normalize(g)}),o.get)a=o.get(u,c,x,s);else if(n=o.name,o.canThrow)try{a=s[n]}catch(y){a=""}else a=s?s[n]:"";if(!h)return a;r[g]=a,g=p[++d]}while(m>d);return r}),l.override({getHeight:function(e,t){var n,i,r=this,o=r.isStyle("display","none");return o?0:(n=r.dom.offsetHeight,Ext.supports.Direct2DBug&&(i=r.adjustDirect2DDimension(f),t?n+=i:i>0&&.5>i&&n++),e&&(n-=r.getBorderWidth("tb")+r.getPadding("tb")),0>n?0:n)},getWidth:function(e,t){var n,i,r,o=this,a=o.dom,s=o.isStyle("display","none");return s?0:(t&&Ext.supports.BoundingClientRect?(n=a.getBoundingClientRect(),i=!o.vertical||Ext.isIE9||Ext.supports.RotatedBoundingClientRect?n.right-n.left:n.bottom-n.top):i=a.offsetWidth,Ext.supports.Direct2DBug&&!o.vertical&&(r=o.adjustDirect2DDimension(g),t?i+=r:r>0&&.5>r&&i++),e&&(i-=o.getBorderWidth("lr")+o.getPadding("lr")),0>i?0:i)},setWidth:function(e,t){var n=this;return e=n.adjustWidth(e),t&&n.anim?(Ext.isObject(t)||(t={}),n.animate(Ext.applyIf({to:{width:e}},t))):n.dom.style.width=n.addUnits(e),n},setHeight:function(e,t){var n=this;return e=n.adjustHeight(e),t&&n.anim?(Ext.isObject(t)||(t={}),n.animate(Ext.applyIf({to:{height:e}},t))):n.dom.style.height=n.addUnits(e),n},applyStyles:function(e){return Ext.DomHelper.applyStyles(this.dom,e),this},setSize:function(e,t,n){var i=this;return Ext.isObject(e)&&(n=t,t=e.height,e=e.width),e=i.adjustWidth(e),t=i.adjustHeight(t),n&&i.anim?(n===!0&&(n={}),i.animate(Ext.applyIf({to:{width:e,height:t}},n))):(i.dom.style.width=i.addUnits(e),i.dom.style.height=i.addUnits(t)),i},getViewSize:function(){var e,t=this,n=t.dom,i=v.test(n.nodeName);return e=i?{width:l.getViewWidth(),height:l.getViewHeight()}:{width:n.clientWidth,height:n.clientHeight}},getSize:function(e){return{width:this.getWidth(e),height:this.getHeight(e)}},adjustWidth:function(e){var t=this,n="number"==typeof e;return n&&t.autoBoxAdjust&&!t.isBorderBox()&&(e-=t.getBorderWidth("lr")+t.getPadding("lr")),n&&0>e?0:e},adjustHeight:function(e){var t=this,n="number"==typeof e;return n&&t.autoBoxAdjust&&!t.isBorderBox()&&(e-=t.getBorderWidth("tb")+t.getPadding("tb")),n&&0>e?0:e},getColor:function(e,t,n){var i,r,o=this.getStyle(e),a=n||""===n?n:"#",s=0;if(!o||/transparent|inherit/.test(o))return t;if(/^r/.test(o))for(o=o.slice(4,o.length-1).split(","),r=o.length;r>s;s++)i=parseInt(o[s],10),a+=(16>i?"0":"")+i.toString(16);else o=o.replace("#",""),a+=3==o.length?o.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):o;return a.length>5?a.toLowerCase():t},setOpacity:function(e,t){var n=this;return n.dom?(t&&n.anim?("object"!=typeof t&&(t={duration:350,easing:"ease-in"}),n.animate(Ext.applyIf({to:{opacity:e}},t))):n.setStyle("opacity",e),n):n},clearOpacity:function(){return this.setOpacity("")},adjustDirect2DDimension:function(e){var t,n=this,i=n.dom,r=n.getStyle("display"),o=i.style.display,a=i.style.position,s=e===g?0:1,l=i.currentStyle;return"inline"===r&&(i.style.display="inline-block"),i.style.position=r.match(c)?"absolute":"static",t=(parseFloat(l[e])||2*parseFloat(l.msTransformOrigin.split(" ")[s]))%1,i.style.position=a,"inline"===r&&(i.style.display=o),t
},clip:function(){var e,t=this,n=(t.$cache||t.getCache()).data;return n[p]||(n[p]=!0,e=t.getStyle([m,x,y]),n[E]={o:e[m],x:e[x],y:e[y]},t.setStyle(m,h),t.setStyle(x,h),t.setStyle(y,h)),t},unclip:function(){var e,t=this,n=(t.$cache||t.getCache()).data;return n[p]&&(n[p]=!1,e=n[E],e.o&&t.setStyle(m,e.o),e.x&&t.setStyle(x,e.x),e.y&&t.setStyle(y,e.y)),t},boxWrap:function(e){e=e||Ext.baseCSSPrefix+"box";var t=Ext.get(this.insertHtml("beforeBegin","<div class='"+e+"'>"+Ext.String.format(l.boxMarkup,e)+"</div>"));return Ext.DomQuery.selectNode("."+e+"-mc",t.dom).appendChild(this.dom),t},getComputedHeight:function(){var e=this,t=Math.max(e.dom.offsetHeight,e.dom.clientHeight);return t||(t=parseFloat(e.getStyle(f))||0,e.isBorderBox()||(t+=e.getFrameWidth("tb"))),t},getComputedWidth:function(){var e=this,t=Math.max(e.dom.offsetWidth,e.dom.clientWidth);return t||(t=parseFloat(e.getStyle(g))||0,e.isBorderBox()||(t+=e.getFrameWidth("lr"))),t},getFrameWidth:function(e,t){return t&&this.isBorderBox()?0:this.getPadding(e)+this.getBorderWidth(e)},addClsOnOver:function(e,t,n){var i=this,r=i.dom,o=Ext.isFunction(t);return i.hover(function(){o&&t.call(n||i,i)===!1||Ext.fly(r,u).addCls(e)},function(){Ext.fly(r,u).removeCls(e)}),i},addClsOnFocus:function(e,t,n){var i=this,r=i.dom,o=Ext.isFunction(t);return i.on("focus",function(){return o&&t.call(n||i,i)===!1?!1:(Ext.fly(r,u).addCls(e),void 0)}),i.on("blur",function(){Ext.fly(r,u).removeCls(e)}),i},addClsOnClick:function(e,t,n){var i=this,r=i.dom,o=Ext.isFunction(t);return i.on("mousedown",function(){if(o&&t.call(n||i,i)===!1)return!1;Ext.fly(r,u).addCls(e);var a=Ext.getDoc(),s=function(){Ext.fly(r,u).removeCls(e),a.removeListener("mouseup",s)};a.on("mouseup",s)}),i},getStyleSize:function(){var e,t,n,i=this,r=this.dom,o=v.test(r.nodeName);return o?{width:l.getViewWidth(),height:l.getViewHeight()}:(e=i.getStyle([f,g],!0),e.width&&"auto"!=e.width&&(t=parseFloat(e.width),i.isBorderBox()&&(t-=i.getFrameWidth("lr"))),e.height&&"auto"!=e.height&&(n=parseFloat(e.height),i.isBorderBox()&&(n-=i.getFrameWidth("tb"))),{width:t||i.getWidth(!0),height:n||i.getHeight(!0)})},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable"},selectable:function(){var e=this;return e.dom.unselectable="",e.removeCls(l.unselectableCls),e.addCls(l.selectableCls),e},unselectable:function(){var e=this;return Ext.isOpera&&(e.dom.unselectable="on"),e.removeCls(l.selectableCls),e.addCls(l.unselectableCls),e},setVertical:function(e,t){var n=this,i=l.prototype;n.vertical=!0,t&&n.addCls(n.verticalCls=t),n.setWidth=i.setHeight,n.setHeight=i.setWidth,Ext.isIE9m||(n.getWidth=i.getHeight,n.getHeight=i.getWidth),n.styleHooks=270===e?l.prototype.verticalStyleHooks270:l.prototype.verticalStyleHooks90},setHorizontal:function(){var e=this,t=e.verticalCls;delete e.vertical,t&&(delete e.verticalCls,e.removeCls(t)),delete e.setWidth,delete e.setHeight,Ext.isIE9m||(delete e.getWidth,delete e.getHeight),delete e.styleHooks}}),l.prototype.styleHooks=t=Ext.dom.AbstractElement.prototype.styleHooks,l.prototype.verticalStyleHooks90=n=Ext.Object.chain(l.prototype.styleHooks),l.prototype.verticalStyleHooks270=i=Ext.Object.chain(l.prototype.styleHooks),n.width={name:"height"},n.height={name:"width"},n["margin-top"]={name:"marginLeft"},n["margin-right"]={name:"marginTop"},n["margin-bottom"]={name:"marginRight"},n["margin-left"]={name:"marginBottom"},n["padding-top"]={name:"paddingLeft"},n["padding-right"]={name:"paddingTop"},n["padding-bottom"]={name:"paddingRight"},n["padding-left"]={name:"paddingBottom"},n["border-top"]={name:"borderLeft"},n["border-right"]={name:"borderTop"},n["border-bottom"]={name:"borderRight"},n["border-left"]={name:"borderBottom"},i.width={name:"height"},i.height={name:"width"},i["margin-top"]={name:"marginRight"},i["margin-right"]={name:"marginBottom"},i["margin-bottom"]={name:"marginLeft"},i["margin-left"]={name:"marginTop"},i["padding-top"]={name:"paddingRight"},i["padding-right"]={name:"paddingBottom"},i["padding-bottom"]={name:"paddingLeft"},i["padding-left"]={name:"paddingTop"},i["border-top"]={name:"borderRight"},i["border-right"]={name:"borderBottom"},i["border-bottom"]={name:"borderLeft"},i["border-left"]={name:"borderTop"},Ext.isIE7m&&(t.fontSize=t["font-size"]={name:"fontSize",canThrow:!0},t.fontStyle=t["font-style"]={name:"fontStyle",canThrow:!0},t.fontFamily=t["font-family"]={name:"fontFamily",canThrow:!0}),Ext.isIEQuirks||Ext.isIE&&Ext.ieVersion<=8)for(r=["Top","Right","Bottom","Left"],o=r.length;o--;)a=r[o],s="border"+a+"Width",t["border-"+a.toLowerCase()+"-width"]=t[s]={name:s,styleName:"border"+a+"Style",get:e};Ext.getDoc().on("selectstart",function(e,t){var n=document.documentElement,i=l.selectableCls,r=l.unselectableCls,o=t&&t.tagName;if(o=o&&o.toLowerCase(),"input"!==o&&"textarea"!==o)for(;t&&1===t.nodeType&&t!==n;){var a=Ext.fly(t);if(a.hasCls(i))return;if(a.hasCls(r))return e.stopEvent(),void 0;t=t.parentNode}})}),Ext.onReady(function(){var e=/alpha\(opacity=(.*)\)/i,t=/^\s+|\s+$/g,n=Ext.dom.Element.prototype.styleHooks;n.opacity={name:"opacity",afterSet:function(e,t,n){n.isLayer&&n.onOpacitySet(t)}},!Ext.supports.Opacity&&Ext.isIE&&Ext.apply(n.opacity,{get:function(t){var n,i,r=t.style.filter;return r.match&&(n=r.match(e),n&&(i=parseFloat(n[1]),!isNaN(i)))?i?i/100:0:1},set:function(n,i){var r=n.style,o=r.filter.replace(e,"").replace(t,"");r.zoom=1,"number"==typeof i&&i>=0&&1>i?(i*=100,r.filter=o+(o.length?" ":"")+"alpha(opacity="+i+")"):r.filter=o}})}),Ext.define("Ext.util.Positionable",{_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,adjustForConstraints:function(e,t){var n=this.getConstrainVector(t,e);return n&&(e[0]+=n[0],e[1]+=n[1]),e},alignTo:function(e,t,n,i){var r=this,o=r.el;return r.setXY(r.getAlignToXY(e,t,n),o.anim&&i?o.anim(i):!1)},anchorTo:function(e,t,n,i,r,o){var a=this,s=!Ext.isEmpty(r),l=function(){a.alignTo(e,t,n,i),Ext.callback(o,a)},d=a.getAnchor();return a.removeAnchor(),Ext.apply(d,{fn:l,scroll:s}),Ext.EventManager.onWindowResize(l,null),s&&Ext.EventManager.on(window,"scroll",l,null,{buffer:isNaN(r)?50:r}),l(),a},calculateAnchorXY:function(e,t,n,i){var r,o,a,s=this,l=s.el,d=document,c=l.dom==d.body||l.dom==d,u=Math.round;switch(e=(e||"tl").toLowerCase(),i=i||{},o=i.width||c?Ext.Element.getViewWidth():s.getWidth(),a=i.height||c?Ext.Element.getViewHeight():s.getHeight(),e){case"tl":r=[0,0];break;case"bl":r=[0,a];break;case"tr":r=[o,0];break;case"c":r=[u(.5*o),u(.5*a)];break;case"t":r=[u(.5*o),0];break;case"l":r=[0,u(.5*a)];break;case"r":r=[o,u(.5*a)];break;case"b":r=[u(.5*o),a];break;case"tc":r=[u(.5*o),0];break;case"bc":r=[u(.5*o),a];break;case"br":r=[o,a]}return[r[0]+t,r[1]+n]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,y,E,v=this,b=Ext.Element.getViewWidth()-10,C=Ext.Element.getViewHeight()-10,w=document,S=w.documentElement,P=w.body,k=S.scrollLeft||P.scrollLeft||0,T=S.scrollTop||P.scrollTop||0;return e=Ext.get(e.el||e),!e||!e.dom,n=n||[0,0],t=(t&&"?"!=t?/-/.test(t)||""===t?t||"tl-bl":"tl-"+t:"tl-bl?").toLowerCase(),t=v.convertPositionSpec(t),i=t.match(v._alignRe),h=i[1],f=i[2],u=!!i[3],r=v.getAnchorXY(h,!0),o=v.getAnchorToXY(e,f,!1),y=o[0]-r[0]+n[0],E=o[1]-r[1]+n[1],u&&(a=v.getWidth(),s=v.getHeight(),l=e.getRegion(),g=h.charAt(0),p=h.charAt(h.length-1),m=f.charAt(0),x=f.charAt(f.length-1),d="t"==g&&"b"==m||"b"==g&&"t"==m,c="r"==p&&"l"==x||"l"==p&&"r"==x,y+a>b+k&&(y=c?l.left-a:b+k-a),k>y&&(y=c?l.right:k),E+s>C+T&&(E=d?l.top-s:C+T-s),T>E&&(E=d?l.bottom:T)),[y,E]},getAnchor:function(){var e,t=this.el,n=(t.$cache||t.getCache()).data;if(t.dom)return e=n._anchor,e||(e=n._anchor={}),e},getAnchorXY:function(e,t,n){var i=this,r=i.getXY(),o=i.el,a=document,s=o.dom==a.body||o.dom==a,l=o.getScroll(),d=s?l.left:t?0:r[0],c=s?l.top:t?0:r[1];return i.calculateAnchorXY(e,d,c,n)},getBox:function(e,t){var n,i,r,o=this,a=t?o.getLocalXY():o.getXY(),s=a[0],l=a[1],d=o.getWidth(),c=o.getHeight();return e&&(n=o.getBorderPadding(),i=n.beforeX,r=n.beforeY,s+=i,l+=r,d-=i+n.afterX,c-=r+n.afterY),{x:s,left:s,0:s,y:l,top:l,1:l,width:d,height:c,right:s+d,bottom:l+c}},calculateConstrainedPosition:function(e,t,n,i){var r,o,a,s,l=this,d=l.floatParent,c=d?d.getTargetEl():null,u=!1;return n&&d?(o=c.getXY(),a=c.getBorderPadding(),o[0]+=a.beforeX,o[1]+=a.beforeY,t&&(s=[t[0]+o[0],t[1]+o[1]])):s=t,e=e||l.constrainTo||c||l.container||l.el.parent(),r=(l.constrainHeader?l.header:l).getConstrainVector(e,s,i),r&&(u=t||l.getPosition(n),u[0]+=r[0],u[1]+=r[1]),u},getConstrainVector:function(e,t,n){var i=this.getRegion(),r=[0,0],o=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.shadow.getShadowSize():void 0,a=!1,s=this.constraintInsets;return e instanceof Ext.util.Region||(e=Ext.get(e.el||e).getViewRegion()),s&&(s=Ext.isObject(s)?s:Ext.Element.parseBox(s),e.adjust(s.top,s.right,s.bottom,s.length)),t&&i.translateBy(t[0]-i.x,t[1]-i.y),n&&(i.right=i.left+n[0],i.bottom=i.top+n[1]),o&&e.adjust(o[0],-o[1],-o[2],o[3]),i.right>e.right&&(a=!0,r[0]=e.right-i.right),i.left+r[0]<e.left&&(a=!0,r[0]=e.left-i.left),i.bottom>e.bottom&&(a=!0,r[1]=e.bottom-i.bottom),i.top+r[1]<e.top&&(a=!0,r[1]=e.top-i.top),a?r:!1},getOffsetsTo:function(e){var t=this.getXY(),n=Ext.fly(e.el||e,"_internal").getXY();return[t[0]-n[0],t[1]-n[1]]},getRegion:function(){var e=this.getBox();return new Ext.util.Region(e.top,e.right,e.bottom,e.left)},getViewRegion:function(){var e,t,n,i,r,o,a,s=this,l=s.el,d="BODY"===l.dom.nodeName;return d?(t=l.getScroll(),r=t.left,i=t.top,o=Ext.dom.AbstractElement.getViewportWidth(),a=Ext.dom.AbstractElement.getViewportHeight()):(e=s.getBorderPadding(),n=s.getXY(),r=n[0]+e.beforeX,i=n[1]+e.beforeY,o=s.getWidth(!0),a=s.getHeight(!0)),new Ext.util.Region(i,r+o,i+a,r)},move:function(e,t,n){var i=this,r=i.getXY(),o=r[0],a=r[1],s=[o-t,a],l=[o+t,a],d=[o,a-t],c=[o,a+t],u={l:s,left:s,r:l,right:l,t:d,top:d,up:d,b:c,bottom:c,down:c};e=e.toLowerCase(),i.setXY([u[e][0],u[e][1]],n)},removeAnchor:function(){var e=this.getAnchor();return e&&e.fn&&(Ext.EventManager.removeResizeListener(e.fn),e.scroll&&Ext.EventManager.un(window,"scroll",e.fn),delete e.fn),this},setBox:function(e,t){var n=this,i=n.el,r=e.x,o=e.y,a=e.width,s=e.height,l=n.constrain||n.constrainHeader,d=l&&n.calculateConstrainedPosition(null,[r,o],!1,[a,s]);return d&&(r=d[0],o=d[1]),t&&i.anim?n.animate(Ext.applyIf({to:{x:r,y:o,width:i.adjustWidth(a),height:i.adjustHeight(s)},listeners:{afteranimate:Ext.Function.bind(n.afterSetPosition,n,[r,o])}},t)):(n.setSize(a,s),n.setXY([r,o]),n.afterSetPosition(r,o)),n},setRegion:function(e,t){return this.setBox({x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top},t)},translatePoints:function(e,t){var n=this.translateXY(e,t);return{left:n.x,top:n.y}},translateXY:function(e,t){var n=this,i=n.el,r=i.getStyle(n._positionTopLeft),o="relative"==r.position,a=parseFloat(r.left),s=parseFloat(r.top),l=n.getXY();return Ext.isArray(e)&&(t=e[1],e=e[0]),isNaN(a)&&(a=o?0:i.dom.offsetLeft),isNaN(s)&&(s=o?0:i.dom.offsetTop),a="number"==typeof e?e-l[0]+a:void 0,s="number"==typeof t?t-l[1]+s:void 0,{x:a,y:s}}}),Ext.define("Ext.dom.Element",function(e){var t,n="hidden",i=document,r="visibility",o="display",a="none",s=Ext.baseCSSPrefix+"masked",l=Ext.baseCSSPrefix+"masked-relative",d=Ext.baseCSSPrefix+"mask-msg",c=/^body/i,u=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1},h=function(e){var t,n,i=[],r=-1;for(t=0;n=e[t];t++)(n.scrollTop>0||n.scrollLeft>0)&&(i[++r]=n);return i};return{extend:Ext.dom.AbstractElement,alternateClassName:["Ext.Element","Ext.core.Element"],tableTagRe:/^(?:tr|td|table|tbody)$/i,mixins:[Ext.util.Positionable],addUnits:function(){return e.addUnits.apply(e,arguments)},focus:function(e,t){var n=this;t=t||n.dom;try{Number(e)?Ext.defer(n.focus,e,n,[null,t]):t.focus()}catch(i){}return n},blur:function(){var e=this,t=e.dom;if(t!==document.body){try{t.blur()}catch(n){}return e}return e.focus(void 0,t)},isBorderBox:function(){var e=Ext.isBorderBox;return e&&Ext.isIE7m&&(e=!((this.dom.tagName||"").toLowerCase()in u)),e},hover:function(e,t,n,i){var r=this;return r.on("mouseenter",e,n||r.dom,i),r.on("mouseleave",t,n||r.dom,i),r},getAttributeNS:function(e,t){return this.getAttribute(t,e)},getAttribute:!Ext.isIE||Ext.isIE9p&&i.documentMode>=9?function(e,t){var n=this.dom;return t?n.getAttributeNS(t,e)||n.getAttribute(t+":"+e):n.getAttribute(e)||n[e]||null}:function(e,t){var n,i=this.dom;return t?(n=typeof i[t+":"+e],"undefined"!=n&&"unknown"!=n?i[t+":"+e]||null:null):("for"===e&&(e="htmlFor"),i[e]||null)},cacheScrollValues:function(){var e,t,n,i=this,r=[],o=function(){for(n=0;n<e.length;n++)t=e[n],t.scrollLeft=r[n][0],t.scrollTop=r[n][1]};for(Ext.DomQuery.pseudos.isScrolled||(Ext.DomQuery.pseudos.isScrolled=h),e=i.query(":isScrolled"),n=0;n<e.length;n++)t=e[n],r[n]=[t.scrollLeft,t.scrollTop];return o},autoBoxAdjust:!0,isVisible:function(i){var s=this,l=s.dom,d=l.ownerDocument.documentElement;for(t||(t=new e.Fly);l!==d;){if(!l||11===l.nodeType||t.attach(l).isStyle(r,n)||t.isStyle(o,a))return!1;if(!i)break;l=l.parentNode}return!0},isDisplayed:function(){return!this.isStyle(o,a)},enableDisplayMode:function(t){var n=this;return n.setVisibilityMode(e.DISPLAY),Ext.isEmpty(t)||((n.$cache||n.getCache()).data.originalDisplay=t),n},mask:function(e,t,n){var r,o,a=this,u=a.dom,h=u.style.setExpression,f=(a.$cache||a.getCache()).data,g=f.maskShimEl,p=f.maskEl,m=f.maskMsg;if(c.test(u.tagName)&&"static"==a.getStyle("position")||a.addCls(l),p&&p.remove(),m&&m.remove(),g&&g.remove(),Ext.isIE6&&(g=Ext.DomHelper.append(u,{tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"},!0),f.maskShimEl=g,g.setDisplayed(!0)),Ext.DomHelper.append(u,[{cls:Ext.baseCSSPrefix+"mask",style:"top:0;left:0;"},{cls:t?d+" "+t:d,cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-text",html:e||""}}}]),m=Ext.get(u.lastChild),p=Ext.get(m.dom.previousSibling),f.maskMsg=m,f.maskEl=p,a.addCls(s),p.setDisplayed(!0),"string"==typeof e?(m.setDisplayed(!0),m.center(a)):m.setDisplayed(!1),!Ext.supports.IncludePaddingInWidthCalculation&&h)try{p.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"'),r='this.parentNode.clientWidth + "px"',g&&g.dom.style.setExpression("width",r),p.dom.style.setExpression("width",r)}catch(x){}if(!Ext.supports.IncludePaddingInHeightCalculation&&h)try{o="this.parentNode."+(u==i.body?"scrollHeight":"offsetHeight")+' + "px"',g&&g.dom.style.setExpression("height",o),p.dom.style.setExpression("height",o)}catch(x){}else!Ext.isIE9m||Ext.isIE7&&Ext.isStrict||"auto"!=a.getStyle("height")||(g&&g.setSize(void 0,n||a.getHeight()),p.setSize(void 0,n||a.getHeight()));return p},unmask:function(){var e,t=this,n=(t.$cache||t.getCache()).data,i=n.maskEl,r=n.maskShimEl,o=n.maskMsg;i&&(e=i.dom.style,e.clearExpression&&(e.clearExpression("width"),e.clearExpression("height")),i&&(i.remove(),delete n.maskEl),o&&(o.remove(),delete n.maskMsg),t.removeCls([s,l]),r&&(e=r.dom.style,e.clearExpression&&(e.clearExpression("width"),e.clearExpression("height")),r.remove(),delete n.maskShimEl))},isMasked:function(){var e=this,t=(e.$cache||e.getCache()).data,n=t.maskEl,i=t.maskMsg,r=!1;return n&&n.isVisible()&&(i&&i.center(e),r=!0),r},createShim:function(){var e,t=i.createElement("iframe");return t.frameBorder="0",t.className=Ext.baseCSSPrefix+"shim",t.src=Ext.SSL_SECURE_URL,e=Ext.get(this.dom.parentNode.insertBefore(t,this.dom)),e.autoBoxAdjust=!1,e},addKeyListener:function(e,t,n){var i;return i="object"!=typeof e||Ext.isArray(e)?{target:this,key:e,fn:t,scope:n}:{target:this,key:e.key,shift:e.shift,ctrl:e.ctrl,alt:e.alt,fn:t,scope:n},new Ext.util.KeyMap(i)},addKeyMap:function(e){return new Ext.util.KeyMap(Ext.apply({target:this},e))},on:function(e,t,n,i){return Ext.EventManager.on(this,e,t,n||this,i),this},un:function(e,t,n){return Ext.EventManager.un(this,e,t,n||this),this},removeAllListeners:function(){return Ext.EventManager.removeAll(this),this},purgeAllListeners:function(){return Ext.EventManager.purgeElement(this),this},select:function(t){return e.select(t,!1,this.dom)}}},function(){function e(){if(Ext.enableGarbageCollector){var e,t,n,o;for(e in i)i.hasOwnProperty(e)&&(n=i[e],n.skipGarbageCollection||(t=n.dom,!t||t.parentNode&&(t.offsetParent||Ext.getElementById(e))||(Ext.enableListenerCollection&&Ext.EventManager.removeAll(t),delete i[e])));if(Ext.isIE){o={};for(e in i)i.hasOwnProperty(e)&&(o[e]=i[e]);i=Ext.cache=o}}else clearInterval(r.collectorThreadId)}var t,n=document,i=Ext.cache,r=this,o=Ext.dom.AbstractElement,a=/^a|button|embed|iframe|input|object|select|textarea$/i,s=/\S/,l=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/gi,d=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,c=/\ssrc=([\'\"])(.*?)\1/i,u=/\stype=([\'\"])(.*?)\1/i,h=!Ext.isIE8m;r.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>',r.collectorThreadId=setInterval(e,3e4),r.addMethods({monitorMouseLeave:function(e,t,n){var i,r=this,o={mouseleave:function(o){i=setTimeout(Ext.Function.bind(t,n||r,[o]),e)},mouseenter:function(){clearTimeout(i)},freezeEvent:!0};return r.on(o),o},swallowEvent:function(e,t){var n,i,r=this,o=function(e){e.stopPropagation(),t&&e.preventDefault()};if(Ext.isArray(e)){for(i=e.length,n=0;i>n;n++)r.on(e[n],o);return r}return r.on(e,o),r},relayEvent:function(e,t){this.on(e,function(n){t.fireEvent(e,n)})},clean:function(e){var n,i=this,r=i.dom,o=(i.$cache||i.getCache()).data,a=r.firstChild,l=-1;if(o.isCleaned&&e!==!0)return i;for(;a;)n=a.nextSibling,3==a.nodeType?s.test(a.nodeValue)?n&&3==n.nodeType&&(a.appendData(Ext.String.trim(n.data)),r.removeChild(n),n=a.nextSibling,a.nodeIndex=++l):r.removeChild(a):(t.attach(a).clean(),a.nodeIndex=++l),a=n;return o.isCleaned=!0,i},load:function(e){return this.getLoader().load(e),this},getLoader:function(){var e=this,t=(e.$cache||e.getCache()).data,n=t.loader;return n||(t.loader=n=new Ext.ElementLoader({target:e})),n},syncContent:function(e){e=Ext.getDom(e);var n,i,r,o,a,s,l,d=e.childNodes,c=d.length,u=this.dom,h=u.childNodes,f=h.length;if(Ext.isIE9m&&u.mergeAttributes)u.mergeAttributes(e,!0),u.src=e.src;else for(a=e.attributes,s=a.length,n=0;s>n;n++)l=a[n].name,"id"!==l&&u.setAttribute(l,a[n].value);if(c!==f)return u.innerHTML=e.innerHTML,void 0;for(n=0;c>n;n++){if(r=d[n],i=h[n],o=r.nodeType,o!==i.nodeType||1===o&&r.tagName!==i.tagName)return u.innerHTML=e.innerHTML,void 0;3===o?i.data=r.data:(r.id&&i.id!==r.id&&(i.id=r.id),i.style.cssText=r.style.cssText,i.className=r.className,t.attach(i).syncContent(r))}},update:function(e,t,i){var r,o,a,s=this;return s.dom?(e=e||"",o=s.dom,t!==!0?(o.innerHTML=e,Ext.callback(i,s),s):(r=Ext.id(),e+='<span id="'+r+'"></span>',a=setInterval(function(){var t,o,d,h,f,g,p;if(!(g=n.getElementById(r)))return!1;for(clearInterval(a),Ext.removeNode(g),t=Ext.getHead().dom;o=l.exec(e);)d=o[1],h=d?d.match(c):!1,h&&h[2]?(p=n.createElement("script"),p.src=h[2],f=d.match(u),f&&f[2]&&(p.type=f[2]),t.appendChild(p)):o[2]&&o[2].length>0&&(window.execScript?window.execScript(o[2]):window.eval(o[2]));Ext.callback(i,s)},20),o.innerHTML=e.replace(d,""),s)):s},removeAllListeners:function(){return this.removeAnchor(),Ext.EventManager.removeAll(this.dom),this},createProxy:function(e,t,n){e="object"==typeof e?e:{tag:"div",cls:e};var i=this,o=t?Ext.DomHelper.append(t,e,!0):Ext.DomHelper.insertBefore(i.dom,e,!0);return o.setVisibilityMode(r.DISPLAY),o.hide(),n&&i.setBox&&i.getBox&&o.setBox(i.getBox()),o},needsTabIndex:function(){return this.dom?"a"!==this.dom.nodeName||this.dom.href?!a.test(this.dom.nodeName):!0:void 0},isFocusable:function(e){var t,n=this.dom,i=n.getAttributeNode("tabIndex"),r=n.nodeName,o=!1;return i&&i.specified&&(t=i.value),n&&!n.disabled&&(-1==t?o=Ext.FocusManager&&Ext.FocusManager.enabled&&e:a.test(r)?("a"!==r||n.href)&&(o=!0):o=null!=t&&t>=0,o=o&&this.isVisible(!0)),o}}),Ext.isIE&&(r.prototype.getById=function(e,t){var o,a,s,l=this.dom;return l&&(a=h&&n.getElementById(e)||l.all[e])?(t?s=a:(o=i[e],s=o&&o.el?Ext.updateCacheEntry(o,a).el:new r(a)),s):t?Ext.getDom(e):r.get(e)}),r.createAlias({addListener:"on",removeListener:"un",clearListeners:"removeAllListeners",focusable:"isFocusable"}),r.Fly=o.Fly=new Ext.Class({extend:r,isFly:!0,constructor:function(e){this.dom=e,this.el=this},attach:o.Fly.prototype.attach}),t=new r.Fly,Ext.isIE?Ext.getElementById=function(e){var t,i=n.getElementById(e);return!i&&(t=o.detachedBodyEl)&&(i=t.dom.all[e]),i}:n.querySelector||(Ext.getDetachedBody=Ext.getBody,Ext.getElementById=function(e){return n.getElementById(e)})}),Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:"Ext.CompositeElementLite",statics:{importElementMethods:function(){var e,t=Ext.dom.Element.prototype,n=this.prototype;for(e in t)"function"==typeof t[e]&&function(e){n[e]=n[e]||function(){return this.invoke(e,arguments)}}.call(n,e)}},constructor:function(e,t){this.elements=[],this.add(e,t),this.el=new Ext.dom.AbstractElement.Fly},isComposite:!0,getElement:function(e){return this.el.attach(e)},transformElement:function(e){return Ext.getDom(e)},getCount:function(){return this.elements.length},add:function(e,t){var n,i,r=this.elements;if(!e)return this;for("string"==typeof e?e=Ext.dom.Element.selectorFunction(e,t):e.isComposite?e=e.elements:Ext.isIterable(e)||(e=[e]),n=0,i=e.length;i>n;++n)r.push(this.transformElement(e[n]));return this},invoke:function(e,t){var n,i,r=this.elements,o=r.length;for(e=Ext.dom.Element.prototype[e],i=0;o>i;i++)n=r[i],n&&e.apply(this.getElement(n),t);return this},item:function(e){var t=this.elements[e],n=null;return t&&(n=this.getElement(t)),n},slice:function(){return this.elements.slice.apply(this.elements,arguments)},addListener:function(e,t,n,i){var r,o,a=this.elements,s=a.length;for(r=0;s>r;r++)o=a[r],o&&Ext.EventManager.on(o,e,t,n||o,i);return this},each:function(e,t){var n,i,r=this,o=r.elements,a=o.length;for(n=0;a>n&&(i=o[n],!i||(i=this.getElement(i),e.call(t||i,i,r,n)!==!1));n++);return r},fill:function(e){var t=this;return t.elements=[],t.add(e),t},insert:function(e,t){Ext.Array.insert(this.elements,e,t)},filter:function(e){for(var t,n,i=this,r=i.elements,o=r.length,a=[],s=0,l="function"==typeof e;o>s;s++)n=r[s],t=!1,n&&(n=i.getElement(n),t=l?e.call(n,n,i,s)!==!1:n.is(e),t&&a.push(i.transformElement(n)));return i.elements=a,i},indexOf:function(e){return Ext.Array.indexOf(this.elements,this.transformElement(e))},replaceElement:function(e,t,n){var i,r=isNaN(e)?this.indexOf(e):e;return r>-1&&(t=Ext.getDom(t),n&&(i=this.elements[r],i.parentNode.insertBefore(t,i),Ext.removeNode(i)),Ext.Array.splice(this.elements,r,1,t)),this},clear:function(e){var t=this,n=t.elements,i=n.length-1;if(e)for(;i>=0;i--)Ext.removeNode(n[i]);this.elements=[]},addElements:function(e,t){if(!e)return this;"string"==typeof e&&(e=Ext.dom.Element.selectorFunction(e,t));var n,i=this.elements,r=e.length;for(n=0;r>n;n++)i.push(Ext.get(e[n]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(e){return-1!=this.indexOf(e)},removeElement:function(e,t){e=[].concat(e);var n,i,r,o=this,a=o.elements,s=e.length;for(r=0;s>r;r++)n=e[r],(i=a[n]||a[n=o.indexOf(n)])&&(t&&(i.dom?i.remove():Ext.removeNode(i)),Ext.Array.erase(a,n,1));return o}},function(){this.importElementMethods(),this.prototype.on=this.prototype.addListener,Ext.DomQuery&&(Ext.dom.Element.selectorFunction=Ext.DomQuery.select),Ext.dom.Element.select=function(e,t){var n;return"string"==typeof e?n=Ext.dom.Element.selectorFunction(e,t):void 0!==e.length&&(n=e),new Ext.CompositeElementLite(n)},Ext.select=function(){return Ext.dom.Element.select.apply(Ext.dom.Element,arguments)}}),Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:Ext.dom.CompositeElementLite,getElement:function(e){return e},transformElement:function(e){return Ext.get(e)}},function(){Ext.dom.Element.select=function(e,t,n){var i;return"string"==typeof e?i=Ext.dom.Element.selectorFunction(e,n):void 0!==e.length&&(i=e),t===!0?new Ext.CompositeElement(i):new Ext.CompositeElementLite(i)}}),Ext.select=Ext.Element.select,Ext.define("Ext.util.HashMap",{mixins:{observable:Ext.util.Observable},generation:0,constructor:function(e){e=e||{};var t=this,n=e.keyFn;t.initialConfig=e,t.addEvents("add","clear","remove","replace"),t.mixins.observable.constructor.call(t,e),t.clear(!0),n&&(t.getKey=n)},getCount:function(){return this.length},getData:function(e,t){return void 0===t&&(t=e,e=this.getKey(t)),[e,t]},getKey:function(e){return e.id},add:function(e,t){var n=this;return 1===arguments.length&&(t=e,e=n.getKey(t)),n.containsKey(e)?n.replace(e,t):(n.map[e]=t,++n.length,n.generation++,n.hasListeners.add&&n.fireEvent("add",n,e,t),t)},replace:function(e,t){var n,i=this,r=i.map;return 1===arguments.length&&(t=e,e=i.getKey(t)),i.containsKey(e)||i.add(e,t),n=r[e],r[e]=t,i.generation++,i.hasListeners.replace&&i.fireEvent("replace",i,e,t,n),t},remove:function(e){var t=this.findKey(e);return void 0!==t?this.removeAtKey(t):!1},removeAtKey:function(e){var t,n=this;return n.containsKey(e)?(t=n.map[e],delete n.map[e],--n.length,n.generation++,n.hasListeners.remove&&n.fireEvent("remove",n,e,t),!0):!1},get:function(e){var t=this.map;return t.hasOwnProperty(e)?t[e]:void 0},clear:function(e){var t=this;return(e||t.generation)&&(t.map={},t.length=0,t.generation=e?0:t.generation+1),e!==!0&&t.hasListeners.clear&&t.fireEvent("clear",t),t},containsKey:function(e){var t=this.map;return t.hasOwnProperty(e)&&void 0!==t[e]},contains:function(e){return this.containsKey(this.findKey(e))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(e){var t,n=[],i=this.map;for(t in i)i.hasOwnProperty(t)&&n.push(e?t:i[t]);return n},each:function(e,t){var n,i=Ext.apply({},this.map),r=this.length;t=t||this;for(n in i)if(i.hasOwnProperty(n)&&e.call(t,n,i[n],r)===!1)break;return this},clone:function(){var e,t=new this.self(this.initialConfig),n=this.map;t.suspendEvents();for(e in n)n.hasOwnProperty(e)&&t.add(e,n[e]);return t.resumeEvents(),t},findKey:function(e){var t,n=this.map;for(t in n)if(n.hasOwnProperty(t)&&n[t]===e)return t;return void 0}}),Ext.define("Ext.AbstractManager",{typeName:"type",constructor:function(e){Ext.apply(this,e||{}),this.all=new Ext.util.HashMap,this.types={}},get:function(e){return this.all.get(e)},register:function(e){this.all.add(e)},unregister:function(e){this.all.remove(e)},registerType:function(e,t){this.types[e]=t,t[this.typeName]=e},isRegistered:function(e){return void 0!==this.types[e]},create:function(e,t){var n=e[this.typeName]||e.type||t,i=this.types[n];return new i(e)},onAvailable:function(e,t,n){var i,r,o=this.all;o.containsKey(e)?(i=o.get(e),t.call(n||i,i)):(r=function(i,a,s){a==e&&(t.call(n||s,s),o.un("add",r))},o.on("add",r))},each:function(e,t){this.all.each(e,t||this)},getCount:function(){return this.all.getCount()}}),Ext.define("Ext.ComponentManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.ComponentMgr",singleton:!0,typeName:"xtype",create:function(e,t){return"string"==typeof e?Ext.widget(e):e.isComponent?e:Ext.widget(e.xtype||t,e)},registerType:function(e,t){this.types[e]=t,t[this.typeName]=e,t.prototype[this.typeName]=e}},function(){Ext.getCmp=function(e){return Ext.ComponentManager.get(e)}}),Ext.define("Ext.ComponentQuery",{singleton:!0},function(){var e=this,t=Ext.dom.Query.operators,n=/(\d*)n\+?(\d*)/,i=/\D/,r=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),o=function(e,t){return t.method.apply(this,[e].concat(t.args))},a=function(e,t){for(var n,i=[],r=0,o=e.length,a=">"!==t;o>r;r++)n=e[r],n.getRefItems&&(i=i.concat(n.getRefItems(a)));return i},s=function(e){for(var t,n=[],i=0,r=e.length;r>i;i++)for(t=e[i];t=t.getRefOwner();)n.push(t);return n},l=function(e,t,n){if("*"===t)return e.slice();for(var i,r=[],o=0,a=e.length;a>o;o++)i=e[o],i.isXType(t,n)&&r.push(i);return r},d=function(e,t){for(var n,i=[],r=0,o=e.length;o>r;r++)n=e[r],n.hasCls(t)&&i.push(n);return i},c=function(e,n,i,r){var o,a,s,l,d,c,u=[],h=0,f=e.length;for("@"===n.charAt(0)&&(o=!0,n=n.substr(1)),"?"===n.charAt(0)&&(o=!0,a=!0,n=n.substr(1));f>h;h++)if(s=e[h],!o||s.hasOwnProperty(n))if(l=s[n],a)u.push(s);else if("~="===i){if(l)for(Ext.isArray(l)||(l=l.split(" ")),d=0,c=l.length;c>d;d++)if(t[i](Ext.coerce(l[d],r),r)){u.push(s);break}}else(r?t[i](Ext.coerce(l,r),r):!!s[n])&&u.push(s);return u},u=function(e,t){for(var n,i=[],r=0,o=e.length;o>r;r++)n=e[r],n.getItemId()===t&&i.push(n);return i},h=function(t,n,i){return e.pseudos[n](t,i)},f=/^(\s?([>\^])\s?|\s|$)/,g=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,p=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:l},{re:/^(?:\[((?:@|\?)?[\w\-\$]*[^\^\$\*~%!])\s?(?:(=|.=)\s?['"]?(.*?)["']?)?\])/,method:c},{re:/^#([\w\-]+)/,method:u},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:h},{re:/^(?:\{([^\}]+)\})/,method:r}];e.Query=Ext.extend(Object,{constructor:function(e){e=e||{},Ext.apply(this,e)},execute:function(e){var t,n,i=this.operations,r=0,l=i.length;for(e?Ext.isIterable(e)?n=e:e.isMixedCollection&&(n=e.items):n=Ext.ComponentManager.all.getArray();l>r;r++)if(t=i[r],n="^"===t.mode?s(n||[e]):t.mode?a(n||[e],t.mode):o(n||a([e]),t),r===l-1)return n;return[]},is:function(e){var t,n,i=this.operations,r=Ext.isArray(e)?e:[e],a=r.length,s=i[i.length-1];if(r=o(r,s),r.length===a){if(i.length>1)for(n=0,t=r.length;t>n;n++)if(-1===Ext.Array.indexOf(this.execute(),r[n]))return!1;return!0}return!1}}),Ext.apply(this,{cache:{},pseudos:{not:function(e,t){for(var n,i=Ext.ComponentQuery,r=0,o=e.length,a=[],s=-1;o>r;++r)n=e[r],i.is(n,t)||(a[++s]=n);return a},first:function(e){var t=[];return e.length>0&&t.push(e[0]),t},last:function(e){var t=e.length,n=[];return t>0&&n.push(e[t-1]),n},focusable:function(e){for(var t,n=e.length,i=[],r=0;n>r;r++)t=e[r],t.isFocusable()&&i.push(t);return i},"nth-child":function(e,t){var r,o,a,s=[],l=n.exec("even"==t&&"2n"||"odd"==t&&"2n+1"||!i.test(t)&&"n+"+t||t),d=(l[1]||1)-0,c=l[2]-0;for(r=0;o=e[r];r++)a=r+1,1==d?(0==c||a==c)&&s.push(o):0==(a+c)%d&&s.push(o);return s}},query:function(e,t){for(var n,i,r,o=e.split(","),a=o.length,s=0,l=[],d=[],c={};a>s;s++)e=Ext.String.trim(o[s]),n=this.cache[e]||(this.cache[e]=this.parse(e)),l=l.concat(n.execute(t));if(a>1){for(i=l.length,s=0;i>s;s++)r=l[s],c[r.id]||(d.push(r),c[r.id]=!0);l=d}return l},is:function(e,t){if(!t)return!0;for(var n,i=t.split(","),r=i.length,o=0;r>o;o++)if(t=Ext.String.trim(i[o]),n=this.cache[t]||(this.cache[t]=this.parse(t)),n.is(e))return!0;return!1},parse:function(t){for(var n,i,r,o,a,s,c,h,m=[],x=p.length;t&&n!==t;){for(n=t,i=t.match(g),i&&(r=i[1],"#"===r?m.push({method:u,args:[Ext.String.trim(i[2])]}):"."===r?m.push({method:d,args:[Ext.String.trim(i[2])]}):m.push({method:l,args:[Ext.String.trim(i[2]),Boolean(i[3])]}),t=t.replace(i[0],""));!(o=t.match(f));)for(s=0;t&&x>s;s++){if(c=p[s],a=t.match(c.re),h=c.method,a){m.push({method:Ext.isString(c.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[h].concat(a.slice(1)))):c.method,args:a.slice(1)}),t=t.replace(a[0],"");break}s===x-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}o[1]&&(m.push({mode:o[2]||o[1]}),t=t.replace(o[0],""))}return new e.Query({operations:m})}})}),Ext.define("Ext.util.ProtoElement",function(){var e=Ext.String.splitWords,t=Ext.Array.toMap;return{isProtoEl:!0,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:!1,constructor:function(n){var i=this;Ext.apply(i,n),i.classList=e(i.cls),i.classMap=t(i.classList),delete i.cls,Ext.isFunction(i.style)?(i.styleFn=i.style,delete i.style):"string"==typeof i.style?i.style=Ext.Element.parseStyles(i.style):i.style&&(i.style=Ext.apply({},i.style))
},flush:function(){this.flushClassList=[],this.removedClasses={},delete this.style,delete this.unselectableAttr},addCls:function(t){for(var n,i=this,r="string"==typeof t?e(t):t,o=r.length,a=i.classList,s=i.classMap,l=i.flushClassList,d=0;o>d;++d)n=r[d],s[n]||(s[n]=!0,a.push(n),l&&(l.push(n),delete i.removedClasses[n]));return i},hasCls:function(e){return e in this.classMap},removeCls:function(n){var i,r,o=this,a=o.classList,s=o.classList=[],l=t(e(n)),d=a.length,c=o.classMap,u=o.removedClasses;for(i=0;d>i;++i)r=a[i],l[r]?(u&&c[r]&&(u[r]=!0,Ext.Array.remove(o.flushClassList,r)),delete c[r]):s.push(r);return o},setStyle:function(e,t){var n=this,i=n.style||(n.style={});return"string"==typeof e?1===arguments.length?n.setStyle(Ext.Element.parseStyles(e)):i[e]=t:Ext.apply(i,e),n},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls),Ext.isOpera&&(this.unselectableAttr=!0)},writeTo:function(e){var t,n=this,i=n.flushClassList||n.classList,r=n.removedClasses;return n.styleFn?(t=Ext.apply({},n.styleFn()),Ext.apply(t,n.style)):t=n.style,e[n.clsProp]=i.join(" "),t&&(e[n.styleProp]=n.styleIsText?Ext.DomHelper.generateStyles(t):t),r&&(r=Ext.Object.getKeys(r),r.length&&(e[n.removedProp]=r.join(" "))),n.unselectableAttr&&(e.unselectable="on"),e}}}()),Ext.define("Ext.PluginManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.PluginMgr",singleton:!0,typeName:"ptype",create:function(e,t,n){var i;return e.init?i=e:(n?(e=Ext.apply({},e),e.cmp=n):n=e.cmp,e.xclass?i=Ext.create(e):(i=Ext.ClassManager.getByAlias("plugin."+(e.ptype||t)),"function"==typeof i&&(i=new i(e)))),i&&n&&i.setCmp&&!i.setCmpCalled&&(i.setCmp(n),i.setCmpCalled=!0),i},findByType:function(e,t){var n,i,r=[],o=this.types;for(n in o)o.hasOwnProperty(n)&&(i=o[n],i.type==e&&(!t||t===!0&&i.isDefault)&&r.push(i));return r}},function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}}),Ext.define("Ext.util.Filter",{id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,operator:null,statics:{createFilterFn:function(e){return e&&e.length?function(t){var n,i,r=!0,o=e.length;for(n=0;r&&o>n;n++)i=e[n],i.disabled||(r=r&&i.filterFn.call(i.scope||i,t));return r}:function(){return!0}}},operatorFns:{"<":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)<this.value},"<=":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)<=this.value},"=":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)==this.value},">=":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)>=this.value},">":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)>this.value},"!=":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)!=this.value}},constructor:function(e){var t=this;t.initialConfig=e,Ext.apply(t,e),t.filter=t.filter||t.filterFn,void 0===t.filter&&t.setValue(e.value)},setValue:function(e){var t=this;t.value=e,void 0===t.property||void 0===t.value||(t.filter=t.createFilterFn()),t.filterFn=t.filter},setFilterFn:function(e){this.filterFn=this.filter=e},createFilterFn:function(){var e=this,t=e.createValueMatcher(),n=e.property;return e.operator?e.operatorFns[e.operator]:function(i){var r=e.getRoot(i)[n];return null===t?null===r:t.test(r)}},getRoot:function(e){var t=this.root;return void 0===t?e:e[t]},createValueMatcher:function(){var e=this,t=e.value,n=e.anyMatch,i=e.exactMatch,r=e.caseSensitive,o=Ext.String.escapeRegex;return null===t?t:(t.exec||(t=String(t),n===!0?t=o(t):(t="^"+o(t),i===!0&&(t+="$")),t=new RegExp(t,r?"":"i")),t)},serialize:function(){var e=this,t=Ext.apply({},e.initialConfig);return t.value=e.value,t}},function(){this.prototype.operatorFns["=="]=this.prototype.operatorFns["="]}),Ext.define("Ext.util.AbstractMixedCollection",{mixins:{observable:Ext.util.Observable},isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(e,t){var n=this;1===arguments.length&&Ext.isObject(e)?(n.initialConfig=e,Ext.apply(n,e)):(n.allowFunctions=e===!0,t&&(n.getKey=t),n.initialConfig={allowFunctions:n.allowFunctions,getKey:n.getKey}),n.items=[],n.map={},n.keys=[],n.indexMap={},n.length=0,n.mixins.observable.constructor.call(n)},allowFunctions:!1,add:function(e,t){var n,i=this.length;return n=1===arguments.length?this.insert(i,e):this.insert(i,e,t)},getKey:function(e){return e.id},replace:function(e,t){var n,i,r=this;return 1==arguments.length&&(t=arguments[0],e=r.getKey(t)),n=r.map[e],"undefined"==typeof e||null===e||"undefined"==typeof n?r.add(e,t):(r.generation++,i=r.indexOfKey(e),r.items[i]=t,r.map[e]=t,r.hasListeners.replace&&r.fireEvent("replace",e,n,t),t)},updateKey:function(e,t){var n,i=this,r=i.map,o=i.indexMap,a=i.indexOfKey(e);a>-1&&(n=r[e],delete r[e],delete o[e],r[t]=n,o[t]=a,i.keys[a]=t,i.generation++)},addAll:function(e){var t,n=this;if(arguments.length>1||Ext.isArray(e))n.insert(n.length,arguments.length>1?arguments:e);else for(t in e)e.hasOwnProperty(t)&&(n.allowFunctions||"function"!=typeof e[t])&&n.add(t,e[t])},each:function(e,t){for(var n,i=Ext.Array.push([],this.items),r=0,o=i.length;o>r&&(n=i[r],e.call(t||n,n,r,o)!==!1);r++);},eachKey:function(e,t){for(var n=this.keys,i=this.items,r=0,o=n.length;o>r;r++)e.call(t||window,n[r],i[r],r,o)},findBy:function(e,t){for(var n=this.keys,i=this.items,r=0,o=i.length;o>r;r++)if(e.call(t||window,i[r],n[r]))return i[r];return null},find:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead."),this.findBy.apply(this,arguments)},insert:function(e,t,n){var i;return Ext.isIterable(t)?i=this.doInsert(e,t,n):(i=arguments.length>2?this.doInsert(e,[t],[n]):this.doInsert(e,[t]),i=i[0]),i},doInsert:function(e,t,n){var i,r,o,a,s,l,d,c=this,u=t.length,h=u,f=c.hasListeners.add,g={};if(null!=n)c.useLinearSearch=!0;else for(n=t,t=new Array(u),o=0;u>o;o++)t[o]=this.getKey(n[o]);for(c.suspendEvents(),o=0;u>o;o++)i=t[o],r=c.indexOfKey(i),-1!==r&&(e>r&&e--,c.removeAt(r)),null!=i&&(null!=g[i]&&(s=!0,h--),g[i]=o);if(c.resumeEvents(),s){l=t,d=n,t=new Array(h),n=new Array(h),o=0;for(i in g)t[o]=l[g[i]],n[o]=d[g[i]],o++;u=h}for(a=e===c.length&&c.indexGeneration===c.generation,Ext.Array.insert(c.items,e,n),Ext.Array.insert(c.keys,e,t),c.length+=u,c.generation++,a&&(c.indexGeneration=c.generation),o=0;u>o;o++,e++)i=t[o],null!=i&&(c.map[i]=n[o],a&&(c.indexMap[i]=e)),f&&c.fireEvent("add",e,n[o],i);return n},remove:function(e){var t,n,i=this;return n=!i.useLinearSearch&&(t=i.getKey(e))?i.indexOfKey(t):Ext.Array.indexOf(i.items,e),-1===n?!1:i.removeAt(n)},removeAll:function(e){var t,n=this;if(e||n.hasListeners.remove)if(e)for(t=e.length-1;t>=0;--t)n.remove(e[t]);else for(;n.length;)n.removeAt(0);else n.length=n.items.length=n.keys.length=0,n.map={},n.indexMap={},n.generation++,n.indexGeneration=n.generation},removeAt:function(e){var t,n,i=this;return e<i.length&&e>=0?(i.length--,t=i.items[e],Ext.Array.erase(i.items,e,1),n=i.keys[e],"undefined"!=typeof n&&delete i.map[n],Ext.Array.erase(i.keys,e,1),i.hasListeners.remove&&i.fireEvent("remove",t,n),i.generation++,t):!1},removeRange:function(e,t){var n,i,r,o,a,s,l=this;if(e<l.length&&e>=0){for(t||(t=1),o=Math.min(e+t,l.length),t=o-e,s=o===l.length,a=s&&l.indexGeneration===l.generation,r=e;o>r;r++)i=l.keys[r],null!=i&&(delete l.map[i],a&&delete l.indexMap[i]);return n=l.items[r-1],l.length-=t,l.generation++,a&&(l.indexGeneration=l.generation),s?l.items.length=l.keys.length=l.length:(l.items.splice(e,t),l.keys.splice(e,t)),n}return!1},removeAtKey:function(e){var t,n=this,i=n.keys;if(null!=e)return n.removeAt(n.indexOfKey(e));for(t=i.length-1;t>=0;t--)null==i[t]&&n.removeAt(t)},getCount:function(){return this.length},indexOf:function(e){var t,n=this;return null!=e?!n.useLinearSearch&&(t=n.getKey(e))?this.indexOfKey(t):Ext.Array.indexOf(n.items,e):-1},indexOfKey:function(e){return this.map.hasOwnProperty(e)?(this.indexGeneration!==this.generation&&this.rebuildIndexMap(),this.indexMap[e]):-1},rebuildIndexMap:function(){var e,t=this,n=t.indexMap={},i=t.keys,r=i.length;for(e=0;r>e;e++)n[i[e]]=e;t.indexGeneration=t.generation},get:function(e){var t=this,n=t.map[e],i=void 0!==n?n:"number"==typeof e?t.items[e]:void 0;return"function"!=typeof i||t.allowFunctions?i:null},getAt:function(e){return this.items[e]},getByKey:function(e){return this.map[e]},contains:function(e){var t,n=this;return null!=e?!n.useLinearSearch&&(t=n.getKey(e))?null!=this.map[t]:-1!==Ext.Array.indexOf(this.items,e):!1},containsKey:function(e){return this.map.hasOwnProperty(e)},clear:function(){var e=this;e.generation&&(e.length=0,e.items=[],e.keys=[],e.map={},e.indexMap={},e.generation++,e.indexGeneration=e.generation),e.hasListeners.clear&&e.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(e,t,n,i){var r,o=this.extractValues(e,t),a=o.length,s=0;for(n=n||0,i=i||0===i?i:a-1,r=n;i>=r;r++)s+=o[r];return s},collect:function(e,t,n){var i,r,o,a=this.extractValues(e,t),s=a.length,l={},d=[];for(o=0;s>o;o++)i=a[o],r=String(i),!n&&Ext.isEmpty(i)||l[r]||(l[r]=!0,d.push(i));return d},extractValues:function(e,t){var n=this.items;return t&&(n=Ext.Array.pluck(n,t)),Ext.Array.pluck(n,e)},hasRange:function(e,t){return t<this.length},getRange:function(e,t){var n,i,r=this,o=r.items,a=[],s=o.length;return 1>s?a:(e>t&&(i=!0,n=e,e=t,t=n),0>e&&(e=0),(null==t||t>=s)&&(t=s-1),a=o.slice(e,t+1),i&&a.length&&a.reverse(),a)},filter:function(e,t,n,i){var r=[];return Ext.isString(e)?r.push(new Ext.util.Filter({property:e,value:t,anyMatch:n,caseSensitive:i})):(Ext.isArray(e)||e instanceof Ext.util.Filter)&&(r=r.concat(e)),this.filterBy(Ext.util.Filter.createFilterFn(r))},filterBy:function(e,t){var n,i=this,r=new i.self(i.initialConfig),o=i.keys,a=i.items,s=a.length;for(r.getKey=i.getKey,n=0;s>n;n++)e.call(t||i,a[n],o[n])&&r.add(o[n],a[n]);return r},findIndex:function(e,t,n,i,r){return Ext.isEmpty(t,!1)?-1:(t=this.createValueMatcher(t,i,r),this.findIndexBy(function(n){return n&&t.test(n[e])},null,n))},findIndexBy:function(e,t,n){for(var i=this,r=i.keys,o=i.items,a=n||0,s=o.length;s>a;a++)if(e.call(t||i,o[a],r[a]))return a;return-1},createValueMatcher:function(e,t,n,i){if(!e.exec){var r=Ext.String.escapeRegex;e=String(e),t===!0?e=r(e):(e="^"+r(e),i===!0&&(e+="$")),e=new RegExp(e,n?"":"i")}return e},clone:function(){var e=this,t=new this.self(e.initialConfig);return t.add(e.keys,e.items),t}}),Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(e){var t=this;Ext.apply(t,e),t.updateSortFunction()},createSortFunction:function(e){var t=this,n=t.direction||"ASC",i="DESC"==n.toUpperCase()?-1:1;return function(n,r){return i*e.call(t,n,r)}},defaultSorterFn:function(e,t){var n=this,i=n.transform,r=n.getRoot(e)[n.property],o=n.getRoot(t)[n.property];return i&&(r=i(r),o=i(o)),r>o?1:o>r?-1:0},getRoot:function(e){return void 0===this.root?e:e[this.root]},setDirection:function(e){var t=this;t.direction=e?e.toUpperCase():e,t.updateSortFunction()},toggle:function(){var e=this;e.direction=Ext.String.toggle(e.direction,"ASC","DESC"),e.updateSortFunction()},updateSortFunction:function(e){var t=this;e=e||t.sorterFn||t.defaultSorterFn,t.sort=t.createSortFunction(e)},serialize:function(){return{root:this.root,property:this.property,direction:this.direction}}}),Ext.define("Ext.util.Sortable",{isSortable:!0,defaultSortDirection:"ASC",statics:{createComparator:function(e){return e&&e.length?function(t,n){for(var i=e[0].sort(t,n),r=e.length,o=1;r>o;o++)i=i||e[o].sort.call(this,t,n);return i}:function(){return 0}}},initSortable:function(){var e=this,t=e.sorters;e.sorters=new Ext.util.AbstractMixedCollection(!1,function(e){return e.id||e.property}),t&&e.sorters.addAll(e.decodeSorters(t))},sort:function(e,t,n,i){var r,o,a=this;return Ext.isArray(e)?(i=n,n=t,o=e):Ext.isObject(e)?(i=n,n=t,o=[e]):Ext.isString(e)&&(r=a.sorters.get(e),r?void 0===t?r.toggle():r.setDirection(t):(r={property:e,direction:t},o=[r])),o&&o.length&&(o=a.decodeSorters(o),Ext.isString(n)?"prepend"===n?a.sorters.insert(0,o):a.sorters.addAll(o):(a.sorters.clear(),a.sorters.addAll(o))),i!==!1&&(a.fireEvent("beforesort",a,o),a.onBeforeSort(o),e=a.sorters.items,e.length&&a.doSort(a.generateComparator())),e},generateComparator:function(){var e=this.sorters.getRange();return e.length?this.createComparator(e):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(e){Ext.isArray(e)||(e=void 0===e?[]:[e]);var t,n,i,r=e.length,o=Ext.util.Sorter,a=this.model?this.model.prototype.fields:null;for(i=0;r>i;i++)n=e[i],n instanceof o||(Ext.isString(n)&&(n={property:n}),Ext.applyIf(n,{root:this.sortRoot,direction:"ASC"}),n.fn&&(n.sorterFn=n.fn),"function"==typeof n&&(n={sorterFn:n}),a&&!n.transform&&(t=a.get(n.property),n.transform=t&&t.sortType!==Ext.identityFn?t.sortType:void 0),e[i]=new Ext.util.Sorter(n));return e},getSorters:function(){return this.sorters.items},getFirstSorter:function(){for(var e,t=this.sorters.items,n=t.length,i=0;n>i;++i)if(e=t[i],!e.isGrouper)return e;return null}},function(){this.prototype.createComparator=this.createComparator}),Ext.define("Ext.util.MixedCollection",{extend:Ext.util.AbstractMixedCollection,mixins:{sortable:Ext.util.Sortable},constructor:function(){var e=this;e.callParent(arguments),e.addEvents("sort"),e.mixins.sortable.initSortable.call(e)},doSort:function(e){this.sortBy(e)},_sort:function(e,t,n){var i,r,o,a=this,s="DESC"==String(t).toUpperCase()?-1:1,l=[],d=a.keys,c=a.items;for(n=n||function(e,t){return e-t},i=0,r=c.length;r>i;i++)l[l.length]={key:d[i],value:c[i],index:i};for(Ext.Array.sort(l,function(t,i){return n(t[e],i[e])*s||(t.index<i.index?-1:1)}),i=0,r=l.length;r>i;i++)o=l[i],c[i]=o.value,d[i]=o.key,a.indexMap[o.key]=i;a.generation++,a.indexGeneration=a.generation,a.fireEvent("sort",a)},sortBy:function(e){var t,n,i,r=this,o=r.items,a=r.keys,s=o.length;for(i=0;s>i;i++)o[i].$extCollectionIndex=i;for(Ext.Array.sort(o,function(t,n){return e(t,n)||(t.$extCollectionIndex<n.$extCollectionIndex?-1:1)}),i=0;s>i;i++)t=o[i],n=r.getKey(t),a[i]=n,r.indexMap[n]=i,delete o.$extCollectionIndex;r.generation++,r.indexGeneration=r.generation,r.fireEvent("sort",r,o,a)},findInsertionIndex:function(e,t){var n,i,r=this,o=r.items,a=0,s=o.length-1;for(t||(t=r.generateComparator());s>=a;)n=a+s>>1,i=t(e,o[n]),i>=0?a=n+1:0>i&&(s=n-1);return a},reorder:function(e){var t,n=this,i=n.items,r=0,o=i.length,a=[],s=[];n.suspendEvents();for(t in e)a[e[t]]=i[t];for(r=0;o>r;r++)void 0==e[r]&&s.push(i[r]);for(r=0;o>r;r++)void 0==a[r]&&(a[r]=s.shift());n.clear(),n.addAll(a),n.resumeEvents(),n.fireEvent("sort",n)},sortByKey:function(e,t){this._sort("key",e,t||function(e,t){var n=String(e).toUpperCase(),i=String(t).toUpperCase();return n>i?1:i>n?-1:0})}}),Ext.define("Ext.fx.target.Target",{isAnimTarget:!0,constructor:function(e){this.target=e,this.id=this.getId()},getId:function(){return this.target.id}}),Ext.define("Ext.fx.target.Element",{extend:Ext.fx.target.Target,type:"element",getElVal:function(e,t,n){return void 0==n&&(n="x"===t?e.getX():"y"===t?e.getY():"scrollTop"===t?e.getScroll().top:"scrollLeft"===t?e.getScroll().left:"height"===t?e.getHeight():"width"===t?e.getWidth():e.getStyle(t)),n},getAttr:function(e,t){var n=this.target;return[[n,this.getElVal(n,e,t)]]},setAttr:function(e){var t,n,i,r,o,a,s=(this.target,e.length);for(r=0;s>r;r++){t=e[r].attrs;for(n in t)if(t.hasOwnProperty(n))for(a=t[n].length,o=0;a>o;o++)i=t[n][o],this.setElVal(i[0],n,i[1])}},setElVal:function(e,t,n){"x"===t?e.setX(n):"y"===t?e.setY(n):"scrollTop"===t?e.scrollTo("top",n):"scrollLeft"===t?e.scrollTo("left",n):"width"===t?e.setWidth(n):"height"===t?e.setHeight(n):e.setStyle(t,n)}}),Ext.define("Ext.fx.target.ElementCSS",{extend:Ext.fx.target.Element,setAttr:function(e,t){var n,i,r,o,a,s,l,d,c,u={attrs:[],duration:[],easing:[]},h=e.length;for(l=0;h>l;l++){i=e[l],a=i.duration,o=i.easing,i=i.attrs;for(r in i)-1==Ext.Array.indexOf(u.attrs,r)&&(u.attrs.push(r.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})),u.duration.push(a+"ms"),u.easing.push(o))}for(n=u.attrs.join(","),a=u.duration.join(","),o=u.easing.join(", "),l=0;h>l;l++){i=e[l].attrs;for(r in i)for(c=i[r].length,d=0;c>d;d++)s=i[r][d],s[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",t?"":n),s[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",t?"":a),s[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",t?"":o),s[0].setStyle(r,s[1]),t?s=s[0].dom.offsetWidth:s[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},s[0],{single:!0})}}}),Ext.define("Ext.fx.target.CompositeElement",{extend:Ext.fx.target.Element,isComposite:!0,constructor:function(e){e.id=e.id||Ext.id(null,"ext-composite-"),this.callParent([e])},getAttr:function(e,t){var n,i,r=[],o=this.target,a=o.elements,s=a.length;for(n=0;s>n;n++)i=a[n],i&&(i=o.getElement(i),r.push([i,this.getElVal(i,e,t)]));return r},setAttr:function(e){var t,n,i,r,o,a,s,l=this.target,d=e.length,c=l.elements,u=c.length;for(o=0;d>o;o++){i=e[o].attrs;for(r in i)if(i.hasOwnProperty(r))for(s=i[r].length,a=0;s>a;a++)for(t=i[r][a][1],n=0;u>n;++n)el=c[n],el&&(el=l.getElement(el),this.setElVal(el,r,t))}}}),Ext.define("Ext.fx.target.CompositeElementCSS",{extend:Ext.fx.target.CompositeElement,setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}}),Ext.define("Ext.fx.target.Sprite",{extend:Ext.fx.target.Target,type:"draw",getFromPrim:function(e,t){var n;switch(t){case"rotate":case"rotation":return n=e.attr.rotation,{x:n.x||0,y:n.y||0,degrees:n.degrees||0};case"scale":case"scaling":return n=e.attr.scaling,{x:n.x||1,y:n.y||1,cx:n.cx||0,cy:n.cy||0};case"translate":case"translation":return n=e.attr.translation,{x:n.x||0,y:n.y||0};default:return e.attr[t]}},getAttr:function(e,t){return[[this.target,void 0!=t?t:this.getFromPrim(this.target,e)]]},setAttr:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f=e.length,g=[];for(l=0;f>l;l++){t=e[l].attrs;for(n in t)for(i=t[n],h=i.length,d=0;h>d;d++)o=i[d][0],r=i[d][1],"translate"===n||"translation"===n?s={x:r.x,y:r.y}:"rotate"===n||"rotation"===n?(c=r.x,isNaN(c)&&(c=null),u=r.y,isNaN(u)&&(u=null),s={degrees:r.degrees,x:c,y:u}):"scale"===n||"scaling"===n?(c=r.x,isNaN(c)&&(c=null),u=r.y,isNaN(u)&&(u=null),s={x:c,y:u,cx:r.cx,cy:r.cy}):s="width"===n||"height"===n||"x"===n||"y"===n?parseFloat(r):r,a=Ext.Array.indexOf(g,o),-1==a&&(g.push([o,{}]),a=g.length-1),g[a][1][n]=s}for(f=g.length,l=0;f>l;l++)g[l][0].setAttributes(g[l][1]);this.target.redraw()}}),Ext.define("Ext.fx.target.CompositeSprite",{extend:Ext.fx.target.Sprite,getAttr:function(e,t){var n,i,r=[],o=[].concat(this.target.items),a=o.length;for(n=0;a>n;n++)i=o[n],r.push([i,void 0!=t?t:this.getFromPrim(i,e)]);return r}}),Ext.define("Ext.fx.target.Component",{extend:Ext.fx.target.Target,type:"component",getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(e,t){return[[this.target,void 0!==t?t:this.getPropMethod[e].call(this.target)]]},setAttr:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,g=this,p=e.length,m={};for(a=0;p>a;a++){i=e[a].attrs;for(r in i)for(l=i[r].length,s=0;l>s;s++)o=i[r][s],f=m[g.setMethods[r]]||(m[g.setMethods[r]]={}),f.target=o[0],f[r]=o[1];m.setPosition&&(o=m.setPosition,d=void 0===o.left?void 0:parseFloat(o.left),c=void 0===o.top?void 0:parseFloat(o.top),o.target.setPosition(d,c)),m.setPagePosition&&(o=m.setPagePosition,o.target.setPagePosition(o.x,o.y)),m.setSize&&(o=m.setSize,u=void 0===o.width?o.target.getWidth():parseFloat(o.width),h=void 0===o.height?o.target.getHeight():parseFloat(o.height),o.target.el.setSize(u,h),(n||g.dynamic)&&Ext.globalEvents.on({idle:Ext.Function.bind(o.target.setSize,o.target,[u,h]),single:!0})),m.setOpacity&&(o=m.setOpacity,o.target.el.setStyle("opacity",o.opacity))}}}),Ext.define("Ext.fx.Queue",{constructor:function(){this.targets=new Ext.util.HashMap,this.fxQueue={}},getFxDefaults:function(e){var t=this.targets.get(e);return t?t.fxDefaults:{}},setFxDefaults:function(e,t){var n=this.targets.get(e);n&&(n.fxDefaults=Ext.apply(n.fxDefaults||{},t))},stopAnimation:function(e){for(var t=this,n=t.getFxQueue(e),i=n.length;i;)n[i-1].end(),i--},getActiveAnimation:function(e){var t=this.getFxQueue(e);return t&&t.length?t[0]:!1},hasFxBlock:function(e){var t=this.getFxQueue(e);return t&&t[0]&&t[0].block},getFxQueue:function(e){if(!e)return!1;var t=this,n=t.fxQueue[e],i=t.targets.get(e);return i?(n||(t.fxQueue[e]=[],"element"!=i.type&&i.target.on("destroy",function(){t.fxQueue[e]=[]})),t.fxQueue[e]):!1},queueFx:function(e){var t,n,i=this,r=e.target;r&&(t=i.getFxQueue(r.getId()),n=t.length,n?e.concurrent?e.paused=!1:t[n-1].on("afteranimate",function(){e.paused=!1}):e.paused=!1,e.on("afteranimate",function(){if(Ext.Array.remove(t,e),0===t.length&&i.targets.remove(e.target),e.remove&&"element"==r.type){var n=Ext.get(r.id);n&&n.remove()}},i,{single:!0}),t.push(e))}}),Ext.define("Ext.fx.Manager",{singleton:!0,mixins:{queue:Ext.fx.Queue},constructor:function(){var e=this;e.items=new Ext.util.MixedCollection,e.mixins.queue.constructor.call(e),e.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:!0,createTarget:function(e){var t,n=this,i=!n.forceJS&&Ext.supports.Transitions;if(n.useCSS3=i,e){if(e.tagName||Ext.isString(e)||e.isFly)e=Ext.get(e),t=new Ext.fx.target["Element"+(i?"CSS":"")](e);else if(e.dom)t=new Ext.fx.target["Element"+(i?"CSS":"")](e);else if(e.isComposite)t=new Ext.fx.target["CompositeElement"+(i?"CSS":"")](e);else if(e.isSprite)t=new Ext.fx.target.Sprite(e);else if(e.isCompositeSprite)t=new Ext.fx.target.CompositeSprite(e);else{if(!e.isComponent)return e.isAnimTarget?e:null;t=new Ext.fx.target.Component(e)}return n.targets.add(t),t}return null},addAnim:function(e){var t=this,n=t.items,i=t.task;n.add(e.id,e),!i&&n.length&&(i=t.task={run:t.runner,interval:t.interval,scope:t},t.taskRunner.start(i))},removeAnim:function(e){var t=this,n=t.items,i=t.task;n.removeAtKey(e.id),i&&!n.length&&(t.taskRunner.stop(i),delete t.task)},runner:function(){var e,t=this,n=t.items.getRange(),i=0,r=n.length;for(t.targetArr={},t.timestamp=new Date;r>i;i++)e=n[i],e.isReady()&&t.startAnim(e);for(i=0;r>i;i++)e=n[i],e.isRunning()&&t.runAnim(e);t.applyPendingAttrs()},startAnim:function(e){e.start(this.timestamp)},runAnim:function(e){if(e){var t,n,i=this,r=i.useCSS3&&"element"==e.target.type,o=i.timestamp-e.startTime,a=o>=e.duration;t=this.collectTargetData(e,o,r,a),r&&(e.target.setAttr(t.anims[e.id].attributes,!0),i.collectTargetData(e,e.duration,r,a),e.paused=!0,t=e.target.target,e.target.isComposite&&(t=e.target.target.last()),n={},n[Ext.supports.CSS3TransitionEnd]=e.lastFrame,n.scope=e,n.single=!0,t.on(n))}},collectTargetData:function(e,t,n,i){var r=e.target.getId(),o=this.targetArr[r];return o||(o=this.targetArr[r]={id:r,el:e.target,anims:{}}),o.anims[e.id]={id:e.id,anim:e,elapsed:t,isLastFrame:i,attributes:[{duration:e.duration,easing:n&&e.reverse?e.easingFn.reverse().toCSS3():e.easing,attrs:e.runAnim(t)}]},o},applyPendingAttrs:function(){var e,t,n,i,r,o=this.targetArr;for(t in o)if(o.hasOwnProperty(t)){e=o[t];for(r in e.anims)e.anims.hasOwnProperty(r)&&(n=e.anims[r],i=n.anim,n.attributes&&i.isRunning()&&(e.el.setAttr(n.attributes,!1,n.isLastFrame),n.isLastFrame&&i.lastFrame()))}}}),Ext.define("Ext.fx.Animator",{mixins:{observable:Ext.util.Observable},isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(e){var t=this;e=Ext.apply(t,e||{}),t.config=e,t.id=Ext.id(null,"ext-animator-"),t.addEvents("beforeanimate","keyframe","afteranimate"),t.mixins.observable.constructor.call(t,e),t.timeline=[],t.createTimeline(t.keyframes),t.target&&(t.applyAnimator(t.target),Ext.fx.Manager.addAnim(t))},sorter:function(e,t){return e.pct-t.pct},createTimeline:function(e){var t,n,i,r,o,a,s=this,l=[],d=s.to||{},c=s.duration;for(o in e)e.hasOwnProperty(o)&&s.animKeyFramesRE.test(o)&&(a={attrs:Ext.apply(e[o],d)},"from"==o?o=0:"to"==o&&(o=100),a.pct=parseInt(o,10),l.push(a));for(Ext.Array.sort(l,s.sorter),r=l.length,i=0;r>i;i++)t=l[i-1]?c*(l[i-1].pct/100):0,n=c*(l[i].pct/100),s.timeline.push({duration:n-t,attrs:l[i].attrs})},applyAnimator:function(e){var t,n,i,r,o,a=this,s=[],l=a.timeline,d=l.length;if(a.fireEvent("beforeanimate",a)!==!1){for(o=0;d>o;o++)t=l[o],r=t.attrs,n=r.easing||a.easing,i=r.damper||a.damper,delete r.easing,delete r.damper,t=new Ext.fx.Anim({target:e,easing:n,damper:i,duration:t.duration,paused:!0,to:r}),s.push(t);for(a.animations=s,a.target=t.target,o=0;d-1>o;o++)t=s[o],t.nextAnim=s[o+1],t.on("afteranimate",function(){this.nextAnim.paused=!1}),t.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},a);s[d-1].on("afteranimate",function(){this.lastFrame()},a)}},start:function(e){var t,n=this,i=n.delay,r=n.delayStart;if(i){if(!r)return n.delayStart=e,void 0;if(t=e-r,i>t)return;e=new Date(r.getTime()+i)}n.fireEvent("beforeanimate",n)!==!1&&(n.startTime=e,n.running=!0,n.animations[n.keyframeStep].paused=!1)},lastFrame:function(){var e=this,t=e.iterations,n=e.currentIteration;n++,t>n?(e.startTime=new Date,e.currentIteration=n,e.keyframeStep=0,e.applyAnimator(e.target),e.animations[e.keyframeStep].paused=!1):(e.currentIteration=0,e.end())},end:function(){var e=this;e.fireEvent("afteranimate",e,e.startTime,new Date-e.startTime)},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return!1}}),Ext.define("Ext.fx.CubicBezier",{singleton:!0,cubicBezierAtTime:function(e,t,n,i,r,o){function a(e){return((u*e+c)*e+d)*e}function s(e,t){var n=l(e,t);return((g*n+f)*n+h)*n}function l(e,t){var n,i,r,o,s,l;for(r=e,l=0;8>l;l++){if(o=a(r)-e,Math.abs(o)<t)return r;if(s=(3*u*r+2*c)*r+d,Math.abs(s)<1e-6)break;r-=o/s}if(n=0,i=1,r=e,n>r)return n;if(r>i)return i;for(;i>n;){if(o=a(r),Math.abs(o-e)<t)return r;e>o?n=r:i=r,r=(i-n)/2+n}return r}var d=3*t,c=3*(i-t)-d,u=1-d-c,h=3*n,f=3*(r-n)-h,g=1-h-f;return s(e,1/(200*o))},cubicBezier:function(e,t,n,i){var r=function(r){return Ext.fx.CubicBezier.cubicBezierAtTime(r,e,t,n,i,1)};return r.toCSS3=function(){return"cubic-bezier("+[e,t,n,i].join(",")+")"},r.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-n,1-i,1-e,1-t)},r}}),Ext.require("Ext.fx.CubicBezier",function(){var e=Math,t=e.PI,n=e.pow,i=e.sin,r=e.sqrt,o=e.abs,a=1.70158;Ext.define("Ext.fx.Easing",{singleton:!0,linear:Ext.identityFn,ease:function(e){var t=.07813-e/2,i=r(.0066+t*t),a=i-t,s=n(o(a),1/3)*(0>a?-1:1),l=-i-t,d=n(o(l),1/3)*(0>l?-1:1),c=s+d+.25;return.1*3*n(1-c,2)*c+3*(1-c)*c*c+c*c*c},easeIn:function(e){return n(e,1.7)},easeOut:function(e){return n(e,.48)},easeInOut:function(e){var t=.48-e/1.04,i=r(.1734+t*t),a=i-t,s=n(o(a),1/3)*(0>a?-1:1),l=-i-t,d=n(o(l),1/3)*(0>l?-1:1),c=s+d+.5;return 3*(1-c)*c*c+c*c*c},backIn:function(e){return e*e*((a+1)*e-a)},backOut:function(e){return e-=1,e*e*((a+1)*e+a)+1},elasticIn:function(e){if(0===e||1===e)return e;var r=.3,o=r/4;return n(2,-10*e)*i((e-o)*2*t/r)+1},elasticOut:function(e){return 1-Ext.fx.Easing.elasticIn(1-e)},bounceIn:function(e){return 1-Ext.fx.Easing.bounceOut(1-e)},bounceOut:function(e){var t,n=7.5625,i=2.75;return 1/i>e?t=n*e*e:2/i>e?(e-=1.5/i,t=n*e*e+.75):2.5/i>e?(e-=2.25/i,t=n*e*e+.9375):(e-=2.625/i,t=n*e*e+.984375),t}},function(){var e=Ext.fx.Easing.self,t=e.prototype;e.implement({"back-in":t.backIn,"back-out":t.backOut,"ease-in":t.easeIn,"ease-out":t.easeOut,"elastic-in":t.elasticIn,"elastic-out":t.elasticOut,"bounce-in":t.bounceIn,"bounce-out":t.bounceOut,"ease-in-out":t.easeInOut})})}),Ext.define("Ext.draw.Color",{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:.2,constructor:function(e,t,n){var i=this,r=Ext.Number.constrain;i.r=r(e,0,255),i.g=r(t,0,255),i.b=r(n,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){var e=this;return[e.r,e.g,e.b]},getHSL:function(){var e,t=this,n=t.r/255,i=t.g/255,r=t.b/255,o=Math.max(n,i,r),a=Math.min(n,i,r),s=o-a,l=0,d=.5*(o+a);return a!=o&&(l=.5>d?s/(o+a):s/(2-o-a),e=n==o?60*(i-r)/s:i==o?120+60*(r-n)/s:240+60*(n-i)/s,0>e&&(e+=360),e>=360&&(e-=360)),[e,l,d]},getLighter:function(e){var t=this.getHSL();return e=e||this.lightnessFactor,t[2]=Ext.Number.constrain(t[2]+e,0,1),this.fromHSL(t[0],t[1],t[2])},getDarker:function(e){return e=e||this.lightnessFactor,this.getLighter(-e)},toString:function(){var e=this,t=Math.round,n=t(e.r).toString(16),i=t(e.g).toString(16),r=t(e.b).toString(16);return n=1==n.length?"0"+n:n,i=1==i.length?"0"+i:i,r=1==r.length?"0"+r:r,["#",n,i,r].join("")},toHex:function(e){if(Ext.isArray(e)&&(e=e[0]),!Ext.isString(e))return"";if("#"===e.substr(0,1))return e;var t,n,i,r,o=this.colorToHexRe.exec(e);return Ext.isArray(o)?(t=parseInt(o[2],10),n=parseInt(o[3],10),i=parseInt(o[4],10),r=i|n<<8|t<<16,o[1]+"#"+("000000"+r.toString(16)).slice(-6)):e},fromString:function(e){var t,n,i,r,o=parseInt;return 4!=e.length&&7!=e.length||"#"!==e.substr(0,1)?(t=e.match(this.rgbRe),t&&(n=t[1],i=t[2],r=t[3])):(t=e.match(this.hexRe),t&&(n=o(t[1],16)>>0,i=o(t[2],16)>>0,r=o(t[3],16)>>0,4==e.length&&(n+=16*n,i+=16*i,r+=16*r))),"undefined"==typeof n?void 0:new Ext.draw.Color(n,i,r)},getGrayscale:function(){return.3*this.r+.59*this.g+.11*this.b},fromHSL:function(e,t,n){var i,r,o,a=[],s=Math.abs,l=Math.floor;if(0==t||null==e)a=[n,n,n];else{switch(e/=60,i=t*(1-s(2*n-1)),r=i*(1-s(e-2*l(e/2)-1)),o=n-i/2,l(e)){case 0:a=[i,r,0];break;case 1:a=[r,i,0];break;case 2:a=[0,i,r];break;case 3:a=[0,r,i];break;case 4:a=[r,0,i];break;case 5:a=[i,0,r]}a=[a[0]+o,a[1]+o,a[2]+o]}return new Ext.draw.Color(255*a[0],255*a[1],255*a[2])}},function(){var e=this.prototype;this.addStatics({fromHSL:function(){return e.fromHSL.apply(e,arguments)},fromString:function(){return e.fromString.apply(e,arguments)},toHex:function(){return e.toHex.apply(e,arguments)}})}),Ext.define("Ext.draw.Draw",{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(e,t){return t=String(t).toLowerCase(),"object"==t&&e===Object(e)||"undefined"==t&&typeof e==t||"null"==t&&null===e||"array"==t&&Array.isArray&&Array.isArray(e)||Object.prototype.toString.call(e).toLowerCase().slice(8,-1)==t},ellipsePath:function(e){var t=e.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",t.x,t.y-t.ry,t.rx,t.ry,t.y+t.ry)},rectPath:function(e){var t=e.attr;return t.radius?Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",t.x+t.radius,t.y,t.width-2*t.radius,t.radius,-t.radius,t.height-2*t.radius,2*t.radius-t.width,2*t.radius-t.height):Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",t.x,t.y,t.width+t.x,t.height+t.y)
},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(e){return e.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(e){if(!e)return null;var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=[],i=this;return i.is(e,"array")&&i.is(e[0],"array")&&(n=i.pathClone(e)),n.length||String(e).replace(i.pathCommandRE,function(e,r,o){var a=[],s=r.toLowerCase();for(o.replace(i.pathValuesRE,function(e,t){t&&a.push(+t)}),"m"==s&&a.length>2&&(n.push([r].concat(Ext.Array.splice(a,0,2))),s="l",r="m"==r?"l":"L");a.length>=t[s]&&(n.push([r].concat(Ext.Array.splice(a,0,t[s]))),t[s]););}),n.toString=i.path2string,n},mapPath:function(e,t){if(!t)return e;var n,i,r,o,a,s,l;for(e=this.path2curve(e),r=0,o=e.length;o>r;r++)for(l=e[r],a=1,s=l.length;s-1>a;a+=2)n=t.x(l[a],l[a+1]),i=t.y(l[a],l[a+1]),l[a]=n,l[a+1]=i;return e},pathClone:function(e){var t,n,i,r,o=[];for(this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e)),i=0,r=e.length;r>i;i++)for(o[i]=[],t=0,n=e[i].length;n>t;t++)o[i][t]=e[i][t];return o.toString=this.path2string,o},pathToAbsolute:function(e){this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e));var t,n,i,r,o=[],a=0,s=0,l=0,d=0,c=0,u=e.length;for(u&&"M"==e[0][0]&&(a=+e[0][1],s=+e[0][2],l=a,d=s,c++,o[0]=["M",a,s]);u>c;c++){if(t=o[c]=[],n=e[c],n[0]!=n[0].toUpperCase())switch(t[0]=n[0].toUpperCase(),t[0]){case"A":t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=+(n[6]+a),t[7]=+(n[7]+s);break;case"V":t[1]=+n[1]+s;break;case"H":t[1]=+n[1]+a;break;case"M":l=+n[1]+a,d=+n[2]+s;default:for(i=1,r=n.length;r>i;i++)t[i]=+n[i]+(i%2?a:s)}else for(i=0,r=n.length;r>i;i++)o[c][i]=n[i];switch(t[0]){case"Z":a=l,s=d;break;case"H":a=t[1];break;case"V":s=t[1];break;case"M":n=o[c],r=n.length,l=n[r-2],d=n[r-1];default:n=o[c],r=n.length,a=n[r-2],s=n[r-1]}}return o.toString=this.path2string,o},pathToRelative:function(e){this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e));var t,n,i,r,o,a,s,l,d,c=[],u=0,h=0,f=0,g=0,p=0;for("M"==e[0][0]&&(u=e[0][1],h=e[0][2],f=u,g=h,p++,c.push(["M",u,h])),i=p,s=e.length;s>i;i++){if(t=c[i]=[],n=e[i],n[0]!=n[0].toLowerCase())switch(t[0]=n[0].toLowerCase(),t[0]){case"a":t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=+(n[6]-u).toFixed(3),t[7]=+(n[7]-h).toFixed(3);break;case"v":t[1]=+(n[1]-h).toFixed(3);break;case"m":f=n[1],g=n[2];default:for(r=1,l=n.length;l>r;r++)t[r]=+(n[r]-(r%2?u:h)).toFixed(3)}else for(t=c[i]=[],"m"==n[0]&&(f=n[1]+u,g=n[2]+h),o=0,d=n.length;d>o;o++)c[i][o]=n[o];switch(a=c[i].length,c[i][0]){case"z":u=f,h=g;break;case"h":u+=+c[i][a-1];break;case"v":h+=+c[i][a-1];break;default:u+=+c[i][a-2],h+=+c[i][a-1]}}return c.toString=this.path2string,c},path2curve:function(e){var t,n,i,r,o=this,a=o.pathToAbsolute(e),s=a.length,l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};for(t=0;s>t;t++){if(a[t]=o.command2curve(a[t],l),a[t].length>7){for(a[t].shift(),r=a[t];r.length;)Ext.Array.splice(a,t++,0,["C"].concat(Ext.Array.splice(r,0,6)));Ext.Array.erase(a,t,1),s=a.length,t--}n=a[t],i=n.length,l.x=n[i-2],l.y=n[i-1],l.bx=parseFloat(n[i-4])||l.x,l.by=parseFloat(n[i-3])||l.y}return a},interpolatePaths:function(e,t){var n,i,r,o,a,s,l=this,d=l.pathToAbsolute(e),c=l.pathToAbsolute(t),u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)Ext.Array.splice(e,t++,0,["C"].concat(Ext.Array.splice(n,0,6)));Ext.Array.erase(e,t,1),i=Math.max(d.length,c.length||0)}},g=function(e,t,n,r,o){e&&t&&"M"==e[o][0]&&"M"!=t[o][0]&&(Ext.Array.splice(t,o,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=e[o][1],n.y=e[o][2],i=Math.max(d.length,c.length||0))};for(n=0,i=Math.max(d.length,c.length||0);i>n;n++)d[n]=l.command2curve(d[n],u),f(d,n),c[n]=l.command2curve(c[n],h),f(c,n),g(d,c,u,h,n),g(c,d,h,u,n),r=d[n],o=c[n],a=r.length,s=o.length,u.x=r[a-2],u.y=r[a-1],u.bx=parseFloat(r[a-4])||u.x,u.by=parseFloat(r[a-3])||u.y,h.bx=parseFloat(o[s-4])||h.x,h.by=parseFloat(o[s-3])||h.y,h.x=o[s-2],h.y=o[s-1];return[d,c]},command2curve:function(e,t){var n=this;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch("T"!=e[0]&&"Q"!=e[0]&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(n.arc2curve.apply(n,[t.x,t.y].concat(e.slice(1))));break;case"S":e=["C",t.x+(t.x-(t.bx||t.x)),t.y+(t.y-(t.by||t.y))].concat(e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"].concat(n.quadratic2curve(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(n.quadratic2curve(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(t.x,t.y,e[1],e[2],e[1],e[2]);break;case"H":e=["C"].concat(t.x,t.y,e[1],t.y,e[1],t.y);break;case"V":e=["C"].concat(t.x,t.y,t.x,e[1],t.x,e[1]);break;case"Z":e=["C"].concat(t.x,t.y,t.X,t.Y,t.X,t.Y)}return e},quadratic2curve:function(e,t,n,i,r,o){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*i,a*r+s*n,a*o+s*i,r,o]},rotate:function(e,t,n){var i=Math.cos(n),r=Math.sin(n),o=e*i-t*r,a=e*r+t*i;return{x:o,y:a}},arc2curve:function(e,t,n,i,r,o,a,s,l,d){var c,u,h,f,g,p,m,x,y,E,v,b,C,w,S,P,k,T,I,M,D,A,R,F,L,O,B,N,H,W=this,z=Math.PI,V=W.radian,G=120*z/180,X=V*(+r||0),Y=[],j=Math,_=j.cos,U=j.sin,K=j.sqrt,q=j.abs,$=j.asin;if(d?(E=d[0],v=d[1],x=d[2],y=d[3]):(c=W.rotate(e,t,-X),e=c.x,t=c.y,c=W.rotate(s,l,-X),s=c.x,l=c.y,u=(e-s)/2,h=(t-l)/2,f=u*u/(n*n)+h*h/(i*i),f>1&&(f=K(f),n=f*n,i=f*i),g=n*n,p=i*i,m=(o==a?-1:1)*K(q((g*p-g*h*h-p*u*u)/(g*h*h+p*u*u))),x=m*n*h/i+(e+s)/2,y=m*-i*u/n+(t+l)/2,E=$(((t-y)/i).toFixed(7)),v=$(((l-y)/i).toFixed(7)),E=x>e?z-E:E,v=x>s?z-v:v,0>E&&(E=2*z+E),0>v&&(v=2*z+v),a&&E>v&&(E-=2*z),!a&&v>E&&(v-=2*z)),b=v-E,q(b)>G&&(B=v,N=s,H=l,v=E+G*(a&&v>E?1:-1),s=x+n*_(v),l=y+i*U(v),Y=W.arc2curve(s,l,n,i,r,0,a,N,H,[v,B,x,y])),b=v-E,C=_(E),w=U(E),S=_(v),P=U(v),k=j.tan(b/4),T=4/3*n*k,I=4/3*i*k,M=[e,t],D=[e+T*w,t-I*C],A=[s+T*P,l-I*S],R=[s,l],D[0]=2*M[0]-D[0],D[1]=2*M[1]-D[1],d)return[D,A,R].concat(Y);for(Y=[D,A,R].concat(Y).join().split(","),F=[],O=Y.length,L=0;O>L;L++)F[L]=L%2?W.rotate(Y[L-1],Y[L],X).y:W.rotate(Y[L],Y[L+1],X).x;return F},rotateAndTranslatePath:function(e){var t,n,i,r,o,a=e.rotation.degrees,s=e.rotation.x,l=e.rotation.y,d=e.translation.x,c=e.translation.y,u=[];if(!a&&!d&&!c)return this.pathToAbsolute(e.attr.path);for(d=d||0,c=c||0,t=this.pathToAbsolute(e.attr.path),n=t.length;n--;)if(i=u[n]=t[n].slice(),"A"==i[0])r=this.rotatePoint(i[6],i[7],a,s,l),i[6]=r.x+d,i[7]=r.y+c;else for(o=1;null!=i[o+1];)r=this.rotatePoint(i[o],i[o+1],a,s,l),i[o]=r.x+d,i[o+1]=r.y+c,o+=2;return u},rotatePoint:function(e,t,n,i,r){if(!n)return{x:e,y:t};i=i||0,r=r||0,e-=i,t-=r,n*=this.radian;var o=Math.cos(n),a=Math.sin(n);return{x:e*o-t*a+i,y:e*a+t*o+r}},pathDimensions:function(e){if(!(e&&e+""))return{x:0,y:0,width:0,height:0};e=this.path2curve(e);for(var t,n,i,r,o,a,s=0,l=0,d=[],c=[],u=0,h=e.length;h>u;u++)t=e[u],"M"==t[0]?(s=t[1],l=t[2],d.push(s),c.push(l)):(a=this.curveDim(s,l,t[1],t[2],t[3],t[4],t[5],t[6]),d=d.concat(a.min.x,a.max.x),c=c.concat(a.min.y,a.max.y),s=t[5],l=t[6]);return n=Math.min.apply(0,d),i=Math.min.apply(0,c),r=Math.max.apply(0,d),o=Math.max.apply(0,c),{x:Math.round(n),y:Math.round(i),path:e,width:Math.round(r-n),height:Math.round(o-i)}},intersectInside:function(e,t,n){return(n[0]-t[0])*(e[1]-t[1])>(n[1]-t[1])*(e[0]-t[0])},intersectIntersection:function(e,t,n,i){var r=[],o=n[0]-i[0],a=n[1]-i[1],s=e[0]-t[0],l=e[1]-t[1],d=n[0]*i[1]-n[1]*i[0],c=e[0]*t[1]-e[1]*t[0],u=1/(o*l-a*s);return r[0]=(d*s-c*o)*u,r[1]=(d*l-c*a)*u,r},intersect:function(e,t){for(var n,i,r,o,a,s,l=this,d=0,c=t.length,u=t[c-1],h=e;c>d;++d){for(n=t[d],a=h,h=[],i=a[a.length-1],s=0,o=a.length;o>s;s++)r=a[s],l.intersectInside(r,u,n)?(l.intersectInside(i,u,n)||h.push(l.intersectIntersection(i,r,u,n)),h.push(r)):l.intersectInside(i,u,n)&&h.push(l.intersectIntersection(i,r,u,n)),i=r;u=n}return h},bezier:function(e,t,n,i,r){if(0===r)return e;if(1===r)return i;var o=1-r,a=o*o*o,s=r/o;return a*(e+s*(3*t+s*(3*n+i*s)))},bezierDim:function(e,t,n,i){var r,o,a,s,l,d,c,u,h,f,g=[];for(e+3*n==i+3*t?(r=e-t,r/=2*(e-t-t+n),1>r&&r>0&&g.push(r)):(o=e-3*t+3*n-i,a=2*(e-t-t+n),s=e-t,l=a*a-4*o*s,d=o+o,0===l?(r=a/d,1>r&&r>0&&g.push(r)):l>0&&(c=Math.sqrt(l),r=(c+a)/d,1>r&&r>0&&g.push(r),r=(a-c)/d,1>r&&r>0&&g.push(r))),u=Math.min(e,i),h=Math.max(e,i),f=0;f<g.length;f++)u=Math.min(u,this.bezier(e,t,n,i,g[f])),h=Math.max(h,this.bezier(e,t,n,i,g[f]));return[u,h]},curveDim:function(e,t,n,i,r,o,a,s){var l=this.bezierDim(e,n,r,a),d=this.bezierDim(t,i,o,s);return{min:{x:l[0],y:d[0]},max:{x:l[1],y:d[1]}}},getAnchors:function(e,t,n,i,r,o,a){a=a||4;var s,l,d,c,u,h,f,g,p,m=Math,x=m.PI,y=x/2,E=m.abs,v=m.sin,b=m.cos,C=m.atan;return s=(n-e)/a,l=(r-n)/a,i>=t&&i>=o||t>=i&&o>=i?d=c=y:(d=C((n-e)/E(i-t)),i>t&&(d=x-d),c=C((r-n)/E(i-o)),i>o&&(c=x-c)),p=y-(d+c)%(2*x)/2,p>y&&(p-=x),d+=p,c+=p,u=n-s*v(d),h=i+s*b(d),f=n+l*v(c),g=i+l*b(c),(i>t&&t>h||t>i&&h>t)&&(u+=E(t-h)*(u-n)/(h-i),h=t),(i>o&&o>g||o>i&&g>o)&&(f-=E(o-g)*(f-n)/(g-i),g=o),{x1:u,y1:h,x2:f,y2:g}},smooth:function(e,t){for(var n,i,r,o,a,s,l,d,c,u=this.path2curve(e),h=[u[0]],f=u[0][1],g=u[0][2],p=1,m=u.length,x=1,y=f,E=g;m>p;p++)if(r=u[p],o=r.length,a=u[p-1],s=a.length,l=u[p+1],d=l&&l.length,"M"!=r[0])r[o-2]!=y||r[o-1]!=E||l&&"M"!=l[0]?i=l&&"M"!=l[0]?this.getAnchors(a[s-2],a[s-1],r[o-2],r[o-1],l[d-2],l[d-1],t):{x1:r[o-2],y1:r[o-1]}:(c=h[x].length,i=this.getAnchors(a[s-2],a[s-1],y,E,h[x][c-2],h[x][c-1],t),h[x][1]=i.x2,h[x][2]=i.y2),h.push(["C",f,g,i.x1,i.y1,r[o-2],r[o-1]]),f=i.x2,g=i.y2;else{for(y=r[1],E=r[2],n=p+1;"C"!=u[n][0];)n++;h.push(["M",y,E]),x=h.length,f=y,g=E}return h},findDotAtSegment:function(e,t,n,i,r,o,a,s,l){var d=1-l;return{x:Math.pow(d,3)*e+3*Math.pow(d,2)*l*n+3*d*l*l*r+Math.pow(l,3)*a,y:Math.pow(d,3)*t+3*Math.pow(d,2)*l*i+3*d*l*l*o+Math.pow(l,3)*s}},snapEnds:function(e,t,n,i){if(Ext.isDate(e))return this.snapEndsByDate(e,t,n);var r,o,a,s,l,d,c=(t-e)/n,u=Math.floor(Math.log(c)/Math.LN10)+1,h=Math.pow(10,u),f=Math.round(c%h*Math.pow(10,2-u)),g=[[0,15],[10,1],[20,4],[25,2],[50,9],[100,15]],p=0,m=1e9,x=g.length;if(o=Math.floor(e/h)*h,e==o&&o>0&&(o=Math.floor((e-h/10)/h)*h),i){for(l=0;x>l;l++)a=g[l][0],s=0>a-f?1e6:(a-f)/g[l][1],m>s&&(d=a,m=s);if(c=Math.floor(c*Math.pow(10,-u))*Math.pow(10,u)+d*Math.pow(10,u-2),0>e&&t>=0){for(r=0;r>e;)r-=c,p++;for(e=+r.toFixed(10),r=0;t>r;)r+=c,p++;t=+r.toFixed(10)}else for(r=e=o;t>r;)r+=c,p++;t=+r.toFixed(10)}else e=o,p=n;return{from:e,to:t,power:u,step:c,steps:p}},snapEndsByDate:function(e,t,n,i){var r,o,a,s,l=!1,d=[[Ext.Date.MILLI,[1,2,5,10,20,50,100,200,250,500]],[Ext.Date.SECOND,[1,2,5,10,15,30]],[Ext.Date.MINUTE,[1,2,5,10,15,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,7,14]],[Ext.Date.MONTH,[1,2,3,6]]],c=d.length,u=!1;for(s=0;c>s;s++)if(r=d[s],!u)for(o=0;o<r[1].length;o++)if(t<Ext.Date.add(e,r[0],r[1][o]*n)){l=[r[0],r[1][o]],u=!0;break}return l||(a=this.snapEnds(e.getFullYear(),t.getFullYear()+1,n,i),l=[Date.YEAR,Math.round(a.step)]),this.snapEndsByDateAndStep(e,t,l,i)},snapEndsByDateAndStep:function(e,t,n,i){var r,o,a,s,l,d,c,u,h=[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()],f=n[0],g=n[1];if(i)o=e;else switch(f){case Ext.Date.MILLI:o=new Date(h[0],h[1],h[2],h[3],h[4],h[5],Math.floor(h[6]/g)*g);break;case Ext.Date.SECOND:o=new Date(h[0],h[1],h[2],h[3],h[4],Math.floor(h[5]/g)*g,0);break;case Ext.Date.MINUTE:o=new Date(h[0],h[1],h[2],h[3],Math.floor(h[4]/g)*g,0,0);break;case Ext.Date.HOUR:o=new Date(h[0],h[1],h[2],Math.floor(h[3]/g)*g,0,0,0);break;case Ext.Date.DAY:o=new Date(h[0],h[1],Math.floor((h[2]-1)/g)*g+1,0,0,0,0);break;case Ext.Date.MONTH:o=new Date(h[0],Math.floor(h[1]/g)*g,1,0,0,0,0);break;default:o=new Date(Math.floor(h[0]/g)*g,0,1,0,0,0,0)}for(u=f===Ext.Date.MONTH&&(.5==g||g==1/3||.25==g),r=u?[]:0,a=new Date(o);t>a;)if(u){switch(s=new Date(a),l=s.getFullYear(),d=s.getMonth(),c=s.getDate(),g){case.5:c>=15?(c=1,++d>11&&l++):c=15;break;case 1/3:c>=20?(c=1,++d>11&&l++):c=c>=10?20:10;break;case.25:c>=22?(c=1,++d>11&&l++):c=c>=15?22:c>=8?15:8}a.setYear(l),a.setMonth(d),a.setDate(c),r.push(new Date(a))}else a=Ext.Date.add(a,f,g),r++;return i&&(a=t),u?{from:+o,to:+a,steps:r}:{from:+o,to:+a,step:(a-o)/r,steps:r}},sorter:function(e,t){return e.offset-t.offset},rad:function(e){return e%360*Math.PI/180},degrees:function(e){return 180*e/Math.PI%360},withinBox:function(e,t,n){return n=n||{},e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},parseGradient:function(e){var t,n,i,r,o=this,a=e.type||"linear",s=e.angle||0,l=o.radian,d=e.stops,c=[];"linear"==a&&(n=[0,0,Math.cos(s*l),Math.sin(s*l)],i=1/(Math.max(Math.abs(n[2]),Math.abs(n[3]))||1),n[2]*=i,n[3]*=i,n[2]<0&&(n[0]=-n[2],n[2]=0),n[3]<0&&(n[1]=-n[3],n[3]=0));for(t in d)d.hasOwnProperty(t)&&o.stopsRE.test(t)&&(r={offset:parseInt(t,10),color:Ext.draw.Color.toHex(d[t].color)||"#ffffff",opacity:d[t].opacity||1},c.push(r));return Ext.Array.sort(c,o.sorter),"linear"==a?{id:e.id,type:a,vector:n,stops:c}:{id:e.id,type:a,centerX:e.centerX,centerY:e.centerY,focalX:e.focalX,focalY:e.focalY,radius:e.radius,vector:n,stops:c}}}),Ext.define("Ext.fx.PropertyHandler",{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(e,t,n,i,r){n="number"==typeof n?n:1;var o,a,s=this.unitRE,l=s.exec(e);return l&&(e=l[1],a=l[2],this.scrollRE.test(r)||a||!this.pixelDefaultsRE.test(r)||(a="px")),e=+e||0,l=s.exec(t),l&&(t=l[1],a=l[2]||a),t=+t||0,o=null!=i?i:e,{from:e,delta:(t-o)*n,units:a}},get:function(e,t,n,i,r){var o,a,s,l,d,c=e.length,u=[];for(o=0;c>o;o++)if(i&&(a=i[o][1].from),Ext.isArray(e[o][1])&&Ext.isArray(t)){for(s=[],l=0,d=e[o][1].length;d>l;l++)s.push(this.computeDelta(e[o][1][l],t[l],n,a,r));u.push([e[o][0],s])}else u.push([e[o][0],this.computeDelta(e[o][1],t,n,a,r)]);return u},set:function(e,t){var n,i,r,o,a,s=e.length,l=[];for(n=0;s>n;n++)if(i=e[n][1],Ext.isArray(i)){for(r=[],a=0,o=i.length;o>a;a++)r.push(i[a].from+i[a].delta*t+(i[a].units||0));l.push([e[n][0],r])}else l.push([e[n][0],i.from+i.delta*t+(i.units||0)]);return l}},stringHandler:{computeDelta:function(e,t){return{from:e,delta:t}},get:function(e,t,n,i,r){var o,a,s=e.length,l=[];for(o=0;s>o;o++)l.push([e[o][0],this.computeDelta(e[o][1],t,n,a,r)]);return l},set:function(e){var t,n,i=e.length,r=[];for(t=0;i>t;t++)n=e[t][1],r.push([e[t][0],n.delta]);return r}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(e,t){t="number"==typeof t?t:1;var n,i,r,o,a=!1,s=[this.hexRE,this.rgbRE,this.hex3RE],l=s.length;for(o=0;l>o;o++)if(r=s[o],i=0===o%2?16:10,n=r.exec(e),n&&4===n.length){2===o&&(n[1]+=n[1],n[2]+=n[2],n[3]+=n[3]),a={red:parseInt(n[1],i),green:parseInt(n[2],i),blue:parseInt(n[3],i)};break}return a||e},computeDelta:function(e,t,n,i){e=this.parseColor(e),t=this.parseColor(t,n);var r=i?i:e,o=typeof r,a=typeof t;return"string"==o||"undefined"==o||"string"==a||"undefined"==a?t||r:{from:e,delta:{red:Math.round((t.red-r.red)*n),green:Math.round((t.green-r.green)*n),blue:Math.round((t.blue-r.blue)*n)}}},get:function(e,t,n,i){var r,o,a=e.length,s=[];for(r=0;a>r;r++)i&&(o=i[r][1].from),s.push([e[r][0],this.computeDelta(e[r][1],t,n,o)]);return s},set:function(e,t){var n,i,r,o,a,s=e.length,l=[];for(n=0;s>n;n++)if(i=e[n][1]){if(o=i.from,a=i.delta,i="object"==typeof i&&"red"in i?"rgb("+i.red+", "+i.green+", "+i.blue+")":i,i="object"==typeof i&&i.length?i[0]:i,"undefined"==typeof i)return[];r="string"==typeof i?i:"rgb("+[(o.red+Math.round(a.red*t))%256,(o.green+Math.round(a.green*t))%256,(o.blue+Math.round(a.blue*t))%256].join(",")+")",l.push([e[n][0],r])}return l}},object:{interpolate:function(e,t){t="number"==typeof t?t:1;var n,i={};for(n in e)i[n]=parseFloat(e[n])*t;return i},computeDelta:function(e,t,n,i){e=this.interpolate(e),t=this.interpolate(t,n);var r,o=i?i:e,a={};for(r in t)a[r]=t[r]-o[r];return{from:e,delta:a}},get:function(e,t,n,i){var r,o,a=e.length,s=[];for(r=0;a>r;r++)i&&(o=i[r][1].from),s.push([e[r][0],this.computeDelta(e[r][1],t,n,o)]);return s},set:function(e,t){var n,i,r,o,a,s=e.length,l=[],d={};for(n=0;s>n;n++){o=e[n][1],i=o.from,r=o.delta;for(a in i)d[a]=i[a]+r[a]*t;l.push([e[n][0],d])}return l}},path:{computeDelta:function(e,t,n,i){n="number"==typeof n?n:1;var r;return e=+e||0,t=+t||0,r=null!=i?i:e,{from:e,delta:(t-r)*n}},forcePath:function(e){return Ext.isArray(e)||Ext.isArray(e[0])||(e=Ext.draw.Draw.parsePathString(e)),e},get:function(e,t,n,i){var r,o,a,s,l,d,c,u,h,f=this.forcePath(t),g=[],p=e.length;for(a=0;p>a;a++){for(h=this.forcePath(e[a][1]),s=Ext.draw.Draw.interpolatePaths(h,f),h=s[0],f=s[1],r=h.length,u=[],d=0;r>d;d++){for(s=[h[d][0]],o=h[d].length,c=1;o>c;c++)l=i&&i[0][1][d][c].from,s.push(this.computeDelta(h[d][c],f[d][c],n,l));u.push(s)}g.push([e[a][0],u])}return g},set:function(e,t){var n,i,r,o,a,s,l,d,c=e.length,u=[];for(n=0;c>n;n++){for(s=e[n][1],o=[],l=s.length,i=0;l>i;i++){for(a=[s[i][0]],d=s[i].length,r=1;d>r;r++)a.push(s[i][r].from+s[i][r].delta*t);o.push(a.join(","))}u.push([e[n][0],o.join(",")])}return u}}}},function(){for(var e,t=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],n=t.length,i=0;n>i;i++)e=t[i],this[e]=this.color;for(t=["cursor"],n=t.length,i=0;n>i;i++)e=t[i],this[e]=this.stringHandler}),Ext.define("Ext.fx.Anim",{mixins:{observable:Ext.util.Observable},isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(e){var t,n=this;return e=e||{},e.keyframes?new Ext.fx.Animator(e):(Ext.apply(n,e),void 0===n.from&&(n.from={}),n.propHandlers={},n.config=e,n.target=Ext.fx.Manager.createTarget(n.target),n.easingFn=Ext.fx.Easing[n.easing],n.target.dynamic=n.dynamic,n.easingFn||(n.easingFn=String(n.easing).match(n.bezierRE),n.easingFn&&5==n.easingFn.length&&(t=n.easingFn,n.easingFn=Ext.fx.CubicBezier.cubicBezier(+t[1],+t[2],+t[3],+t[4]))),n.id=Ext.id(null,"ext-anim-"),n.addEvents("beforeanimate","afteranimate","lastframe"),n.mixins.observable.constructor.call(n),Ext.fx.Manager.addAnim(n),void 0)},setAttr:function(e,t){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,e,t)},initAttrs:function(){var e,t,n,i,r=this,o=r.from,a=r.to,s=r.initialFrom||{},l={};for(i in a)a.hasOwnProperty(i)&&(e=r.target.getAttr(i,o[i]),t=a[i],n=r.propHandlers[i]=Ext.fx.PropertyHandler[i]?Ext.fx.PropertyHandler[i]:Ext.isObject(t)?Ext.fx.PropertyHandler.object:Ext.fx.PropertyHandler.defaultHandler,l[i]=n.get(e,t,r.damper,s[i],i));r.currentAttrs=l},start:function(e){var t,n=this,i=n.delay,r=n.delayStart;if(i){if(!r)return n.delayStart=e,void 0;if(t=e-r,i>t)return;e=new Date(r.getTime()+i)}n.fireEvent("beforeanimate",n)!==!1&&(n.startTime=e,n.paused||n.currentAttrs||n.initAttrs(),n.running=!0,n.frameCount=0)},runAnim:function(e){var t,n,i,r,o=this,a=o.currentAttrs,s=o.duration,l=o.easingFn,d=o.propHandlers,c={};e>=s&&(e=s,r=!0),o.reverse&&(e=s-e);for(i in a)a.hasOwnProperty(i)&&(n=a[i],t=r?1:l(e/s),c[i]=d[i].set(n,t));return o.frameCount++,c},lastFrame:function(){var e=this,t=e.iterations,n=e.currentIteration;n++,t>n?(e.alternate&&(e.reverse=!e.reverse),e.startTime=new Date,e.currentIteration=n,e.paused=!1):(e.currentIteration=0,e.end(),e.fireEvent("lastframe",e,e.startTime))},endWasCalled:0,end:function(){if(!this.endWasCalled++){var e=this;e.startTime=0,e.paused=!1,e.running=!1,Ext.fx.Manager.removeAnim(e),e.fireEvent("afteranimate",e,e.startTime),Ext.callback(e.callback,e.scope,[e,e.startTime])}},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return this.paused===!1&&this.running===!0&&this.isAnimator!==!0}}),Ext.enableFx=!0,Ext.define("Ext.util.Animate",{isAnimate:!0,animate:function(e){var t=this;return Ext.fx.Manager.hasFxBlock(t.id)?t:(Ext.fx.Manager.queueFx(new Ext.fx.Anim(t.anim(e))),this)},anim:function(e){if(!Ext.isObject(e))return e?{}:!1;var t=this;return e.stopAnimation&&t.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(t.id)),Ext.apply({target:t,paused:!0},e)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){return Ext.fx.Manager.stopAnimation(this.id),this},syncFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0}),this},sequenceFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1}),this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},function(){Ext.applyIf(Ext.Element.prototype,this.prototype),Ext.CompositeElementLite.importElementMethods()}),Ext.define("Ext.util.ElementContainer",{childEls:[],constructor:function(){var e,t=this;t.hasOwnProperty("childEls")&&(e=t.childEls,delete t.childEls,t.addChildEls.apply(t,e))},destroy:function(){var e,t,n,i=this,r=i.getChildEls();for(n=r.length;n--;)t=r[n],"string"!=typeof t&&(t=t.name),e=i[t],e&&(i[t]=null,e.remove())},addChildEls:function(){var e=this,t=arguments;e.hasOwnProperty("childEls")?e.childEls.push.apply(e.childEls,t):e.childEls=e.getChildEls().concat(Array.prototype.slice.call(t)),e.prune(e.childEls,!1)},applyChildEls:function(e,t){var n,i,r,o,a,s=this,l=s.getChildEls();for(n=(t||s.id)+"-",r=l.length;r--;)i=l[r],"string"==typeof i?a=e.getById(n+i):(a=(o=i.select)?Ext.select(o,!0,e.dom):(o=i.selectNode)?Ext.get(Ext.DomQuery.selectNode(o,e.dom)):e.getById(i.id||n+i.itemId),i=i.name),s[i]=a},getChildEls:function(){var e,t=this;return t.hasOwnProperty("childEls")?t.childEls:(e=t.self,e.$childEls||t.getClassChildEls(e))},getClassChildEls:function(e){var t,n,i,r,o,a,s,l,d,c,u,h=this,f=e.$childEls;if(!f){c=e.superclass,c?(c=c.self,l=[c.$childEls||h.getClassChildEls(c)],u=c.prototype.mixins||{}):(l=[],u={}),d=e.prototype,a=d.mixins;for(s in a)a.hasOwnProperty(s)&&!u.hasOwnProperty(s)&&(o=a[s].self,l.push(o.$childEls||h.getClassChildEls(o)));for(l.push(d.hasOwnProperty("childEls")&&d.childEls),n=0,i=l.length;i>n;++n)t=l[n],t&&t.length&&(f?(r||(r=!0,f=f.slice(0)),f.push.apply(f,t)):f=t);e.$childEls=f=f?h.prune(f,!r):[]}return f},prune:function(e,t){for(var n,i=e.length,r={};i--;)n=e[i],"string"!=typeof n&&(n=n.name),r[n]?(t&&(t=!1,e=e.slice(0)),Ext.Array.erase(e,i,1)):r[n]=1;return e},removeChildEls:function(e){var t,n,i,r=this,o=r.getChildEls(),a=r.childEls=[];for(n=0,t=o.length;t>n;++n)i=o[n],e(i)||a.push(i)}}),Ext.define("Ext.util.Renderable",{frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table class="',Ext.plainTableCls,'" cellpadding="0"><tbody>','<tpl if="top">',"<tr>",'<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","<tr>",'<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">',"<tr>",'<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</tbody></table>","{%this.renderDockedItems(out,values,1);%}"],afterRender:function(){var e,t,n,i,r=this,o={},a=r.protoEl,s=r.el;r.finishRenderChildren(),r.contentEl&&(t=Ext.baseCSSPrefix,n=t+"hide-",i=Ext.get(r.contentEl),i.removeCls([t+"hidden",n+"display",n+"offsets",n+"nosize"]),r.getContentTarget().appendChild(i.dom)),a.writeTo(o),e=o.removed,e&&s.removeCls(e),e=o.cls,e.length&&s.addCls(e),e=o.style,o.style&&s.setStyle(e),r.protoEl=null,r.ownerCt||r.updateLayout()},afterFirstLayout:function(e,t){var n,i,r,o,a=this,s=a.x,l=a.y;a.ownerLayout||(n=Ext.isDefined(s),i=Ext.isDefined(l)),!a.floating||n&&i||(a.floatParent?(r=a.floatParent.getTargetEl().getViewRegion(),o=a.el.getAlignToXY(a.floatParent.getTargetEl(),"c-c"),r.x=o[0]-r.x,r.y=o[1]-r.y):(o=a.el.getAlignToXY(a.container,"c-c"),r=a.container.translateXY(o[0],o[1])),s=n?s:r.x,l=i?l:r.y,n=i=!0),(n||i)&&a.setPosition(s,l),a.onBoxReady(e,t)},applyRenderSelectors:function(){var e,t=this,n=t.renderSelectors,i=t.el,r=i.dom;if(t.applyChildEls(i),n)for(e in n)n.hasOwnProperty(e)&&n[e]&&(t[e]=Ext.get(Ext.DomQuery.selectNode(n[e],r)))},beforeRender:function(){var e=this,t=(e.getTargetEl(),e.getOverflowEl()),n=e.getComponentLayout(),i=e.getOverflowStyle();e.frame=e.frame||e.alwaysFramed,n.initialized||n.initLayout(),t&&(t.setStyle(i),e.overflowStyleSet=!0),e.setUI(e.ui),e.disabled&&e.disable(!0)},doApplyRenderTpl:function(e,t){var n,i=t.$comp;i.rendered||(n=i.initRenderTpl(),n.applyOut(t.renderData,e))},doAutoRender:function(){var e=this;e.rendered||(e.floating?e.render(document.body):e.render(Ext.isBoolean(e.autoRender)?Ext.getBody():e.autoRender))},doRenderContent:function(e,t){var n=t.$comp;n.html&&(Ext.DomHelper.generateMarkup(n.html,e),delete n.html),n.tpl&&(n.tpl.isTemplate||(n.tpl=new Ext.XTemplate(n.tpl)),n.data&&(n.tpl.applyOut(n.data,e),delete n.data))},doRenderFramingDockedItems:function(e,t,n){var i=t.$comp;!i.rendered&&i.doRenderDockedItems&&(t.renderData.$skipDockedItems=!0,i.doRenderDockedItems.call(this,e,t,n))},finishRender:function(e){var t,n,i,r=this;!r.el||r.$pid?(i=r.container?r.container.getById(r.id,!0):Ext.getDom(r.id),r.el?(delete r.$pid,r.el.dom||r.wrapPrimaryEl(r.el),i.parentNode.insertBefore(r.el.dom,i),Ext.removeNode(i)):r.wrapPrimaryEl(i)):r.rendering||(t=r.initRenderTpl(),t&&(n=r.initRenderData(),t.insertFirst(r.getTargetEl(),n))),r.container||(r.container=Ext.get(r.el.dom.parentNode)),r.ctCls&&r.container.addCls(r.ctCls),r.onRender(r.container,e),r.overflowStyleSet||r.getOverflowEl().setStyle(r.getOverflowStyle()),r.el.setVisibilityMode(Ext.Element[r.hideMode.toUpperCase()]),r.overCls&&r.el.hover(r.addOverCls,r.removeOverCls,r),r.hasListeners.render&&r.fireEvent("render",r),r.afterRender(),r.hasListeners.afterrender&&r.fireEvent("afterrender",r),r.initEvents(),r.hidden&&r.el.hide()},finishRenderChildren:function(){var e=this.getComponentLayout();e.finishRender()},getElConfig:function(){var e,t,n,i,r,o,a=this,s=a.autoEl,l=a.getFrameInfo(),d={tag:"div",tpl:l?a.initFramingTpl(l.table):a.initRenderTpl()},c=a.protoEl;if(a.initStyles(c),c.writeTo(d),c.flush(),Ext.isString(s)?d.tag=s:Ext.apply(d,s),d.id=a.id,d.tpl)if(l){for(t=a.frameElNames,n=t.length,d.tplData=o=a.getFrameRenderData(),o.renderData=a.initRenderData(),r=o.fgid,e=0;n>e;e++)i=t[e],a.addChildEls({name:"frame"+i,id:r+i});a.addChildEls({name:"frameBody",id:r+"MC"})}else d.tplData=a.initRenderData();return d},initFramingTpl:function(e){var t=this.getFrameTpl(e);return t&&!t.applyRenderTpl&&this.setupFramingTpl(t),t},setupFramingTpl:function(e){e.applyRenderTpl=this.doApplyRenderTpl,e.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(e){return void 0!==e&&(e=Ext.isNumber(e)?this.container.dom.childNodes[e]:Ext.getDom(e)),e},getRenderTree:function(){var e=this;return e.hasListeners.beforerender&&e.fireEvent("beforerender",e)===!1?null:(e.beforeRender(),e.rendering=!0,e.el?{tag:"div",id:e.$pid=Ext.id()}:e.getElConfig())},initContainer:function(e){var t=this;return!e&&t.el&&(e=t.el.dom.parentNode,t.allowDomMove=!1),t.container=e.dom?e:Ext.get(e),t.container},initRenderData:function(){var e=this;return Ext.apply({$comp:e,id:e.id,ui:e.ui,uiCls:e.uiCls,baseCls:e.baseCls,componentCls:e.componentCls,frame:e.frame,childElCls:""},e.renderData)},initRenderTpl:function(){var e=this.getTpl("renderTpl");return e&&!e.renderContent&&this.setupRenderTpl(e),e},onRender:function(){var e,t,n=this,i=n.x,r=n.y,o=null,a=n.el;n.applyRenderSelectors(),n.rendering=null,n.rendered=!0,null!=i&&(o={x:i}),null!=r&&((o=o||{}).y=r),!n.getFrameInfo()&&Ext.isBorderBox&&(e=n.width,t=n.height,"number"==typeof e&&(o=o||{},o.width=e),"number"==typeof t&&(o=o||{},o.height=t)),n.lastBox=a.lastBox=o},render:function(e,t){var n,i,r,o=this,a=o.el&&(o.el=Ext.get(o.el));Ext.suspendLayouts(),e=o.initContainer(e),r=o.getInsertPosition(t),a?o.hasListeners.beforerender&&o.fireEvent("beforerender",o)===!1?n=!0:(o.beforeRender(),o.initStyles(a),o.allowDomMove!==!1&&(r?e.dom.insertBefore(a.dom,r):e.dom.appendChild(a.dom))):(i=o.getRenderTree(),o.ownerLayout&&o.ownerLayout.transformItemRenderTree&&(i=o.ownerLayout.transformItemRenderTree(i)),i&&(a=r?Ext.DomHelper.insertBefore(r,i):Ext.DomHelper.append(e,i),o.wrapPrimaryEl(a))),a&&!n&&o.finishRender(t),Ext.resumeLayouts(!o.hidden&&!e.isDetachedBody)
},ensureAttachedToBody:function(e){for(var t,n=this;n.ownerCt;)n=n.ownerCt;n.container.isDetachedBody&&(n.container=t=Ext.getBody(),t.appendChild(n.el.dom),e&&n.updateLayout(),("number"==typeof n.x||"number"==typeof n.y)&&n.setPosition(n.x,n.y))},setupRenderTpl:function(e){e.renderBody=e.renderContent=this.doRenderContent},wrapPrimaryEl:function(e){this.el=Ext.get(e,!0)},initFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var e,t,n,i,r,o=this,a=o.getFrameInfo(),s=o.frameElNames,l=s.length;if(a)for(e=o.getFrameTpl(a.table),i=o.getFrameRenderData(),t=i.fgid,e.insertFirst(o.el,i),o.frameBody=o.el.down("."+o.frameCls+"-mc"),o.removeChildEls(function(e){return e.id&&o.frameIdRegex.test(e.id)}),n=0;l>n;n++)r=s[n],o["frame"+r]=o.el.getById(t+r)}},getFrameRenderData:function(){var e=this,t=e.frameSize,n=(e.frameGenId||0)+1;return e.frameGenId=n,{$comp:e,fgid:e.id+"-frame"+n,ui:e.ui,uiCls:e.uiCls,frameCls:e.frameCls,baseCls:e.baseCls,top:!!t.top,left:!!t.left,right:!!t.right,bottom:!!t.bottom,frameElCls:""}},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var e,t=this,n=t.frameSize&&t.frameSize.table,i=t.frameTL,r=t.frameBL,o=t.frameML,a=t.frameMC;t.initFrame(),a?t.frame&&(e=t.frameMC.dom.className,a.insertAfter(t.frameMC),t.frameMC.remove(),t.frameBody=t.frameMC=a,a.dom.className=e,n?t.el.query("> table")[1].remove():(i&&i.remove(),r&&r.remove(),o&&o.remove())):t.frame&&t.applyRenderSelectors()}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return!1;var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,y=this,E=y.frameInfoCache,v=y.getFramingInfoCls()+"-frameInfo",b=E[v],C=Math.max;return null==b&&(e=Ext.fly(y.getStyleProxy(v),"frame-style-el"),t=e.getStyle("font-family"),t?(t=t.split("-"),g=parseInt(t[1],10),p=parseInt(t[2],10),m=parseInt(t[3],10),x=parseInt(t[4],10),a=parseInt(t[5],10),s=parseInt(t[6],10),l=parseInt(t[7],10),d=parseInt(t[8],10),c=parseInt(t[9],10),u=parseInt(t[10],10),h=parseInt(t[11],10),f=parseInt(t[12],10),n=C(a,C(g,p)),i=C(s,C(p,m)),r=C(l,C(x,m)),o=C(d,C(g,x)),b={table:"t"===t[0].charAt(0),vertical:"v"===t[0].charAt(1),top:n,right:i,bottom:r,left:o,width:o+i,height:n+r,maxWidth:C(n,i,r,o),border:{top:a,right:s,bottom:l,left:d,width:d+s,height:a+l},padding:{top:c,right:u,bottom:h,left:f,width:f+u,height:c+h},radius:{tl:g,tr:p,br:m,bl:x}}):b=!1,E[v]=b),y.frame=!!b,y.frameSize=b,b},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(e){var t=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.getBody().createChild({style:{position:"absolute",top:"-10000px"}},null,!0));return t.className=e,t},getFrameTpl:function(e){return this.getTpl(e?"frameTableTpl":"frameTpl")},frameInfoCache:{}}),Ext.define("Ext.state.Provider",{mixins:{observable:Ext.util.Observable},prefix:"ext-",constructor:function(e){e=e||{};var t=this;Ext.apply(t,e),t.addEvents("statechange"),t.state={},t.mixins.observable.constructor.call(t)},get:function(e,t){return"undefined"==typeof this.state[e]?t:this.state[e]},clear:function(e){var t=this;delete t.state[e],t.fireEvent("statechange",t,e,null)},set:function(e,t){var n=this;n.state[e]=t,n.fireEvent("statechange",n,e,t)},decodeValue:function(e){var t,n,i,r,o,a,s=this,l=/^(a|n|d|b|s|o|e)\:(.*)$/,d=l.exec(unescape(e));if(d&&d[1])switch(n=d[1],e=d[2],n){case"e":return null;case"n":return parseFloat(e);case"d":return new Date(Date.parse(e));case"b":return"1"==e;case"a":if(t=[],""!=e)for(r=e.split("^"),o=r.length,a=0;o>a;a++)e=r[a],t.push(s.decodeValue(e));return t;case"o":if(t={},""!=e)for(r=e.split("^"),o=r.length,a=0;o>a;a++)e=r[a],i=e.split("="),t[i[0]]=s.decodeValue(i[1]);return t;default:return e}},encodeValue:function(e){var t,n,i,r="",o=0;if(null==e)return"e:1";if("number"==typeof e)t="n:"+e;else if("boolean"==typeof e)t="b:"+(e?"1":"0");else if(Ext.isDate(e))t="d:"+e.toGMTString();else if(Ext.isArray(e)){for(n=e.length;n>o;o++)r+=this.encodeValue(e[o]),o!=n-1&&(r+="^");t="a:"+r}else if("object"==typeof e){for(i in e)"function"!=typeof e[i]&&void 0!==e[i]&&(r+=i+"="+this.encodeValue(e[i])+"^");t="o:"+r.substring(0,r.length-1)}else t="s:"+e;return escape(t)}}),Ext.define("Ext.state.Manager",{singleton:!0,constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(e){this.provider=e},get:function(e,t){return this.provider.get(e,t)},set:function(e,t){this.provider.set(e,t)},clear:function(e){this.provider.clear(e)},getProvider:function(){return this.provider}}),Ext.define("Ext.state.Stateful",{mixins:{observable:Ext.util.Observable},stateful:!1,saveDelay:100,constructor:function(e){var t=this;e=e||{},void 0!==e.stateful&&(t.stateful=e.stateful),void 0!==e.saveDelay&&(t.saveDelay=e.saveDelay),t.stateId=t.stateId||e.stateId,t.stateEvents||(t.stateEvents=[]),e.stateEvents&&t.stateEvents.concat(e.stateEvents),this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave"),t.mixins.observable.constructor.call(t),t.stateful!==!1&&(t.addStateEvents(t.stateEvents),t.initState())},addStateEvents:function(e){var t,n,i,r=this;if(r.stateful&&r.getStateId())for("string"==typeof e&&(e=Array.prototype.slice.call(arguments,0)),i=r.stateEventsByName||(r.stateEventsByName={}),t=e.length;t--;)n=e[t],i[n]||(i[n]=1,r.on(n,r.onStateChange,r))},onStateChange:function(){var e,t,n=this,i=n.saveDelay;n.stateful&&(i?(n.stateTask||(e=Ext.state.Stateful,t=e.runner||(e.runner=new Ext.util.TaskRunner),n.stateTask=t.newTask({run:n.saveState,scope:n,interval:i,repeat:1})),n.stateTask.start()):n.saveState())},saveState:function(){var e,t=this,n=t.stateful&&t.getStateId(),i=t.hasListeners;n&&(e=t.getState()||{},i.beforestatesave&&t.fireEvent("beforestatesave",t,e)===!1||(Ext.state.Manager.set(n,e),i.statesave&&t.fireEvent("statesave",t,e)))},getState:function(){return null},applyState:function(e){e&&Ext.apply(this,e)},getStateId:function(){var e=this;return e.stateId||(e.autoGenId?null:e.id)},initState:function(){var e,t=this,n=t.stateful&&t.getStateId(),i=t.hasListeners;n&&(e=Ext.state.Manager.get(n),e&&(e=Ext.apply({},e),i.beforestaterestore&&t.fireEvent("beforestaterestore",t,e)===!1||(t.applyState(e),i.staterestore&&t.fireEvent("staterestore",t,e))))},savePropToState:function(e,t,n){var i=this,r=i[e],o=i.initialConfig;return!i.hasOwnProperty(e)||o&&o[e]===r?!1:(t&&(t[n||e]=r),!0)},savePropsToState:function(e,t){var n,i,r=this;if("string"==typeof e)r.savePropToState(e,t);else for(n=0,i=e.length;i>n;++n)r.savePropToState(e[n],t);return t},destroy:function(){var e=this,t=e.stateTask;t&&(t.destroy(),e.stateTask=null),e.clearListeners()}}),Ext.define("Ext.AbstractComponent",{mixins:{positionable:Ext.util.Positionable,observable:Ext.util.Observable,animate:Ext.util.Animate,elementCt:Ext.util.ElementContainer,renderable:Ext.util.Renderable,state:Ext.state.Stateful},statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(e,t){var n=this.runningLayoutContext||this.pendingLayouts;n&&n.cancelComponent(e,!1,t)},flushLayouts:function(){var e=this,t=e.pendingLayouts;t&&t.invalidQueue.length&&(e.pendingLayouts=null,e.runningLayoutContext=t,Ext.override(t,{runComplete:function(){e.runningLayoutContext=null;var t=this.callParent();return Ext.globalEvents.hasListeners.afterlayout&&Ext.globalEvents.fireEvent("afterlayout"),t}}),t.run())},resumeLayouts:function(e){this.layoutSuspendCount&&!--this.layoutSuspendCount&&(e&&this.flushLayouts(),Ext.globalEvents.hasListeners.resumelayouts&&Ext.globalEvents.fireEvent("resumelayouts"))},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(e,t){var n,i=this,r=i.runningLayoutContext;r?r.queueInvalidate(e):(n=i.pendingLayouts||(i.pendingLayouts=new Ext.layout.Context),n.queueInvalidate(e),t||i.layoutSuspendCount||e.isLayoutSuspended()||i.flushLayouts())}},isComponent:!0,getAutoId:function(){return this.autoGenId=!0,++Ext.AbstractComponent.AUTO_ID},deferLayouts:!1,autoGenId:!1,renderTpl:"{%this.renderContent(out,values)%}",frameSize:null,tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:!1,disabled:!1,draggable:!1,floating:!1,hideMode:"display",autoShow:!1,autoRender:!1,allowDomMove:!0,rendered:!1,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:!0,_isLayoutRoot:!1,contentPaddingProperty:"padding",horizontalPosProp:"left",borderBoxCls:Ext.baseCSSPrefix+"border-box",constructor:function(e){var t,n,i,r=this;if(e?(Ext.apply(r,e),i=r.xhooks,i&&(delete r.xhooks,Ext.override(r,i))):e={},r.initialConfig=e,r.mixins.elementCt.constructor.call(r),r.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur"),r.getId(),r.setupProtoEl(),r.cls&&(r.initialCls=r.cls,r.protoEl.addCls(r.cls)),r.style&&(r.initialStyle=r.style,r.protoEl.setStyle(r.style)),r.renderData=r.renderData||{},r.renderSelectors=r.renderSelectors||{},r.plugins&&(r.plugins=r.constructPlugins()),r.hasListeners||(r.hasListeners=new r.HasListeners),r.initComponent(),Ext.ComponentManager.register(r),r.mixins.observable.constructor.call(r),r.mixins.state.constructor.call(r,e),this.addStateEvents("resize"),r.plugins)for(t=0,n=r.plugins.length;n>t;t++)r.plugins[t]=r.initPlugin(r.plugins[t]);r.loader=r.getLoader(),r.renderTo&&r.render(r.renderTo),r.autoShow&&!r.isContained&&r.show()},initComponent:function(){this.plugins=this.constructPlugins(),this.setSize(this.width,this.height)},getState:function(){var e=this,t=null,n=e.getSizeModel();return n.width.configured&&(t=e.addPropertyToState(t,"width")),n.height.configured&&(t=e.addPropertyToState(t,"height")),t},addPropertyToState:function(e,t,n){var i=this,r=arguments.length;return(3==r||i.hasOwnProperty(t))&&(3>r&&(n=i[t]),n!==i.initialConfig[t]&&((e||(e={}))[t]=n)),e},show:Ext.emptyFn,animate:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x=this;return e=e||{},o=e.to||{},Ext.fx.Manager.hasFxBlock(x.id)?x:(t=Ext.isDefined(o.width),t&&(r=Ext.Number.constrain(o.width,x.minWidth,x.maxWidth)),n=Ext.isDefined(o.height),n&&(i=Ext.Number.constrain(o.height,x.minHeight,x.maxHeight)),e.dynamic||!t&&!n||(l=(e.from?e.from.width:void 0)||x.getWidth(),d=l,c=(e.from?e.from.height:void 0)||x.getHeight(),u=c,h=!1,n&&i>c&&(u=i,h=!0),t&&r>l&&(d=r,h=!0),(n||t)&&(m=x.el.getStyle("overtflow"),"hidden"!==m&&x.el.setStyle("overflow","hidden")),h&&(a=!Ext.isNumber(x.width),s=!Ext.isNumber(x.height),x.setSize(d,u),x.el.setSize(l,c),a&&delete x.width,s&&delete x.height),t&&(o.width=r),n&&(o.height=i)),f=x.constrain,g=x.constrainHeader,(f||g)&&(x.constrain=x.constrainHeader=!1,p=e.callback,e.callback=function(){x.constrain=f,x.constrainHeader=g,p&&p.call(e.scope||x,arguments),"hidden"!==m&&x.el.setStyle("overflow",m)}),x.mixins.animate.animate.apply(x,arguments))},setHiddenState:function(e){var t=this.getHierarchyState();this.hidden=e,e?t.hidden=!0:delete t.hidden},onHide:function(){this.ownerLayout&&this.updateLayout({isRoot:!1})},onShow:function(){this.updateLayout({isRoot:!1})},constructPlugin:function(e){var t=this;return e="string"==typeof e?Ext.PluginManager.create({},e,t):Ext.PluginManager.create(e,null,t)},constructPlugins:function(){var e,t,n,i=this,r=i.plugins;if(r)for(e=[],Ext.isArray(r)||(r=[r]),t=0,n=r.length;n>t;t++)e[t]=i.constructPlugin(r[t]);return i.pluginsInitialized=!0,e},initPlugin:function(e){return e.init(this),e},addPlugin:function(e){var t=this;return e=t.constructPlugin(e),t.plugins?t.plugins.push(e):t.plugins=[e],t.pluginsInitialized&&t.initPlugin(e),e},removePlugin:function(e){Ext.Array.remove(this.plugins,e),e.destroy()},findPlugin:function(e){var t,n=this.plugins,i=n&&n.length;for(t=0;i>t;t++)if(n[t].ptype===e)return n[t]},getPlugin:function(e){var t,n=this.plugins,i=n&&n.length;for(t=0;i>t;t++)if(n[t].pluginId===e)return n[t]},beforeLayout:Ext.emptyFn,updateAria:Ext.emptyFn,registerFloatingItem:function(e){var t=this;t.floatingDescendants||(t.floatingDescendants=new Ext.ZIndexManager(t)),t.floatingDescendants.register(e)},unregisterFloatingItem:function(e){var t=this;t.floatingDescendants&&t.floatingDescendants.unregister(e)},layoutSuspendCount:0,suspendLayouts:function(){var e=this;e.rendered&&1==++e.layoutSuspendCount&&(e.suspendLayout=!0)},resumeLayouts:function(e){var t=this;t.rendered&&(--t.layoutSuspendCount||(t.suspendLayout=!1,e&&!t.isLayoutSuspended()&&t.updateLayout(e)))},setupProtoEl:function(){var e=this.initCls();this.protoEl=new Ext.util.ProtoElement({cls:e.join(" ")})},initCls:function(){var e=this,t=[e.baseCls,e.getComponentLayout().targetCls];return Ext.isDefined(e.cmpCls)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),e.componentCls=e.cmpCls,delete e.cmpCls),e.componentCls?t.push(e.componentCls):e.componentCls=e.baseCls,t},setUI:function(e){var t,n=this,i=n.uiCls,r=n.activeUI;e!==r&&(r?(t=n.removeClsWithUI(i,!0),t.length&&n.removeCls(t),n.removeUIFromElement()):n.uiCls=[],n.ui=e,n.activeUI=e,n.addUIToElement(),t=n.addClsWithUI(i,!0),t.length&&n.addCls(t),n.rendered&&n.updateLayout())},addClsWithUI:function(e,t){var n,i,r=this,o=[],a=0,s=r.uiCls=Ext.Array.clone(r.uiCls),l=r.activeUI;for("string"==typeof e&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),n=e.length;n>a;a++)i=e[a],i&&!r.hasUICls(i)&&(s.push(i),l&&(o=o.concat(r.addUIClsToElement(i))));return t!==!0&&l&&r.addCls(o),o},removeClsWithUI:function(e,t){var n,i,r=this,o=[],a=0,s=Ext.Array,l=s.remove,d=r.uiCls=s.clone(r.uiCls),c=r.activeUI;for("string"==typeof e&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),n=e.length,a=0;n>a;a++)i=e[a],i&&r.hasUICls(i)&&(l(d,i),c&&(o=o.concat(r.removeUIClsFromElement(i))));return t!==!0&&c&&r.removeCls(o),o},hasUICls:function(e){var t=this,n=t.uiCls||[];return Ext.Array.contains(n,e)},frameElementsArray:["tl","tc","tr","ml","mc","mr","bl","bc","br"],addUIClsToElement:function(e){var t,n,i,r,o,a=this,s=a.baseCls+"-"+a.ui+"-"+e,l=[Ext.baseCSSPrefix+e,a.baseCls+"-"+e,s];if(a.rendered&&a.frame&&!Ext.supports.CSS3BorderRadius)for(t=a.frameElementsArray,n=t.length,i=0;n>i;i++)o=t[i],r=a["frame"+o.toUpperCase()],r&&r.addCls(s+"-"+o);return l},removeUIClsFromElement:function(e){var t,n,i,r,o,a=this,s=a.baseCls+"-"+a.ui+"-"+e,l=[Ext.baseCSSPrefix+e,a.baseCls+"-"+e,s];if(a.rendered&&a.frame&&!Ext.supports.CSS3BorderRadius)for(t=a.frameElementsArray,n=t.length,i=0;n>i;i++)o=t[i],r=a["frame"+o.toUpperCase()],r&&r.removeCls(s+"-"+o);return l},addUIToElement:function(){var e,t,n,i,r,o=this,a=o.baseCls+"-"+o.ui;if(o.addCls(a),o.rendered&&o.frame&&!Ext.supports.CSS3BorderRadius)for(e=o.frameElementsArray,t=e.length,n=0;t>n;n++)r=e[n],i=o["frame"+r.toUpperCase()],i&&i.addCls(a+"-"+r)},removeUIFromElement:function(){var e,t,n,i,r,o=this,a=o.baseCls+"-"+o.ui;if(o.removeCls(a),o.rendered&&o.frame&&!Ext.supports.CSS3BorderRadius)for(e=o.frameElementsArray,t=e.length,n=0;t>n;n++)r=e[n],i=o["frame"+r.toUpperCase()],i&&i.removeCls(a+"-"+r)},getTpl:function(e){return Ext.XTemplate.getTpl(this,e)},initStyles:function(e){var t,n,i=this,r=(Ext.Element,i.margin),o=i.border,a=i.cls,s=i.style,l=i.x,d=i.y;i.initPadding(e),null!=r&&e.setStyle("margin",this.unitizeBox(r===!0?5:r)),null!=o&&i.setBorder(o,e),a&&a!=i.initialCls&&(e.addCls(a),i.cls=i.initialCls=null),s&&s!=i.initialStyle&&(e.setStyle(s),i.style=i.initialStyle=null),null!=l&&e.setStyle(i.horizontalPosProp,"number"==typeof l?l+"px":l),null!=d&&e.setStyle("top","number"==typeof d?d+"px":d),!Ext.isBorderBox||i.ownerCt&&!i.floating||e.addCls(i.borderBoxCls),i.getFrameInfo()||(t=i.width,n=i.height,null!=t&&("number"==typeof t?Ext.isBorderBox&&e.setStyle("width",t+"px"):e.setStyle("width",t)),null!=n&&("number"==typeof n?Ext.isBorderBox&&e.setStyle("height",n+"px"):e.setStyle("height",n)))},initPadding:function(e){var t=this,n=t.padding;null!=n&&(t.layout&&t.layout.managePadding&&"padding"===t.contentPaddingProperty?e.setStyle("padding",0):e.setStyle("padding",this.unitizeBox(n===!0?5:n)))},parseBox:function(e){return Ext.dom.Element.parseBox(e)},unitizeBox:function(e){return Ext.dom.Element.unitizeBox(e)},setMargin:function(e,t){var n=this;n.rendered?(e||0===e?(e===!0&&(e=5),e=this.unitizeBox(e)):e="",n.getTargetEl().setStyle("margin",e),t||n.updateLayout()):n.margin=e},initEvents:function(){var e,t,n,i,r,o=this,a=o.afterRenderEvents;if(a)for(n in a)if(t=o[n],t&&t.on)for(e=a[n],i=0,r=e.length;r>i;++i)o.mon(t,e[i]);o.addFocusListener()},addFocusListener:function(){var e,t=this,n=t.getFocusEl();if(n){if(n.isComponent)return n.addFocusListener();e=n.needsTabIndex(),t.focusListenerAdded||e&&!Ext.FocusManager.enabled||(e&&(n.dom.tabIndex=-1),n.on({focus:t.onFocus,blur:t.onBlur,scope:t}),t.focusListenerAdded=!0)}},getFocusEl:Ext.emptyFn,isFocusable:function(){var e,t=this;return t.focusable!==!1&&(e=t.getFocusEl())&&t.rendered&&!t.destroying&&!t.isDestroyed&&!t.disabled&&t.isVisible(!0)?e.isFocusable(!0):void 0},beforeFocus:Ext.emptyFn,onFocus:function(e){var t=this,n=t.focusCls,i=t.getFocusEl();t.disabled||(t.beforeFocus(e),n&&i&&i.addCls(t.addClsWithUI(n,!0)),t.hasFocus||(t.hasFocus=!0,t.fireEvent("focus",t,e)))},beforeBlur:Ext.emptyFn,onBlur:function(e){var t=this,n=t.focusCls,i=t.getFocusEl();t.destroying||(t.beforeBlur(e),n&&i&&i.removeCls(t.removeClsWithUI(n,!0)),t.validateOnBlur&&t.validate(),t.hasFocus=!1,t.fireEvent("blur",t,e),t.postBlur(e))},postBlur:Ext.emptyFn,is:function(e){return Ext.ComponentQuery.is(this,e)},up:function(e,t){var n=this.getRefOwner(),i="string"==typeof t,r="number"==typeof t,o=t&&t.isComponent,a=0;if(e)for(;n;n=n.getRefOwner()){if(a++,e.isComponent){if(n===e)return n}else if(Ext.ComponentQuery.is(n,e))return n;if(i&&n.is(t))return;if(r&&a===t)return;if(o&&n===t)return}return n},nextSibling:function(e){var t,n,i,r,o=this.ownerCt;if(o&&(t=o.items,i=t.indexOf(this)+1))if(e){for(n=t.getCount();n>i;i++)if((r=t.getAt(i)).is(e))return r}else if(i<t.getCount())return t.getAt(i);return null},previousSibling:function(e){var t,n,i,r=this.ownerCt;if(r&&(t=r.items,n=t.indexOf(this),-1!=n))if(e){for(--n;n>=0;n--)if((i=t.getAt(n)).is(e))return i}else if(n)return t.getAt(--n);return null},previousNode:function(e,t){var n,i,r,o,a=this,s=a.ownerCt;if(t&&a.is(e))return a;if(s){for(i=s.items.items,r=Ext.Array.indexOf(i,a)-1;r>-1;r--){if(o=i[r],o.query&&(n=o.query(e),n=n[n.length-1]))return n;if(o.is(e))return o}return s.previousNode(e,!0)}return null},nextNode:function(e,t){var n,i,r,o,a,s=this,l=s.ownerCt;if(t&&s.is(e))return s;if(l){for(i=l.items.items,o=Ext.Array.indexOf(i,s)+1,r=i.length;r>o;o++){if(a=i[o],a.is(e))return a;if(a.down&&(n=a.down(e)))return n}return l.nextNode(e)}return null},getId:function(){return this.id||(this.id="ext-comp-"+this.getAutoId())},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var e,t,n,i=this,r=null;return"boolean"==typeof i.autoScroll?(r={overflow:n=i.autoScroll?"auto":""},i.scrollFlags={overflowX:n,overflowY:n,x:!0,y:!0,both:!0}):(e=i.overflowX,t=i.overflowY,void 0!==e||void 0!==t?(r={overflowX:e=e||"",overflowY:t=t||""},i.scrollFlags={overflowX:e,overflowY:t,x:e="auto"===e||"scroll"===e,y:t="auto"===t||"scroll"===t,both:e&&t}):i.scrollFlags={overflowX:"",overflowY:"",x:!1,y:!1,both:!1}),r&&Ext.isIE7m&&(r.position="relative"),r},isXType:function(e,t){return t?this.xtype===e:this.xtypesMap[e]},getXTypes:function(){var e,t,n,i=this.self;if(!i.xtypes){for(e=[],t=this;t;)n=t.xtypes,void 0!==n&&e.unshift.apply(e,n),t=t.superclass;i.xtypeChain=e,i.xtypes=e.join("/")}return i.xtypes},update:function(e,t,n){var i,r=this,o=r.tpl&&!Ext.isString(e);o?r.data=e:r.html=Ext.isObject(e)?Ext.DomHelper.markup(e):e,r.rendered&&(i=r.isContainer?r.layout.getRenderTarget():r.getTargetEl(),o?r.tpl[r.tplWriteMode](i,e||{}):i.update(r.html,t,n),r.updateLayout())},setVisible:function(e){return this[e?"show":"hide"]()},isVisible:function(e){var t,n=this;return n.hidden||!n.rendered||n.isDestroyed?t=!0:e&&(t=n.isHierarchicallyHidden()),!t},isHierarchicallyHidden:function(){for(var e,t,n=this,i=!1;e=n.ownerCt||n.floatParent;n=e){if(t=e.getHierarchyState(),t.hidden){i=!0;break}if(!n.getHierarchyState().collapseImmune){i=!!t.collapsed;break}if(e.collapsed&&!n.collapseImmune){i=!0;break}}return i},onBoxReady:function(e,t){var n=this;n.disableOnBoxReady?n.onDisable():n.enableOnBoxReady&&n.onEnable(),n.resizable&&n.initResizable(n.resizable),n.draggable&&n.initDraggable(),n.hasListeners.boxready&&n.fireEvent("boxready",n,e,t)},enable:function(e){var t=this;return delete t.disableOnBoxReady,t.removeCls(t.disabledCls),t.rendered?t.onEnable():t.enableOnBoxReady=!0,t.disabled=!1,delete t.resetDisable,e!==!0&&t.fireEvent("enable",t),t},disable:function(e){var t=this;return delete t.enableOnBoxReady,t.addCls(t.disabledCls),t.rendered?t.onDisable():t.disableOnBoxReady=!0,t.disabled=!0,e!==!0&&(delete t.resetDisable,t.fireEvent("disable",t)),t},onEnable:function(){this.maskOnDisable&&(this.el.dom.disabled=!1,this.unmask())},onDisable:function(){var e=this,t=e.focusCls,n=e.getFocusEl();t&&n&&n.removeCls(e.removeClsWithUI(t,!0)),e.maskOnDisable&&(e.el.dom.disabled=!0,e.mask())},mask:function(){var e=this.lastBox,t=this.getMaskTarget(),n=[];e&&(n[2]=e.height),t.mask.apply(t,n)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(e){return this[e?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(){var e=this,t=e.rendered?e.el:e.protoEl;return t.addCls.apply(t,arguments),e},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(){var e=this,t=e.rendered?e.el:e.protoEl;return t.hasCls.apply(t,arguments)},removeCls:function(){var e=this,t=e.rendered?e.el:e.protoEl;return t.removeCls.apply(t,arguments),e},addOverCls:function(){var e=this;e.disabled||e.el.addCls(e.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(e,t,n,i){var r,o,a=this;if(Ext.isString(e)&&(Ext.isObject(t)||i&&i.element)){if(i.element){r=t,t={},t[e]=r,e=i.element,n&&(t.scope=n);for(o in i)i.hasOwnProperty(o)&&a.eventOptionsRe.test(o)&&(t[o]=i[o])}return a[e]&&a[e].on?a.mon(a[e],t):(a.afterRenderEvents=a.afterRenderEvents||{},a.afterRenderEvents[e]||(a.afterRenderEvents[e]=[]),a.afterRenderEvents[e].push(t)),void 0}return a.mixins.observable.addListener.apply(a,arguments)},removeManagedListenerItem:function(e,t,n,i,r,o){var a=this,s=t.options?t.options.element:null;return s?(s=a[s],s&&s.un&&(!e&&(t.item!==n||t.ename!==i||r&&t.fn!==r||o&&t.scope!==o)||(s.un(t.ename,t.fn,t.scope),e||Ext.Array.remove(a.managedListeners,t))),void 0):a.mixins.observable.removeManagedListenerItem.apply(a,arguments)},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},onAdded:function(e,t){var n=this;n.ownerCt=e,n.hierarchyState&&(n.hierarchyState.invalid=!0,delete n.hierarchyState),n.hasListeners.added&&n.fireEvent("added",n,e,t)},onRemoved:function(){var e=this;e.hasListeners.removed&&e.fireEvent("removed",e,e.ownerCt),delete e.ownerCt,delete e.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:function(e,t,n,i){var r=this;r.floating&&r.constrain&&r.doConstrain(),r.hasListeners.resize&&r.fireEvent("resize",r,e,t,n,i)},setSize:function(e,t){var n=this;return e&&"object"==typeof e&&(t=e.height,e=e.width),"number"==typeof e?n.width=Ext.Number.constrain(e,n.minWidth,n.maxWidth):null===e&&delete n.width,"number"==typeof t?n.height=Ext.Number.constrain(t,n.minHeight,n.maxHeight):null===t&&delete n.height,n.rendered&&n.isVisible()&&n.updateLayout({isRoot:!1}),n},isLayoutRoot:function(){var e=this,t=e.ownerLayout;return!t||e._isLayoutRoot||e.floating?!0:t.isItemLayoutRoot(e)},isLayoutSuspended:function(){for(var e,t=this;t;){if(t.layoutSuspendCount||t.suspendLayout)return!0;if(e=t.ownerLayout,!e)break;t=e.owner}return!1},updateLayout:function(e){var t,n=this,i=n.lastBox,r=e&&e.isRoot;i&&(i.invalid=!0),!n.rendered||n.layoutSuspendCount||n.suspendLayout||(n.hidden?Ext.AbstractComponent.cancelLayout(n):"boolean"!=typeof r&&(r=n.isLayoutRoot()),!r&&n.ownerLayout&&n.ownerLayout.onContentChange(n)||n.isLayoutSuspended()||(t=e&&e.hasOwnProperty("defer")?e.defer:n.deferLayouts,Ext.AbstractComponent.updateLayout(n,t)))},getSizeModel:function(e){var t,n,i,r,o,a,s,l,d,c,u=this,h=Ext.layout.SizeModel,f=u.componentLayout.ownerContext,g=u.width,p=u.height;return f&&(c=f.widthModel,o=f.heightModel),c&&o||(i="number"==(t=typeof g),r="number"==(n=typeof p),d=u.floating||!(a=u.ownerLayout),d?(s=Ext.layout.Layout.prototype.autoSizePolicy,l=u.floating?3:u.shrinkWrap,i&&(c=h.configured),r&&(o=h.configured)):(s=a.getItemSizePolicy(u,e),l=a.isItemShrinkWrap(u)),f&&(f.ownerSizePolicy=s),l=l===!0?3:l||0,d&&l&&(g&&"string"==t&&(l&=2),p&&"string"==n&&(l&=1)),3!==l&&(e||(e=u.ownerCt&&u.ownerCt.getSizeModel()),e&&(l|=(e.width.shrinkWrap?1:0)|(e.height.shrinkWrap?2:0))),c||(c=s.setsWidth?s.readsWidth?i?h.calculatedFromConfigured:1&l?h.calculatedFromShrinkWrap:h.calculatedFromNatural:h.calculated:i?h.configured:1&l?h.shrinkWrap:h.natural),o||(o=s.setsHeight?s.readsHeight?r?h.calculatedFromConfigured:2&l?h.calculatedFromShrinkWrap:h.calculatedFromNatural:h.calculated:r?h.configured:2&l?h.shrinkWrap:h.natural)),c.pairsByHeightOrdinal[o.ordinal]},isDescendant:function(e){if(e.isContainer)for(var t=this.ownerCt;t;t=t.ownerCt)if(t===e)return!0;return!1},doComponentLayout:function(){return this.updateLayout(),this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(e){var t=this.componentLayout;t&&t.isLayout&&t!=e&&t.setOwner(null),this.componentLayout=e,e.setOwner(this)},getComponentLayout:function(){var e=this;return e.componentLayout&&e.componentLayout.isLayout||e.setComponentLayout(Ext.layout.Layout.create(e.componentLayout,"autocomponent")),e.componentLayout},afterComponentLayout:function(e,t,n,i){var r=this;1===++r.componentLayoutCounter&&r.afterFirstLayout(e,t),(e!==n||t!==i)&&r.onResize(e,t,n,i)},beforeComponentLayout:function(){return!0},setPosition:function(e,t,n){var i=this,r=i.beforeSetPosition.apply(i,arguments);return r&&i.rendered&&(e=r.x,t=r.y,n?(e!==i.getLocalX()||t!==i.getLocalY())&&(i.stopAnimation(),i.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(i.afterSetPosition,i,[e,t])},to:{x:e,y:t}},n))):(i.setLocalXY(e,t),i.afterSetPosition(e,t))),i},beforeSetPosition:function(e,t,n){var i,r;return e&&(Ext.isNumber(r=e[0])?(n=t,t=e[1],e=r):void 0!==(r=e.x)&&(n=t,t=e.y,e=r)),(this.constrain||this.constrainHeader)&&(i=this.calculateConstrainedPosition(null,[e,t],!0),i&&(e=i[0],t=i[1])),i={x:this.x=e,y:this.y=t,anim:n,hasX:void 0!==e,hasY:void 0!==t},i.hasX||i.hasY?i:null},afterSetPosition:function(e,t){var n=this;n.onPosition(e,t),n.hasListeners.move&&n.fireEvent("move",n,e,t)},onPosition:Ext.emptyFn,setWidth:function(e){return this.setSize(e)},setHeight:function(e){return this.setSize(void 0,e)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var e=this,t=e.autoLoad?Ext.isObject(e.autoLoad)?e.autoLoad:{url:e.autoLoad}:null,n=e.loader||t;return n?(n.isLoader?n.setTarget(e):e.loader=new Ext.ComponentLoader(Ext.apply({target:e,autoLoad:t},n)),e.loader):null},setDocked:function(e,t){var n=this;return n.dock=e,t&&n.ownerCt&&n.rendered&&n.ownerCt.updateLayout(),n},setBorder:function(e,t){var n=this,i=!!t;(n.rendered||i)&&(i||(t=n.el),e=e?e===!0?"1px":this.unitizeBox(e):0,t.setStyle("border-width",e),i||n.updateLayout()),n.border=e},onDestroy:function(){var e=this;e.monitorResize&&Ext.EventManager.resizeEvent&&Ext.EventManager.resizeEvent.removeListener(e.setSize,e),Ext.destroy(e.componentLayout,e.loadMask,e.floatingDescendants)},destroy:function(){var e,t,n=this,i=n.renderSelectors;if(!(n.isDestroyed||n.hasListeners.beforedestroy&&n.fireEvent("beforedestroy",n)===!1)){if(n.destroying=!0,n.beforeDestroy(),n.floating?(delete n.floatParent,n.zIndexManager&&n.zIndexManager.unregister(n)):n.ownerCt&&n.ownerCt.remove&&n.ownerCt.remove(n,!1),n.stopAnimation(),n.onDestroy(),Ext.destroy(n.plugins),n.hasListeners.destroy&&n.fireEvent("destroy",n),Ext.ComponentManager.unregister(n),n.mixins.state.destroy.call(n),n.clearListeners(),n.rendered){if(n.preserveElOnDestroy||n.el.remove(),n.mixins.elementCt.destroy.call(n),i)for(e in i)i.hasOwnProperty(e)&&(t=n[e],t&&(delete n[e],t.remove()));delete n.el,delete n.frameBody,delete n.rendered}n.destroying=!1,n.isDestroyed=!0}},isDescendantOf:function(e){return!!this.findParentBy(function(t){return t===e})},getHierarchyState:function(e){var t,n,i,r,o=this,a=e&&o.hierarchyStateInner||o.hierarchyState,s=o.ownerCt;return(!a||a.invalid)&&(t=o.getRefOwner(),s&&(r=o.ownerLayout===s.layout),o.hierarchyState=a=Ext.Object.chain(t?t.getHierarchyState(r):Ext.rootHierarchyState),o.initHierarchyState(a),(n=o.componentLayout).initHierarchyState&&n.initHierarchyState(a),o.isContainer&&(o.hierarchyStateInner=i=Ext.Object.chain(a),n=o.layout,n&&n.initHierarchyState&&n.initHierarchyState(i,a),e&&(a=i))),a},initHierarchyState:function(e){var t=this;t.collapsed&&(e.collapsed=!0),t.hidden&&(e.hidden=!0),t.collapseImmune&&(e.collapseImmune=!0)},getAnchorToXY:function(e,t,n,i){return e.getAnchorXY(t,n,i)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(e){this.el.setLocalX(e)},setLocalXY:function(e,t){this.el.setLocalXY(e,t)},setLocalY:function(e){this.el.setLocalY(e)},setX:function(e,t){this.el.setX(e,t)},setXY:function(e,t){this.el.setXY(e,t)},setY:function(e,t){this.el.setY(e,t)}},function(){var e=this;e.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"}),Ext.resumeLayouts=function(t){e.resumeLayouts(t)},Ext.suspendLayouts=function(){e.suspendLayouts()},Ext.batchLayouts=function(t,n){e.suspendLayouts(),t.call(n),e.resumeLayouts(!0)}}),Ext.define("Ext.AbstractPlugin",{disabled:!1,isPlugin:!0,constructor:function(e){this.pluginConfig=e,Ext.apply(this,e)},clonePlugin:function(e){return new this.self(Ext.apply({},e,this.pluginConfig))},setCmp:function(e){this.cmp=e},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},onClassExtended:function(e,t){var n=t.alias;n&&!t.ptype&&(Ext.isArray(n)&&(n=n[0]),e.prototype.ptype=n.split("plugin.")[1])}}),Ext.define("Ext.Action",{constructor:function(e){this.initialConfig=e,this.itemId=e.itemId=e.itemId||e.id||Ext.id(),this.items=[]},isAction:!0,setText:function(e){this.initialConfig.text=e,this.callEach("setText",[e])},getText:function(){return this.initialConfig.text},setIconCls:function(e){this.initialConfig.iconCls=e,this.callEach("setIconCls",[e])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(e){this.initialConfig.disabled=e,this.callEach("setDisabled",[e])},enable:function(){this.setDisabled(!1)},disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(e){this.initialConfig.hidden=e,this.callEach("setVisible",[!e])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(e,t){this.initialConfig.handler=e,this.initialConfig.scope=t,this.callEach("setHandler",[e,t])},each:function(e,t){Ext.each(this.items,e,t)
},callEach:function(e,t){var n,i=this.items,r=0,o=i.length;for(Ext.suspendLayouts();o>r;r++)n=i[r],n[e].apply(n,t);Ext.resumeLayouts(!0)},addComponent:function(e){this.items.push(e),e.on("destroy",this.removeComponent,this)},removeComponent:function(e){Ext.Array.remove(this.items,e)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}}),Ext.define("Ext.data.flash.BinaryXhr",{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=!0,Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill"),Ext.globalEvents.fireEvent("flashready")},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(e,t,n){var i;i=this.liveConnections[Number(e)],i&&i.onFlashStateChange(t,n)},registerConnection:function(e){var t=this.connectionIndex;return this.conectionIndex=this.connectionIndex+1,this.liveConnections[t]=e,t},injectFlashPlugin:function(){var e,t,n,i,r,o,a=this;i=document.createElement("img"),i.setAttribute("src",window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif"),i.setAttribute("alt","Get Adobe Flash player"),n=document.createElement("a"),n.setAttribute("href","http://www.adobe.com/go/getflashplayer"),n.appendChild(i),t=document.createElement("p"),t.innerHTML="To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed.",e=document.createElement("div"),e.setAttribute("id","ext-flash-polyfill"),e.appendChild(t),e.appendChild(i),Ext.getBody().dom.appendChild(e),r=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/"),o="/plugins/flash/FlashPlugin.swf",Ext.flashPluginPath&&(o=Ext.flashPluginPath),Ext.Loader.loadScript({url:r,onLoad:function(){var e="11.4.0",t="playerProductInstall.swf",n={},i={};i.quality="high",i.bgcolor="#ffffff",i.allowscriptaccess="sameDomain",i.allowfullscreen="true";var r={};r.id="ext-flash-polyfill",r.name="polyfill",r.align="middle",swfobject.embedSWF(o,"ext-flash-polyfill","0","0",e,t,n,i,r)},onError:function(){},scope:a}),Ext.globalEvents.addEvents("flashready"),Ext.data.flash.BinaryXhr.flashPluginInjected=!0}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(e){Ext.data.flash.BinaryXhr.flashPluginInjected||Ext.data.flash.BinaryXhr.injectFlashPlugin();var t=this;Ext.apply(t,e),t.requestHeaders={}},abort:function(){var e=this;if(4!=e.readyState){if(e.aborted=!0,!Ext.data.flash.BinaryXhr.flashPluginActive)return Ext.globalEvents.removeListener("flashready",e.onFlashReady,e),void 0;Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(e.javascriptId),delete Ext.data.flash.BinaryXhr.liveConnections[e.javascriptId]}},getAllResponseHeaders:function(){var e=[];return Ext.Object.each(this.responseHeaders,function(t,n){e.push(t+": "+n)}),e.join("\r\n")},getResponseHeader:function(e){var t=this.responseHeaders;return t&&t[e]||null},open:function(e,t,n,i,r){var o=this;o.method=e,o.url=t,o.async=n!==!1,o.user=i,o.password=r},overrideMimeType:function(e){this.mimeType=e},send:function(e){var t=this;t.body=e,Ext.data.flash.BinaryXhr.flashPluginActive?this.onFlashReady():Ext.globalEvents.addListener("flashready",t.onFlashReady,t)},onFlashReady:function(){var e,t,n=this;n.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(n),e={method:n.method,url:n.url,user:n.user,password:n.password,mimeType:n.mimeType,requestHeaders:n.requestHeaders,body:n.body,javascriptId:n.javascriptId},t=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(e)},setReadyState:function(e){var t=this;t.readyState!=e&&(t.readyState=e,t.onreadystatechange())},setRequestHeader:function(e,t){this.requestHeaders[e]=t},onreadystatechange:Ext.emptyFn,parseData:function(e){var t=this;this.status=e.status||0,t.responseHeaders={},t.mimeType&&(t.responseHeaders["content-type"]=t.mimeType),"complete"==e.reason?(this.responseBytes=e.data,t.responseHeaders["content-length"]=e.data.length):("error"==e.reason||"securityError"==e.reason)&&(this.statusText=e.text,t.responseHeaders["content-length"]=0)},onFlashStateChange:function(e,t){var n=this;4==e&&(n.parseData(t),delete Ext.data.flash.BinaryXhr.liveConnections[n.javascriptId]),n.setReadyState(e)}}),Ext.define("Ext.data.Connection",{mixins:{observable:Ext.util.Observable},statics:{requestId:0},url:null,async:!0,method:null,username:"",password:"",disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3e4,useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",constructor:function(e){e=e||{},Ext.apply(this,e),this.requests={},this.mixins.observable.constructor.call(this)},request:function(e){e=e||{};var t,n,i,r,o,a=this,s=e.scope||window,l=e.username||a.username,d=e.password||a.password||"";return a.fireEvent("beforerequest",a,e)!==!1?(n=a.setOptions(e,s),a.isFormUpload(e)?(a.upload(e.form,n.url,n.data,e),null):((e.autoAbort||a.autoAbort)&&a.abort(),t=e.async!==!1?e.async||a.async:!1,o=a.openRequest(e,n,t,l,d),a.isXdr||(r=a.setupHeaders(o,e,n.data,n.params)),i={id:++Ext.data.Connection.requestId,xhr:o,headers:r,options:e,async:t,binary:e.binary||a.binary,timeout:setTimeout(function(){i.timedout=!0,a.abort(i)},e.timeout||a.timeout)},a.requests[i.id]=i,a.latestId=i.id,t&&(a.isXdr||(o.onreadystatechange=Ext.Function.bind(a.onStateChange,a,[i]))),a.isXdr&&a.processXdrRequest(i,o),o.send(n.data),t?i:a.onComplete(i))):(Ext.callback(e.callback,e.scope,[e,void 0,void 0]),null)},processXdrRequest:function(e,t){var n=this;delete e.headers,e.contentType=e.options.contentType||n.defaultXdrContentType,t.onload=Ext.Function.bind(n.onStateChange,n,[e,!0]),t.onerror=t.ontimeout=Ext.Function.bind(n.onStateChange,n,[e,!1])},processXdrResponse:function(e,t){e.getAllResponseHeaders=function(){return[]},e.getResponseHeader=function(){return""},e.contentType=t.contentType||this.defaultXdrContentType},upload:function(e,t,n,i){e=Ext.getDom(e),i=i||{};var r,o,a,s,l,d,c,u,h=Ext.id(),f=document.createElement("iframe"),g=[],p="multipart/form-data",m={target:e.target,method:e.method,encoding:e.encoding,enctype:e.enctype,action:e.action},x=function(t,n){r=document.createElement("input"),Ext.fly(r).set({type:"hidden",value:n,name:t}),e.appendChild(r),g.push(r)};if(Ext.fly(f).set({id:h,name:h,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL}),document.body.appendChild(f),document.frames&&(document.frames[h].name=h),Ext.fly(e).set({target:h,method:"POST",enctype:p,encoding:p,action:t||m.action}),n){o=Ext.Object.fromQueryString(n)||{};for(s in o)if(o.hasOwnProperty(s))if(a=o[s],Ext.isArray(a))for(l=a.length,d=0;l>d;d++)x(s,a[d]);else x(s,a)}for(Ext.fly(f).on("load",Ext.Function.bind(this.onUploadComplete,this,[f,i]),null,{single:!Ext.isOpera}),e.submit(),Ext.fly(e).set(m),c=g.length,u=0;c>u;u++)Ext.removeNode(g[u])},onUploadComplete:function(e,t){var n,i,r,o,a=this,s={responseText:"",responseXML:null};try{if(r=e.contentWindow.document||e.contentDocument||window.frames[e.id].document){if(Ext.isOpera&&"about:blank"==r.location)return;r.body&&(s.responseText=(o=r.body.firstChild)&&/pre/i.test(o.tagName)?o.textContent:(o=r.getElementsByTagName("textarea")[0])?o.value:r.body.textContent||r.body.innerText),s.responseXML=r.XMLDocument||r,n=t.success,i=!0}}catch(l){s.responseText='{success:false,message:"'+Ext.String.trim(l.message||l.description)+'"}',n=t.failure,i=!1}a.fireEvent("requestcomplete",a,s,t),Ext.callback(n,t.scope,[s,t]),Ext.callback(t.callback,t.scope,[t,i,s]),setTimeout(function(){Ext.removeNode(e)},100)},isFormUpload:function(e){var t=this.getForm(e);return t?e.isUpload||/multipart\/form-data/i.test(t.getAttribute("enctype")):!1},getForm:function(e){return Ext.getDom(e.form)||null},setOptions:function(e,t){var n,i,r,o=this,a=e.params||{},s=o.extraParams,l=e.urlParams,d=e.url||o.url,c=e.jsonData;return Ext.isFunction(a)&&(a=a.call(t,e)),Ext.isFunction(d)&&(d=d.call(t,e)),d=this.setupUrl(e,d),r=e.rawData||e.binaryData||e.xmlData||c||null,c&&!Ext.isPrimitive(c)&&(r=Ext.encode(r)),e.binaryData&&o.nativeBinaryPostSupport()&&(r=new Uint8Array(e.binaryData),(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko)&&(r=r.buffer)),Ext.isObject(a)&&(a=Ext.Object.toQueryString(a)),Ext.isObject(s)&&(s=Ext.Object.toQueryString(s)),a+=s?(a?"&":"")+s:"",l=Ext.isObject(l)?Ext.Object.toQueryString(l):l,a=this.setupParams(e,a),n=(e.method||o.method||(a||r?"POST":"GET")).toUpperCase(),this.setupMethod(e,n),i=e.disableCaching!==!1?e.disableCaching||o.disableCaching:!1,"GET"===n&&i&&(d=Ext.urlAppend(d,(e.disableCachingParam||o.disableCachingParam)+"="+(new Date).getTime())),("GET"==n||r)&&a&&(d=Ext.urlAppend(d,a),a=null),l&&(d=Ext.urlAppend(d,l)),{url:d,method:n,data:r||a||null}},setupUrl:function(e,t){var n=this.getForm(e);return n&&(t=t||n.action),t},setupParams:function(e,t){var n,i=this.getForm(e);return i&&!this.isFormUpload(e)&&(n=Ext.Element.serializeForm(i),t=t?t+"&"+n:n),t},setupMethod:function(e,t){return this.isFormUpload(e)?"POST":t},setupHeaders:function(e,t,n,i){var r,o,a=this,s=Ext.apply({},t.headers||{},a.defaultHeaders||{}),l=a.defaultPostHeader,d=t.jsonData,c=t.xmlData;s["Content-Type"]||!n&&!i||(n&&(t.rawData?l="text/plain":c&&Ext.isDefined(c)?l="text/xml":d&&Ext.isDefined(d)&&(l="application/json")),s["Content-Type"]=l),a.useDefaultXhrHeader&&!s["X-Requested-With"]&&(s["X-Requested-With"]=a.defaultXhrHeader);try{for(r in s)s.hasOwnProperty(r)&&(o=s[r],e.setRequestHeader(r,o))}catch(u){a.fireEvent("exception",r,o)}return s},newRequest:function(e){var t,n=this;return e.binaryData?t=n.nativeBinaryPostSupport()?this.getXhrInstance():new Ext.data.flash.BinaryXhr:(e.cors||n.cors)&&Ext.isIE&&Ext.ieVersion<=9?(t=n.getXdrInstance(),n.isXdr=!0):t=n.getXhrInstance(),t},openRequest:function(e,t,n,i,r){var o=this,a=o.newRequest(e);return i?a.open(t.method,t.url,n,i,r):o.isXdr?a.open(t.method,t.url):a.open(t.method,t.url,n),(e.binary||o.binary)&&(window.Uint8Array?a.responseType="arraybuffer":a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined")),(e.withCredentials||o.withCredentials)&&(a.withCredentials=!0),a},getXdrInstance:function(){var e;return Ext.ieVersion>=8?e=new XDomainRequest:Ext.Error.raise({msg:"Your browser does not support CORS"}),e},getXhrInstance:function(){for(var e,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0,i=t.length;i>n;++n)try{e=t[n],e();break}catch(r){}return e}(),isLoading:function(e){if(e||(e=this.getLatest()),!e||!e.xhr)return!1;var t=e.xhr.readyState;return e.xhr instanceof Ext.data.flash.BinaryXhr&&4!=t||!(0===t||4==t)},abort:function(e){var t,n=this;if(e||(e=n.getLatest()),e&&n.isLoading(e)){t=e.xhr;try{t.onreadystatechange=null}catch(i){t.onreadystatechange=Ext.emptyFn}t.abort(),n.clearTimeout(e),e.timedout||(e.aborted=!0),n.onComplete(e),n.cleanup(e)}},abortAll:function(){var e,t=this.requests;for(e in t)t.hasOwnProperty(e)&&this.abort(t[e])},getLatest:function(){var e,t=this.latestId;return t&&(e=this.requests[t]),e||null},onStateChange:function(e,t){var n=this;(e.xhr&&4==e.xhr.readyState||n.isXdr)&&(n.clearTimeout(e),n.onComplete(e,t),n.cleanup(e),Ext.EventManager.idleEvent.fire())},clearTimeout:function(e){clearTimeout(e.timeout),delete e.timeout},cleanup:function(e){e.xhr=null,delete e.xhr},onComplete:function(e,t){var n,i,r,o=this,a=e.options;try{n=o.parseStatus(e.xhr.status)}catch(s){n={success:!1,isException:!1}}return i=o.isXdr?t:n.success,i?(r=o.createResponse(e),o.fireEvent("requestcomplete",o,r,a),Ext.callback(a.success,a.scope,[r,a])):(r=n.isException||e.aborted||e.timedout?o.createException(e):o.createResponse(e),o.fireEvent("requestexception",o,r,a),Ext.callback(a.failure,a.scope,[r,a])),Ext.callback(a.callback,a.scope,[a,i,r]),delete o.requests[e.id],r},parseStatus:function(e){e=1223==e?204:e;var t=e>=200&&300>e||304==e,n=!1;if(!t)switch(e){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:n=!0}return{success:t,isException:n}},createResponse:function(e){for(var t,n,i,r,o=this,a=e.xhr,s=o.isXdr,l={},d=s?[]:a.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),c=d.length;c--;)t=d[c],n=t.indexOf(":"),n>=0&&(i=t.substr(0,n).toLowerCase()," "==t.charAt(n+1)&&++n,l[i]=t.substr(n+1));return e.xhr=null,delete e.xhr,r={request:e,requestId:e.id,status:a.status,statusText:a.statusText,getResponseHeader:function(e){return l[e.toLowerCase()]},getAllResponseHeaders:function(){return l}},s&&o.processXdrResponse(r,a),e.binary?r.responseBytes=o.getByteArray(a):(r.responseText=a.responseText,r.responseXML=a.responseXML),a=null,r},createException:function(e){return{request:e,requestId:e.id,status:e.aborted?-1:0,statusText:e.aborted?"transaction aborted":"communication failure",aborted:e.aborted,timedout:e.timedout}},getByteArray:function(e){var t,n,i,r,o=e.response,a=e.responseBody;if(e instanceof Ext.data.flash.BinaryXhr)t=e.responseBytes;else if(window.Uint8Array)t=o?new Uint8Array(o):[];else if(Ext.isIE9p)try{t=new VBArray(a).toArray()}catch(s){t=[]}else if(Ext.isIE)this.self.vbScriptInjected||this.injectVBScript(),getIEByteArray(e.responseBody,t=[]);else for(t=[],n=e.responseText,i=n.length,r=0;i>r;r++)t.push(255&n.charCodeAt(r));return t},injectVBScript:function(){var e=document.createElement("script");e.type="text/vbscript",e.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n"),Ext.getHead().dom.appendChild(e),this.self.vbScriptInjected=!0},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}}),Ext.define("Ext.Ajax",{extend:Ext.data.Connection,singleton:!0,autoAbort:!1}),Ext.define("Ext.util.Floating",{focusOnToFront:!0,shadow:"sides",constrain:!1,constructor:function(e){var t=this;t.fixed=t.fixed&&!(Ext.isIE6||Ext.isIEQuirks),t.el=new Ext.dom.Layer(Ext.apply({preventSync:!0,hideMode:t.hideMode,hidden:t.hidden,shadow:"undefined"!=typeof t.shadow?t.shadow:"sides",shadowOffset:t.shadowOffset,constrain:!1,fixed:t.fixed,shim:t.shim===!1?!1:void 0},t.floating),e),!t.modal||Ext.FocusManager&&Ext.FocusManager.enabled||t.mon(t.el,{keydown:t.onKeyDown,scope:t}),t.mon(t.el,{mousedown:t.onMouseDown,scope:t}),t.floating=!0,t.registerWithOwnerCt(),t.initHierarchyEvents()},initHierarchyEvents:function(){var e=this,t=this.syncHidden;e.hasHierarchyEventListeners||(e.mon(e.hierarchyEventSource,{hide:t,collapse:t,show:t,expand:t,added:t,scope:e}),e.hasHierarchyEventListeners=!0)},registerWithOwnerCt:function(){var e=this,t=e.ownerCt,n=e.zIndexParent;n&&n.unregisterFloatingItem(e),n=e.zIndexParent=e.up("[floating]"),e.setFloatParent(t||n),delete e.ownerCt,n?n.registerFloatingItem(e):Ext.WindowManager.register(e)},onKeyDown:function(e){var t,n,i,r,o=this;e.getKey()==Ext.EventObject.TAB&&(t=e.shiftKey,n=o.el.query(":focusable"),i=n[0],r=n[n.length-1],i&&r&&e.target===(t?i:r)&&(e.stopEvent(),(t?r:i).focus(!1,!0)))},onMouseDown:function(e){var t=this.focusTask;!this.floating||t&&t.id||this.toFront(!!e.getTarget(":focusable"))},setFloatParent:function(e){var t=this;t.floatParent=e,!t.constrain&&!t.constrainHeader||t.constrainTo||(t.constrainTo=e?e.getTargetEl():t.container)},syncShadow:function(){this.floating&&this.el.sync(!0)},onBeforeFloatLayout:function(){this.el.preventSync=!0},onAfterFloatLayout:function(){delete this.el.preventSync,this.syncShadow()},syncHidden:function(){var e=this,t=e.hidden||!e.rendered,n=e.hierarchicallyHidden=e.isHierarchicallyHidden(),i=e.pendingShow;t!==n&&(n?(e.hide(),e.pendingShow=!0):i&&(delete e.pendingShow,i.length?e.show.apply(e,i):e.show()))},setZIndex:function(e){var t=this;return t.el.setZIndex(e),e+=10,t.floatingDescendants&&(e=100*Math.floor(t.floatingDescendants.setBase(e)/100)+1e4),e},doConstrain:function(e){var t=this,n=t.calculateConstrainedPosition(e,null,!0);n&&t.setPosition(n)},toFront:function(e){var t=this,n=t.zIndexParent,i=t.preventFocusOnActivate;return n&&t.bringParentToFront!==!1&&n.toFront(!0),Ext.isDefined(e)||(e=!t.focusOnToFront),e&&(t.preventFocusOnActivate=!0),t.zIndexManager.bringToFront(t,e)&&(e||t.focus(!1,!0)),t.preventFocusOnActivate=i,t},setActive:function(e,t){var n=this;e?(n.el.shadow&&!n.maximized&&n.el.enableShadow(!0),n.preventFocusOnActivate||n.focus(!1,!0),n.fireEvent("activate",n)):(n.isWindow&&t&&t.isWindow&&n.hideShadowOnDeactivate&&n.el.disableShadow(),n.fireEvent("deactivate",n))},toBack:function(){return this.zIndexManager.sendToBack(this),this},center:function(){var e,t=this;return t.isVisible()?(e=t.getAlignToXY(t.container,"c-c"),t.setPagePosition(e)):t.needsCenter=!0,t},onFloatShow:function(){this.needsCenter&&this.center(),delete this.needsCenter},fitContainer:function(e){var t=this,n=t.floatParent,i=n?n.getTargetEl():t.container,r=i.getViewSize(!1),o=n||i.dom!==document.body?[0,0]:i.getXY();r.x=o[0],r.y=o[1],t.setBox(r,e)}}),Ext.define("Ext.Component",{alias:["widget.component","widget.box"],extend:Ext.AbstractComponent,mixins:{floating:Ext.util.Floating},statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:!1,defaultAlign:"tl-bl?",toFrontOnShow:!0,hideMode:"display",offsetsCls:Ext.baseCSSPrefix+"hide-offsets",bubbleEvents:[],defaultComponentLayoutType:"autocomponent",constructor:function(e){var t=this;e=e||{},e.initialConfig?(e.isAction&&(t.baseAction=e),e=e.initialConfig):(e.tagName||e.dom||Ext.isString(e))&&(e={applyTo:e,id:e.id||e}),t.callParent([e]),t.baseAction&&t.baseAction.addComponent(t)},initComponent:function(){var e=this;e.callParent(),e.listeners&&(e.on(e.listeners),e.listeners=null),e.enableBubble(e.bubbleEvents)},afterRender:function(){var e=this;e.callParent(),e.x&&e.y||!e.pageX&&!e.pageY||e.setPagePosition(e.pageX,e.pageY)},setAutoScroll:function(e){var t=this;return t.autoScroll=!!e,t.rendered&&t.getOverflowEl().setStyle(t.getOverflowStyle()),t.updateLayout(),t},setOverflowXY:function(e,t){var n=this,i=arguments.length;return i&&(n.overflowX=e||"",i>1&&(n.overflowY=t||"")),n.rendered&&n.getOverflowEl().setStyle(n.getOverflowStyle()),n.updateLayout(),n},beforeRender:function(){var e,t=this,n=t.floating;return n&&(t.addCls(Ext.baseCSSPrefix+"layer"),e=n.cls,e&&t.addCls(e)),t.callParent()},beforeLayout:function(){this.callParent(arguments),this.floating&&this.onBeforeFloatLayout()},afterComponentLayout:function(){this.callParent(arguments),this.floating&&this.onAfterFloatLayout()},makeFloating:function(e){this.mixins.floating.constructor.call(this,e)},wrapPrimaryEl:function(e){this.floating?this.makeFloating(e):this.callParent(arguments)},initResizable:function(e){var t=this;e=Ext.apply({target:t,dynamic:!1,constrainTo:t.constrainTo||(t.floatParent?t.floatParent.getTargetEl():null),handles:t.resizeHandles},e),e.target=t,t.resizer=new Ext.resizer.Resizer(e)},getDragEl:function(){return this.el},initDraggable:function(){var e=this,t=e.resizer&&e.resizer.el!==e.el?e.resizerComponent=new Ext.Component({el:e.resizer.el,rendered:!0,container:e.container}):e,n=Ext.applyIf({el:t.getDragEl(),constrainTo:e.constrain||e.draggable.constrain?e.constrainTo||(e.floatParent?e.floatParent.getTargetEl():e.container):void 0},e.draggable);(e.constrain||e.constrainDelegate)&&(n.constrain=e.constrain,n.constrainDelegate=e.constrainDelegate),e.dd=new Ext.util.ComponentDragger(t,n)},scrollBy:function(){var e;(e=this.getTargetEl())&&e.dom&&e.scrollBy.apply(e,arguments)},setLoading:function(e,t){var n=this,i={target:n};return n.rendered&&(Ext.destroy(n.loadMask),n.loadMask=null,e===!1||n.collapsed||(Ext.isObject(e)?Ext.apply(i,e):Ext.isString(e)&&(i.msg=e),t&&Ext.applyIf(i,{useTargetEl:!0}),n.loadMask=new Ext.LoadMask(i),n.loadMask.show())),n.loadMask},beforeSetPosition:function(){var e,t=this,n=t.callParent(arguments);return n&&(e=t.adjustPosition(n.x,n.y),n.x=e.x,n.y=e.y),n||null},afterSetPosition:function(e,t){this.onPosition(e,t),this.fireEvent("move",this,e,t)},showAt:function(e,t,n){var i=this;return i.rendered||!i.autoRender&&!i.floating?(i.floating?i.setPosition(e,t,n):i.setPagePosition(e,t,n),i.show(),void 0):(i.x=e,i.y=t,i.show())},showBy:function(e,t,n){var i=this;return i.floating&&e&&(i.show(),i.rendered&&!i.hidden&&i.alignTo(e,t||i.defaultAlign,n)),i},setPagePosition:function(e,t,n){var i,r,o=this;return Ext.isArray(e)&&(t=e[1],e=e[0]),o.pageX=e,o.pageY=t,o.floating?(o.isContainedFloater()?(r=o.floatParent.getTargetEl().getViewRegion(),Ext.isNumber(e)&&Ext.isNumber(r.left)&&(e-=r.left),Ext.isNumber(t)&&Ext.isNumber(r.top)&&(t-=r.top)):(i=o.el.translateXY(e,t),e=i.x,t=i.y),o.setPosition(e,t,n)):(i=o.el.translateXY(e,t),o.setPosition(i.x,i.y,n)),o},isContainedFloater:function(){return this.floating&&this.floatParent},updateBox:function(e){return this.setSize(e.width,e.height),this.setPagePosition(e.x,e.y),this},getOuterSize:function(){var e=this.el;return{width:e.getWidth()+e.getMargin("lr"),height:e.getHeight()+e.getMargin("tb")}},adjustPosition:function(e,t){var n,i=this;return i.isContainedFloater()&&(n=i.floatParent.getTargetEl().getViewRegion(),e+=n.left,t+=n.top),{x:e,y:t}},getPosition:function(e){var t,n,i=this,r=i.isContainedFloater();return e!==!0||r?(t=i.getXY(),e===!0&&r&&(n=i.floatParent.getTargetEl().getViewRegion(),t[0]-=n.left,t[1]-=n.top),t):[i.getLocalX(),i.getLocalY()]},getId:function(){var e,t=this;return t.id||(e=t.getXType(),e=e?e.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):Ext.name.toLowerCase()+"-comp",t.id=e+"-"+t.getAutoId()),t.id},show:function(){var e=this,t=e.rendered;return e.hierarchicallyHidden||e.floating&&!t&&e.isHierarchicallyHidden()?(t||e.initHierarchyEvents(),arguments.length>1?(arguments[0]=null,e.pendingShow=arguments):e.pendingShow=!0):t&&e.isVisible()?e.toFrontOnShow&&e.floating&&e.toFront():e.fireEvent("beforeshow",e)!==!1?(e.hidden=!1,delete this.getHierarchyState().hidden,Ext.suspendLayouts(),t||!e.autoRender&&!e.floating||(e.doAutoRender(),t=e.rendered),t?(e.beforeShow(),Ext.resumeLayouts(),e.onShow.apply(e,arguments),e.afterShow.apply(e,arguments)):Ext.resumeLayouts(!0)):e.onShowVeto(),e},onShowVeto:Ext.emptyFn,beforeShow:Ext.emptyFn,onShow:function(){var e=this;e.el.show(),e.callParent(arguments),e.floating&&(e.maximized?e.fitContainer():e.constrain&&e.doConstrain())},getAnimateTarget:function(e){return e=e||this.animateTarget,e&&(e=e.isComponent?e.getEl():Ext.get(e)),e||null},afterShow:function(e,t,n){var i,r,o,a=this,s=a.el;e=a.getAnimateTarget(e),a.ghost||(e=null),e?(r={x:s.getX(),y:s.getY(),width:s.dom.offsetWidth,height:s.dom.offsetHeight},i={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight},s.addCls(a.offsetsCls),o=a.ghost(),o.el.stopAnimation(),o.setX(-1e4),a.ghostBox=r,o.el.animate({from:i,to:r,listeners:{afteranimate:function(){delete o.componentLayout.lastComponentSize,a.unghost(),delete a.ghostBox,s.removeCls(a.offsetsCls),a.onShowComplete(t,n)}}})):a.onShowComplete(t,n),a.fireHierarchyEvent("show")},onShowComplete:function(e,t){var n=this;n.floating&&(n.toFront(),n.onFloatShow()),Ext.callback(e,t||n),n.fireEvent("show",n),delete n.hiddenByLayout},hide:function(){var e,t=this;return t.pendingShow&&delete t.pendingShow,(!t.rendered||t.isVisible())&&(e=t.fireEvent("beforehide",t)!==!1,(t.hierarchicallyHidden||e)&&(t.hidden=!0,t.getHierarchyState().hidden=!0,t.rendered&&t.onHide.apply(t,arguments))),t},onHide:function(e,t,n){var i,r,o,a=this;e=a.getAnimateTarget(e),a.ghost||(e=null),e&&(o={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight},i=a.ghost(),i.el.stopAnimation(),r=a.getSize(),i.el.animate({to:o,listeners:{afteranimate:function(){delete i.componentLayout.lastComponentSize,i.el.hide(),i.el.setSize(r),a.afterHide(t,n)}}})),a.el.hide(),e||a.afterHide(t,n)},afterHide:function(e,t){var n=this,i=Ext.Element.getActiveElement();n.hiddenByLayout=null,Ext.AbstractComponent.prototype.onHide.call(n),(i===n.el||n.el.contains(i))&&Ext.fly(i).blur(),Ext.callback(e,t||n),n.fireEvent("hide",n),n.fireHierarchyEvent("hide")},onDestroy:function(){var e=this;e.rendered&&Ext.destroy(e.dd,e.resizer,e.proxy,e.proxyWrap,e.resizerComponent),delete e.focusTask,e.callParent()},deleteMembers:function(){for(var e=arguments,t=e.length,n=0;t>n;++n)delete this[e[n]]},focus:function(e,t,n,i){var r,o,a,s=this;if(t)return s.focusTask||(Ext.Component.prototype.focusTask=new Ext.util.DelayedTask(s.focus)),s.focusTask.delay(Ext.isNumber(t)?t:10,null,s,[e,!1,n,i]),s;if(s.focusTask&&s.focusTask.cancel(),s.rendered&&!s.isDestroyed&&s.isVisible(!0)&&(r=s.getFocusEl())){if(r.isComponent)return r.focus(e,t);(o=r.dom)&&(r.needsTabIndex()&&(o.tabIndex=-1),s.floating&&(a=s.container.dom.scrollTop),r.focus(),e===!0&&o.select(),Ext.callback(n,i)),s.floating&&(s.toFront(!0),void 0!==a&&(s.container.dom.scrollTop=a))}return s},cancelFocus:function(){var e=this.focusTask;e&&e.cancel()},blur:function(){var e;return this.rendered&&(e=this.getFocusEl())&&e.blur(),this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},getRefOwner:function(){return this.ownerCt||this.floatParent},getBubbleTarget:function(){return this.getRefOwner()},getContentTarget:function(){return this.el},cloneConfig:function(e){e=e||{};var t,n=e.id||Ext.id(),i=Ext.applyIf(e,this.initialConfig);return i.id=n,t=Ext.getClass(this),new t(i)},getXType:function(){return this.self.xtype},findParentBy:function(e){var t;for(t=this.getBubbleTarget();t&&!e(t,this);t=t.getBubbleTarget());return t||null},findParentByType:function(e){return Ext.isFunction(e)?this.findParentBy(function(t){return t.constructor===e}):this.up(e)},bubble:function(e,t,n){for(var i=this;i&&e.apply(t||i,n||[i])!==!1;)i=i.getBubbleTarget();return this},getProxy:function(){var e,t=this;return t.proxy||(e=Ext.getBody(),t.proxy=t.el.createProxy(Ext.baseCSSPrefix+"proxy-el",e,!0)),t.proxy},fireHierarchyEvent:function(e){this.hierarchyEventSource.fireEvent(e,this)},onAdded:function(){this.callParent(arguments),this.hierarchyEventSource.hasListeners.added&&this.fireHierarchyEvent("added")}},function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:!0,show:!0,collapse:!0,expand:!0,added:!0}})}),Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var e=this;e._borderRegionInited||(e._borderRegionInited=!0,e.addStateEvents(["changeregion","changeweight"]),Ext.override(e,{getState:function(){var t=e.callParent();return t=e.addPropertyToState(t,"region"),t=e.addPropertyToState(t,"weight")}}))},getOwningBorderContainer:function(){var e=this.getOwningBorderLayout();return e&&e.owner},getOwningBorderLayout:function(){var e=this.ownerLayout;return e&&e.isBorderLayout?e:null},setBorderRegion:function(e){var t,n=this,i=n.region;if(e!==i)if(t=n.getOwningBorderLayout()){var r,o,a,s=t.regionFlags[e],l=n.placeholder,d=n.splitter,c=t.owner,u=t.regionMeta,h=n.collapsed||n.floated;if(n.fireEventArgs("beforechangeregion",[n,e])===!1)return i;Ext.suspendLayouts(),n.region=e,Ext.apply(n,s),n.updateCollapseTool&&n.updateCollapseTool(),d&&(Ext.apply(d,s),d.updateOrientation(),o=c.items,a=o.indexOf(n),a>=0&&(r=u[e].splitterDelta,o.getAt(a+r)!==d&&(o.remove(d),a=o.indexOf(n),r>0&&++a,o.insert(a,d)))),l&&(h&&n.expand(!1),c.remove(l),n.placeholder=null,h&&n.collapse(null,!1)),c.updateLayout(),Ext.resumeLayouts(!0),n.fireEventArgs("changeregion",[n,i])}else n.region=e;return i},setRegionWeight:function(e){var t=this,n=t.getOwningBorderContainer(),i=t.placeholder,r=t.weight;return e!==r&&t.fireEventArgs("beforechangeweight",[t,e])!==!1&&(t.weight=e,i&&(i.weight=e),n&&n.updateLayout(),t.fireEventArgs("changeweight",[t,r])),r}}),Ext.define("Ext.ElementLoader",{mixins:{observable:Ext.util.Observable},statics:{Renderer:{Html:function(e,t,n){return e.getTarget().update(t.responseText,n.scripts===!0),!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(e){var t,n=this;e=e||{},Ext.apply(n,e),n.setTarget(n.target),n.addEvents("beforeload","exception","load"),n.mixins.observable.constructor.call(n),n.autoLoad&&(t=n.autoLoad,t===!0&&(t={}),n.load(t))},setTarget:function(e){var t=this;e=Ext.get(e),t.target&&t.target!=e&&t.abort(),t.target=e},getTarget:function(){return this.target||null},abort:function(){var e=this.active;void 0!==e&&(Ext.Ajax.abort(e.request),e.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(e){this.target.mask(e===!0?null:e)},load:function(e){e=Ext.apply({},e);var t=this,n=Ext.isDefined(e.loadMask)?e.loadMask:t.loadMask,i=Ext.apply({},e.params),r=Ext.apply({},e.ajaxOptions),o=e.callback||t.callback,a=e.scope||t.scope||t;Ext.applyIf(r,t.ajaxOptions),Ext.applyIf(e,r),Ext.applyIf(i,t.params),Ext.apply(i,t.baseParams),Ext.applyIf(e,{url:t.url}),Ext.apply(e,{scope:t,params:i,callback:t.onComplete}),t.fireEvent("beforeload",t,e)!==!1&&(n&&t.addMask(n),t.active={options:e,mask:n,scope:a,callback:o,success:e.success||t.success,failure:e.failure||t.failure,renderer:e.renderer||t.renderer,scripts:Ext.isDefined(e.scripts)?e.scripts:t.scripts},t.active.request=Ext.Ajax.request(e),t.setOptions(t.active,e))},setOptions:Ext.emptyFn,onComplete:function(e,t,n){var i,r=this,o=r.active;o&&(i=o.scope,t&&(t=r.getRenderer(o.renderer).call(r,r,n,o)!==!1),t?(Ext.callback(o.success,i,[r,n,e]),r.fireEvent("load",r,n,e)):(Ext.callback(o.failure,i,[r,n,e]),r.fireEvent("exception",r,n,e)),Ext.callback(o.callback,i,[r,t,n,e]),o.mask&&r.removeMask()),delete r.active},getRenderer:function(e){return Ext.isFunction(e)?e:this.statics().Renderer.Html},startAutoRefresh:function(e,t){var n=this;n.stopAutoRefresh(),n.autoRefresh=setInterval(function(){n.load(t)},e)},stopAutoRefresh:function(){clearInterval(this.autoRefresh),delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var e=this;e.stopAutoRefresh(),delete e.target,e.abort(),e.clearListeners()}}),Ext.define("Ext.ComponentLoader",{extend:Ext.ElementLoader,statics:{Renderer:{Data:function(e,t){var n=!0;try{e.getTarget().update(Ext.decode(t.responseText))}catch(i){n=!1}return n},Component:function(e,t,n){var i=!0,r=e.getTarget(),o=[];try{o=Ext.decode(t.responseText)}catch(a){i=!1}return i&&(r.suspendLayouts(),n.removeAll&&r.removeAll(),r.add(o),r.resumeLayouts(!0)),i}}},target:null,loadMask:!1,renderer:"html",setTarget:function(e){var t=this;Ext.isString(e)&&(e=Ext.getCmp(e)),t.target&&t.target!=e&&t.abort(),t.target=e},removeMask:function(){this.target.setLoading(!1)},addMask:function(e){this.target.setLoading(e)},setOptions:function(e,t){e.removeAll=Ext.isDefined(t.removeAll)?t.removeAll:this.removeAll},getRenderer:function(e){if(Ext.isFunction(e))return e;var t=this.statics().Renderer;switch(e){case"component":return t.Component;case"data":return t.Data;default:return Ext.ElementLoader.Renderer.Html}}}),Ext.define("Ext.layout.SizeModel",{constructor:function(e){var t,n=this,i=n.self,r=i.sizeModelsArray;Ext.apply(n,e),n[t=n.name]=!0,n.fixed=!(n.auto=n.natural||n.shrinkWrap),r[n.ordinal=r.length]=i[t]=i.sizeModels[t]=n},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},function(){var e,t,n,i,r,o=this,a=o.sizeModelsArray;for(new o({name:"calculated"}),new o({name:"configured",names:{width:"width",height:"height"}}),new o({name:"natural"}),new o({name:"shrinkWrap"}),new o({name:"calculatedFromConfigured",configured:!0,names:{width:"width",height:"height"}}),new o({name:"calculatedFromNatural",natural:!0}),new o({name:"calculatedFromShrinkWrap",shrinkWrap:!0}),new o({name:"constrainedMax",configured:!0,constrained:!0,names:{width:"maxWidth",height:"maxHeight"}}),new o({name:"constrainedMin",configured:!0,constrained:!0,names:{width:"minWidth",height:"minHeight"}}),new o({name:"constrainedDock",configured:!0,constrained:!0,constrainedByMin:!0,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}}),e=0,n=a.length;n>e;++e)for(r=a[e],r.pairsByHeightOrdinal=i=[],t=0;n>t;++t)i.push({width:r,height:a[t]})
}),Ext.define("Ext.layout.Layout",{isLayout:!0,initialized:!1,running:!1,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(e,t){var n,i,r,o,a,s,l=Ext.ClassManager,d=this.layoutsByType;if(e&&"string"!=typeof e){if(e.isLayout)return e;r=e,a=e.type||t}else a=e||t,r={};if(!(o=d[a])){if(n="layout."+a,i=l.getNameByAlias(n),i||(s=!0),o=l.get(i),s||!o)return l.instantiateByAlias(n,r||{});d[a]=o}return new o(r)}},constructor:function(e){var t=this;t.id=Ext.id(null,t.type+"-"),Ext.apply(t,e),t.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(e){var t,n=this,i=n.context;n.lastWidthModel!=e.widthModel&&(n.lastWidthModel&&(t=!0),n.lastWidthModel=e.widthModel),n.lastHeightModel!=e.heightModel&&(n.lastWidthModel&&(t=!0),n.lastHeightModel=e.heightModel),t&&((i=e.context).clearTriggers(n,!1),i.clearTriggers(n,!0),n.triggerCount=0)},finishedLayout:function(e){this.lastWidthModel=e.widthModel,this.lastHeightModel=e.heightModel,this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(){return this.autoSizePolicy},isItemBoxParent:function(){return!1},isItemLayoutRoot:function(e){var t=e.getSizeModel(),n=t.width,i=t.height;return e.componentLayout.lastComponentSize||!n.calculated&&!i.calculated?!n.shrinkWrap&&!i.shrinkWrap:!1},isItemShrinkWrap:function(e){return e.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(e,t){var n,i,r,o,a=e.length;if(a)for(o=[],n=0;a>n;++n)i=e[n],i.rendered||(t&&void 0!==t[i.id]?r=t[i.id]:(this.configureItem(i),r=i.getRenderTree(),t&&(t[i.id]=r)),r&&o.push(r));return o},finishRender:Ext.emptyFn,finishRenderItems:function(e,t){var n,i,r=t.length;for(n=0;r>n;n++)i=t[n],i.rendering&&(i.finishRender(n),this.afterRenderItem(i))},renderChildren:function(){var e=this,t=e.getLayoutItems(),n=e.getRenderTarget();e.renderItems(t,n)},renderItems:function(e,t){var n,i=this,r=e.length,o=0;if(r){for(Ext.suspendLayouts();r>o;o++)n=e[o],n&&!n.rendered?i.renderItem(n,t,o):i.isValidParent(n,t,o)?i.configureItem(n):i.moveItem(n,t,o);Ext.resumeLayouts(!0)}},isValidParent:function(e,t,n){var i,r=e.el?e.el.dom:Ext.getDom(e),o=t&&t.dom||t,a=r.parentNode;return a&&(i=a.className,i&&-1!==i.indexOf(Ext.baseCSSPrefix+"resizable-wrap")&&(r=r.parentNode)),r&&o?"number"==typeof n?(n=this.getPositionOffset(n),r===o.childNodes[n]):r.parentNode===o:!1},getPositionOffset:function(e){return e},configureItem:function(e){e.ownerLayout=this},renderItem:function(e,t,n){var i=this;e.rendered||(i.configureItem(e),e.render(t,n),i.afterRenderItem(e))},moveItem:function(e,t,n){t=t.dom||t,"number"==typeof n&&(n=t.childNodes[n]),t.insertBefore(e.el.dom,n||null),e.container=Ext.get(t),this.configureItem(e)},onContentChange:function(){return this.owner.updateLayout(),!0},initLayout:function(){this.initialized=!0},setOwner:function(e){this.owner=e},getLayoutItems:function(){return[]},onAdd:function(e){e.ownerLayout=this},afterRenderItem:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(e){var t,n=this,i=e.el,r=n.owner;e.rendered&&(t=[].concat(n.itemCls||[]),r.itemCls&&(t=Ext.Array.push(t,r.itemCls)),t.length&&i.removeCls(t)),delete e.ownerLayout},destroy:function(){var e,t=this;t.targetCls&&(e=t.getTarget(),e&&e.removeCls(t.targetCls)),t.onDestroy()},sortWeightedItems:function(e,t){for(var n=0,i=e.length;i>n;++n)e[n].$i=n;for(Ext.Array.sort(e,function(e,n){var i=n.weight-e.weight;return i||(i=e.$i-n.$i,e[t]&&(i=-i)),i}),n=0;i>n;++n)delete e[n].$i}},function(){var e=this;e.prototype.sizeModels=e.sizeModels=Ext.layout.SizeModel.sizeModels}),Ext.define("Ext.layout.container.Container",{alias:["layout.container"],extend:Ext.layout.Layout,alternateClassName:"Ext.layout.ContainerLayout",mixins:{elementCt:Ext.util.ElementContainer},type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:["overflowPadderEl"],renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){this.callParent(arguments),this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent(),this.mixins.elementCt.destroy.call(this)},beginLayout:function(e){this.callParent(arguments),e.targetContext=e.paddingContext=e.getEl("getTarget",this),this.cacheChildItems(e)},beginLayoutCycle:function(e,t){var n=this;n.callParent(arguments),t&&(n.usesContainerHeight&&++e.consumersContainerHeight,n.usesContainerWidth&&++e.consumersContainerWidth)},cacheChildItems:function(e){var t,n=e.context,i=[],r=this.getVisibleItems(),o=r.length;for(e.childItems=i,e.visibleItems=r,t=0;o>t;++t)i.push(n.getCmp(r[t]))},cacheElements:function(){var e=this.owner;this.applyChildEls(e.el,e.id)},configureItem:function(e){var t,n=this,i=n.itemCls,r=n.owner.itemCls;e.ownerLayout=n,i&&(t="string"==typeof i?[i]:i),r&&(t=Ext.Array.push(t||[],r)),t&&e.addCls(t)},doRenderBody:function(e,t){this.renderItems(e,t),this.renderContent(e,t)},doRenderContainer:function(e,t){var n=t.$comp.layout,i=n.getRenderTpl(),r=n.getRenderData();i.applyOut(r,e)},doRenderItems:function(e,t){var n=t.$layout,i=n.getRenderTree();i&&Ext.DomHelper.generateMarkup(i,e)},finishRender:function(){var e,t,n=this;n.callParent(),n.cacheElements(),e=n.getRenderTarget(),t=n.getLayoutItems(),n.finishRenderItems(e,t)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(e,t){var n,i,r,o,a=e.targetContext,s=a.getFrameInfo(),l=e.paddingContext.getPaddingInfo(),d=0,c=0;return e.widthModel.shrinkWrap||(++c,r=t?a.getDomProp("width"):a.getProp("width"),n="number"==typeof r,n&&(++d,r-=s.width+l.width,0>r&&(r=0))),e.heightModel.shrinkWrap||(++c,o=t?a.getDomProp("height"):a.getProp("height"),i="number"==typeof o,i&&(++d,o-=s.height+l.height,0>o&&(o=0))),{width:r,height:o,needed:c,got:d,gotAll:d==c,gotWidth:n,gotHeight:i}},getPositionOffset:function(e){if(!this.createsInnerCt){var t=this.owner.itemNodeOffset;t&&(e+=t)}return e},getLayoutItems:function(){var e=this.owner,t=e&&e.items;return t&&t.items||[]},getRenderData:function(){var e=this.owner;return{$comp:e,$layout:this,ownerId:e.id}},getRenderedItems:function(){var e,t,n=this,i=n.getRenderTarget(),r=n.getLayoutItems(),o=r.length,a=[];for(e=0;o>e;e++)t=r[e],t.rendered&&n.isValidParent(t,i,e)&&a.push(t);return a},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var e=this,t=Ext.XTemplate.getTpl(this,"renderTpl");return t.renderContent||e.owner.setupRenderTpl(t),t},getRenderTree:function(){var e,t,n=this.owner.items,i={};do t=n.generation,e=this.getItemsRenderTree(this.getLayoutItems(),i);while(n.generation!==t);return e},renderChildren:function(){var e,t,n=this,i=n.owner.items,r=n.getRenderTarget();do e=i.generation,t=n.getLayoutItems(),n.renderItems(t,r);while(i.generation!==e)},getScrollbarsNeeded:function(e,t,n,i){var r=Ext.getScrollbarSize(),o="number"==typeof e,a="number"==typeof t,s=0,l=0;return r.width?(a&&i>t&&(l=2,e-=r.width),o&&n>e&&(s=1,!l&&a&&(t-=r.height,i>t&&(l=2))),l+s):0},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var e,t,n=this.getRenderTarget(),i=this.getLayoutItems(),r=i.length,o=[];for(e=0;r>e;e++)t=i[e],t.rendered&&this.isValidParent(t,n,e)&&t.hidden!==!0&&o.push(t);return o},setupRenderTpl:function(e){var t=this;e.renderBody=t.doRenderBody,e.renderContainer=t.doRenderContainer,e.renderItems=t.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()}}),Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:Ext.layout.container.Container,type:"autocontainer",childEls:["outerCt","innerCt","clearEl"],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,lastOverflowAdjust:{width:0,height:0},renderTpl:["{% if (!(Ext.isIEQuirks || Ext.isIE7m)) { %}",'<span id="{ownerId}-outerCt" style="display:table;">','<div id="{ownerId}-innerCt" style="display:table-cell;height:100%;','vertical-align:top;{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}","</div>","</span>","{% } else if (values.shrinkWrapWidth) { %}",'<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</td>","</tr>","</table>","{% } else { %}",'<div id="{ownerId}-outerCt" style="zoom:1;{%this.renderPadding(out, values)%}">','<div id="{ownerId}-innerCt" style="zoom:1;height:100%;" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</div>","</div>","{% values.$layout.isShrinkWrapTpl = false %}","{% } %}"],tableTpl:['<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"</td>","</tr>","</table>"],isShrinkWrapTpl:!0,beginLayout:function(e){var t,n,i,r,o=this;o.callParent(arguments),o.initContextItems(e),o.isShrinkWrapTpl||(e.widthModel.shrinkWrap&&(r=!0),Ext.isStrict&&Ext.isIE7&&(i=o.getOverflowXStyle(e),"auto"!==i&&"scroll"!==i||!e.paddingContext.getPaddingInfo().right||(r=!0)),r&&o.insertTableCt(e)),!o.isShrinkWrapTpl&&Ext.isIE7&&Ext.isStrict&&!o.clearElHasPadding&&(t=e.paddingContext.getPaddingInfo().bottom,n=o.getOverflowYStyle(e),!t||"auto"!==n&&"scroll"!==n||(o.clearEl.setStyle("height",t),o.clearElHasPadding=!0))},beforeLayoutCycle:function(e){var t=this.owner,n=t.hierarchyState,i=t.hierarchyStateInner;(!n||n.invalid)&&(n=t.getHierarchyState(),i=t.hierarchyStateInner),e.widthModel.shrinkWrap&&this.isShrinkWrapTpl?i.inShrinkWrapTable=!0:delete i.inShrinkWrapTable},beginLayoutCycle:function(e){var t,n,i,r,o,a,s,l=this,d=l.outerCt,c=l.lastOuterCtWidth||"",u=l.lastOuterCtHeight||"",h=l.lastOuterCtTableLayout||"",f=e.state;l.callParent(arguments),i=r=o="",!e.widthModel.shrinkWrap&&l.isShrinkWrapTpl&&(Ext.isIE7m&&Ext.isStrict&&(n=l.getOverflowYStyle(e),("auto"===n||"scroll"===n)&&(a=!0)),a||(i="100%"),s=l.owner.hierarchyStateInner,t=l.getOverflowXStyle(e),o=s.inShrinkWrapTable||"auto"===t||"scroll"===t?"":"fixed"),e.heightModel.shrinkWrap||Ext.supports.PercentageHeightOverflowBug||(r="100%"),(i!==c||l.hasOuterCtPxWidth)&&(d.setStyle("width",i),l.lastOuterCtWidth=i,l.hasOuterCtPxWidth=!1),o!==h&&(d.setStyle("table-layout",o),l.lastOuterCtTableLayout=o),(r!==u||l.hasOuterCtPxHeight)&&(d.setStyle("height",r),l.lastOuterCtHeight=r,l.hasOuterCtPxHeight=!1),l.hasInnerCtPxHeight&&(l.innerCt.setStyle("height",""),l.hasInnerCtPxHeight=!1),f.overflowAdjust=f.overflowAdjust||l.lastOverflowAdjust},calculate:function(e){var t=this,n=e.state,i=t.getContainerSize(e,!0),r=n.calculatedItems||(n.calculatedItems=t.calculateItems?t.calculateItems(e,i):!0);return t.setCtSizeIfNeeded(e,i),r&&e.hasDomProp("containerChildrenSizeDone")&&(t.calculateContentSize(e),i.gotAll)?(!t.manageOverflow||e.state.secondPass||t.reserveScrollbar||t.calculateOverflow(e,i),void 0):(t.done=!1,void 0)},calculateContentSize:function(e){var t=this,n=(e.widthModel.shrinkWrap?1:0)|(e.heightModel.shrinkWrap?2:0),i=1&n||void 0,r=2&n||void 0,o=0,a=e.props;i&&(isNaN(a.contentWidth)?++o:i=void 0),r&&(isNaN(a.contentHeight)?++o:r=void 0),o&&(i&&!e.setContentWidth(t.measureContentWidth(e))&&(t.done=!1),r&&!e.setContentHeight(t.measureContentHeight(e))&&(t.done=!1))},calculateOverflow:function(e){var t,n,i,r,o,a,s,l=this;o="auto"===l.getOverflowXStyle(e),a="auto"===l.getOverflowYStyle(e),(o||a)&&(i=Ext.getScrollbarSize(),s=e.overflowContext.el.dom,r=0,s.scrollWidth>s.clientWidth&&(r|=1),s.scrollHeight>s.clientHeight&&(r|=2),t=a&&2&r?i.width:0,n=o&&1&r?i.height:0,(t!==l.lastOverflowAdjust.width||n!==l.lastOverflowAdjust.height)&&(l.done=!1,e.invalidate({state:{overflowAdjust:{width:t,height:n},overflowState:r,secondPass:!0}})))},completeLayout:function(e){this.lastOverflowAdjust=e.state.overflowAdjust},doRenderPadding:function(e,t){var n=t.$layout,i=t.$layout.owner,r=i[i.contentPaddingProperty];n.managePadding&&r&&e.push("padding:",i.unitizeBox(r))},finishedLayout:function(){var e=this.innerCt;this.callParent(arguments),(Ext.isIEQuirks||Ext.isIE8m)&&e.repaint(),Ext.isOpera&&(e.setStyle("position","relative"),e.dom.scrollWidth,e.setStyle("position",""))},getContainerSize:function(e){var t=this.callParent(arguments),n=e.state.overflowAdjust;return n&&(t.width-=n.width,t.height-=n.height),t},getRenderData:function(){var e=this.owner,t=this.callParent();return(Ext.isIEQuirks||Ext.isIE7m)&&(1&e.shrinkWrap||e.floating&&!e.width)&&(t.shrinkWrapWidth=!0),t},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(e){return e.overflowXStyle||(e.overflowXStyle=this.owner.scrollFlags.overflowX||e.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(e){return e.overflowYStyle||(e.overflowYStyle=this.owner.scrollFlags.overflowY||e.overflowContext.getStyle("overflow-y"))},initContextItems:function(e){var t=this,n=e.target,i=t.owner.customOverflowEl;e.outerCtContext=e.getEl("outerCt",t),e.innerCtContext=e.getEl("innerCt",t),e.overflowContext=i?e.getEl(i):e.targetContext,void 0!==n[n.contentPaddingProperty]&&(e.paddingContext=t.isShrinkWrapTpl?e.innerCtContext:e.outerCtContext)},initLayout:function(){var e=this,t=Ext.getScrollbarSize().width,n=e.owner;e.callParent(),t&&e.manageOverflow&&!e.hasOwnProperty("lastOverflowAdjust")&&(n.autoScroll||e.reserveScrollbar)&&(e.lastOverflowAdjust={width:t,height:0})},insertTableCt:function(e){var t,n,i,r,o,a=this,s=a.owner,l=0;for(t=Ext.XTemplate.getTpl(this,"tableTpl"),t.renderPadding=a.doRenderPadding,a.outerCt.dom.removeChild(a.innerCt.dom),n=document.createDocumentFragment(),i=a.innerCt.dom.childNodes,r=i.length;r>l;l++)n.appendChild(i[0]);o=a.getTarget(),o.dom.innerHTML=t.apply({$layout:a,ownerId:a.owner.id}),o.down("td").dom.appendChild(n),a.applyChildEls(s.el,s.id),a.isShrinkWrapTpl=!0,e.removeEl(a.outerCt),e.removeEl(a.innerCt),a.initContextItems(e)},measureContentHeight:function(e){var t=this.outerCt.getHeight(),n=e.target;return this.managePadding&&void 0===n[n.contentPaddingProperty]&&(t+=e.targetContext.getPaddingInfo().height),t},measureContentWidth:function(e){var t,n,i,r,o;return this.chromeCellMeasureBug&&(t=this.innerCt.dom,n=t.style,i=n.display,"table-cell"==i&&(n.display="",t.offsetWidth,n.display=i)),r=this.outerCt.getWidth(),o=e.target,this.managePadding&&void 0===o[o.contentPaddingProperty]&&(r+=e.targetContext.getPaddingInfo().width),r},setCtSizeIfNeeded:function(e,t){var n,i,r,o,a=this,s=t.width,l=t.height,d=e.paddingContext.getPaddingInfo(),c=a.getTarget(),u=a.getOverflowXStyle(e),h=a.getOverflowYStyle(e),f="auto"===u||"scroll"===u,g="auto"===h||"scroll"===h,p=Ext.getScrollbarSize(),m=a.isShrinkWrapTpl,x=a.manageOverflow;s&&!e.widthModel.shrinkWrap&&(Ext.isIE7m&&Ext.isStrict&&m&&g||Ext.isIEQuirks&&!m&&!f)&&(x||g&&c.dom.scrollHeight>c.dom.clientHeight&&(s-=p.width),e.outerCtContext.setProp("width",s+d.width),a.hasOuterCtPxWidth=!0),l&&!e.heightModel.shrinkWrap&&(Ext.supports.PercentageHeightOverflowBug&&(i=!0),(Ext.isIE8&&Ext.isStrict||Ext.isIE7m&&Ext.isStrict&&m)&&(r=!0,o=!Ext.isIE8),(i||r)&&f&&c.dom.scrollWidth>c.dom.clientWidth&&(l=Math.max(l-p.height,0)),i&&(e.outerCtContext.setProp("height",l+d.height),a.hasOuterCtPxHeight=!0),r&&(o&&(l+=d.height),e.innerCtContext.setProp("height",l),a.hasInnerCtPxHeight=!0)),Ext.isIE7&&Ext.isStrict&&!m&&"auto"===h&&(n="auto"===u?"overflow-x":"overflow-y",c.setStyle(n,"hidden"),c.setStyle(n,"auto"))},setupRenderTpl:function(e){this.callParent(arguments),e.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&Ext.chromeVersion>=26}),Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9e3},constructor:function(e){var t=this;t.list={},t.zIndexStack=[],t.front=null,e?e.isContainer?(e.on("resize",t._onContainerResize,t),t.zseed=Ext.Number.from(t.rendered?e.getEl().getStyle("zIndex"):void 0,t.getNextZSeed()),t.targetEl=e.getTargetEl(),t.container=e):(Ext.EventManager.onWindowResize(t._onContainerResize,t),t.zseed=t.getNextZSeed(),t.targetEl=Ext.get(e)):(Ext.EventManager.onWindowResize(t._onContainerResize,t),t.zseed=t.getNextZSeed(),Ext.onDocumentReady(function(){t.targetEl=Ext.getBody()}))},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(e){this.zseed=e;var t=this.assignZIndices();return this._activateLast(),t},assignZIndices:function(){for(var e,t,n=this.zIndexStack,i=n.length,r=0,o=this.zseed;i>r;r++)e=n[r],e&&!e.hidden&&(o=e.setZIndex(o),e.modal&&(t=e));return t&&this._showModalMask(t),o},_setActiveChild:function(e,t){var n=this.front,i=e.preventFocusOnActivate;e!==n&&(n&&!n.destroying&&n.setActive(!1,e),this.front=e,e&&e!=t&&(e.preventFocusOnActivate=e.preventFocusOnActivate||t&&(t.preventFocusOnActivate||!t.focusOnToFront),e.setActive(!0),e.modal&&this._showModalMask(e),e.preventFocusOnActivate=i))},onComponentHide:function(){this._activateLast()},_activateLast:function(){for(var e,t=this,n=t.zIndexStack,i=n.length-1;i>=0&&n[i].hidden;--i);if(e=n[i]){if(t._setActiveChild(e,t.front),e.modal)return}else t.front&&!t.front.destroying&&t.front.setActive(!1),t.front=null;for(;i>=0;--i)if(e=n[i],e.isVisible()&&e.modal)return t._showModalMask(e),void 0;t._hideModalMask()},_showModalMask:function(e){var t,n=this,i=e.el.getStyle("zIndex")-4,r=e.floatParent?e.floatParent.getTargetEl():e.container,o=n.mask,a=n.maskShim;o||(Ext.isIE6&&(a=n.maskShim=Ext.getBody().createChild({tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"}),a.setVisibilityMode(Ext.Element.DISPLAY)),o=n.mask=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"mask",style:"height:0;width:0"}),o.setVisibilityMode(Ext.Element.DISPLAY),o.on("click",n._onMaskClick,n)),o.maskTarget=r,t=n.getMaskBox(),a&&(a.setStyle("zIndex",i),a.show(),a.setBox(t)),o.setStyle("zIndex",i),o.show(),o.setBox(t)},_hideModalMask:function(){var e=this.mask,t=this.maskShim;e&&e.isVisible()&&(e.maskTarget=void 0,e.hide(),t&&t.hide())},_onMaskClick:function(){this.front&&this.front.focus()},getMaskBox:function(){var e=this.mask.maskTarget;return e.dom===document.body?{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}:e.getBox()},_onContainerResize:function(){var e,t=this,n=t.mask,i=t.maskShim;n&&n.isVisible()&&(n.hide(),i&&i.hide(),e=t.getMaskBox(),i&&(i.setSize(e),i.show()),n.setSize(e),n.show())},register:function(e){var t=this,n=e.afterHide;e.zIndexManager&&e.zIndexManager.unregister(e),e.zIndexManager=t,t.list[e.id]=e,t.zIndexStack.push(e),e.afterHide=function(){n.apply(e,arguments),t.onComponentHide(e)}},unregister:function(e){var t=this,n=t.list;delete e.zIndexManager,n&&n[e.id]&&(delete n[e.id],delete e.afterHide,Ext.Array.remove(t.zIndexStack,e),t._activateLast())},get:function(e){return e.isComponent?e:this.list[e]},bringToFront:function(e,t){var n=this,i=!1,r=n.zIndexStack;return e=n.get(e),e!==n.front&&(Ext.Array.remove(r,e),e.preventBringToFront?r.unshift(e):r.push(e),n.assignZIndices(),t||n._activateLast(),i=!0,n.front=e,e.modal&&n._showModalMask(e)),i},sendToBack:function(e){var t=this;return e=t.get(e),Ext.Array.remove(t.zIndexStack,e),t.zIndexStack.unshift(e),t.assignZIndices(),this._activateLast(),e},hideAll:function(){var e,t,n=this.list;for(t in n)n.hasOwnProperty(t)&&(e=n[t],e.isComponent&&e.isVisible()&&e.hide())},hide:function(){var e,t=0,n=this.zIndexStack,i=n.length;for(this.tempHidden=[];i>t;t++)e=n[t],e.isVisible()&&(this.tempHidden.push(e),e.el.hide(),e.hidden=!0)},show:function(){for(var e,t=0,n=this.tempHidden,i=n?n.length:0;i>t;t++)e=n[t],e.el.show(),e.hidden=!1,e.setPosition(e.x,e.y);delete this.tempHidden},getActive:function(){return this.front},getBy:function(e,t){for(var n,i=[],r=0,o=this.zIndexStack,a=o.length;a>r;r++)n=o[r],e.call(t||n,n)!==!1&&i.push(n);return i},each:function(e,t){var n,i,r=this.list;for(n in r)if(r.hasOwnProperty(n)&&(i=r[n],i.isComponent&&e.call(t||i,i)===!1))return},eachBottomUp:function(e,t){for(var n,i=this.zIndexStack,r=0,o=i.length;o>r;r++)if(n=i[r],n.isComponent&&e.call(t||n,n)===!1)return},eachTopDown:function(e,t){for(var n,i=this.zIndexStack,r=i.length;r-->0;)if(n=i[r],n.isComponent&&e.call(t||n,n)===!1)return},destroy:function(){var e,t,n=this,i=n.list;for(t in i)i.hasOwnProperty(t)&&(e=i[t],e.isComponent&&e.destroy());delete n.zIndexStack,delete n.list,delete n.container,delete n.targetEl}},function(){Ext.WindowManager=Ext.WindowMgr=new this}),Ext.define("Ext.Queryable",{isQueryable:!0,query:function(e){return e=e||"*",Ext.ComponentQuery.query(e,this)},queryBy:function(e,t){for(var n,i=[],r=this.getRefItems(!0),o=0,a=r.length;a>o;++o)n=r[o],e.call(t||n,n)!==!1&&i.push(n);return i},queryById:function(e){return this.down("#"+e)},child:function(e){return e&&e.isComponent&&(e="#"+Ext.escapeId(e.getItemId())),e=e||"",this.query("> "+e)[0]||null},down:function(e){return e&&e.isComponent&&(e="#"+Ext.escapeId(e.getItemId())),e=e||"",this.query(e)[0]||null},getRefItems:function(){return[]}}),Ext.define("Ext.layout.component.Component",{extend:Ext.layout.Layout,type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,beginLayoutCycle:function(e,t){var n,i,r,o,a=this,s=a.owner,l=e.ownerCtContext,d=e.heightModel,c=e.widthModel,u=s.el.dom===document.body,h=s.lastBox||a.nullBox,f=s.el.lastBox||a.nullBox,g=!u;a.callParent(arguments),t&&(a.usesContentWidth&&++e.consumersContentWidth,a.usesContentHeight&&++e.consumersContentHeight,a.usesWidth&&++e.consumersWidth,a.usesHeight&&++e.consumersHeight,l&&!l.hasRawContent&&(n=s.ownerLayout,n.usesWidth&&++e.consumersWidth,n.usesHeight&&++e.consumersHeight)),c.configured?(r=c.names.width,u||(g=t?s[r]!==f.width:c.constrained),e.setWidth(s[r],g)):e.isTopLevel&&(c.calculated&&(i=h.width,e.setWidth(i,i!=f.width)),i=h.x,e.setProp("x",i,i!=f.x)),d.configured?(o=d.names.height,u||(g=t?s[o]!==f.height:d.constrained),e.setHeight(s[o],g)):e.isTopLevel&&(d.calculated&&(i=h.height,e.setHeight(i,i!=f.height)),i=h.y,e.setProp("y",i,i!=f.y))},finishedLayout:function(e){var t,n,i,r,o,a=this,s=e.children,l=a.owner;if(s)for(t=s.length,n=0;t>n;n++)i=s[n],i.el.lastBox=i.props;e.previousSize=a.lastComponentSize,a.lastComponentSize=l.el.lastBox=o=e.props,r=l.lastBox||(l.lastBox={}),r.x=o.x,r.y=o.y,r.width=o.width,r.height=o.height,r.invalid=!1,a.callParent(arguments)},notifyOwner:function(e){var t=this,n=t.lastComponentSize,i=e.previousSize,r=[n.width,n.height];i&&r.push(i.width,i.height),t.owner.afterComponentLayout.apply(t.owner,r)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(e){var t,n=this,i=n.targetInfo;return i||(t=e.getEl("getTarget",n),n.targetInfo=i={padding:t.getPaddingInfo(),border:t.getBorderInfo()}),i},measureAutoDimensions:function(e,t){var n,i,r,o,a,s,l=this,d=l.owner,c=d.layout,u=e.heightModel,h=e.widthModel,f=e.boxParent,g=e.isBoxParent,p=e.props,m={gotWidth:!1,gotHeight:!1,isContainer:n=!e.hasRawContent},x=t||3,y=0,E=0;return h.shrinkWrap&&e.consumersContentWidth?(++y,i=!(1&x),n?i?(m.contentWidth=0,m.gotWidth=!0,++E):void 0!==(m.contentWidth=e.getProp("contentWidth"))&&(m.gotWidth=!0,++E):(a=p.contentWidth,"number"==typeof a?(m.contentWidth=a,m.gotWidth=!0,++E):(o=i?!0:e.hasDomProp("containerChildrenSizeDone")?g||!f||f.widthModel.shrinkWrap?!0:f.hasDomProp("width"):!1,o&&(s=i?0:c&&c.measureContentWidth?c.measureContentWidth(e):l.measureContentWidth(e),isNaN(m.contentWidth=s)||(e.setContentWidth(s,!0),m.gotWidth=!0,++E))))):h.natural&&e.consumersWidth&&(++y,a=p.width,"number"==typeof a?(m.width=a,m.gotWidth=!0,++E):(o=g||!f?!0:f.hasDomProp("width"),o&&(isNaN(m.width=l.measureOwnerWidth(e))||(e.setWidth(m.width,!1),m.gotWidth=!0,++E)))),u.shrinkWrap&&e.consumersContentHeight?(++y,r=!(2&x),n?r?(m.contentHeight=0,m.gotHeight=!0,++E):void 0!==(m.contentHeight=e.getProp("contentHeight"))&&(m.gotHeight=!0,++E):(a=p.contentHeight,"number"==typeof a?(m.contentHeight=a,m.gotHeight=!0,++E):(o=r?!0:e.hasDomProp("containerChildrenSizeDone")?d.noWrap?!0:h.shrinkWrap?g||!f||f.widthModel.shrinkWrap?!0:f.hasDomProp("width"):(e.bodyContext||e).hasDomProp("width"):!1,o&&(s=r?0:c&&c.measureContentHeight?c.measureContentHeight(e):l.measureContentHeight(e),isNaN(m.contentHeight=s)||(e.setContentHeight(s,!0),m.gotHeight=!0,++E))))):u.natural&&e.consumersHeight&&(++y,a=p.height,"number"==typeof a?(m.height=a,m.gotHeight=!0,++E):(o=g||!f?!0:f.hasDomProp("width"),o&&(isNaN(m.height=l.measureOwnerHeight(e))||(e.setHeight(m.height,!1),m.gotHeight=!0,++E)))),f&&e.onBoxMeasured(),m.gotAll=E==y,m},measureContentWidth:function(e){return e.el.getWidth()-e.getFrameInfo().width},measureContentHeight:function(e){return e.el.getHeight()-e.getFrameInfo().height},measureOwnerHeight:function(e){return e.el.getHeight()},measureOwnerWidth:function(e){return e.el.getWidth()}}),Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:Ext.layout.component.Component,type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(e){var t=this,n=t.lastWidthModel,i=t.lastHeightModel,r=t.owner.el;t.callParent(arguments),n&&n.fixed&&e.widthModel.shrinkWrap&&r.setWidth(null),i&&i.fixed&&e.heightModel.shrinkWrap&&r.setHeight(null)},calculate:function(e){var t,n,i=this,r=i.measureAutoDimensions(e),o=e.heightModel,a=e.widthModel;r.gotWidth?a.shrinkWrap?i.publishOwnerWidth(e,r.contentWidth):i.publishInnerWidth&&i.publishInnerWidth(e,r.width):!a.auto&&i.publishInnerWidth&&(t=i.waitForOuterWidthInDom?e.getDomProp("width"):e.getProp("width"),void 0===t?i.done=!1:i.publishInnerWidth(e,t)),r.gotHeight?o.shrinkWrap?i.publishOwnerHeight(e,r.contentHeight):i.publishInnerHeight&&i.publishInnerHeight(e,r.height):!o.auto&&i.publishInnerHeight&&(n=i.waitForOuterHeightInDom?e.getDomProp("height"):e.getProp("height"),void 0===n?i.done=!1:i.publishInnerHeight(e,n)),r.gotAll||(i.done=!1)},calculateOwnerHeightFromContentHeight:function(e,t){return t+e.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(e,t){return t+e.getFrameInfo().width},publishOwnerHeight:function(e,t){var n,i,r,o=this,a=o.owner,s=o.calculateOwnerHeightFromContentHeight(e,t);isNaN(s)?o.done=!1:(n=Ext.Number.constrain(s,a.minHeight,a.maxHeight),n==s?i=o.setHeightInDom:(r=o.sizeModels[s>n?"constrainedMax":"constrainedMin"],s=n,e.heightModel.calculatedFromShrinkWrap?e.heightModel=r:e.invalidate({heightModel:r})),e.setHeight(s,i))},publishOwnerWidth:function(e,t){var n,i,r,o=this,a=o.owner,s=o.calculateOwnerWidthFromContentWidth(e,t);isNaN(s)?o.done=!1:(n=Ext.Number.constrain(s,a.minWidth,a.maxWidth),n==s?i=o.setWidthInDom:(r=o.sizeModels[s>n?"constrainedMax":"constrainedMin"],s=n,e.widthModel.calculatedFromShrinkWrap?e.widthModel=r:e.invalidate({widthModel:r})),e.setWidth(s,i))}}),Ext.define("Ext.container.AbstractContainer",{extend:Ext.Component,mixins:{queryable:Ext.Queryable},renderTpl:"{%this.renderContainer(out,values)%}",suspendLayout:!1,autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,isContainer:!0,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",defaultLayoutType:"auto",initComponent:function(){var e=this;e.addEvents("afterlayout","beforeadd","beforeremove","add","remove"),e.callParent(),e.getLayout(),e.initItems()},initItems:function(){var e=this,t=e.items;e.items=new Ext.util.AbstractMixedCollection(!1,e.getComponentId),e.floatingItems=new Ext.util.MixedCollection(!1,e.getComponentId),t&&(Ext.isArray(t)||(t=[t]),e.add(t))},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){this.callParent();var e=this.getLayout();e&&e.finishRender()},beforeRender:function(){var e,t=this,n=t.getLayout();t.callParent(),n.initialized||n.initLayout(),e=n.targetCls,e&&t.applyTargetCls(e)},applyTargetCls:function(e){this.addCls(e)},afterComponentLayout:function(){var e,t,n=this.floatingItems.items,i=n.length;for(this.callParent(arguments),e=0;i>e;e++)t=n[e],!t.rendered&&t.autoShow&&t.show()},onPosition:function(){this.callParent(arguments),this.repositionFloatingItems()},onResize:function(){this.callParent(arguments),this.repositionFloatingItems()},repositionFloatingItems:function(){var e,t,n=this.floatingItems.items,i=n.length;for(e=0;i>e;e++)t=n[e],t.el&&!t.hidden&&t.setPosition(t.x,t.y)},setupRenderTpl:function(e){this.callParent(arguments),this.getLayout().setupRenderTpl(e)},getDefaultContentTarget:function(){return this.el},getContentTarget:function(){return this.getLayout().getContentTarget()},setLayout:function(e){var t=this.layout;t&&t.isLayout&&t!=e&&t.setOwner(null),this.layout=e,e.setOwner(this)},getLayout:function(){var e=this;return e.layout&&e.layout.isLayout||e.setLayout(Ext.layout.Layout.create(e.layout,e.self.prototype.layout||e.defaultLayoutType)),e.layout},doLayout:function(){return this.updateLayout(),this},afterLayout:function(e){var t=this;++t.layoutCounter,t.hasListeners.afterlayout&&t.fireEvent("afterlayout",t,e)},prepareItems:function(e,t){e=Ext.isArray(e)?e.slice():[e];for(var n,i=this,r=0,o=e.length;o>r;r++)n=e[r],null==n?(Ext.Array.erase(e,r,1),--r,--o):(t&&(n=this.applyDefaults(n)),n.isContained=i,e[r]=i.lookupComponent(n),delete n.isContained,delete e[r].isContained);return e},applyDefaults:function(e){var t=this.defaults;return t&&(Ext.isFunction(t)&&(t=t.call(this,e)),Ext.isString(e)&&(e=Ext.ComponentManager.get(e)),Ext.applyIf(e,t)),e},lookupComponent:function(e){return"string"==typeof e?Ext.ComponentManager.get(e):Ext.ComponentManager.create(e,this.defaultType)},getComponentId:function(e){return e.getItemId&&e.getItemId()},add:function(){var e,t,n,i,r,o,a,s=this,l=Ext.Array.slice(arguments),d="number"==typeof l[0]?l.shift():-1,c=s.getLayout();for(1==l.length&&Ext.isArray(l[0])?(t=l[0],e=!0):t=l,s.rendered&&Ext.suspendLayouts(),a=t=s.prepareItems(t,!0),i=t.length,e||1!=i||(a=t[0]),n=0;i>n;n++)r=t[n],o=0>d?s.items.length:d+n,r.floating?(s.floatingItems.add(r),r.onAdded(s,o),s.hasListeners.add&&s.fireEvent("add",s,r,o)):s.hasListeners.beforeadd&&s.fireEvent("beforeadd",s,r,o)===!1||s.onBeforeAdd(r)===!1||(s.items.insert(o,r),r.onAdded(s,o),s.onAdd(r,o),c.onAdd(r,o),s.hasListeners.add&&s.fireEvent("add",s,r,o));return s.updateLayout(),s.rendered&&Ext.resumeLayouts(!0),a},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(e,t){var n;return t&&t.isComponent&&(n=this.items.indexOf(t),-1!==n)?this.move(n,e):this.add(e,t)},move:function(e,t){var n,i=this.items;return e.isComponent&&(e=i.indexOf(e)),n=i.removeAt(e),n===!1?!1:(i.insert(t,n),this.onMove(n,e,t),this.updateLayout(),n)},onMove:Ext.emptyFn,onBeforeAdd:function(e){e.ownerCt&&e.ownerCt!==this&&e.ownerCt.remove(e,!1)},remove:function(e,t){var n=this,i=n.getComponent(e);return!i||n.hasListeners.beforeremove&&n.fireEvent("beforeremove",n,i)===!1||(n.doRemove(i,t),n.hasListeners.remove&&n.fireEvent("remove",n,i),n.destroying||i.floating||n.updateLayout()),i},doRemove:function(e,t){t=t===!0||t!==!1&&this.autoDestroy;var n=this,i=n.layout,r=i&&n.rendered,o=e.destroying||t,a=e.floating;a?n.floatingItems.remove(e):n.items.remove(e),r&&!a&&(i.running&&Ext.AbstractComponent.cancelLayout(e,o),i.onRemove(e,o)),e.onRemoved(o),n.onRemove(e,o),t?e.destroy():(r&&!a&&i.afterRemove(e),n.detachOnRemove&&e.rendered&&n.detachComponent(e))},detachComponent:function(e){Ext.getDetachedBody().appendChild(e.getEl())},removeAll:function(e){var t,n=this,i=n.items.items.slice().concat(n.floatingItems.items),r=[],o=0,a=i.length;
for(n.suspendLayouts();a>o;o++)t=i[o],n.remove(t,e),t.ownerCt!==n&&r.push(t);return n.resumeLayouts(!!a),r},getRefItems:function(e){for(var t,n=this,i=n.items.items,r=i.length,o=0,a=[];r>o;o++)t=i[o],a[a.length]=t,e&&t.getRefItems&&a.push.apply(a,t.getRefItems(!0));for(i=n.floatingItems.items,r=i.length,o=0;r>o;o++)t=i[o],a[a.length]=t,e&&t.getRefItems&&a.push.apply(a,t.getRefItems(!0));return a},cascade:function(e,t,n){var i,r=this,o=r.items?r.items.items:[],a=o.length,s=0,l=n?n.concat(r):[r],d=l.length-1;if(e.apply(t||r,l)!==!1)for(;a>s;s++)i=o[s],i.cascade?i.cascade(e,t,n):(l[d]=i,e.apply(t||o,l));return this},isAncestor:function(e){for(;e;){if(e.ownerCt===this)return!0;e=e.ownerCt}},getComponent:function(e){Ext.isObject(e)&&(e=e.getItemId());var t=this.items.get(e);return t||"number"==typeof e||(t=this.floatingItems.get(e)),t},contains:function(e,t){var n=!1;return t?(this.cascade(function(t){return t.contains&&t.contains(e)?(n=!0,!1):void 0}),n):this.items.contains(e)||this.floatingItems.contains(e)},nextChild:function(e,t){var n,i=this,r=i.items.indexOf(e);return-1!==r&&(n=t?Ext.ComponentQuery(t,i.items.items.slice(r+1)):i.items.getAt(r+1),!n&&i.ownerCt&&(n=i.ownerCt.nextChild(i,t))),n},prevChild:function(e,t){var n,i=this,r=i.items.indexOf(e);return-1!==r&&(n=t?Ext.ComponentQuery(t,i.items.items.slice(r+1)):i.items.getAt(r+1),!n&&i.ownerCt&&(n=i.ownerCt.nextChild(i,t))),n},enable:function(){this.callParent(arguments);var e,t,n=this.getChildItemsToDisable(),i=n.length;for(t=0;i>t;t++)e=n[t],e.resetDisable&&e.enable();return this},disable:function(){this.callParent(arguments);var e,t,n=this.getChildItemsToDisable(),i=n.length;for(t=0;i>t;t++)e=n[t],e.resetDisable===!1||e.disabled||(e.disable(),e.resetDisable=!0);return this},getChildItemsToDisable:function(){return this.query("[isFormField],button")},beforeDestroy:function(){var e,t=this,n=t.items,i=t.floatingItems;if(n)for(;e=n.first();)t.doRemove(e,!0);if(i)for(;e=i.first();)t.doRemove(e,!0);Ext.destroy(t.layout),t.callParent()}}),Ext.define("Ext.container.Container",{extend:Ext.container.AbstractContainer,alias:"widget.container",alternateClassName:"Ext.Container",getChildByElement:function(e,t){var n,i,r=0,o=this.getRefItems(),a=o.length;for(e=Ext.getDom(e);a>r;r++)if(n=o[r],i=n.getEl(),i&&(i.dom===e||i.contains(e)))return t&&n.getChildByElement?n.getChildByElement(e,t):n;return null}}),Ext.define("Ext.layout.container.Editor",{alias:"layout.editor",extend:Ext.layout.container.Container,autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(){var e=this,t=e.owner.autoSize,n=t&&t.width,i=e.sizePolicies;return i=i[n]||i.$,n=t&&t.height,i=i[n]||i.$},calculate:function(e){var t,n,i=this,r=i.owner,o=r.autoSize;o===!0&&(o=i.autoSizeDefault),o&&(t=i.getDimension(r,o.width,"getWidth",r.width),n=i.getDimension(r,o.height,"getHeight",r.height)),e.childItems[0].setSize(t,n),e.setWidth(t),e.setHeight(n),e.setContentSize(t||r.field.getWidth(),n||r.field.getHeight())},getDimension:function(e,t,n,i){switch(t){case"boundEl":return e.boundEl[n]();case"field":return void 0;default:return i}}}),Ext.define("Ext.Editor",{extend:Ext.container.Container,alias:"widget.editor",layout:"editor",allowBlur:!0,revertInvalid:!0,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,focusOnToFront:!1,hidden:!0,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var e=this,t=e.field=Ext.ComponentManager.create(e.field,"textfield");Ext.apply(t,{inEditor:!0,msgTarget:"title"==t.msgTarget?"title":"qtip"}),e.mon(t,{scope:e,blur:e.onFieldBlur,specialkey:e.onSpecialKey}),t.grow&&e.mon(t,"autosize",e.onFieldAutosize,e,{delay:1}),e.floating={constrain:e.constrain},e.items=t,e.callParent(arguments),e.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onFieldAutosize:function(){this.updateLayout()},afterRender:function(){var e=this,t=e.field,n=t.inputEl;e.callParent(arguments),n&&(n.dom.name="",e.swallowKeys&&n.swallowEvent(["keypress","keydown"]))},onSpecialKey:function(e,t){var n=this,i=t.getKey(),r=n.completeOnEnter&&i==t.ENTER,o=n.cancelOnEsc&&i==t.ESC;(r||o)&&(t.stopEvent(),Ext.defer(function(){r?n.completeEdit():n.cancelEdit(),e.triggerBlur&&e.triggerBlur(t)},10)),n.fireEvent("specialkey",n,e,t)},startEdit:function(e,t){var n=this,i=n.field;n.completeEdit(),n.boundEl=Ext.get(e),t=Ext.isDefined(t)?t:Ext.String.trim(n.boundEl.dom.innerText||n.boundEl.dom.innerHTML),n.rendered||(n.ownerCt&&(n.parentEl=n.ownerCt.el,n.parentEl.position()),n.render(n.parentEl||document.body)),n.fireEvent("beforestartedit",n,n.boundEl,t)!==!1&&(n.startValue=t,n.show(),i.suspendEvents(),i.reset(),i.setValue(t),i.resumeEvents(),n.realign(!0),i.focus(),i.autoSize&&i.autoSize(),n.editing=!0)},realign:function(e){var t=this;e===!0&&t.updateLayout(),t.alignTo(t.boundEl,t.alignment,t.offsets)},completeEdit:function(e){var t,n=this,i=n.field;if(n.editing)return i.assertValue&&i.assertValue(),t=n.getValue(),i.isValid()?String(t)===String(n.startValue)&&n.ignoreNoChange?(n.hideEdit(e),void 0):(n.fireEvent("beforecomplete",n,t,n.startValue)!==!1&&(t=n.getValue(),n.updateEl&&n.boundEl&&n.boundEl.update(t),n.hideEdit(e),n.fireEvent("complete",n,t,n.startValue)),void 0):(n.revertInvalid!==!1&&n.cancelEdit(e),void 0)},onShow:function(){var e=this;e.callParent(arguments),e.hideEl!==!1&&e.boundEl.hide(),e.fireEvent("startedit",e,e.boundEl,e.startValue)},cancelEdit:function(e){var t,n=this,i=n.startValue,r=n.field;n.editing&&(t=n.getValue(),r.suspendEvents(),n.setValue(i),r.resumeEvents(),n.hideEdit(e),n.fireEvent("canceledit",n,t,i))},hideEdit:function(e){e!==!0&&(this.editing=!1,this.hide())},onFieldBlur:function(){var e=this,t=Ext.Element.getActiveElement();e.allowBlur===!0&&e.editing&&e.selectSameEditor!==!0&&e.completeEdit(),(Ext.fly(t).isFocusable()||t.getAttribute("tabIndex"))&&t.focus()},onHide:function(){var e=this,t=e.field;return e.editing?(e.completeEdit(),void 0):(t.hasFocus&&t.triggerBlur&&t.triggerBlur(),t.collapse&&t.collapse(),e.hideEl!==!1&&e.boundEl.show(),e.callParent(arguments),void 0)},setValue:function(e){this.field.setValue(e)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){var e=this;Ext.destroy(e.field),delete e.field,delete e.parentEl,delete e.boundEl,e.callParent(arguments)}}),Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(e){var t=this;return 1!==arguments.length||"string"==typeof e||e.dom||e.tagName||e===document||e.isComponent?(t.legacyConstructor.apply(t,arguments),void 0):(Ext.apply(t,e),t.bindings=[],t.target.isComponent||(t.target=Ext.get(t.target)),t.binding?t.addBinding(t.binding):e.key&&t.addBinding(e),t.enable(),void 0)},legacyConstructor:function(e,t,n){var i=this;Ext.apply(i,{target:Ext.get(e),eventName:n||i.eventName,bindings:[]}),t&&i.addBinding(t),i.enable()},addBinding:function(e){var t,n,i=this,r=e.key;if(i.processing&&(i.bindings=bindings.slice(0)),Ext.isArray(e))for(t=0,n=e.length;n>t;t++)i.addBinding(e[t]);else i.bindings.push(Ext.apply({keyCode:i.processKeys(r)},e))},removeBinding:function(e){var t,n,i,r=this,o=r.bindings,a=o.length;for(r.processing&&(r.bindings=o.slice(0)),i=r.processKeys(e.key),t=0;a>t;++t)if(n=o[t],n.fn===e.fn&&n.scope===e.scope&&e.alt==n.alt&&e.crtl==n.crtl&&e.shift==n.shift&&Ext.Array.equals(n.keyCode,i))return Ext.Array.erase(r.bindings,t,1),void 0},processKeys:function(e){var t,n,i,r,o,a=!1;if(Ext.isString(e)){for(n=[],i=e.toUpperCase(),o=0,r=i.length;r>o;++o)n.push(i.charCodeAt(o));e=n,a=!0}if(Ext.isArray(e)||(e=[e]),!a)for(o=0,r=e.length;r>o;++o)t=e[o],Ext.isString(t)&&(e[o]=t.toUpperCase().charCodeAt(0));return e},handleTargetEvent:function(){var e=/input|textarea/i;return function(t){var n,i,r,o,a,s=this;if(s.enabled){if(n=s.bindings,i=0,r=n.length,t=s.processEvent.apply(s||s.processEventScope,arguments),s.ignoreInputFields&&(o=t.target,a=o.contentEditable,e.test(o.tagName)||""===a||"true"===a))return;if(!t.getKey)return t;for(s.processing=!0;r>i;++i)s.processBinding(n[i],t);s.processing=!1}}}(),processEvent:Ext.identityFn,processBinding:function(e,t){if(this.checkModifiers(e,t)){var n,i,r=t.getKey(),o=e.fn||e.handler,a=e.scope||this,s=e.keyCode,l=e.defaultEventAction,d=new Ext.EventObjectImpl(t);for(n=0,i=s.length;i>n;++n)if(r===s[n]){o.call(a,r,t)!==!0&&l&&d[l]();break}}},checkModifiers:function(e,t){for(var n,i,r=["shift","ctrl","alt"],o=0,a=r.length;a>o;++o)if(i=r[o],n=e[i],void 0!==n&&n!==t[i+"Key"])return!1;return!0},on:function(e,t,n){var i,r,o,a;Ext.isObject(e)&&!Ext.isArray(e)?(i=e.key,r=e.shift,o=e.ctrl,a=e.alt):i=e,this.addBinding({key:i,shift:r,ctrl:o,alt:a,fn:t,scope:n})},un:function(e,t,n){var i,r,o,a;Ext.isObject(e)&&!Ext.isArray(e)?(i=e.key,r=e.shift,o=e.ctrl,a=e.alt):i=e,this.removeBinding({key:i,shift:r,ctrl:o,alt:a,fn:t,scope:n})},isEnabled:function(){return this.enabled},enable:function(){var e=this;e.enabled||(e.target.on(e.eventName,e.handleTargetEvent,e),e.enabled=!0)},disable:function(){var e=this;e.enabled&&(e.target.removeListener(e.eventName,e.handleTargetEvent,e),e.enabled=!1)},setDisabled:function(e){e?this.disable():this.enable()},destroy:function(e){var t=this,n=t.target;t.bindings=[],t.disable(),e===!0&&(n.isComponent?n.destroy():n.remove()),delete t.target}}),Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(e){var t=this;return 2===arguments.length?(t.legacyConstructor.apply(t,arguments),void 0):(t.setConfig(e),void 0)},legacyConstructor:function(e,t){this.setConfig(Ext.apply({target:e},t))},setConfig:function(e){var t,n,i,r,o,a=this,s={target:e.target,ignoreInputFields:e.ignoreInputFields,eventName:a.getKeyEvent("forceKeyDown"in e?e.forceKeyDown:a.forceKeyDown,e.eventName)};a.map&&a.map.destroy(),e.processEvent&&(s.processEvent=e.processEvent,s.processEventScope=e.processEventScope||a),e.keyMap?t=a.map=e.keyMap:(t=a.map=new Ext.util.KeyMap(s),a.destroyKeyMap=!0),n=Ext.util.KeyNav.keyOptions,i=e.scope||a;for(r in n)n.hasOwnProperty(r)&&(o=e[r])&&("function"==typeof o&&(o={handler:o,defaultEventAction:void 0!==e.defaultEventAction?e.defaultEventAction:a.defaultEventAction}),t.addBinding({key:n[r],handler:Ext.Function.bind(a.handleEvent,o.scope||i,o.handler||o.fn,!0),defaultEventAction:void 0!==o.defaultEventAction?o.defaultEventAction:a.defaultEventAction}));t.disable(),e.disabled||t.enable()},handleEvent:function(e,t,n){return n.call(this,t)},disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,eventName:"keypress",destroy:function(e){this.destroyKeyMap&&this.map.destroy(e),delete this.map},enable:function(){this.map&&(this.map.enable(),this.disabled=!1)},disable:function(){this.map&&this.map.disable(),this.disabled=!0},setDisabled:function(e){this.map.setDisabled(e),this.disabled=e},getKeyEvent:function(e,t){return e||Ext.EventManager.useKeyDown&&!t?"keydown":t||this.eventName}}),Ext.define("Ext.FocusManager",{singleton:!0,alternateClassName:["Ext.FocusMgr"],mixins:{observable:Ext.util.Observable},enabled:!1,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(e){var t=this,n=Ext.ComponentQuery;t.mixins.observable.constructor.call(t,e),t.addEvents("beforecomponentfocus","componentfocus","disable","enable"),t.focusTask=new Ext.util.DelayedTask(t.handleComponentFocus,t),Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments),t.enabled&&this.hasFocus&&(Array.prototype.unshift.call(arguments,this),t.onComponentFocus.apply(t,arguments))},onBlur:function(){this.callParent(arguments),t.enabled&&!this.hasFocus&&(Array.prototype.unshift.call(arguments,this),t.onComponentBlur.apply(t,arguments))},onDestroy:function(){this.callParent(arguments),t.enabled&&(Array.prototype.unshift.call(arguments,this),t.onComponentDestroy.apply(t,arguments))}}),Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments),t.enabled&&(Array.prototype.unshift.call(arguments,this),t.onComponentHide.apply(t,arguments))}}),t.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:!0,scope:t,backspace:t.focusLast,enter:t.navigateIn,esc:t.navigateOut,tab:t.navigateSiblings,space:t.navigateIn,del:t.focusLast,left:t.navigateSiblings,right:t.navigateSiblings,down:t.navigateSiblings,up:t.navigateSiblings}),t.focusData={},t.subscribers=new Ext.util.HashMap,t.focusChain={},Ext.apply(n.pseudos,{nextFocus:function(e,t,n){n=n||1,t=parseInt(t,10);for(var i,r=e.length,o=t;;){if((o+=n)>=r?o=0:0>o&&(o=r-1),o===t)return[];if((i=e[o]).isFocusable())return[i]}return[]},prevFocus:function(e,t){return this.nextFocus(e,t,-1)},root:function(e){for(var t,n=e.length,i=[],r=0;n>r;r++)t=e[r],t.ownerCt||i.push(t);return i}})},addXTypeToWhitelist:function(e){var t=this;return Ext.isArray(e)?(Ext.Array.forEach(e,t.addXTypeToWhitelist,t),void 0):(Ext.Array.contains(t.whitelist,e)||t.whitelist.push(e),void 0)},clearComponent:function(e){clearTimeout(this.cmpFocusDelay),e.isDestroyed||e.blur()},disable:function(){var e=this;e.enabled&&(delete e.options,e.enabled=!1,e.removeDOM(),e.keyNav.disable(),e.fireEvent("disable",e))},enable:function(e){var t=this;e===!0&&(e={focusFrame:!0}),t.options=e=e||{},t.enabled||(t.enabled=!0,t.initDOM(e),t.keyNav.enable(),t.focusEl.focus(),delete t.focusedCmp,t.fireEvent("enable",t))},focusLast:function(){var e=this;return e.isWhitelisted(e.focusedCmp)?!0:(e.previousFocusedCmp&&e.previousFocusedCmp.focus(),void 0)},getRootComponents:function(){var e=Ext.ComponentQuery,t=e.query(":focusable:root:not([floating])"),n=e.query(":focusable:root[floating]");return n.sort(function(e,t){return e.el.getZIndex()>t.el.getZIndex()}),n.concat(t)},initDOM:function(e){var t=this,n=t.focusFrameCls,i=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),r=0,o=i.length;if(!Ext.isReady)return Ext.onReady(t.initDOM,t);for(;o>r;r++)i[r].addFocusListener();t.focusEl||(t.focusEl=Ext.getBody(),t.focusEl.dom.tabIndex=-1),!t.focusFrame&&e.focusFrame&&(t.focusFrame=Ext.getBody().createChild({cls:n,children:[{cls:n+"-top"},{cls:n+"-bottom"},{cls:n+"-left"},{cls:n+"-right"}],style:"top: -100px; left: -100px;"}),t.focusFrame.setVisibilityMode(Ext.Element.DISPLAY),t.focusFrame.hide().setLocalXY(0,0))},isWhitelisted:function(e){return e&&Ext.Array.some(this.whitelist,function(t){return e.isXType(t)})},navigateIn:function(e){var t,n,i=this,r=i.focusedCmp;return i.isWhitelisted(r)?!0:(r?(n=r.hasFocus?Ext.ComponentQuery.query(">:focusable",r)[0]:r,n?n.focus():Ext.isFunction(r.onClick)&&(e.button=0,r.onClick(e),r.isVisible(!0)?r.focus():i.navigateOut())):(t=i.getRootComponents()[0],t&&(t.getFocusEl()===i.focusEl&&i.focusEl.blur(),t.focus())),void 0)},navigateOut:function(){var e,t=this;return t.focusedCmp&&(e=t.focusedCmp.up(":focusable"))?e.focus():t.focusEl.focus(),!0},navigateSiblings:function(e,t,n){var i,r,o,a,s=this,l=t||s,d=e.getKey(),c=Ext.EventObject,u=e.shiftKey||d==c.LEFT||d==c.UP,h=d==c.LEFT||d==c.RIGHT||d==c.UP||d==c.DOWN,f=u?"prev":"next";return o=l.focusedCmp&&l.focusedCmp.comp||l.focusedCmp,o||n?h&&s.isWhitelisted(o)?!0:(!o||o.is(":root")?a=s.getRootComponents():(n=n||o.up(),n&&(a=n.getRefItems())),a&&(i=o?Ext.Array.indexOf(a,o):-1,r=Ext.ComponentQuery.query(":"+f+"Focus("+i+")",a)[0],r&&o!==r)?(r.focus(),r):void 0):!0},onComponentBlur:function(e){var t=this;t.focusedCmp===e&&(t.previousFocusedCmp=e,delete t.focusedCmp),t.focusFrame&&t.focusFrame.hide()},onComponentFocus:function(e){var t,n=this,i=n.focusChain;if(!e.isFocusable()){if(n.clearComponent(e),i[e.id])return;return t=e.up(),t&&(i[e.id]=!0,t.focus()),void 0}n.focusChain={},n.focusTask.delay(10,null,null,[e,e.getFocusEl()])},handleComponentFocus:function(e,t){var n,i,r,o,a,s,l,d,c,u,h,f=this;return f.fireEvent("beforecomponentfocus",f,e,f.previousFocusedCmp)===!1?(f.clearComponent(e),void 0):(f.focusedCmp=e,f.shouldShowFocusFrame(e)&&(n="."+f.focusFrameCls+"-",i=f.focusFrame,r=(t.dom?t:t.el).getBox(),o=r.top,a=r.left,s=r.width,l=r.height,d=i.child(n+"top"),c=i.child(n+"bottom"),u=i.child(n+"left"),h=i.child(n+"right"),d.setWidth(s).setLocalXY(a,o),c.setWidth(s).setLocalXY(a,o+l-2),u.setHeight(l-2).setLocalXY(a,o+2),h.setHeight(l-2).setLocalXY(a+s-2,o+2),i.show()),f.fireEvent("componentfocus",f,e,f.previousFocusedCmp),void 0)},onComponentHide:function(e){var t,n=this,i=!1,r=n.focusedCmp;r&&(i=e.hasFocus||e.isContainer&&e.isAncestor(n.focusedCmp)),n.clearComponent(e),i&&(t=e.up(":focusable"))?t.focus():n.focusEl.focus()},onComponentDestroy:function(){},removeDOM:function(){var e=this;e.enabled||e.subscribers.length||(Ext.destroy(e.focusFrame),delete e.focusEl,delete e.focusFrame)},removeXTypeFromWhitelist:function(e){var t=this;return Ext.isArray(e)?(Ext.Array.forEach(e,t.removeXTypeFromWhitelist,t),void 0):(Ext.Array.remove(t.whitelist,e),void 0)},setupSubscriberKeys:function(e,t){var n=this,i=e.getFocusEl(),r=t.scope,o={backspace:n.focusLast,enter:n.navigateIn,esc:n.navigateOut,scope:n},a=function(t){return n.focusedCmp===e?n.navigateSiblings(t,n,e):n.navigateSiblings(t)};return Ext.iterate(t,function(t,n){o[t]=function(t){var i=a(t);return Ext.isFunction(n)&&n.call(r||e,t,i)===!0?!0:i}},n),new Ext.util.KeyNav(i,o)},shouldShowFocusFrame:function(e){var t=this,n=t.options||{};return t.focusFrame&&e?n.focusFrame?!0:t.focusData[e.id].focusFrame?!0:!1:!1}}),Ext.define("Ext.Img",{extend:Ext.Component,alias:["widget.image","widget.imagecomponent"],autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",src:"",alt:"",title:"",imgCls:"",initComponent:function(){this.glyph&&(this.autoEl="div"),this.callParent()},getElConfig:function(){var e,t,n=this,i=n.callParent(),r=Ext._glyphFontFamily,o=n.glyph;return"img"==n.autoEl?e=i:n.glyph?("string"==typeof o&&(t=o.split("@"),o=t[0],r=t[1]),i.html="&#"+o+";",r&&(i.style="font-family:"+r)):i.cn=[e={tag:"img",id:n.id+"-img"}],e&&(n.imgCls&&(e.cls=(e.cls?e.cls+" ":"")+n.imgCls),e.src=n.src||Ext.BLANK_IMAGE_URL),n.alt&&((e||i).alt=n.alt),n.title&&((e||i).title=n.title),i},onRender:function(){var e,t=this;t.callParent(arguments),e=t.el,t.imgEl="img"==t.autoEl?e:e.getById(t.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl),this.imgEl=null,this.callParent()},setSrc:function(e){var t=this,n=t.imgEl;t.src=e,n&&(n.dom.src=e||Ext.BLANK_IMAGE_URL)},setGlyph:function(e){var t,n,i=this,r=Ext._glyphFontFamily;e!=i.glyph&&("string"==typeof e&&(t=e.split("@"),e=t[0],r=t[1]),n=i.el.dom,n.innerHTML="&#"+e+";",r&&(n.style="font-family:"+r))}}),Ext.define("Ext.util.Bindable",{bindStore:function(e,t,n){n=n||"store";var i=this,r=i[n];return!t&&r&&(i.onUnbindStore(r,t,n),e!==r&&r.autoDestroy?r.destroyStore():i.unbindStoreListeners(r)),e&&(e=Ext.data.StoreManager.lookup(e),i.bindStoreListeners(e),i.onBindStore(e,t,n)),i[n]=e||null,i},getStore:function(){return this.store},unbindStoreListeners:function(e){var t=this.storeListeners;t&&e.un(t)},bindStoreListeners:function(e){var t=this,n=Ext.apply({},t.getStoreListeners(e));n.scope||(n.scope=t),t.storeListeners=n,e.on(n)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn}),Ext.define("Ext.LoadMask",{extend:Ext.Component,alias:"widget.loadmask",mixins:{floating:Ext.util.Floating,bindable:Ext.util.Bindable},msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",useMsg:!0,useTargetEl:!1,baseCls:Ext.baseCSSPrefix+"mask-msg",childEls:["msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgEl" class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner{childElCls}">','<div id="{id}-msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}"></div>',"</div>"],floating:{shadow:"frame"},focusOnToFront:!1,bringParentToFront:!1,constructor:function(e){var t,n=this;2===arguments.length?(t=e,e=arguments[1]):t=e.target,t.isComponent||(t=Ext.get(t),this.isElement=!0),n.ownerCt=t,this.isElement||n.bindComponent(t),n.callParent([e]),n.store&&n.bindStore(n.store,!0)},bindComponent:function(e){var t=this,n={scope:this,resize:t.sizeMask,added:t.onComponentAdded,removed:t.onComponentRemoved};e.floating?(n.move=t.sizeMask,t.activeOwner=e):e.ownerCt?t.onComponentAdded(e.ownerCt):t.preventBringToFront=!0,t.mon(e,n),t.mon(t.hierarchyEventSource,{show:t.onContainerShow,hide:t.onContainerHide,expand:t.onContainerExpand,collapse:t.onContainerCollapse,scope:t})},onComponentAdded:function(e){var t=this;delete t.activeOwner,t.floatParent=e,e.floating||(e=e.up("[floating]")),e?(t.activeOwner=e,t.mon(e,"move",t.sizeMask,t)):t.preventBringToFront=!0,e=t.floatParent.ownerCt,t.rendered&&t.isVisible()&&e&&(t.floatOwner=e,t.mon(e,"afterlayout",t.sizeMask,t,{single:!0}))},onComponentRemoved:function(){var e=this,t=e.activeOwner,n=e.floatOwner;t&&e.mun(t,"move",e.sizeMask,e),n&&e.mun(n,"afterlayout",e.sizeMask,e),delete e.activeOwner,delete e.floatOwner},afterRender:function(){this.callParent(arguments),this.container=this.floatParent.getContentTarget()},onContainerShow:function(e){this.isActiveContainer(e)&&this.onComponentShow()},onContainerHide:function(e){this.isActiveContainer(e)&&this.onComponentHide()},onContainerExpand:function(e){this.isActiveContainer(e)&&this.onComponentShow()},onContainerCollapse:function(e){this.isActiveContainer(e)&&this.onComponentHide()},isActiveContainer:function(e){return this.isDescendantOf(e)},onComponentHide:function(){var e=this;e.rendered&&e.isVisible()&&(e.hide(),e.showNext=!0)},onComponentShow:function(){this.showNext&&this.show(),delete this.showNext},sizeMask:function(){var e,t=this;t.rendered&&t.isVisible()&&(t.center(),e=t.getMaskTarget(),t.getMaskEl().show().setSize(e.getSize()).alignTo(e,"tl-tl"))},bindStore:function(e){var t=this;t.mixins.bindable.bindStore.apply(t,arguments),e=t.store,e&&e.isLoading()&&t.onBeforeLoad()},getStoreListeners:function(e){var t=this.onLoad,n=this.onBeforeLoad,i={cachemiss:n,cachefilled:t};return e.proxy.isSynchronous||(i.beforeLoad=n,i.load=t),i},onDisable:function(){this.callParent(arguments),this.loading&&this.onLoad()},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var e=this.getOwner();return this.useTargetEl?e.getTargetEl():e.getEl()},onBeforeLoad:function(){var e,t=this,n=t.getOwner();t.disabled||(t.loading=!0,n.componentLayoutCounter?t.maybeShow():(e=n.afterComponentLayout,n.afterComponentLayout=function(){n.afterComponentLayout=e,e.apply(n,arguments),t.maybeShow()}))},maybeShow:function(){var e=this,t=e.getOwner();t.isVisible(!0)?e.loading&&t.rendered&&e.show():e.showNext=!0},getMaskEl:function(){var e=this;return e.maskEl||(e.maskEl=e.el.insertSibling({cls:e.maskCls,style:{zIndex:e.el.getStyle("zIndex")-2}},"before"))},onShow:function(){var e=this,t=e.msgEl;e.callParent(arguments),e.loading=!0,e.useMsg?(t.show(),e.msgTextEl.update(e.msg)):t.parent().hide()},hide:function(){return this.isElement?(this.ownerCt.unmask(),this.fireEvent("hide",this),void 0):(delete this.showNext,this.callParent(arguments))},onHide:function(){this.callParent(),this.getMaskEl().hide()},show:function(){return this.isElement?(this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls),this.fireEvent("show",this),void 0):this.callParent(arguments)},afterShow:function(){this.callParent(arguments),this.sizeMask()},setZIndex:function(e){var t=this,n=t.activeOwner;return n&&(e=parseInt(n.el.getStyle("zIndex"),10)+1),t.getMaskEl().setStyle("zIndex",e-1),t.mixins.floating.setZIndex.apply(t,arguments)},onLoad:function(){this.loading=!1,this.hide()},onDestroy:function(){var e=this;e.isElement&&e.ownerCt.unmask(),Ext.destroy(e.maskEl),e.callParent()}}),Ext.define("Ext.data.association.Association",{alternateClassName:"Ext.data.Association",primaryKey:"id",associationKeyFunction:null,defaultReaderType:"json",isAssociation:!0,initialConfig:null,statics:{AUTO_ID:1e3,create:function(e){switch(Ext.isString(e)&&(e={type:e}),e.type){case"belongsTo":return new Ext.data.association.BelongsTo(e);case"hasMany":return new Ext.data.association.HasMany(e);case"hasOne":return new Ext.data.association.HasOne(e)}return e}},constructor:function(e){Ext.apply(this,e);var t,n=this,i=Ext.ModelManager.types,r=e.ownerModel,o=e.associatedModel,a=i[r],s=i[o],l=e.associationKey;l&&(t=String(l).search(/[\[\.]/),t>=0&&(n.associationKeyFunction=Ext.functionFactory("obj","return obj"+(t>0?".":"")+l))),n.initialConfig=e,n.ownerModel=a,n.associatedModel=s,Ext.applyIf(n,{ownerName:r,associatedName:o}),n.associationId="association"+ ++n.statics().AUTO_ID},getReader:function(){var e=this,t=e.reader,n=e.associatedModel;return t&&(Ext.isString(t)&&(t={type:t}),t.isReader?t.setModel(n):Ext.applyIf(t,{model:n,type:e.defaultReaderType}),e.reader=Ext.createByAlias("reader."+t.type,t)),e.reader||null}}),Ext.define("Ext.ModelManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.ModelMgr",singleton:!0,typeName:"mtype",associationStack:[],registerType:function(e,t){var n,i=t.prototype;return i&&i.isModel?n=t:(t.extend||(t.extend="Ext.data.Model"),n=Ext.define(e,t)),this.types[e]=n,n},unregisterType:function(e){delete this.types[e]},onModelDefined:function(e){var t,n,i,r=this.associationStack,o=r.length,a=[];for(n=0;o>n;n++)t=r[n],t.associatedModel==e.modelName&&a.push(t);for(n=0,o=a.length;o>n;n++)i=a[n],this.types[i.ownerModel].prototype.associations.add(Ext.data.association.Association.create(i)),Ext.Array.remove(r,i)},registerDeferredAssociation:function(e){this.associationStack.push(e)},getModel:function(e){var t=e;return"string"==typeof t&&(t=this.types[t]),t},create:function(e,t,n){var i="function"==typeof t?t:this.types[t||e.name];return new i(e,n)}},function(){Ext.regModel=function(){return this.ModelManager.registerType.apply(this.ModelManager,arguments)}}),Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:Ext.layout.component.Auto,type:"progressbar",beginLayout:function(e){var t,n,i=this;if(i.callParent(arguments),!e.textEls)if(n=i.owner.textEl,n.isComposite)for(e.textEls=[],n=n.elements,t=n.length;t--;)e.textEls[t]=e.getEl(Ext.get(n[t]));else e.textEls=[e.getEl("textEl")]},calculate:function(e){var t,n,i,r=this;if(r.callParent(arguments),Ext.isNumber(i=e.getProp("width")))for(i-=e.getBorderInfo().width,n=e.textEls,t=n.length;t--;)n[t].setWidth(i);else r.done=!1}}),Ext.define("Ext.ProgressBar",{extend:Ext.Component,alias:"widget.progressbar",baseCls:Ext.baseCSSPrefix+"progress",animate:!1,text:"",waitTimer:null,childEls:["bar"],renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" class="{baseCls}-bar {baseCls}-bar-{ui}" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",initComponent:function(){this.callParent(),this.addEvents("update")},initRenderData:function(){var e=this;return Ext.apply(e.callParent(),{internalText:!e.hasOwnProperty("textEl"),text:e.text||"&#160;",percentage:e.value?100*e.value:0})},onRender:function(){var e=this;e.callParent(arguments),e.textEl?(e.textEl=Ext.get(e.textEl),e.updateText(e.text)):e.textEl=e.el.select("."+e.baseCls+"-text")},updateProgress:function(e,t,n){var i=this,r=i.value;return i.value=e||0,t&&i.updateText(t),i.rendered&&!i.isDestroyed&&(n===!0||n!==!1&&i.animate?(i.bar.stopAnimation(),i.bar.animate(Ext.apply({from:{width:100*r+"%"},to:{width:100*i.value+"%"}},i.animate))):i.bar.setStyle("width",100*i.value+"%")),i.fireEvent("update",i,i.value,t),i},updateText:function(e){var t=this;return t.text=e,t.rendered&&t.textEl.update(t.text),t},applyText:function(e){this.updateText(e)},getText:function(){return this.text},wait:function(e){var t,n=this;return n.waitTimer||(t=n,e=e||{},n.updateText(e.text),n.waitTimer=Ext.TaskManager.start({run:function(t){var i=e.increment||10;t-=1,n.updateProgress(.01*((t+i)%i+1)*(100/i),null,e.animate)},interval:e.interval||1e3,duration:e.duration,onStop:function(){e.fn&&e.fn.apply(e.scope||n),n.reset()},scope:t})),n},isWaiting:function(){return null!==this.waitTimer},reset:function(e){var t=this;return t.updateProgress(0),t.clearTimer(),e===!0&&t.hide(),t},clearTimer:function(){var e=this;e.waitTimer&&(e.waitTimer.onStop=null,Ext.TaskManager.stop(e.waitTimer),e.waitTimer=null)},onDestroy:function(){var e=this,t=e.bar;e.clearTimer(),e.rendered&&(e.textEl.isComposite&&e.textEl.clear(),Ext.destroyMembers(e,"textEl","progressBar"),t&&e.animate&&t.stopAnimation()),e.callParent()}}),Ext.define("Ext.ShadowPool",{singleton:!0,markup:function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}(),shadows:[],pull:function(){var e=this.shadows.shift();return e||(e=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup)),e.autoBoxAdjust=!1),e},push:function(e){this.shadows.push(e)},reset:function(){var e,t=[].concat(this.shadows),n=t.length;for(e=0;n>e;e++)t[e].remove();this.shadows=[]}}),Ext.define("Ext.Shadow",{localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(e){var t,n,i,r=this;switch(Ext.apply(r,e),Ext.isString(r.mode)||(r.mode=r.defaultMode),n=r.offset,i=Math.floor(n/2),r.opacity=50,r.mode.toLowerCase()){case"drop":t=Ext.supports.CSS3BoxShadow?{t:n,l:n,h:-n,w:-n}:{t:-i,l:-i,h:-i,w:-i};break;case"sides":t=Ext.supports.CSS3BoxShadow?{t:n,l:0,h:-n,w:0}:{t:-(1+i),l:1+i-2*n,h:-1,w:i-1};break;case"frame":t=Ext.supports.CSS3BoxShadow?{t:0,l:0,h:0,w:0}:{t:1+i-2*n,l:1+i-2*n,h:n-i-1,w:n-i-1};break;case"bottom":t=Ext.supports.CSS3BoxShadow?{t:n,l:0,h:-n,w:0}:{t:n,l:0,h:0,w:0}}r.adjusts=t},getShadowSize:function(){var e=this,t=e.el?e.offset:0,n=[t,t,t,t],i=e.mode.toLowerCase();return e.el&&"frame"!==i&&(n[0]=0,"drop"==i&&(n[3]=0)),n},offset:4,defaultMode:"drop",boxShadowProperty:function(){var e="boxShadow",t=document.documentElement.style;return"boxShadow"in t||("WebkitBoxShadow"in t?e="WebkitBoxShadow":"MozBoxShadow"in t&&(e="MozBoxShadow")),e}(),show:function(e){var t,n,i=this;e=Ext.get(e),t=parseInt(e.getStyle("z-index"),10)-1||0,n=e[i.localXYNames.get](),i.el||(i.el=Ext.ShadowPool.pull(),i.el.dom.style.position=i.fixed?"fixed":"",i.el.dom.nextSibling!=e.dom&&i.el.insertBefore(e)),i.el.setStyle("z-index",i.zIndex||t),Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(i.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+i.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+i.offset+")"),i.realign(n[0],n[1],e.dom.offsetWidth,e.dom.offsetHeight),i.el.dom.style.display="block"},isVisible:function(){return this.el?!0:!1},realign:function(e,t,n,i){if(this.el){var r,o,a,s,l=this.adjusts,d=this.el,c=d.dom.style;d[this.localXYNames.set](e+l.l,t+l.t),r=Math.max(n+l.w,0),o=Math.max(i+l.h,0),a=r+"px",s=o+"px",(c.width!=a||c.height!=s)&&(c.width=a,c.height=s,Ext.supports.CSS3BoxShadow&&(c[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888"))}},hide:function(){var e=this;e.el&&(e.el.dom.style.display="none",Ext.ShadowPool.push(e.el),delete e.el)},setZIndex:function(e){this.zIndex=e,this.el&&this.el.setStyle("z-index",e)},setOpacity:function(e){this.el&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(e=Math.floor(100*e/2)/100),this.opacity=e,this.el.setOpacity(e))}}),Ext.define("Ext.app.EventDomain",{statics:{instances:{}},isEventDomain:!0,constructor:function(){var e=this;Ext.app.EventDomain.instances[e.type]=e,e.bus={},e.monitoredClasses=[]},dispatch:function(e,t,n){var i,r,o,a,s,l,d,c=this,u=c.bus,h=u[t];if(!h)return!0;for(i in h)if(h.hasOwnProperty(i)&&c.match(e,i)){r=h[i];for(o in r)if(r.hasOwnProperty(o))for(a=r[o],l=0,d=a.length;d>l;l++)if(s=a[l],s.fire.apply(s,n)===!1)return!1
}return!0},listen:function(e,t){var n,i,r,o,a,s,l,d,c,u,h=this,f=h.bus,g=h.idProperty,p=h.monitoredClasses,m=p.length;for(o in e)if(e.hasOwnProperty(o)&&(c=e[o])){g&&(o="*"===o?o:o.substring(1));for(u in c)if(c.hasOwnProperty(u)){for(a=null,s=c[u],l=t,d=new Ext.util.Event(t,u),Ext.isObject(s)&&(a=s,s=a.fn,l=a.scope||t,delete a.fn,delete a.scope),"string"==typeof s&&(s=l[s]),d.addListener(s,l,a),n=m;n-->0;)p[n].hasListeners._incr_(u);i=f[u]||(f[u]={}),i=i[o]||(i[o]={}),r=i[t.id]||(i[t.id]=[]),r.push(d)}}},match:function(e,t){var n=this.idProperty;return n?"*"===t||e[n]===t:!1},monitor:function(e){var t=this,n=e.isInstance?e:e.prototype,i=n.fireEventArgs;t.monitoredClasses.push(e),n.fireEventArgs=function(e,n){var r=i.apply(this,arguments);return r!==!1&&(r=t.dispatch(this,e,n)),r}},unlisten:function(e){var t,n,i,r,o=this.bus;for(n in o)if(o.hasOwnProperty(n)&&(r=o[n]))for(i in r)t=r[i],delete t[e]}}),Ext.define("Ext.app.domain.Component",{extend:Ext.app.EventDomain,singleton:!0,type:"component",constructor:function(){var e=this;e.callParent(),e.monitor(Ext.Component)},match:function(e,t){return e.is(t)}}),Ext.define("Ext.app.EventBus",{singleton:!0,constructor:function(){var e=this,t=Ext.app.EventDomain.instances;e.callParent(),e.domains=t,e.bus=t.component.bus},control:function(e,t){return this.domains.component.listen(e,t)},listen:function(e,t){var n,i=this.domains;for(n in e)e.hasOwnProperty(n)&&i[n].listen(e[n],t)},unlisten:function(e){var t,n=Ext.app.EventDomain.instances;for(t in n)n[t].unlisten(e)}}),Ext.define("Ext.data.StoreManager",{extend:Ext.util.MixedCollection,alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,register:function(){for(var e,t=0;e=arguments[t];t++)this.add(e)},unregister:function(){for(var e,t=0;e=arguments[t];t++)this.remove(this.lookup(e))},lookup:function(e){if(Ext.isArray(e)){var t,n,i=["field1"],r=!Ext.isArray(e[0]),o=e;if(r)for(o=[],t=0,n=e.length;n>t;++t)o.push([e[t]]);else for(t=2,n=e[0].length;n>=t;++t)i.push("field"+t);return new Ext.data.ArrayStore({data:o,fields:i,autoDestroy:!0,autoCreated:!0,expanded:r})}return Ext.isString(e)?this.get(e):Ext.data.AbstractStore.create(e)},getKey:function(e){return e.storeId}},function(){Ext.regStore=function(e,t){var n;return Ext.isObject(e)?t=e:t.storeId=e,n=t instanceof Ext.data.Store?t:new Ext.data.Store(t),Ext.data.StoreManager.register(n)},Ext.getStore=function(e){return Ext.data.StoreManager.lookup(e)}}),Ext.define("Ext.app.domain.Global",{extend:Ext.app.EventDomain,singleton:!0,type:"global",constructor:function(){var e=this;e.callParent(),e.monitor(Ext.globalEvents)},listen:function(e,t){this.callParent([{global:e},t])},match:function(){return!0}}),Ext.define("Ext.data.ResultSet",{loaded:!0,count:0,total:0,success:!1,constructor:function(e){Ext.apply(this,e),this.totalRecords=this.total,void 0===e.count&&(this.count=this.records.length)}}),Ext.define("Ext.data.reader.Reader",{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:{observable:Ext.util.Observable},totalProperty:"total",successProperty:"success",root:"",implicitIncludes:!0,readRecordsOnFailure:!0,isReader:!0,applyDefaults:!0,lastFieldGeneration:null,constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),t.fieldCount=0,t.model=Ext.ModelManager.getModel(t.model),t.model&&t.model.prototype.fields&&t.buildExtractors(),this.addEvents("exception")},setModel:function(e,t){var n=this;n.model=Ext.ModelManager.getModel(e),e&&n.buildExtractors(!0),t&&n.proxy&&n.proxy.setModel(n.model,!0)},read:function(e){var t;return e&&(t=e.responseText?this.getResponseData(e):this.readRecords(e)),t||this.nullResultSet},readRecords:function(e){var t,n,i,r,o,a,s,l=this;return l.lastFieldGeneration!==l.model.prototype.fields.generation&&l.buildExtractors(!0),l.rawData=e,e=l.getData(e),t=!0,n=0,i=[],l.successProperty&&(a=l.getSuccess(e),(a===!1||"false"===a)&&(t=!1)),l.messageProperty&&(s=l.getMessage(e)),(l.readRecordsOnFailure||t)&&(r=Ext.isArray(e)?e:l.getRoot(e),r&&(o=r.length),l.totalProperty&&(a=parseInt(l.getTotal(e),10),isNaN(a)||(o=a)),r&&(i=l.extractData(r),n=i.length)),new Ext.data.ResultSet({total:o||n,count:n,records:i,success:t,message:s})},extractData:function(e){var t,n,i,r,o=this,a=o.model,s=e.length,l=new Array(s);for(!e.length&&Ext.isObject(e)&&(e=[e],s=1),r=0;s>r;r++)n=e[r],n.isModel?l[r]=n:(l[r]=i=new a(void 0,o.getId(n),n,t={}),i.phantom=!1,o.convertRecordData(t,n,i),o.implicitIncludes&&i.associations.length&&o.readAssociated(i,n));return l},readAssociated:function(e,t){for(var n,i,r,o,a=e.associations.items,s=0,l=a.length;l>s;s++)n=a[s],i=this.getAssociatedDataRoot(t,n.associationKeyFunction||n.associationKey||n.name),i&&(o=n.getReader(),o||(r=n.associatedModel.getProxy(),o=r?r.getReader():new this.constructor({model:n.associatedName})),n.read(e,o,i))},getAssociatedDataRoot:function(e,t){return Ext.isFunction(t)?t(e):e[t]},getFields:function(){return this.model.prototype.fields.items},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(){},onMetaChange:function(e){var t,n,i=this,r=e.fields||i.getFields();i.metaData=e,i.root=e.root||i.root,i.idProperty=e.idProperty||i.idProperty,i.totalProperty=e.totalProperty||i.totalProperty,i.successProperty=e.successProperty||i.successProperty,i.messageProperty=e.messageProperty||i.messageProperty,n=e.clientIdProperty,i.model?(i.model.setFields(r,i.idProperty,n),i.setModel(i.model,!0)):(t=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:r,clientIdProperty:n}),i.idProperty&&(t.idProperty=i.idProperty),i.setModel(t,!0))},getIdProperty:function(){var e=this.model.prototype.idField,t=this.idProperty;return!t&&e&&null==(t=e.mapping)&&(t=e.name),t},buildExtractors:function(e){var t,n=this,i=n.getIdProperty(),r=n.totalProperty,o=n.successProperty,a=n.messageProperty;e===!0&&delete n.convertRecordData,n.convertRecordData||(r&&(n.getTotal=n.createAccessor(r)),o&&(n.getSuccess=n.createAccessor(o)),a&&(n.getMessage=n.createAccessor(a)),i?(t=n.createAccessor(i),n.getId=function(e){var i=t.call(n,e);return void 0===i||""===i?null:i}):n.getId=function(){return null},n.convertRecordData=n.buildRecordDataExtractor(),n.lastFieldGeneration=n.model.prototype.fields.generation)},recordDataExtractorTemplate:["var me = this\n","    ,fields = me.model.prototype.fields\n","    ,value\n","    ,internalId\n",'<tpl for="fields">','    ,__field{#} = fields.map["{name}"]\n',"</tpl>",";\n","return function(dest, source, record) {\n",'<tpl for="fields">','{% var fieldAccessExpression =  this.createFieldAccessExpression(values, "__field" + xindex, "source");',"   if (fieldAccessExpression) { %}",'    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n','<tpl if="hasCustomConvert">','    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n','<tpl elseif="defaultValue !== undefined">',"    if (value === undefined) {\n","        if (me.applyDefaults) {\n",'<tpl if="convert">','            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'            dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","        };\n","    } else {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    };\n","<tpl else>","    if (value !== undefined) {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    }\n","</tpl>","{% } else { %}",'<tpl if="defaultValue !== undefined">','<tpl if="convert">','    dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'    dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","</tpl>","{% } %}","</tpl>",'<tpl if="clientIdProp">','    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n','        record.{["internalId"]} = internalId;\n',"    }\n","</tpl>","};"],buildRecordDataExtractor:function(){var e=this,t=e.model.prototype,n={clientIdProp:t.clientIdProperty,fields:t.fields.items};return e.recordDataExtractorTemplate.createFieldAccessExpression=function(){return e.createFieldAccessExpression.apply(e,arguments)},Ext.functionFactory(e.recordDataExtractorTemplate.apply(n)).call(e)},destroyReader:function(){var e=this;delete e.proxy,delete e.model,delete e.convertRecordData,delete e.getId,delete e.getTotal,delete e.getSuccess,delete e.getMessage}},function(){var e=this.prototype;Ext.apply(e,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:""}),recordDataExtractorTemplate:new Ext.XTemplate(e.recordDataExtractorTemplate)})}),Ext.define("Ext.data.reader.Json",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.JsonReader",alias:"reader.json",root:"",metaProperty:"metaData",useSimpleAccessors:!1,readRecords:function(e){var t,n=this;return n.getMeta?(t=n.getMeta(e),t&&n.onMetaChange(t)):e.metaData&&n.onMetaChange(e.metaData),n.jsonData=e,n.callParent([e])},getResponseData:function(e){var t,n;try{return t=Ext.decode(e.responseText),this.readRecords(t)}catch(i){return n=new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:i.message}),this.fireEvent("exception",this,e,n),Ext.Logger.warn("Unable to parse the JSON returned by the server"),n}},buildExtractors:function(){var e=this,t=e.metaProperty;e.callParent(arguments),e.getRoot=e.root?e.createAccessor(e.root):Ext.identityFn,t&&(e.getMeta=e.createAccessor(t))},extractData:function(e){var t,n,i=this.record,r=[];if(i)for(t=e.length,!t&&Ext.isObject(e)&&(t=1,e=[e]),n=0;t>n;n++)r[n]=e[n][i];else r=e;return this.callParent([r])},createAccessor:function(){var e=/[\[\.]/;return function(t){if(Ext.isEmpty(t))return Ext.emptyFn;if(Ext.isFunction(t))return t;if(this.useSimpleAccessors!==!0){var n=String(t).search(e);if(n>=0)return Ext.functionFactory("obj","return obj"+(n>0?".":"")+t)}return function(e){return e[t]}}}(),createFieldAccessExpression:function(){var e=/[\[\.]/;return function(t,n,i){var r,o,a=t.mapping,s=a||0===a,l=s?a:t.name;if(a!==!1){if("function"==typeof l)r=n+".mapping("+i+", this)";else if(this.useSimpleAccessors===!0||(o=String(l).search(e))<0)(!s||isNaN(l))&&(l='"'+l+'"'),r=i+"["+l+"]";else if(0===o)r=i+l;else{for(var d=l.split("."),c=d.length,u=1,h=i+"."+d[0],f=[h];c>u;u++)h+="."+d[u],f.push(h);r=f.join(" && ")}return r}}}()}),Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:!0,nameProperty:"name",writeRecordId:!0,isWriter:!0,constructor:function(e){Ext.apply(this,e)},write:function(e){for(var t=e.operation,n=t.records||[],i=n.length,r=0,o=[];i>r;r++)o.push(this.getRecordData(n[r],t));return this.writeRecords(e,o)},getRecordData:function(e,t){var n,i,r,o,a,s,l=e.phantom===!0,d=this.writeAllFields||l,c=e.fields,u=c.items,h={},f=e.clientIdProperty;if(d)for(s=u.length,a=0;s>a;a++)i=u[a],i.persist&&this.writeValue(h,i,e);else{n=e.getChanges();for(r in n)n.hasOwnProperty(r)&&(i=c.get(r),i.persist&&this.writeValue(h,i,e))}return l?f&&t&&t.records.length>1&&(h[f]=e.internalId):this.writeRecordId&&(o=c.get(e.idProperty)[this.nameProperty]||e.idProperty,h[o]=e.getId()),h},writeValue:function(e,t,n){var i=t[this.nameProperty],r=this.dateFormat||t.dateWriteFormat||t.dateFormat,o=n.get(t.name);null==i&&(i=t.name),e[i]=t.serialize?t.serialize(o,n):t.type===Ext.data.Types.DATE&&r&&Ext.isDate(o)?Ext.Date.format(o,r):o}}),Ext.define("Ext.data.writer.Json",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",root:void 0,encode:!1,allowSingle:!0,expandData:!1,getExpandedData:function(e){for(var t,n,i,r,o,a=e.length,s=0,l=function(e,t){var n={};return n[e]=t,n};a>s;s++){t=e[s];for(n in t)if(t.hasOwnProperty(n)&&(i=n.split("."),r=i.length-1,r>0)){for(o=t[n];r>0;r--)o=l(i[r],o);t[i[0]]=t[i[0]]||{},Ext.Object.merge(t[i[0]],o),delete t[n]}}return e},writeRecords:function(e,t){var n=this.root;return this.expandData&&(t=this.getExpandedData(t)),this.allowSingle&&1===t.length&&(t=t[0]),this.encode?n&&(e.params[n]=Ext.encode(t)):(e.jsonData=e.jsonData||{},n?e.jsonData[n]=t:e.jsonData=t),e}}),Ext.define("Ext.data.proxy.Proxy",{alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],mixins:{observable:Ext.util.Observable},batchOrder:"create,update,destroy",batchActions:!0,defaultReaderType:"json",defaultWriterType:"json",isProxy:!0,isSynchronous:!1,constructor:function(e){var t=this;e=e||{},t.proxyConfig=e,t.mixins.observable.constructor.call(t,e),void 0===t.model||t.model instanceof Ext.data.Model?(t.reader&&t.setReader(t.reader),t.writer&&t.setWriter(t.writer)):t.setModel(t.model)},setModel:function(e,t){var n=this;n.model=Ext.ModelManager.getModel(e),n.setReader(this.reader),n.setWriter(this.writer),t&&n.store&&n.store.setModel(n.model)},getModel:function(){return this.model},setReader:function(e){var t=this,n=!0,i=t.reader;return(void 0===e||"string"==typeof e)&&(e={type:e},n=!1),e.isReader?e.setModel(t.model):(n&&(e=Ext.apply({},e)),Ext.applyIf(e,{proxy:t,model:t.model,type:t.defaultReaderType}),e=Ext.createByAlias("reader."+e.type,e)),e!==i&&e.onMetaChange&&(e.onMetaChange=Ext.Function.createSequence(e.onMetaChange,this.onMetaChange,this)),t.reader=e,t.reader},getReader:function(){return this.reader},onMetaChange:function(e){this.fireEvent("metachange",this,e)},setWriter:function(e){var t=this,n=!0;return(void 0===e||"string"==typeof e)&&(e={type:e},n=!1),e.isWriter||(n&&(e=Ext.apply({},e)),Ext.applyIf(e,{model:t.model,type:t.defaultWriterType}),e=Ext.createByAlias("writer."+e.type,e)),t.writer=e,t.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(e,t){var n,i,r,o,a,s,l,d,c,u=this,h=u.batchActions;for(void 0===e.operations&&(e={operations:e,listeners:t}),e.batch?Ext.isDefined(e.batch.runOperation)&&(n=Ext.applyIf(e.batch,{proxy:u,listeners:{}})):e.batch={proxy:u,listeners:e.listeners||{}},n||(n=new Ext.data.Batch(e.batch)),n.on("complete",Ext.bind(u.onBatchComplete,u,[e],0)),r=u.batchOrder.split(","),o=r.length,s=0;o>s;s++)if(a=r[s],i=e.operations[a])if(h)n.add(new Ext.data.Operation({action:a,records:i}));else for(d=i.length,l=0;d>l;l++)c=i[l],n.add(new Ext.data.Operation({action:a,records:[c]}));return n.start(),n},onBatchComplete:function(e,t){var n=e.scope||this;t.hasException?Ext.isFunction(e.failure)&&Ext.callback(e.failure,n,[t,e]):Ext.isFunction(e.success)&&Ext.callback(e.success,n,[t,e]),Ext.isFunction(e.callback)&&Ext.callback(e.callback,n,[t,e])},clone:function(){return new this.self(this.proxyConfig)}}),Ext.define("Ext.data.Operation",{synchronous:!0,action:void 0,filters:void 0,sorters:void 0,groupers:void 0,start:void 0,limit:void 0,batch:void 0,callback:void 0,scope:void 0,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(e){Ext.apply(this,e||{})},commitRecords:function(e){var t,n,i,r,o,a,s,l,d,c=this,u=c.actionCommitRecordsRe.test(c.action);if(!c.actionSkipSyncRe.test(c.action)&&(i=c.records,i&&i.length)){if(u&&(d=[]),i.length>1)if("update"==c.action||i[0].clientIdProperty)for(t=new Ext.util.MixedCollection,t.addAll(e),n=i.length;n--;)o=i[n],r=t.findBy(c.matchClientRec,o),l=o.copyFrom(r),u&&d.push(l);else for(a=0,s=i.length;s>a;++a)o=i[a],r=e[a],o&&r&&(l=c.updateRecord(o,r),u&&d.push(l));else l=c.updateRecord(i[0],e[0]),u&&(d[0]=l);if(u)for(n=i.length;n--;)i[n].commit(!1,d[n])}},updateRecord:function(e,t){return t&&(e.phantom||e.getId()===t.getId())?e.copyFrom(t):[]},matchClientRec:function(e){var t=this,n=t.getId();return n&&e.getId()===n?!0:e.internalId===t.internalId},setStarted:function(){this.started=!0,this.running=!0},setCompleted:function(){this.complete=!0,this.running=!1},setSuccessful:function(){this.success=!0},setException:function(e){this.exception=!0,this.success=!1,this.running=!1,this.error=e},hasException:function(){return this.exception===!0},getError:function(){return this.error},getRecords:function(){var e=this.getResultSet();return this.records||(e?e.records:null)},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===!0},isRunning:function(){return this.running===!0},isComplete:function(){return this.complete===!0},wasSuccessful:function(){return this.isComplete()&&this.success===!0},setBatch:function(e){this.batch=e},allowWrite:function(){return"read"!=this.action}}),Ext.define("Ext.data.AbstractStore",{mixins:{observable:Ext.util.Observable,sortable:Ext.util.Sortable},statics:{create:function(e){return e.isStore||(e.type||(e.type="store"),e=Ext.createByAlias("store."+e.type,e)),e}},onClassExtended:function(e,t,n){var i,r=t.model;"string"==typeof r&&(i=n.onBeforeCreated,n.onBeforeCreated=function(){var e=this,t=arguments;Ext.require(r,function(){i.apply(e,t)})})},remoteSort:!1,remoteFilter:!1,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",filterOnLoad:!0,sortOnLoad:!0,implicitModel:!1,defaultProxyType:"memory",isDestroyed:!1,isStore:!0,sortRoot:"data",constructor:function(e){var t,n=this;Ext.apply(n,e),n.removed=[],n.mixins.observable.constructor.apply(n,arguments),n.model=Ext.ModelManager.getModel(n.model),Ext.applyIf(n,{modelDefaults:null}),!n.model&&n.fields&&(n.model=Ext.define("Ext.data.Store.ImplicitModel-"+(n.storeId||Ext.id()),{extend:"Ext.data.Model",fields:n.fields,proxy:n.proxy||n.defaultProxyType}),delete n.fields,n.implicitModel=!0),n.setProxy(n.proxy||n.model.getProxy()),n.disableMetaChangeEvent||n.proxy.on("metachange",n.onMetaChange,n),n.id&&!n.storeId&&(n.storeId=n.id,delete n.id),n.storeId&&Ext.data.StoreManager.register(n),n.mixins.sortable.initSortable.call(n),t=n.decodeFilters(n.filters),n.filters=new Ext.util.MixedCollection,n.filters.addAll(t)},setProxy:function(e){var t=this;return e instanceof Ext.data.proxy.Proxy?e.setModel(t.model):(Ext.isString(e)&&(e={type:e}),Ext.applyIf(e,{model:t.model}),e=Ext.createByAlias("proxy."+e.type,e)),t.proxy=e,t.proxy},getProxy:function(){return this.proxy},onMetaChange:function(e,t){this.fireEvent("metachange",this,t)},create:function(e,t){var n,i=this,r=Ext.ModelManager.create(Ext.applyIf(e,i.modelDefaults),i.model.modelName);return t=t||{},Ext.applyIf(t,{action:"create",records:[r]}),n=new Ext.data.Operation(t),i.proxy.create(n,i.onProxyWrite,i),r},read:function(){return this.load.apply(this,arguments)},update:function(e){var t,n=this;return e=e||{},Ext.applyIf(e,{action:"update",records:n.getUpdatedRecords()}),t=new Ext.data.Operation(e),n.proxy.update(t,n.onProxyWrite,n)},onProxyWrite:function(e){var t=this,n=e.wasSuccessful(),i=e.getRecords();switch(e.action){case"create":t.onCreateRecords(i,e,n);break;case"update":t.onUpdateRecords(i,e,n);break;case"destroy":t.onDestroyRecords(i,e,n)}n&&(t.fireEvent("write",t,e),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),Ext.callback(e.callback,e.scope||t,[i,e,n])},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(e,t,n){n&&(this.removed=[])},destroy:function(e){var t,n=this;return e=e||{},Ext.applyIf(e,{action:"destroy",records:n.getRemovedRecords()}),t=new Ext.data.Operation(e),n.proxy.destroy(t,n.onProxyWrite,n)},onBatchOperationComplete:function(e,t){return this.onProxyWrite(t)},onBatchComplete:function(e){var t,n=this,i=e.operations,r=i.length;for(n.suspendEvents(),t=0;r>t;t++)n.onProxyWrite(i[t]);n.resumeEvents(),n.fireEvent("datachanged",n),n.fireEvent("refresh",n)},onBatchException:function(){},filterNew:function(e){return e.phantom===!0&&e.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(e){return e.dirty===!0&&e.phantom!==!0&&e.isValid()},getRemovedRecords:function(){return this.removed},filter:function(){},decodeFilters:function(e){Ext.isArray(e)||(e=void 0===e?[]:[e]);var t,n,i=e.length,r=Ext.util.Filter;for(n=0;i>n;n++)t=e[n],t instanceof r||(Ext.apply(t,{root:"data"}),t.fn&&(t.filterFn=t.fn),"function"==typeof t&&(t={filterFn:t}),e[n]=new r(t));return e},clearFilter:function(){},isFiltered:function(){},filterBy:function(){},sync:function(e){var t=this,n={},i=t.getNewRecords(),r=t.getUpdatedRecords(),o=t.getRemovedRecords(),a=!1;return i.length>0&&(n.create=i,a=!0),r.length>0&&(n.update=r,a=!0),o.length>0&&(n.destroy=o,a=!0),a&&t.fireEvent("beforesync",n)!==!1&&(e=e||{},t.proxy.batch(Ext.apply(e,{operations:n,listeners:t.getBatchListeners()}))),t},getBatchListeners:function(){var e=this,t={scope:e,exception:e.onBatchException};return"operation"==e.batchUpdateMode?t.operationcomplete=e.onBatchOperationComplete:t.complete=e.onBatchComplete,t},save:function(){return this.sync.apply(this,arguments)},load:function(e){var t,n=this;return e=Ext.apply({action:"read",filters:n.filters.items,sorters:n.getSorters()},e),n.lastOptions=e,t=new Ext.data.Operation(e),n.fireEvent("beforeload",n,t)!==!1&&(n.loading=!0,n.proxy.read(t,n.onProxyLoad,n)),n},reload:function(e){return this.load(Ext.apply(this.lastOptions,e))},afterEdit:function(e,t){var n,i,r=this;if(r.autoSync&&!r.autoSyncSuspended){for(n=t.length;n--;)if(e.fields.get(t[n]).persist){i=!0;break}i&&r.sync()}r.onUpdate(e,Ext.data.Model.EDIT,t),r.fireEvent("update",r,e,Ext.data.Model.EDIT,t)},afterReject:function(e){this.onUpdate(e,Ext.data.Model.REJECT,null),this.fireEvent("update",this,e,Ext.data.Model.REJECT,null)},afterCommit:function(e,t){t||(t=null),this.onUpdate(e,Ext.data.Model.COMMIT,t),this.fireEvent("update",this,e,Ext.data.Model.COMMIT,t)},onUpdate:Ext.emptyFn,onIdChanged:function(e,t,n,i){this.fireEvent("idchanged",this,e,t,n,i)},destroyStore:function(){var e,t=this;t.isDestroyed||(t.clearListeners(),t.storeId&&Ext.data.StoreManager.unregister(t),t.clearData(),t.data=t.tree=t.sorters=t.filters=t.groupers=null,t.reader&&t.reader.destroyReader(),t.proxy=t.reader=t.writer=null,t.isDestroyed=!0,t.implicitModel?(e=Ext.getClassName(t.model),Ext.undefine(e),Ext.ModelManager.unregisterType(e)):t.model=null)},getState:function(){var e,t,n=this,i=!!n.groupers,r=[],o=[],a=[];return i&&n.groupers.each(function(t){r[r.length]=t.serialize(),e=!0}),n.sorters&&n.sorters.each(function(t){i&&!n.groupers.contains(t)&&(o[o.length]=t.serialize(),e=!0)}),n.filters&&n.statefulFilters&&n.filters.each(function(t){a[a.length]=t.serialize(),e=!0}),e?(t={},r.length&&(t.groupers=r),o.length&&(t.sorters=o),a.length&&(t.filters=a),t):void 0},applyState:function(e){var t,n=this,i=!!n.sorters,r=!!n.groupers,o=!!n.filters;r&&e.groupers&&(n.groupers.clear(),n.groupers.addAll(n.decodeGroupers(e.groupers))),i&&e.sorters&&(n.sorters.clear(),n.sorters.addAll(n.decodeSorters(e.sorters))),o&&e.filters&&(n.filters.clear(),n.filters.addAll(n.decodeFilters(e.filters))),i&&r&&n.sorters.insert(0,n.groupers.getRange()),n.autoLoad&&(n.remoteSort||n.remoteGroup||n.remoteFilter)&&(n.autoLoad===!0?n.reload():n.reload(n.autoLoad)),o&&n.filters.length&&!n.remoteFilter&&(n.filter(),t=n.sortOnFilter),i&&n.sorters.length&&!n.remoteSort&&!t&&n.sort()},doSort:function(e){var t=this;t.remoteSort?t.load():(t.data.sortBy(e),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),t.fireEvent("sort",t,t.sorters.getRange())},clearData:Ext.emptyFn,getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return!!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=!0},resumeAutoSync:function(){this.autoSyncSuspended=!1}}),Ext.define("Ext.app.domain.Store",{extend:Ext.app.EventDomain,singleton:!0,type:"store",idProperty:"storeId",constructor:function(){var e=this;e.callParent(),e.monitor(Ext.data.AbstractStore)}}),Ext.define("Ext.app.Controller",{mixins:{observable:Ext.util.Observable},statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"}},controllerRegex:/^(.*)\.controller\./,createGetter:function(e,t){return function(){return this[e](t)}},getGetterName:function(e,t){var n,i="get",r=e.split("."),o=r.length;for(n=0;o>n;n++)i+=Ext.String.capitalize(r[n]);return i+=t},processDependencies:function(e,t,n,i,r){if(r&&r.length){var o,a,s,l,d,c,u,h,f=this,g=f.strings[i];for(Ext.isArray(r)||(r=[r]),d=0,c=r.length;c>d;d++)l=r[d],o=f.getFullName(l,i,n),a=o.absoluteName,s=o.shortName,t.push(a),u=f.getGetterName(s,g.upper),e[u]=h=f.createGetter(g.getter,l),"controller"!==i&&(h["Ext.app.getter"]=!0)}},getFullName:function(e,t,n){var i,r,o=e;return(i=e.indexOf("@"))>0?(o=e.substring(0,i),r=e.substring(i+1)+"."+o):e.indexOf(".")>0&&(Ext.ClassManager.isCreated(e)||Ext.Loader.isAClassNameWithAKnownPrefix(e))?r=e:n?(r=n+"."+t+"."+e,o=e):r=e,{absoluteName:r,shortName:o}}},application:null,onClassExtended:function(e,t,n){var i=n.onBeforeCreated;n.onBeforeCreated=function(e,t){var n,r,o,a,s,l=Ext.app.Controller,d=l.controllerRegex,o=[];a=e.prototype,n=Ext.getClassName(e),r=t.$namespace||Ext.app.getNamespace(n)||(s=d.exec(n))&&s[1],r&&(a.$namespace=r),l.processDependencies(a,o,r,"model",t.models),l.processDependencies(a,o,r,"view",t.views),l.processDependencies(a,o,r,"store",t.stores),l.processDependencies(a,o,r,"controller",t.controllers),Ext.require(o,Ext.Function.pass(i,arguments,this))}},constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),t.refs&&t.ref(t.refs),t.eventbus=Ext.app.EventBus,t.initAutoGetters()},initAutoGetters:function(){var e,t,n=this.self.prototype;for(e in n)t=n[e],t&&t["Ext.app.getter"]&&t.call(this)},doInit:function(e){var t=this;t._initialized||(t.init(e),t._initialized=!0)},finishInit:function(e){var t,n,i,r=this,o=r.controllers;if(r._initialized&&o&&o.length)for(n=0,i=o.length;i>n;n++)t=r.getController(o[n]),t.finishInit(e)},init:Ext.emptyFn,onLaunch:Ext.emptyFn,ref:function(e){var t,n,i,r=this,o=0,a=e.length;for(e=Ext.Array.from(e),r.references=r.references||[];a>o;o++)t=e[o],n=t.ref,i="get"+Ext.String.capitalize(n),r[i]||(r[i]=Ext.Function.pass(r.getRef,[n,t],r)),r.references.push(n.toLowerCase())},addRef:function(e){this.ref(e)},getRef:function(e,t,n){var i=this,r=i.refCache||(i.refCache={}),o=r[e];return t=t||{},n=n||{},Ext.apply(t,n),t.forceCreate?Ext.ComponentManager.create(t,"component"):(o||(t.selector&&(r[e]=o=Ext.ComponentQuery.query(t.selector)[0]),!o&&t.autoCreate&&(r[e]=o=Ext.ComponentManager.create(t,"component")),o&&o.on("beforedestroy",function(){r[e]=null})),o)},hasRef:function(e){var t=this.references;return t&&-1!==Ext.Array.indexOf(t,e.toLowerCase())},control:function(e,t,n){var i,r=this,o=n;Ext.isString(e)?(i={},i[e]=t):(i=e,o=t),r.eventbus.control(i,o||r)},listen:function(e,t){this.eventbus.listen(e,t||this)},getController:function(e){var t=this,n=t.application;return e===t.id?t:n&&n.getController(e)},getStore:function(e){var t,n;return t=-1==e.indexOf("@")?e:e.split("@")[0],n=Ext.StoreManager.get(t),n||(e=Ext.app.Controller.getFullName(e,"store",this.$namespace),e&&(n=Ext.create(e.absoluteName,{storeId:t}))),n},getModel:function(e){var t=Ext.app.Controller.getFullName(e,"model",this.$namespace);return t&&Ext.ModelManager.getModel(t.absoluteName)},getView:function(e){var t=Ext.app.Controller.getFullName(e,"view",this.$namespace);return t&&Ext.ClassManager.get(t.absoluteName)},getApplication:function(){return this.application}}),Ext.define("Ext.container.DockingContainer",{isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(e,t){var n,i,r=this,o=0;for(e=r.prepareItems(e),i=e.length;i>o;o++)n=e[o],n.dock=n.dock||"top",("left"===n.dock||"right"===n.dock)&&r.horizontalDocks++,void 0!==t?(o+=t,r.dockedItems.insert(o,n)):r.dockedItems.add(n),n.onAdded(r,o),r.hasListeners.dockedadd&&r.fireEvent("dockedadd",r,n,o),r.onDockedAdd!==Ext.emptyFn&&r.onDockedAdd(n);return r.rendered&&!r.suspendLayout&&r.updateLayout(),e},destroyDockedItems:function(){var e,t=this.dockedItems;if(t)for(;e=t.first();)this.removeDocked(e,!0)},doRenderDockedItems:function(e,t,n){var i,r,o=t.$comp,a=o.componentLayout;a.getDockedItems&&!t.$skipDockedItems&&(i=a.getDockedItems("render",!n),r=i&&a.getItemsRenderTree(i),r&&Ext.DomHelper.generateMarkup(r,e))},getDockedComponent:function(e){return Ext.isObject(e)&&(e=e.getItemId()),this.dockedItems.get(e)},getDockedItems:function(e,t){var n=this.getComponentLayout().getDockedItems("render",t);return e&&n.length&&(n=Ext.ComponentQuery.query(e,n)),n},getDockingRefItems:function(e,t){var n,i=e&&"*,* *",r=this.getDockedItems(i,!0);return r.push.apply(r,t),n=this.getDockedItems(i,!1),r.push.apply(r,n),r},initDockingItems:function(){var e=this,t=e.dockedItems;e.dockedItems=new Ext.util.AbstractMixedCollection(!1,e.getComponentId),t&&e.addDocked(t)},insertDocked:function(e,t){this.addDocked(t,e)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(e,t){var n,i,r=this;return t=t===!0||t!==!1&&r.autoDestroy,r.dockedItems.contains(e)?(("left"===e.dock||"right"===e.dock)&&r.horizontalDocks--,n=r.componentLayout,i=n&&r.rendered,i&&n.onRemove(e),r.dockedItems.remove(e),e.onRemoved(e.destroying||t),r.onDockedRemove(e),t?e.destroy():i&&n.afterRemove(e),r.hasListeners.dockedremove&&r.fireEvent("dockedremove",r,e),r.destroying||r.suspendLayout||r.updateLayout(),e):e},setupDockingRenderTpl:function(e){e.renderDockedItems=this.doRenderDockedItems}}),Ext.define("Ext.toolbar.Fill",{extend:Ext.Component,alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",isFill:!0,flex:1}),Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(e,t){this.layout=e,Ext.apply(this,t)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(e){var t,n=this,i=e.state.boxPlan;i&&i.tooNarrow?(t=n.handleOverflow(e),t&&t.reservedSpace&&n.layout.publishInnerCtSize(e,t.reservedSpace)):n.clearOverflow()},completeLayout:Ext.emptyFn,finishedLayout:function(){var e,t,n=this,i=n.layout.owner;i.hasListeners.overflowchange&&(e=i.query(">[hidden]"),t=e.length,t!==n.lastHiddenCount&&(i.fireEvent("overflowchange",n.lastHiddenCount,t,e),n.lastHiddenCount=t))},onRemove:Ext.emptyFn,getItem:function(e){return this.layout.owner.getComponent(e)},getOwnerType:function(e){var t;return t=e.isToolbar?"toolbar":e.isTabBar?"tabbar":e.isMenu?"menu":e.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""}}),Ext.define("Ext.toolbar.Item",{extend:Ext.Component,alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn}),Ext.define("Ext.toolbar.Separator",{extend:Ext.toolbar.Item,alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:!1}),Ext.define("Ext.button.Manager",{singleton:!0,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,buttonSelector:"."+Ext.baseCSSPrefix+"btn",init:function(){var e=this;e.initialized||(Ext.getDoc().on({keydown:e.onDocumentKeyDown,mouseup:e.onDocumentMouseUp,scope:e}),e.initialized=!0)},onDocumentKeyDown:function(e){var t,n=e.getKey();(n===e.SPACE||n===e.ENTER)&&(t=e.getTarget(this.buttonSelector),t&&Ext.getCmp(t.id).onClick(e))},onButtonMousedown:function(e,t){var n=this.pressedButton;n&&n.onMouseUp(t),this.pressedButton=e},onDocumentMouseUp:function(e){var t=this.pressedButton;t&&(t.onMouseUp(e),this.pressedButton=null)},toggleGroup:function(e,t){if(t){var n,i=this.groups[e.toggleGroup],r=i.length;for(n=0;r>n;n++)i[n]!==e&&i[n].toggle(!1)}},register:function(e){var t=this,n=this.groups,i=n[e.toggleGroup];
t.init(),e.toggleGroup&&(i||(i=n[e.toggleGroup]=[]),i.push(e),e.on("toggle",t.toggleGroup,t))},unregister:function(e){if(e.toggleGroup){var t=this,n=t.groups[e.toggleGroup];n&&(Ext.Array.remove(n,e),e.un("toggle",t.toggleGroup,t))}},getPressed:function(e){var t,n=this.groups[e],i=0;if(n)for(t=n.length;t>i;i++)if(n[i].pressed===!0)return n[i];return null}}),Ext.define("Ext.menu.Manager",{singleton:!0,alternateClassName:"Ext.menu.MenuMgr",menuSelector:"."+Ext.baseCSSPrefix+"menu",menus:{},groups:{},attached:!1,lastShow:new Date,init:function(){var e=this;e.active=new Ext.util.MixedCollection,Ext.getDoc().addKeyListener(27,function(){e.active.length>0&&e.hideAll()},e)},hideAll:function(){var e,t,n,i=this.active;if(i&&i.length>0){for(e=Ext.Array.slice(i.items),n=e.length,t=0;n>t;t++)e[t].hide();return!0}return!1},onHide:function(e){var t=this,n=t.active;n.remove(e),n.length<1&&(Ext.getDoc().un("mousedown",t.onMouseDown,t),t.attached=!1)},onShow:function(e){var t=this,n=t.active,i=t.attached;t.lastShow=new Date,n.add(e),i||(Ext.getDoc().on("mousedown",t.onMouseDown,t,{buffer:Ext.isIE9m?10:void 0}),t.attached=!0),e.toFront()},onBeforeHide:function(e){e.activeChild&&e.activeChild.hide(),e.autoHideTimer&&(clearTimeout(e.autoHideTimer),delete e.autoHideTimer)},onBeforeShow:function(e){var t=this.active,n=e.parentMenu;t.remove(e),n||e.allowOtherMenus?n&&n.activeChild&&e!=n.activeChild&&n.activeChild.hide():this.hideAll()},onMouseDown:function(e){var t=this,n=t.active,i=t.lastShow,r=!0;Ext.Date.getElapsed(i)>50&&n.length>0&&!e.getTarget(t.menuSelector)&&(Ext.isIE9m&&!Ext.getDoc().contains(e.target)&&(r=!1),r&&t.hideAll())},register:function(e){var t=this;t.active||t.init(),e.floating&&(t.menus[e.id]=e,e.on({beforehide:t.onBeforeHide,hide:t.onHide,beforeshow:t.onBeforeShow,show:t.onShow,scope:t}))},get:function(e){var t=this.menus;return"string"==typeof e?t?t[e]:null:e.isMenu?e:Ext.isArray(e)?new Ext.menu.Menu({items:e}):Ext.ComponentManager.create(e,"menu")},unregister:function(e){var t=this,n=t.menus,i=t.active;delete n[e.id],i.remove(e),e.un({beforehide:t.onBeforeHide,hide:t.onHide,beforeshow:t.onBeforeShow,show:t.onShow,scope:t})},registerCheckable:function(e){var t=this.groups,n=e.group;n&&(t[n]||(t[n]=[]),t[n].push(e))},unregisterCheckable:function(e){var t=this.groups,n=e.group;n&&Ext.Array.remove(t[n],e)},onCheckChange:function(e,t){var n,i,r,o=this.groups,a=e.group,s=0;if(a&&t)for(n=o[a],i=n.length;i>s;s++)r=n[s],r!=e&&r.setChecked(!1)}}),Ext.define("Ext.util.ClickRepeater",{extend:Ext.util.Observable,constructor:function(e,t){var n=this;n.el=Ext.get(e),n.el.unselectable(),Ext.apply(n,t),n.callParent(),n.addEvents("mousedown","click","mouseup"),n.disabled||(n.disabled=!0,n.enable()),n.handler&&n.on("click",n.handler,n.scope||n)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){this.disabled&&(this.el.on("mousedown",this.handleMouseDown,this),!Ext.isIE||Ext.isIE10p||Ext.isStrict&&Ext.isIE9||this.el.on("dblclick",this.handleDblClick,this),(this.preventDefault||this.stopDefault)&&this.el.on("click",this.eventOptions,this)),this.disabled=!1},disable:function(e){(e||!this.disabled)&&(clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.removeAllListeners()),this.disabled=!0},setDisabled:function(e){this[e?"disable":"enable"]()},eventOptions:function(e){this.preventDefault&&e.preventDefault(),this.stopDefault&&e.stopEvent()},destroy:function(){this.disable(!0),Ext.destroy(this.el),this.clearListeners()},handleDblClick:function(e){clearTimeout(this.timer),this.el.blur(),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e)},handleMouseDown:function(e){clearTimeout(this.timer),this.el.blur(),this.pressedCls&&this.el.addCls(this.pressedCls),this.mousedownTime=new Date,Ext.getDoc().on("mouseup",this.handleMouseUp,this),this.el.on("mouseout",this.handleMouseOut,this),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e),this.accelerate&&(this.delay=400),e=new Ext.EventObjectImpl(e),this.timer=Ext.defer(this.click,this.delay||this.interval,this,[e])},click:function(e){this.fireEvent("click",this,e),this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[e])},easeOutExpo:function(e,t,n,i){return e==i?t+n:n*(-Math.pow(2,-10*e/i)+1)+t},handleMouseOut:function(){clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this),this.pressedCls&&this.el.addCls(this.pressedCls),this.click()},handleMouseUp:function(e){clearTimeout(this.timer),this.el.un("mouseover",this.handleMouseReturn,this),this.el.un("mouseout",this.handleMouseOut,this),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.pressedCls&&this.el.removeCls(this.pressedCls),this.fireEvent("mouseup",this,e)}}),Ext.define("Ext.layout.component.Button",{alias:["layout.button"],extend:Ext.layout.component.Auto,type:"button",htmlRE:/<.*>/,beginLayout:function(e){var t=this,n=t.owner,i=n.text;t.callParent(arguments),e.btnWrapContext=e.getEl("btnWrap"),e.btnElContext=e.getEl("btnEl"),e.btnInnerElContext=e.getEl("btnInnerEl"),e.btnIconElContext=e.getEl("btnIconEl"),i&&t.htmlRE.test(i)&&(e.isHtmlText=!0,n.btnInnerEl.setStyle("line-height","normal"),n.btnInnerEl.setStyle("padding-top",""))},beginLayoutCycle:function(e){var t=this.owner,n=this.lastWidthModel;this.callParent(arguments),n&&!this.lastWidthModel.shrinkWrap&&e.widthModel.shrinkWrap&&(t.btnWrap.setStyle("height",""),t.btnEl.setStyle("height",""),t.btnInnerEl.setStyle("line-height",""))},calculate:function(e){var t,n,i,r,o=this,a=o.owner,s=e.btnElContext,l=e.btnInnerElContext,d=e.btnWrapContext,c=Math.max;o.callParent(arguments),e.heightModel.shrinkWrap?(i=a.btnEl.getHeight(),e.isHtmlText&&(o.centerInnerEl(e,i),o.ieCenterIcon(e,i))):(t=e.getProp("height"),t?(n=t-e.getFrameInfo().height-e.getPaddingInfo().height,i=n,(a.menu||a.split)&&"bottom"===a.arrowAlign&&(i-=d.getPaddingInfo().bottom),r=i,!(a.icon||a.iconCls||a.glyph)||"top"!==a.iconAlign&&"bottom"!==a.iconAlign||(r-=l.getPaddingInfo().height),d.setProp("height",c(0,n)),s.setProp("height",c(0,i)),e.isHtmlText?o.centerInnerEl(e,i):l.setProp("line-height",c(0,r)+"px"),o.ieCenterIcon(e,i)):0!==t&&(o.done=!1))},centerInnerEl:function(e,t){var n=this,i=e.btnInnerElContext,r=n.owner.btnInnerEl.getHeight();e.heightModel.shrinkWrap&&r>t?e.btnElContext.setHeight(r):t>r&&i.setProp("padding-top",Math.round((t-r)/2)+i.getPaddingInfo().top)},ieCenterIcon:function(e,t){var n=this.owner.iconAlign;!Ext.isIEQuirks&&!Ext.isIE6||"left"!==n&&"right"!==n||e.btnIconElContext.setHeight(t)},publishInnerWidth:function(e,t){this.owner.getFrameInfo().table&&e.btnInnerElContext.setWidth(t-e.getFrameInfo().width-e.getPaddingInfo().width-e.btnWrapContext.getPaddingInfo().width)}}),Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(e,t,n){var i=this,r=i.shared;return r||(r=i.shared=new i(e,n)),r.bind(e),r.setFixedWidth(n||"auto"),r.getSize(t)},destroy:function(){var e=this;Ext.destroy(e.shared),e.shared=null}},constructor:function(e,t){var n=this,i=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"textmetrics"});n.measure=i,e&&n.bind(e),i.position("absolute"),i.setLocalXY(-1e3,-1e3),i.hide(),t&&i.setWidth(t)},getSize:function(e){var t,n=this.measure;return n.update(e),t=n.getSize(),n.update(""),t},bind:function(e){var t=this;t.el=Ext.get(e),t.measure.setStyle(t.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(e){this.measure.setWidth(e)},getWidth:function(e){return this.measure.dom.style.width="auto",this.getSize(e).width},getHeight:function(e){return this.getSize(e).height},destroy:function(){var e=this;e.measure.remove(),delete e.el,delete e.measure}},function(){Ext.Element.addMethods({getTextWidth:function(e,t,n){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(e,this.dom.innerHTML,!0)).width,t||0,n||1e6)}})}),Ext.define("Ext.button.Button",{alias:"widget.button",extend:Ext.Component,mixins:{queryable:Ext.Queryable},alternateClassName:"Ext.Button",isButton:!0,componentLayout:"button",hidden:!1,disabled:!1,pressed:!1,tabIndex:0,enableToggle:!1,menuAlign:"tl-bl?",showEmptyMenu:!1,textAlign:"center",clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",hrefTarget:"_blank",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],renderTpl:['<span id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</span>","</span>",'<tpl if="closable">','<span id="{id}-closeEl" class="{baseCls}-close-btn" title="{closeText}" tabIndex="0"></span>',"</tpl>"],scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,shrinkWrap:3,frame:!0,_triggerRegion:{},initComponent:function(){var e=this;e.autoEl={tag:"a",role:"button",hidefocus:"on",unselectable:"on"},e.addCls("x-unselectable"),e.callParent(arguments),e.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout","textchange","iconchange","glyphchange"),e.menu&&(e.split=!0,e.menu=Ext.menu.Manager.get(e.menu),e.menu.ownerButton=e),e.url&&(e.href=e.url),e.href&&!e.hasOwnProperty("preventDefault")&&(e.preventDefault=!1),Ext.isString(e.toggleGroup)&&""!==e.toggleGroup&&(e.enableToggle=!0),e.html&&!e.text&&(e.text=e.html,delete e.html),e.glyphCls=e.baseCls+"-glyph"},getActionEl:function(){return this.el},getFocusEl:function(){return this.el},onDisable:function(){this.callParent(arguments)},setComponentCls:function(){var e=this,t=e.getComponentCls();Ext.isEmpty(e.oldCls)||(e.removeClsWithUI(e.oldCls),e.removeClsWithUI(e.pressedCls)),e.oldCls=t,e.addClsWithUI(t)},getComponentCls:function(){var e,t=this;return e=t.iconCls||t.icon||t.glyph?[t.text?"icon-text-"+t.iconAlign:"icon"]:t.text?["noicon"]:[],t.pressed&&(e[e.length]=t.pressedCls),e},beforeRender:function(){var e=this,t=e.autoEl,n=e.getHref(),i=e.hrefTarget;e.disabled||(t.tabIndex=e.tabIndex),n&&(t.href=n,i&&(t.target=i)),e.callParent(),e.oldCls=e.getComponentCls(),e.addClsWithUI(e.oldCls),Ext.applyIf(e.renderData,e.getTemplateArgs())},onRender:function(){var e,t,n,i=this;i.doc=Ext.getDoc(),i.callParent(arguments),t=i.el,i.tooltip&&i.setTooltip(i.tooltip,!0),i.handleMouseEvents?(n={scope:i,mouseover:i.onMouseOver,mouseout:i.onMouseOut,mousedown:i.onMouseDown},i.split&&(n.mousemove=i.onMouseMove)):n={scope:i},i.menu&&(i.mon(i.menu,{scope:i,show:i.onMenuShow,hide:i.onMenuHide}),i.keyMap=new Ext.util.KeyMap({target:i.el,key:Ext.EventObject.DOWN,handler:i.onDownKey,scope:i})),i.repeat?i.mon(new Ext.util.ClickRepeater(t,Ext.isObject(i.repeat)?i.repeat:{}),"click",i.onRepeatClick,i):n[i.clickEvent]?e=!0:n[i.clickEvent]=i.onClick,i.mon(t,n),e&&i.mon(t,i.clickEvent,i.onClick,i),Ext.button.Manager.register(i)},getTemplateArgs:function(){var e,t=this,n=t.glyph,i=Ext._glyphFontFamily;return"string"==typeof n&&(e=n.split("@"),n=e[0],i=e[1]),{innerCls:t.getInnerCls(),splitCls:t.getSplitCls(),iconUrl:t.icon,iconCls:t.iconCls,glyph:n,glyphCls:n?t.glyphCls:"",glyphFontFamily:i,text:t.text||"&#160;"}},setHref:function(e){this.href=e,this.el.dom.href=this.getHref()},getHref:function(){var e=this,t=e.href;return t?Ext.urlAppend(t,Ext.Object.toQueryString(Ext.apply({},e.params,e.baseParams))):!1},setParams:function(e){this.params=e,this.el.dom.href=this.getHref()},getSplitCls:function(){var e=this;return e.split?e.baseCls+"-"+e.arrowCls+" "+(e.baseCls+"-"+e.arrowCls+"-"+e.arrowAlign):""},getInnerCls:function(){return this.textAlign?this.baseCls+"-inner-"+this.textAlign:""},setIcon:function(e){e=e||"";var t=this,n=t.btnIconEl,i=t.icon||"";return t.icon=e,e!=i&&(n&&(n.setStyle("background-image",e?"url("+e+")":""),t.setComponentCls(),t.didIconStateChange(i,e)&&t.updateLayout()),t.fireEvent("iconchange",t,i,e)),t},setIconCls:function(e){e=e||"";var t=this,n=t.btnIconEl,i=t.iconCls||"";return t.iconCls=e,i!=e&&(n&&(n.removeCls(i),n.addCls(e),t.setComponentCls(),t.didIconStateChange(i,e)&&t.updateLayout()),t.fireEvent("iconchange",t,i,e)),t},setGlyph:function(e){e=e||0;var t,n,i=this,r=i.btnIconEl,o=i.glyph;return i.glyph=e,r&&("string"==typeof e&&(n=e.split("@"),e=n[0],t=n[1]||Ext._glyphFontFamily),e?o!=e&&(r.dom.innerHTML="&#"+e+";"):r.dom.innerHTML="",t&&r.setStyle("font-family",t)),i.fireEvent("glyphchange",i,i.glyph,o),i},setTooltip:function(e,t){var n=this;return n.rendered?(t&&e||n.clearTip(),e&&(Ext.quickTipsActive&&Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:n.el.id},e)),n.tooltip=e):n.el.dom.setAttribute(n.getTipAttr(),e))):n.tooltip=e,n},setTextAlign:function(e){var t=this,n=t.btnEl;return n&&(n.removeCls(t.baseCls+"-inner-"+t.textAlign),n.addCls(t.baseCls+"-inner-"+e)),t.textAlign=e,t},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},getRefItems:function(e){var t,n=this.menu;return n&&(t=n.getRefItems(e),t.unshift(n)),t||[]},clearTip:function(){var e=this,t=e.el;Ext.quickTipsActive&&Ext.isObject(e.tooltip)?Ext.tip.QuickTipManager.unregister(t):t.dom.removeAttribute(e.getTipAttr())},beforeDestroy:function(){var e=this;e.rendered&&e.clearTip(),e.menu&&e.destroyMenu!==!1&&Ext.destroy(e.menu),Ext.destroy(e.btnInnerEl,e.repeater),e.callParent()},onDestroy:function(){var e=this;e.rendered&&(e.doc.un("mouseover",e.monitorMouseOver,e),delete e.doc,Ext.destroy(e.keyMap),delete e.keyMap),Ext.button.Manager.unregister(e),e.callParent()},setHandler:function(e,t){return this.handler=e,this.scope=t,this},setText:function(e){e=e||"";var t=this,n=t.text||"";return e!=n&&(t.text=e,t.rendered&&(t.btnInnerEl.update(e||"&#160;"),t.setComponentCls(),Ext.isStrict&&Ext.isIE8&&t.el.repaint(),t.updateLayout()),t.fireEvent("textchange",t,n,e)),t},didIconStateChange:function(e,t){var n=Ext.isEmpty(t);return Ext.isEmpty(e)?!n:n},getText:function(){return this.text},toggle:function(e,t){var n=this;return e=void 0===e?!n.pressed:!!e,e!==n.pressed&&(n.rendered&&n[e?"addClsWithUI":"removeClsWithUI"](n.pressedCls),n.pressed=e,t||(n.fireEvent("toggle",n,e),Ext.callback(n.toggleHandler,n.scope||n,[n,e]))),n},maybeShowMenu:function(){var e=this;!e.menu||e.hasVisibleMenu()||e.ignoreNextClick||e.showMenu(!0)},showMenu:function(e){var t=this,n=t.menu;return t.rendered&&(t.tooltip&&Ext.quickTipsActive&&"title"!=t.getTipAttr()&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(t.el),n.isVisible()&&n.hide(),(!e||t.showEmptyMenu||n.items.getCount()>0)&&n.showBy(t.el,t.menuAlign)),t},hideMenu:function(){return this.hasVisibleMenu()&&this.menu.hide(),this},hasVisibleMenu:function(){var e=this.menu;return e&&e.rendered&&e.isVisible()},onRepeatClick:function(e,t){this.onClick(t)},onClick:function(e){var t=this;(t.preventDefault||t.disabled&&t.getHref()&&e)&&e.preventDefault(),("keydown"===e.type||0===e.button)&&(t.disabled||(t.doToggle(),t.maybeShowMenu(),t.fireHandler(e)))},fireHandler:function(e){var t=this,n=t.handler;t.fireEvent("click",t,e)!==!1&&n&&n.call(t.scope||t,t,e)},doToggle:function(){var e=this;!e.enableToggle||e.allowDepress===!1&&e.pressed||e.toggle()},onMouseOver:function(e){var t=this;t.disabled||e.within(t.el,!0,!0)||t.onMouseEnter(e)},onMouseOut:function(e){var t=this;e.within(t.el,!0,!0)||(t.overMenuTrigger&&t.onMenuTriggerOut(e),t.onMouseLeave(e))},onMouseMove:function(e){var t,n,i=this,r=i.el,o=i.overMenuTrigger;i.split&&(t="right"===i.arrowAlign?e.getX()-i.getX():e.getY()-r.getY(),n=i.getTriggerRegion(),t>n.begin&&t<n.end?o||i.onMenuTriggerOver(e):o&&i.onMenuTriggerOut(e))},getTriggerRegion:function(){var e=this,t=e._triggerRegion,n=e.getTriggerSize(),i="right"===e.arrowAlign?e.getWidth():e.getHeight();return t.begin=i-n,t.end=i,t},getTriggerSize:function(){var e,t,n=this,i=n.triggerSize;return null==i&&(e=n.arrowAlign,t=e.charAt(0),i=n.triggerSize=n.el.getFrameWidth(t)+n.getBtnWrapFrameWidth(t),n.frameSize&&(i=n.triggerSize+=n.frameSize[e])),i},getBtnWrapFrameWidth:function(e){return this.btnWrap.getFrameWidth(e)},addOverCls:function(){this.disabled||this.addClsWithUI(this.overCls)},removeOverCls:function(){this.removeClsWithUI(this.overCls)},onMouseEnter:function(e){this.fireEvent("mouseover",this,e)},onMouseLeave:function(e){this.fireEvent("mouseout",this,e)},onMenuTriggerOver:function(e){var t=this,n=t.arrowTooltip;t.overMenuTrigger=!0,t.split&&n&&t.btnWrap.dom.setAttribute(t.getTipAttr(),n),t.fireEvent("menutriggerover",t,t.menu,e)},onMenuTriggerOut:function(e){var t=this;delete t.overMenuTrigger,t.split&&t.arrowTooltip&&t.btnWrap.dom.setAttribute(t.getTipAttr(),""),t.fireEvent("menutriggerout",t,t.menu,e)},enable:function(){var e=this;return e.callParent(arguments),e.removeClsWithUI("disabled"),e.rendered&&e.el.dom.setAttribute("tabIndex",e.tabIndex),e},disable:function(){var e=this;return e.callParent(arguments),e.addClsWithUI("disabled"),e.removeClsWithUI(e.overCls),e.rendered&&e.el.dom.removeAttribute("tabIndex"),e.btnInnerEl&&Ext.isIE7m&&e.btnInnerEl.repaint(),e},setScale:function(e){var t=this,n=t.ui.replace("-"+t.scale,"");if(!Ext.Array.contains(t.allowedScales,e))throw"#setScale: scale must be an allowed scale ("+t.allowedScales.join(", ")+")";t.scale=e,t.setUI(n)},setUI:function(e){var t=this;t.scale&&!e.match(t.scale)&&(e=e+"-"+t.scale),t.callParent([e])},onMouseDown:function(e){var t=this;Ext.isIE&&t.getFocusEl().focus(),t.disabled||0!==e.button||(Ext.button.Manager.onButtonMousedown(t,e),t.addClsWithUI(t.pressedCls))},onMouseUp:function(e){var t=this;0===e.button&&(t.pressed||t.removeClsWithUI(t.pressedCls))},onMenuShow:function(){var e=this;e.ignoreNextClick=0,e.addClsWithUI(e.menuActiveCls),e.fireEvent("menushow",e,e.menu)},onMenuHide:function(){var e=this;e.removeClsWithUI(e.menuActiveCls),e.ignoreNextClick=Ext.defer(e.restoreClick,250,e),e.fireEvent("menuhide",e,e.menu),e.focus()},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(e,t){var n=this;return n.menu&&!n.disabled?(n.showMenu(),t.stopEvent(),!1):void 0}}),Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(){var e=this;e.callParent(arguments),e.triggerButtonCls=e.triggerButtonCls||Ext.baseCSSPrefix+"box-menu-after",e.menuItems=[]},beginLayout:function(e){this.callParent(arguments),this.clearOverflow(e)},beginLayoutCycle:function(e,t){this.callParent(arguments),t||(this.clearOverflow(e),this.layout.cacheChildItems(e))},onRemove:function(e){Ext.Array.remove(this.menuItems,e)},getSuffixConfig:function(){var e=this,t=e.layout,n=t.owner,i=n.id;return e.menu=new Ext.menu.Menu({listeners:{scope:e,beforeshow:e.beforeMenuShow}}),e.menuTrigger=new Ext.button.Button({id:i+"-menu-trigger",cls:Ext.layout.container.Box.prototype.innerCls+" "+e.triggerButtonCls+" "+Ext.baseCSSPrefix+"toolbar-item",plain:n.usePlainButtons,ownerCt:n,ownerLayout:t,iconCls:Ext.baseCSSPrefix+e.getOwnerType(n)+"-more-icon",ui:n instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:e.menu,showEmptyMenu:!0,getSplitCls:function(){return""}}),e.menuTrigger.getRenderTree()},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},handleOverflow:function(e){var t=this,n=t.layout,i=n.names,r=e.state.boxPlan,o=[null,null];return t.showTrigger(e),"vertical"!==t.layout.direction&&(o[i.heightIndex]=(r.maxSize-t.menuTrigger[i.getHeight]())/2,t.menuTrigger.setPosition.apply(t.menuTrigger,o)),{reservedSpace:t.triggerTotalWidth}},captureChildElements:function(){var e=this,t=e.menuTrigger,n=e.layout.names;t.rendering&&(t.finishRender(),e.triggerTotalWidth=t[n.getWidth]()+t.el.getMargin(n.parallelMargins))},_asLayoutRoot:{isRoot:!0},clearOverflow:function(){var e,t=this,n=t.menuItems,i=0,r=n.length,o=t.layout.owner,a=t._asLayoutRoot;for(o.suspendLayouts(),t.captureChildElements(),t.hideTrigger(),o.resumeLayouts();r>i;i++)e=n[i],e.suspendLayouts(),e.show(),e.resumeLayouts(a);n.length=0},showTrigger:function(e){var t,n,i,r,o=this,a=o.layout,s=a.owner,l=a.names,d=l.x,c=l.width,u=e.state.boxPlan,h=u.targetSize[c],f=e.childItems,g=f.length,p=o.menuTrigger;for(p.suspendLayouts(),p.show(),p.resumeLayouts(o._asLayoutRoot),h-=o.triggerTotalWidth,s.suspendLayouts(),o.menuItems.length=0,i=0;g>i;i++)t=f[i],r=t.props,r[d]+r[c]>h&&(n=t.target,o.menuItems.push(n),n.hide());s.resumeLayouts()},hideTrigger:function(){var e=this.menuTrigger;e&&e.hide()},beforeMenuShow:function(e){var t,n,i=this,r=i.menuItems,o=0,a=r.length,s=function(e,t){return e.isXType("buttongroup")&&!(t instanceof Ext.toolbar.Separator)};for(e.suspendLayouts(),i.clearMenu(),e.removeAll();a>o;o++)t=r[o],!o&&t instanceof Ext.toolbar.Separator||(n&&(s(t,n)||s(n,t))&&e.add("-"),i.addComponentToMenu(e,t),n=t);e.items.length<1&&e.add(i.noItemsMenuText),e.resumeLayouts()},createMenuConfig:function(e,t){var n=this,i=Ext.apply({},e.initialConfig),r=e.toggleGroup;return Ext.copyTo(i,e,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]),Ext.apply(i,{text:e.overflowText||e.text,hideOnClick:t,destroyMenu:!1,listeners:{}}),e.isFormField?(i.value=e.getValue(),i.listeners.change=function(t,n){e.setValue(n)}):(r||e.enableToggle)&&Ext.apply(i,{hideOnClick:!1,group:r,checked:e.pressed,handler:function(t,n){e.onClick(n)}}),e.isButton&&!e.changeListenersAdded&&(e.on({textchange:n.onButtonAttrChange,iconchange:n.onButtonAttrChange,toggle:n.onButtonToggle}),e.changeListenersAdded=!0),delete i.margin,delete i.ownerCt,delete i.xtype,delete i.id,delete i.itemId,i},onButtonAttrChange:function(e){var t=e.overflowClone;t.suspendLayouts(),t.setText(e.text),t.setIcon(e.icon),t.setIconCls(e.iconCls),t.resumeLayouts(!0)},onButtonToggle:function(e,t){e.overflowClone.checked!==t&&e.overflowClone.setChecked(t)},addComponentToMenu:function(e,t){var n,i,r,o=this;if(t instanceof Ext.toolbar.Separator)e.add("-");else if(t.isComponent)if(t.isXType("splitbutton"))t.overflowClone=e.add(o.createMenuConfig(t,!0));else if(t.isXType("button"))t.overflowClone=e.add(o.createMenuConfig(t,!t.menu));else if(t.isXType("buttongroup"))for(i=t.items.items,r=i.length,n=0;r>n;n++)o.addComponentToMenu(e,i[n]);else t.overflowClone=e.add(Ext.create(Ext.getClassName(t),o.createMenuConfig(t)))},clearMenu:function(){var e,t,n,i,r=this.menu;if(r&&r.items)for(e=r.items.items,n=e.length,t=0;n>t;t++)i=e[t],i.setMenu&&i.setMenu(null)},destroy:function(){var e=this.menuTrigger;e&&!this.layout.owner.items.contains(e)&&delete e.ownerCt,Ext.destroy(this.menu,e)}}),Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Scroller",mixins:{observable:Ext.util.Observable},animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(e,t){var n=this;n.layout=e,Ext.apply(n,t||{}),n.mixins.observable.constructor.call(n),n.addEvents("scroll"),n.scrollPosition=0,n.scrollSize=0},getPrefixConfig:function(){var e,t=this,n=t.layout,i=n.owner;return t.initCSSClasses(),e=Ext.layout.container.Box.prototype.innerCls+" "+t.beforeCtCls,i.plain&&(e+=" "+t.scrollerCls+"-plain"),{cls:e,cn:{id:i.id+n.names.beforeScrollerSuffix,cls:t.scrollerCls+" "+t.beforeScrollerCls,style:"display:none"}}},getSuffixConfig:function(){var e=this,t=e.layout,n=t.owner,i=Ext.layout.container.Box.prototype.innerCls+" "+e.afterCtCls;return n.plain&&(i+=" "+e.scrollerCls+"-plain"),{cls:i,cn:{id:n.id+t.names.afterScrollerSuffix,cls:e.scrollerCls+" "+e.afterScrollerCls,style:"display:none"}}},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},initCSSClasses:function(){var e=this,t=Ext.baseCSSPrefix,n=e.layout,i=n.names,r=i.beforeX,o=i.afterX,a=e.getOwnerType(n.owner);e.beforeCtCls=e.beforeCtCls||t+"box-scroller-"+r,e.afterCtCls=e.afterCtCls||t+"box-scroller-"+o,e.beforeScrollerCls=e.beforeScrollerCls||t+a+"-scroll-"+r,e.afterScrollerCls=e.afterScrollerCls||t+a+"-scroll-"+o},beginLayout:function(e){this.layout,e.innerCtScrollPos=this.getScrollPosition(),this.callParent(arguments)},completeLayout:function(e){var t,n=this,i=e.state.boxPlan,r=n.layout.names;i&&i.tooNarrow&&(t=e.childItems[e.childItems.length-1],n.scrollSize=t.props[r.x]+t.props[r.width],n.updateScrollButtons()),this.callParent(arguments)},finishedLayout:function(e){var t=this,n=t.layout,i=Math.min(t.getMaxScrollPosition(),e.innerCtScrollPos);n.innerCt[n.names.setScrollLeft](i)},handleOverflow:function(){var e=this,t=e.layout.names.getWidth;return e.showScrollers(),{reservedSpace:e.beforeCt[t]()+e.afterCt[t]()}},captureChildElements:function(){var e,t,n,i,r,o,a=this,s=a.layout.owner.el;a.beforeCt||(o="-hover",i="-pressed",n=a.scrollerCls+o,r=a.scrollerCls+i,e=a.beforeScroller=s.getById(a.layout.owner.id+"-before-scroller"),t=a.afterScroller=s.getById(a.layout.owner.id+"-after-scroller"),a.beforeCt=e.up(""),a.afterCt=t.up(""),a.createWheelListener(),e.addClsOnOver(n),e.addClsOnOver(a.beforeScrollerCls+o),e.addClsOnClick(r),e.addClsOnClick(a.beforeScrollerCls+i),t.addClsOnOver(n),t.addClsOnOver(a.afterScrollerCls+o),t.addClsOnClick(r),t.addClsOnClick(a.afterScrollerCls+i),e.setVisibilityMode(Ext.Element.DISPLAY),t.setVisibilityMode(Ext.Element.DISPLAY),a.beforeRepeater=new Ext.util.ClickRepeater(e,{interval:a.scrollRepeatInterval,handler:a.scrollLeft,scope:a}),a.afterRepeater=new Ext.util.ClickRepeater(t,{interval:a.scrollRepeatInterval,handler:a.scrollRight,scope:a}))},createWheelListener:function(){var e=this;e.layout.innerCt.on({mousewheel:function(t){e.scrollBy(-1*e.getWheelDelta(t)*e.wheelIncrement,!1)},stopEvent:!0})},getWheelDelta:function(e){return e.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var e=this;e.captureChildElements(),e.beforeScroller.show(),e.afterScroller.show(),e.layout.owner.addClsWithUI("vertical"===e.layout.direction?"vertical-scroller":"scroller")},hideScrollers:function(){var e=this;void 0!==e.beforeScroller&&(e.beforeScroller.hide(),e.afterScroller.hide(),e.layout.owner.removeClsWithUI("vertical"===e.layout.direction?"vertical-scroller":"scroller"))},destroy:function(){var e=this;Ext.destroy(e.beforeRepeater,e.afterRepeater,e.beforeScroller,e.afterScroller,e.beforeCt,e.afterCt)},scrollBy:function(e,t){this.scrollTo(this.getScrollPosition()+e,t)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var e,t,n,i,r,o=this,a="-disabled";null!=o.beforeScroller&&null!=o.afterScroller&&(e=o.atExtremeBefore()?"addCls":"removeCls",t=o.atExtremeAfter()?"addCls":"removeCls",r=o.scrollerCls+a,n=[r,o.beforeScrollerCls+a],i=[r,o.afterScrollerCls+a],o.beforeScroller[e](n),o.afterScroller[t](i),o.scrolling=!1)},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var e,t=this,n=t.layout;return e=isNaN(t.scrollPosition)?n.innerCt[n.names.getScrollLeft]():t.scrollPosition},getMaxScrollPosition:function(){var e=this,t=e.layout,n=e.scrollSize-t.innerCt[t.names.getWidth]();return 0>n?0:n},atExtremeBefore:function(){return!this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(e,t){var n=this,i=n.layout,r=i.names,o=n.getScrollPosition(),a=Ext.Number.constrain(e,0,n.getMaxScrollPosition());a==o||n.scrolling||(n.scrollPosition=0/0,void 0===t&&(t=n.animateScroll),i.innerCt[r.scrollTo](r.beforeScrollX,a,t?n.getScrollAnim():!1),t?n.scrolling=!0:n.updateScrollButtons(),n.fireEvent("scroll",n,a,t?n.getScrollAnim():!1))},scrollToItem:function(e,t){var n,i,r,o=this,a=o.layout,s=a.owner,l=a.names;e=o.getItem(e),void 0!==e&&(e==s.items.first()?r=0:e===s.items.last()?r=o.getMaxScrollPosition():(n=o.getItemVisibility(e),n.fullyVisible||(i=e.getBox(!1,!0),r=i[l.x],n.hiddenEnd&&(r-=o.layout.innerCt[l.getWidth]()-i[l.width]))),void 0!==r&&o.scrollTo(r,t))},getItemVisibility:function(e){var t=this,n=t.getItem(e).getBox(!0,!0),i=t.layout,r=i.names,o=n[r.x],a=o+n[r.width],s=t.getScrollPosition(),l=s+i.innerCt[r.getWidth]();return{hiddenStart:s>o,hiddenEnd:a>l,fullyVisible:o>s&&l>a}}}),Ext.define("Ext.util.Offset",{statics:{fromObject:function(e){return new this(e.x,e.y)}},constructor:function(e,t){return this.x=null==e||isNaN(e)?0:e,this.y=null==t||isNaN(t)?0:t,this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(e){this.x=e.x,this.y=e.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(e){return this.x==e.x&&this.y==e.y},round:function(e){if(isNaN(e))this.x=Math.round(this.x),this.y=Math.round(this.y);else{var t=Math.pow(10,e);this.x=Math.round(this.x*t)/t,this.y=Math.round(this.y*t)/t}},isZero:function(){return 0==this.x&&0==this.y}}),Ext.define("Ext.util.Region",{statics:{getRegion:function(e){return Ext.fly(e).getRegion()},from:function(e){return new this(e.top,e.right,e.bottom,e.left)}},constructor:function(e,t,n,i){var r=this;r.y=r.top=r[1]=e,r.right=t,r.bottom=n,r.x=r.left=r[0]=i},contains:function(e){var t=this;return e.x>=t.x&&e.right<=t.right&&e.y>=t.y&&e.bottom<=t.bottom},intersect:function(e){var t=this,n=Math.max(t.y,e.y),i=Math.min(t.right,e.right),r=Math.min(t.bottom,e.bottom),o=Math.max(t.x,e.x);return r>n&&i>o?new this.self(n,i,r,o):!1},union:function(e){var t=this,n=Math.min(t.y,e.y),i=Math.max(t.right,e.right),r=Math.max(t.bottom,e.bottom),o=Math.min(t.x,e.x);return new this.self(n,i,r,o)},constrainTo:function(e){var t=this,n=Ext.Number.constrain;return t.top=t.y=n(t.top,e.y,e.bottom),t.bottom=n(t.bottom,e.y,e.bottom),t.left=t.x=n(t.left,e.x,e.right),t.right=n(t.right,e.x,e.right),t},adjust:function(e,t,n,i){var r=this;return r.top=r.y+=e,r.left=r.x+=i,r.right+=t,r.bottom+=n,r},getOutOfBoundOffset:function(e,t){if(Ext.isObject(e)){t=e;var n=new Ext.util.Offset;return n.x=this.getOutOfBoundOffsetX(t.x),n.y=this.getOutOfBoundOffsetY(t.y),n}return"x"==e?this.getOutOfBoundOffsetX(t):this.getOutOfBoundOffsetY(t)},getOutOfBoundOffsetX:function(e){return e<=this.x?this.x-e:e>=this.right?this.right-e:0},getOutOfBoundOffsetY:function(e){return e<=this.y?this.y-e:e>=this.bottom?this.bottom-e:0},isOutOfBound:function(e,t){return Ext.isObject(e)?(t=e,this.isOutOfBoundX(t.x)||this.isOutOfBoundY(t.y)):"x"==e?this.isOutOfBoundX(t):this.isOutOfBoundY(t)},isOutOfBoundX:function(e){return e<this.x||e>this.right},isOutOfBoundY:function(e){return e<this.y||e>this.bottom},restrict:function(e,t,n){if(Ext.isObject(e)){var i;return n=t,t=e,i=t.copy?t.copy():{x:t.x,y:t.y},i.x=this.restrictX(t.x,n),i.y=this.restrictY(t.y,n),i}return"x"==e?this.restrictX(t,n):this.restrictY(t,n)},restrictX:function(e,t){return t||(t=1),e<=this.x?e-=(e-this.x)*t:e>=this.right&&(e-=(e-this.right)*t),e},restrictY:function(e,t){return t||(t=1),e<=this.y?e-=(e-this.y)*t:e>=this.bottom&&(e-=(e-this.bottom)*t),e},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)
},copyFrom:function(e){var t=this;return t.top=t.y=t[1]=e.y,t.right=e.right,t.bottom=e.bottom,t.left=t.x=t[0]=e.x,this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(e,t){1==arguments.length&&(t=e.y,e=e.x);var n=this;return n.top=n.y+=t,n.right+=e,n.bottom+=t,n.left=n.x+=e,n},round:function(){var e=this;return e.top=e.y=Math.round(e.y),e.right=Math.round(e.right),e.bottom=Math.round(e.bottom),e.left=e.x=Math.round(e.x),e},equals:function(e){return this.top==e.top&&this.right==e.right&&this.bottom==e.bottom&&this.left==e.left}}),Ext.define("Ext.dd.DragDropManager",{singleton:!0,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(e,t){var n,i,r;for(n in this.ids)for(i in this.ids[n])r=this.ids[n][i],this.isTypeOfDD(r)&&r[e].apply(r,t)},_onLoad:function(){this.init();var e=Ext.EventManager;e.on(document,"mouseup",this.handleMouseUp,this,!0),e.on(document,"mousemove",this.handleMouseMove,this,!0),e.on(window,"unload",this._onUnload,this,!0),e.on(window,"resize",this._onResize,this,!0)},_onResize:function(){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(e,t){this.initialized||this.init(),this.ids[t]||(this.ids[t]={}),this.ids[t][e.id]=e},removeDDFromGroup:function(e,t){this.ids[t]||(this.ids[t]={});var n=this.ids[t];n&&n[e.id]&&delete n[e.id]},_remove:function(e){for(var t in e.groups)t&&this.ids[t]&&this.ids[t][e.id]&&delete this.ids[t][e.id];delete this.handleIds[e.id]},regHandle:function(e,t){this.handleIds[e]||(this.handleIds[e]={}),this.handleIds[e][t]=t},isDragDrop:function(e){return this.getDDById(e)?!0:!1},getRelated:function(e,t){var n,i,r,o=[];for(n in e.groups)for(i in this.ids[n])r=this.ids[n][i],this.isTypeOfDD(r)&&(!t||r.isTarget)&&(o[o.length]=r);return o},isLegalTarget:function(e,t){var n,i,r=this.getRelated(e,!0);for(n=0,i=r.length;i>n;++n)if(r[n].id==t.id)return!0;return!1},isTypeOfDD:function(e){return e&&e.__ygDragDrop},isHandle:function(e,t){return this.handleIds[e]&&this.handleIds[e][t]},getDDById:function(e){var t,n;for(t in this.ids)if(n=this.ids[t][e],n instanceof Ext.dd.DDTarget)return n;return null},handleMouseDown:function(e,t){var n,i=this;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddDisable(),i.dragCurrent&&i.handleMouseUp(e),i.currentTarget=e.getTarget(),i.dragCurrent=t,n=t.getEl(),Ext.isIE9m&&n.setCapture&&n.setCapture(),i.startX=e.getPageX(),i.startY=e.getPageY(),i.deltaX=i.startX-n.offsetLeft,i.deltaY=i.startY-n.offsetTop,i.dragThreshMet=!1,i.clickTimeout=setTimeout(function(){i.startDrag(i.startX,i.startY)},i.clickTimeThresh)},startDrag:function(e,t){var n,i=this,r=i.dragCurrent;clearTimeout(i.clickTimeout),r&&(r.b4StartDrag(e,t),r.startDrag(e,t),n=r.getDragEl(),n&&Ext.fly(n).addCls(i.dragCls)),i.dragThreshMet=!0},handleMouseUp:function(e){var t=this;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddEnable(),t.dragCurrent&&(Ext.isIE&&document.releaseCapture&&document.releaseCapture(),clearTimeout(t.clickTimeout),t.dragThreshMet&&t.fireEvents(e,!0),t.stopDrag(e),t.stopEvent(e))},stopEvent:function(e){this.stopPropagation&&e.stopPropagation(),this.preventDefault&&e.preventDefault()},stopDrag:function(e){var t,n=this,i=n.dragCurrent;i&&(n.dragThreshMet&&(t=i.getDragEl(),t&&Ext.fly(t).removeCls(n.dragCls),i.b4EndDrag(e),i.endDrag(e)),n.dragCurrent.onMouseUp(e)),n.dragCurrent=null,n.dragOvers={}},handleMouseMove:function(e){var t,n,i=this,r=i.dragCurrent;return r?(i.dragThreshMet||(t=Math.abs(i.startX-e.getPageX()),n=Math.abs(i.startY-e.getPageY()),(t>i.clickPixelThresh||n>i.clickPixelThresh)&&i.startDrag(i.startX,i.startY)),i.dragThreshMet&&(r.b4Drag(e),r.onDrag(e),r.moveOnly||i.fireEvents(e,!1)),i.stopEvent(e),!0):!0},fireEvents:function(e,t){var n,i,r,o,a,s,l,d,c,u=this,h=u.dragCurrent,f=e.getPoint(),g=[],p=[],m=[],x=[],y=[],E=[];if(h&&!h.isLocked()){u.notifyOccluded||Ext.supports.PointerEvents&&!Ext.isIE10m&&!Ext.isOpera||h.deltaX<0||h.deltaY<0||(n=h.getDragEl(),i=n.style.top,n.style.top="-10000px",a=e.getXY(),e.target=document.elementFromPoint(a[0],a[1]),n.style.top=i);for(l in u.dragOvers)r=u.dragOvers[l],u.isTypeOfDD(r)&&(u.notifyOccluded?this.isOverTarget(f,r,u.mode)||m.push(r):e.within(r.getEl())||m.push(r),p[l]=!0,delete u.dragOvers[l]);for(c in h.groups)if("string"==typeof c)for(l in u.ids[c])if(r=u.ids[c][l],u.isTypeOfDD(r)&&(o=r.getEl())&&r.isTarget&&!r.isLocked()&&Ext.fly(o).isVisible(!0)&&(r!=h||h.ignoreSelf===!1))if(u.notifyOccluded)-1!==(r.zIndex=u.getZIndex(o))&&(s=!0),g.push(r);else if(e.within(r.getEl())){g.push(r);break}for(s&&Ext.Array.sort(g,u.byZIndex),l=0,d=g.length;d>l&&(r=g[l],!u.isOverTarget(f,r,u.mode)||(t?y.push(r):(p[r.id]?x.push(r):E.push(r),u.dragOvers[r.id]=r),u.notifyOccluded));l++);if(u.mode)m.length&&(h.b4DragOut(e,m),h.onDragOut(e,m)),E.length&&h.onDragEnter(e,E),x.length&&(h.b4DragOver(e,x),h.onDragOver(e,x)),y.length&&(h.b4DragDrop(e,y),h.onDragDrop(e,y));else{for(l=0,d=m.length;d>l;++l)h.b4DragOut(e,m[l].id),h.onDragOut(e,m[l].id);for(l=0,d=E.length;d>l;++l)h.onDragEnter(e,E[l].id);for(l=0,d=x.length;d>l;++l)h.b4DragOver(e,x[l].id),h.onDragOver(e,x[l].id);for(l=0,d=y.length;d>l;++l)h.b4DragDrop(e,y[l].id),h.onDragDrop(e,y[l].id)}t&&!y.length&&h.onInvalidDrop(e)}},getZIndex:function(e){var t,n=document.body,i=-1;for(e=Ext.getDom(e);e!==n;)isNaN(t=Number(Ext.fly(e).getStyle("zIndex")))||(i=t),e=e.parentNode;return i},byZIndex:function(e,t){return e.zIndex<t.zIndex},getBestMatch:function(e){var t,n,i=null,r=e.length;if(1==r)i=e[0];else for(t=0;r>t;++t){if(n=e[t],n.cursorIsOver){i=n;break}(!i||i.overlap.getArea()<n.overlap.getArea())&&(i=n)}return i},refreshCache:function(e){var t,n,i,r;for(t in e)if("string"==typeof t)for(n in this.ids[t])i=this.ids[t][n],this.isTypeOfDD(i)&&(r=this.getLocation(i),r?this.locationCache[i.id]=r:delete this.locationCache[i.id])},verifyEl:function(e){if(e){var t;if(Ext.isIE)try{t=e.offsetParent}catch(n){}else t=e.offsetParent;if(t)return!0}return!1},getLocation:function(e){if(!this.isTypeOfDD(e))return null;if(e.getRegion)return e.getRegion();var t,n,i,r,o,a,s,l,d,c=e.getEl();try{t=Ext.Element.getXY(c)}catch(u){}return t?(n=t[0],i=n+c.offsetWidth,r=t[1],o=r+c.offsetHeight,a=r-e.padding[0],s=i+e.padding[1],l=o+e.padding[2],d=n-e.padding[3],new Ext.util.Region(a,s,l,d)):null},isOverTarget:function(e,t,n){var i,r,o,a,s,l=this.locationCache[t.id];return l&&this.useCache||(l=this.getLocation(t),this.locationCache[t.id]=l),l?(t.cursorIsOver=l.contains(e),i=this.dragCurrent,i&&i.getTargetCoord&&(n||i.constrainX||i.constrainY)?(t.overlap=null,r=i.getTargetCoord(e.x,e.y),o=i.getDragEl(),a=new Ext.util.Region(r.y,r.x+o.offsetWidth,r.y+o.offsetHeight,r.x),s=a.intersect(l),s?(t.overlap=s,n?!0:t.cursorIsOver):!1):t.cursorIsOver):!1},_onUnload:function(){Ext.dd.DragDropManager.unregAll()},unregAll:function(){this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null),this._execOnAll("unreg",[]);for(var e in this.elementCache)delete this.elementCache[e];this.elementCache={},this.ids={}},elementCache:{},getElWrapper:function(e){var t=this.elementCache[e];return t&&t.el||(t=this.elementCache[e]=new this.ElementWrapper(Ext.getDom(e))),t},getElement:function(e){return Ext.getDom(e)},getCss:function(e){var t=Ext.getDom(e);return t?t.style:null},ElementWrapper:function(e){this.el=e||null,this.id=this.el&&e.id,this.css=this.el&&e.style},getPosX:function(e){return Ext.Element.getX(e)},getPosY:function(e){return Ext.Element.getY(e)},swapNode:function(e,t){if(e.swapNode)e.swapNode(t);else{var n=t.parentNode,i=t.nextSibling;i==e?n.insertBefore(e,t):t==e.nextSibling?n.insertBefore(t,e):(e.parentNode.replaceChild(t,e),n.insertBefore(e,i))}},getScroll:function(){var e=window.document,t=e.documentElement,n=e.body,i=0,r=0;return Ext.isGecko4?(i=window.scrollYOffset,r=window.scrollXOffset):t&&(t.scrollTop||t.scrollLeft)?(i=t.scrollTop,r=t.scrollLeft):n&&(i=n.scrollTop,r=n.scrollLeft),{top:i,left:r}},getStyle:function(e,t){return Ext.fly(e).getStyle(t)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(e,t){var n=Ext.Element.getXY(t);Ext.Element.setXY(e,n)},numericSort:function(e,t){return e-t},_timeoutCount:0,_addListeners:function(){document?this._onLoad():this._timeoutCount<=2e3&&(setTimeout(this._addListeners,10),document&&document.body&&(this._timeoutCount+=1))},handleWasClicked:function(e,t){if(this.isHandle(t,e.id))return!0;for(var n=e.parentNode;n;){if(this.isHandle(t,n.id))return!0;n=n.parentNode}return!1}},function(){this._addListeners()}),Ext.define("Ext.layout.container.Box",{alias:["layout.box"],extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.BoxLayout",defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:"start",flex:void 0,stretchMaxPartner:void 0,alignRoundingMethod:"round",type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:!0,manageMargins:!0,createsInnerCt:!0,childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;","if (oh.getPrefixConfig!==Ext.emptyFn) {","if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)","}%}",'<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" class="{targetElCls}">',"{%this.renderBody(out, values)%}","</div>","</div>","{%if (oh.getSuffixConfig!==Ext.emptyFn) {","if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)","}%}",{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(){var e,t=this;t.callParent(arguments),t.flexSortFn=Ext.Function.bind(t.flexSort,t),t.initOverflowHandler(),e=typeof t.padding,("string"==e||"number"==e)&&(t.padding=Ext.util.Format.parseBox(t.padding),t.padding.height=t.padding.top+t.padding.bottom,t.padding.width=t.padding.left+t.padding.right)},_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(e,t){var n=this,i=n.sizePolicy,r=n.align,o=e.flex,a=r,s=n.names,l=e[s.width],d=e[s.height],c=n._percentageRe,u=c.test(l),h="stretch"==r,f="stretchmax"==r,g=n.constrainAlign;return!t&&(h||o||u||g&&!f)&&(t=n.owner.getSizeModel()),h?!c.test(d)&&t[s.height].shrinkWrap&&(a="stretchmax"):f||(a=c.test(d)?"stretch":g&&!t[s.height].shrinkWrap?"stretchmax":""),(o||u)&&(t[s.width].shrinkWrap||(i=i.flex)),i[a]},flexSort:function(e,t){var n,i,r,o,a,s,l=this.names.maxWidth,d=this.names.minWidth,c=1/0,u=e.target,h=t.target,f=0;return r=u[l]||c,o=h[l]||c,n=u[d]||0,i=h[d]||0,a=isFinite(n)||isFinite(i),s=isFinite(r)||isFinite(o),(a||s)&&(s&&(f=r-o),0===f&&a&&(f=i-n)),f},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},roundFlex:function(e){return Math.ceil(e)},beginCollapse:function(e){var t=this;"vertical"===t.direction&&e.collapsedVertical()?(e.collapseMemento.capture(["flex"]),delete e.flex):"horizontal"===t.direction&&e.collapsedHorizontal()&&(e.collapseMemento.capture(["flex"]),delete e.flex)},beginExpand:function(e){e.collapseMemento.restore(["flex"])},beginLayout:function(e){var t=this,n=t.owner,i=n.stretchMaxPartner,r=t.innerCt.dom.style,o=t.names;e.boxNames=o,t.overflowHandler.beginLayout(e),"string"==typeof i&&(i=Ext.getCmp(i)||n.query(i)[0]),e.stretchMaxPartner=i&&e.context.getCmp(i),t.callParent(arguments),e.innerCtContext=e.getEl("innerCt",t),t.scrollParallel=n.scrollFlags[o.x],t.scrollPerpendicular=n.scrollFlags[o.y],t.scrollParallel&&(t.scrollPos=n.getTargetEl().dom[o.scrollLeft]),r.width="",r.height=""},beginLayoutCycle:function(e,t){var n=this,i=n.align,r=e.boxNames,o=n.pack,a=r.heightModel;n.overflowHandler.beginLayoutCycle(e,t),n.callParent(arguments),e.parallelSizeModel=e[r.widthModel],e.perpendicularSizeModel=e[a],e.boxOptions={align:i={stretch:"stretch"==i,stretchmax:"stretchmax"==i,center:i==r.center,bottom:i==r.afterY},pack:o={center:"center"==o,end:"end"==o}},i.stretch&&e.perpendicularSizeModel.shrinkWrap&&(i.stretchmax=!0,i.stretch=!1),i.nostretch=!(i.stretch||i.stretchmax),e.parallelSizeModel.shrinkWrap&&(o.center=o.end=!1),n.cacheFlexes(e),n.targetEl.setWidth(2e4)},cacheFlexes:function(e){for(var t,n,i,r,o=this,a=e.boxNames,s=a.widthModel,l=a.heightModel,d=e.boxOptions.align.nostretch,c=0,u=e.childItems,h=u.length,f=[],g=0,p=a.minWidth,m=o._percentageRe,x=0,y=0;h--;)n=u[h],t=n.target,n[s].calculated&&(n.flex=i=t.flex,i?(c+=i,f.push(n),g+=t[p]||0):(r=m.exec(t[a.width]),n.percentageParallel=parseFloat(r[1])/100,++x)),d&&n[l].calculated&&(r=m.exec(t[a.height]),n.percentagePerpendicular=parseFloat(r[1])/100,++y);e.flexedItems=f,e.flexedMinSize=g,e.totalFlex=c,e.percentageWidths=x,e.percentageHeights=y,Ext.Array.sort(f,o.flexSortFn)},calculate:function(e){var t=this,n=t.getContainerSize(e),i=e.boxNames,r=e.state,o=r.boxPlan||(r.boxPlan={}),a=e.targetContext;return o.targetSize=n,e.parallelSizeModel.shrinkWrap||n[i.gotWidth]?(r.parallelDone||(r.parallelDone=t.calculateParallel(e,i,o)),r.perpendicularDone||(r.perpendicularDone=t.calculatePerpendicular(e,i,o)),r.parallelDone&&r.perpendicularDone?(!t.owner.dock||!Ext.isIE7m&&!Ext.isIEQuirks||t.owner.width||t.horizontal||(o.isIEVerticalDock=!0,o.calculatedWidth=o.maxSize+e.getPaddingInfo().width+e.getFrameInfo().width,a!==e&&(o.calculatedWidth+=a.getPaddingInfo().width)),t.publishInnerCtSize(e,t.reserveOffset?t.availableSpaceOffset:0),t.done&&(e.childItems.length>1||e.stretchMaxPartner)&&e.boxOptions.align.stretchmax&&!r.stretchMaxDone&&(t.calculateStretchMax(e,i,o),r.stretchMaxDone=!0),t.overflowHandler.calculate(e)):t.done=!1,void 0):(t.done=!1,void 0)},calculateParallel:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,g=this,p=t.width,m=e.childItems,x=t.beforeX,y=t.afterX,E=t.setWidth,v=m.length,b=e.flexedItems,C=b.length,w=e.boxOptions.pack,S=g.padding,P=n.targetSize[p],k=0,T=S[x],I=T+S[y]+g.scrollOffset+(g.reserveOffset?g.availableSpaceOffset:0),M=Ext.getScrollbarSize()[t.width];if(M&&g.scrollPerpendicular&&e.parallelSizeModel.shrinkWrap&&!e.boxOptions.align.stretch&&!e.perpendicularSizeModel.shrinkWrap){if(!e.state.perpendicularDone)return!1;u=!0}for(i=0;v>i;++i)if(s=m[i],r=s.marginInfo||s.getMarginInfo(),k+=r[p],!s[t.widthModel].calculated&&(h=s.getProp(p),I+=h,isNaN(I)))return!1;if(I+=k,e.percentageWidths){if(f=P-k,isNaN(f))return!1;for(i=0;v>i;++i)s=m[i],s.percentageParallel&&(h=Math.ceil(f*s.percentageParallel),h=s.setWidth(h),I+=h)}if(e.parallelSizeModel.shrinkWrap)n.availableSpace=0,n.tooNarrow=!1;else if(n.availableSpace=P-I,n.tooNarrow=n.availableSpace<e.flexedMinSize,n.tooNarrow&&Ext.getScrollbarSize()[t.height]&&g.scrollParallel&&e.state.perpendicularDone)for(e.state.perpendicularDone=!1,i=0;v>i;++i)m[i].invalidate();for(c=I,o=n.availableSpace,a=e.totalFlex,i=0;C>i;i++)s=b[i],l=s.flex,d=g.roundFlex(l/a*o),d=s[E](d),c+=d,o=Math.max(0,o-d),a-=l;for(w.center?(T+=o/2,0>T&&(T=0)):w.end&&(T+=o),i=0;v>i;++i)s=m[i],r=s.marginInfo,T+=r[x],s.setProp(t.x,T),T+=r[y]+s.props[p];return c+=e.targetContext.getPaddingInfo()[p],e.state.contentWidth=c,u&&e.peek(t.contentHeight)>n.targetSize[t.height]&&(c+=M,e[t.hasOverflowY]=!0,e.target.componentLayout[t.setWidthInDom]=!0,e[t.invalidateScrollY]=Ext.isStrict&&Ext.isIE8),e[t.setContentWidth](c),!0},calculatePerpendicular:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,g=this,p=e.perpendicularSizeModel.shrinkWrap,m=n.targetSize,x=e.childItems,y=x.length,E=Math.max,v=t.height,b=t.setHeight,C=t.beforeY,w=t.y,S=g.padding,P=S[C],k=m[v]-P-S[t.afterY],T=e.boxOptions.align,I=T.stretch,M=T.stretchmax,D=T.center,A=T.bottom,R=g.constrainAlign,F=0,L=0,O=g.onBeforeConstrainInvalidateChild,B=g.onAfterConstrainInvalidateChild,N=Ext.getScrollbarSize().height;if((I||(D||A)&&!p)&&isNaN(k))return!1;if(g.scrollParallel&&n.tooNarrow&&(p?h=!0:(k-=N,n.targetSize[v]-=N)),I)l=k;else{for(r=0;y>r;r++){if(d=x[r],a=(d.marginInfo||d.getMarginInfo())[v],f=d.percentagePerpendicular){if(++L,p)continue;o=f*k-a,o=d[t.setHeight](o)}else o=d.getProp(v);if(!p&&R&&d[t.heightModel].shrinkWrap&&o>k&&(d.invalidate({before:O,after:B,layout:g,childHeight:k,names:t}),e.state.parallelDone=!1),isNaN(F=E(F,o+a,d.target[t.minHeight]||0)))return!1}if(h&&(F+=N,e[t.hasOverflowX]=!0,e.target.componentLayout[t.setHeightInDom]=!0,e[t.invalidateScrollX]=Ext.isStrict&&Ext.isIE8),c=e.stretchMaxPartner,c&&(e.setProp("maxChildHeight",F),u=c.childItems,u&&u.length&&(F=E(F,c.getProp("maxChildHeight")),isNaN(F))))return!1;e[t.setContentHeight](F+g.padding[v]+e.targetContext.getPaddingInfo()[v]),h&&(F-=N),n.maxSize=F,M?l=F:(D||A||L)&&(l=R?p?F:k:p?F:E(k,F),l-=e.innerCtContext.getBorderInfo()[v])}for(r=0;y>r;r++)d=x[r],a=d.marginInfo||d.getMarginInfo(),i=P+a[C],I?d[b](l-a[v]):(f=d.percentagePerpendicular,p&&f&&(a=d.marginInfo||d.getMarginInfo(),o=f*l-a[v],o=d.setHeight(o)),D?(s=l-d.props[v],s>0&&(i=P+Math[g.alignRoundingMethod](s/2))):A&&(i=E(0,l-i-d.props[v]))),d.setProp(w,i);return!0},onBeforeConstrainInvalidateChild:function(e,t){var n=t.names.heightModel;e[n].constrainedMin||(e[n]=Ext.layout.SizeModel.calculated)},onAfterConstrainInvalidateChild:function(e,t){var n=t.names;e.setProp(n.beforeY,0),e[n.heightModel].calculated&&e[n.setHeight](t.childHeight)},calculateStretchMax:function(e,t,n){var i,r,o,a,s=this,l=t.height,d=t.width,c=e.childItems,u=c.length,h=n.maxSize,f=s.onBeforeStretchMaxInvalidateChild,g=s.onAfterStretchMaxInvalidateChild;for(o=0;u>o;++o)i=c[o],r=i.props,a=h-i.getMarginInfo()[l],(a!=r[l]||i[t.heightModel].constrained)&&i.invalidate({before:f,after:g,layout:s,childWidth:r[d],childHeight:a,childX:r.x,childY:r.y,names:t})},onBeforeStretchMaxInvalidateChild:function(e,t){var n=t.names.heightModel;e[n].constrainedMax||(e[n]=Ext.layout.SizeModel.calculated)},onAfterStretchMaxInvalidateChild:function(e,t){var n=t.names,i=t.childHeight,r=t.childWidth;e.setProp("x",t.childX),e.setProp("y",t.childY),e[n.heightModel].calculated&&e[n.setHeight](i),e[n.widthModel].calculated&&e[n.setWidth](r)},completeLayout:function(e){var t,n,i,r,o,a=this,s=e.boxNames,l=e.invalidateScrollX,d=e.invalidateScrollY;a.overflowHandler.completeLayout(e),(l||d)&&(n=a.getTarget(),t=n.dom,o=t.style,l&&(i=n.getStyle("overflowX"),"auto"==i?(i=o.overflowX,o.overflowX="scroll"):l=!1),d&&(r=n.getStyle("overflowY"),"auto"==r?(r=o.overflowY,o.overflowY="scroll"):d=!1),(l||d)&&(t.scrollWidth,l&&(o.overflowX=i),d&&(o.overflowY=r))),a.scrollParallel&&(a.owner.getTargetEl().dom[s.scrollLeft]=a.scrollPos)},finishedLayout:function(e){this.overflowHandler.finishedLayout(e),this.callParent(arguments),this.targetEl.setWidth(e.innerCtContext.props.width)},publishInnerCtSize:function(e,t){var n,i=this,r=e.boxNames,o=r.height,a=r.width,s=e.boxOptions.align,l=i.owner.dock,d=i.padding,c=e.state.boxPlan,u=c.targetSize,h=u[o],f=e.innerCtContext,g=(e.parallelSizeModel.shrinkWrap||c.tooNarrow&&i.scrollParallel?e.state.contentWidth-e.targetContext.getPaddingInfo()[a]:u[a])-(t||0);s.stretch?n=h:(n=c.maxSize+d[r.beforeY]+d[r.afterY]+f.getBorderInfo()[o],e.perpendicularSizeModel.shrinkWrap||!s.center&&!s.bottom||(n=Math.max(h,n))),f[r.setWidth](g),f[r.setHeight](n),isNaN(g+n)&&(i.done=!1),!c.calculatedWidth||"left"!=l&&"right"!=l||e.setWidth(c.calculatedWidth,!0,!0)},onRemove:function(e){var t=this;t.callParent(arguments),t.overflowHandler&&t.overflowHandler.onRemove(e),e.layoutMarginCap==t.id&&delete e.layoutMarginCap},initOverflowHandler:function(){var e,t,n=this,i=n.overflowHandler;"string"==typeof i&&(i={type:i}),e="None",i&&void 0!==i.type&&(e=i.type),t=Ext.layout.container.boxOverflow[e],t[n.type]&&(t=t[n.type]),n.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+e,n,i)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler),this.callParent(arguments)},getRenderData:function(){var e=this.callParent();return e.targetElCls=this.targetElCls,e}}),Ext.define("Ext.layout.container.HBox",{alias:["layout.hbox"],extend:Ext.layout.container.Box,alternateClassName:"Ext.layout.HBoxLayout",align:"top",constrainAlign:!1,type:"hbox",direction:"horizontal",horizontal:!0,names:{beforeX:"left",beforeScrollX:"left",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}}),Ext.define("Ext.layout.container.VBox",{alias:["layout.vbox"],extend:Ext.layout.container.Box,alternateClassName:"Ext.layout.VBoxLayout",align:"left",constrainAlign:!1,type:"vbox",direction:"vertical",horizontal:!1,names:{beforeX:"top",beforeScrollX:"top",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}),Ext.define("Ext.toolbar.Toolbar",{extend:Ext.container.Container,alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:!1,enableOverflow:!1,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var e=this;!e.layout&&e.enableOverflow&&(e.layout={overflowHandler:"Menu"}),("right"===e.dock||"left"===e.dock)&&(e.vertical=!0),e.layout=Ext.applyIf(Ext.isString(e.layout)?{type:e.layout}:e.layout||{},{type:e.vertical?"vbox":"hbox",align:e.vertical?"stretchmax":"middle"}),e.vertical&&e.addClsWithUI("vertical"),"footer"===e.ui&&(e.ignoreBorderManagement=!0),e.callParent(),e.addEvents("overflowchange")},getRefItems:function(e){var t,n=this,i=n.callParent(arguments),r=n.layout;return e&&n.enableOverflow&&(t=r.overflowHandler,t&&t.menu&&(i=i.concat(t.menu.getRefItems(e)))),i},lookupComponent:function(e){var t=arguments;if("string"==typeof e){var n=Ext.toolbar.Toolbar,i=n.shortcutsHV[this.vertical?1:0][e]||n.shortcuts[e];e="string"==typeof i?{xtype:i}:i?Ext.apply({},i):{xtype:"tbtext",text:e},this.applyDefaults(e),t=[e]}return this.callParent(t)},applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e},trackMenu:function(e,t){if(this.trackMenus&&e.menu){var n=t?"mun":"mon",i=this;i[n](e,"mouseover",i.onButtonOver,i),i[n](e,"menushow",i.onButtonMenuShow,i),i[n](e,"menuhide",i.onButtonMenuHide,i)}},onBeforeAdd:function(e){var t=this,n=e.isButton;n&&t.defaultButtonUI&&"default"===e.ui&&!e.hasOwnProperty("ui")?e.ui=t.defaultButtonUI:(n||e.isFormField)&&"footer"!==t.ui&&(e.ui=e.ui+"-toolbar",e.addCls(e.baseCls+"-toolbar")),e instanceof Ext.toolbar.Separator&&e.setUI(t.vertical?"vertical":"horizontal"),t.callParent(arguments)},onAdd:function(e){this.callParent(arguments),this.trackMenu(e)},onRemove:function(e){this.callParent(arguments),this.trackMenu(e,!0)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(e){this.activeMenuBtn&&this.activeMenuBtn!=e&&(this.activeMenuBtn.hideMenu(),e.showMenu(),this.activeMenuBtn=e)},onButtonMenuShow:function(e){this.activeMenuBtn=e},onButtonMenuHide:function(){delete this.activeMenuBtn}}),Ext.define("Ext.layout.component.Dock",{extend:Ext.layout.component.Component,alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:!0,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:!1,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var e,t,n=this;n.callParent(),e=n.getRenderTarget(),t=n.getDockedItems(),n.finishRenderItems(e,t)},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},handleItemBorders:function(){var e,t,n,i,r,o,a,s=this,l=s.owner,d=s.lastDockedItems,c=s.borders,u=l.dockedItems.generation,h=s.noBorderClassesSides,f=s.borderWidthProps,g=s.collapsed;if(s.initializedBorders!=u&&(!l.border||l.manageBodyBorders)){for(s.initializedBorders=u,s.collapsed=!1,s.lastDockedItems=t=s.getLayoutItems(),s.collapsed=g,e={top:[],right:[],bottom:[],left:[]},n=0,i=t.length;i>n;n++)r=t[n],o=r.dock,r.ignoreBorderManagement||(e[o].satisfied||(e[o].push(r),e[o].satisfied=!0),e.top.satisfied||"bottom"===o||e.top.push(r),e.right.satisfied||"left"===o||e.right.push(r),e.bottom.satisfied||"top"===o||e.bottom.push(r),e.left.satisfied||"right"===o||e.left.push(r));if(d)for(n=0,i=d.length;i>n;n++)r=d[n],r.isDestroyed||r.ignoreBorderManagement||l.manageBodyBorders||r.removeCls(s.noBorderClasses);if(c)for(a in c)l.manageBodyBorders&&c[a].satisfied&&l.setBodyStyle(f[a],"");for(a in e)if(i=e[a].length,l.manageBodyBorders)e[a].satisfied&&l.setBodyStyle(f[a],"1px");else{for(n=0;i>n;n++)e[a][n].addCls(h[a]);(!e[a].satisfied&&!l.bodyBorder||l.bodyBorder===!1)&&l.addBodyCls(h[a])}s.borders=e}},beforeLayoutCycle:function(e){var t,n,i=this,r=i.owner,o=i.sizeModels.shrinkWrap,a=r.shrinkWrapDock;r.collapsed&&(r.collapsedVertical()?(n=!0,e.measureDimensions=1):(t=!0,e.measureDimensions=2)),e.collapsedVert=n,e.collapsedHorz=t,n?e.heightModel=o:t&&(e.widthModel=o),a=a===!0?3:a||0,e.shrinkWrapDockHeight=1&a&&e.heightModel.shrinkWrap,e.shrinkWrapDockWidth=2&a&&e.widthModel.shrinkWrap},beginLayout:function(e){var t,n,i,r,o,a,s,l=this,d=l.owner,c=l.getLayoutItems(),u=e.context,h=c.length;for(l.callParent(arguments),a=d.getCollapsed(),a!==l.lastCollapsedState&&Ext.isDefined(l.lastCollapsedState)&&(l.owner.collapsed?(e.isCollapsingOrExpanding=1,d.addClsWithUI(d.collapsedCls)):(e.isCollapsingOrExpanding=2,d.removeClsWithUI(d.collapsedCls),e.lastCollapsedState=l.lastCollapsedState)),l.lastCollapsedState=a,e.dockedItems=t=[],n=0;h>n;n++)i=c[n],i.rendered&&(s=i.dock,r=u.getCmp(i),r.dockedAt={x:0,y:0},r.offsets=o=Ext.Element.parseBox(i.offsets||0),r.horizontal="top"==s||"bottom"==s,o.width=o.left+o.right,o.height=o.top+o.bottom,t.push(r));e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e){var t,n,i,r=this,o=e.dockedItems,a=o.length,s=r.owner,l=s.frameBody,d=r.lastHeightModel;for(r.callParent(arguments),r.owner.manageHeight?r.lastBodyDisplay&&(s.body.dom.style.display=r.lastBodyDisplay=""):("inline-block"!==r.lastBodyDisplay&&(s.body.dom.style.display=r.lastBodyDisplay="inline-block"),d&&d.shrinkWrap&&!e.heightModel.shrinkWrap&&(s.body.dom.style.marginBottom="")),e.widthModel.auto&&(e.widthModel.shrinkWrap&&s.el.setWidth(null),s.body.setWidth(null),l&&l.setWidth(null)),e.heightModel.auto&&(s.body.setHeight(null),l&&l.setHeight(null)),e.collapsedVert?e.setContentHeight(0):e.collapsedHorz&&e.setContentWidth(0),t=0;a>t;t++)if(n=o[t].target,i=n.dock,"right"==i)n.setLocalX(0);else if("left"!=i)continue},calculate:function(e){var t,n,i,r,o,a=this,s=a.measureAutoDimensions(e,e.measureDimensions),l=e.state,d=l.horzDone,c=l.vertDone,u=e.bodyContext;for(e.borderInfo||e.getBorderInfo(),e.paddingInfo||e.getPaddingInfo(),e.frameInfo||e.getFrameInfo(),u.borderInfo||u.getBorderInfo(),u.paddingInfo||u.getPaddingInfo(),e.frameBorder||((t=e.framing)?(e.frameBorder=t.border,e.framePadding=t.padding):(e.frameBorder=e.borderInfo,e.framePadding=e.paddingInfo)),n=!d&&a.createAxis(e,s.contentWidth,e.widthModel,a.horzAxisProps,e.collapsedHorz),i=!c&&a.createAxis(e,s.contentHeight,e.heightModel,a.vertAxisProps,e.collapsedVert),r=0,o=e.dockedItems.length;o--;++r)n&&a.dockChild(e,n,o,r),i&&a.dockChild(e,i,o,r);n&&a.finishAxis(e,n)&&(l.horzDone=d=n),i&&a.finishAxis(e,i)&&(l.vertDone=c=i),d&&c&&a.finishConstraints(e,d,c)?a.finishPositions(e,d,c):a.done=!1},createAxis:function(e,t,n,i,r){var o,a,s,l,d=this,c=0,u=d.owner,h=u[i.maxSize],f=u[i.minSize]||0,g=i.dockBegin,p=i.dockEnd,m=i.pos,x=i.size,y=null!=h,E=n.shrinkWrap;return E?r?l=0:(o=e.bodyContext,l=t+o.borderInfo[x]):(a=e.frameBorder,s=e.framePadding,c=a[g]+s[g],l=e.getProp(x)-(a[p]+s[p])),{shrinkWrap:n.shrinkWrap,sizeModel:n,initialBegin:c,begin:c,end:l,collapsed:r,horizontal:i.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:l-c,maxChildSize:0,hasMinMaxConstraints:(f||y)&&n.shrinkWrap,minSize:f,maxSize:y?h:1e9,bodyPosProp:d.owner.manageHeight?m:i.marginBegin,dockBegin:g,dockEnd:p,posProp:m,sizeProp:x,setSize:i.setSize,shrinkWrapDock:e[i.shrinkWrapDock],sizeModelName:i.sizeModel,dockedPixelsEnd:0}
},dockChild:function(e,t,n,i){var r,o,a=this,s=e.dockedItems[t.shrinkWrap?n:i],l=s.target,d=l.dock,c=t.sizeProp;l.ignoreParentFrame&&e.isCollapsingOrExpanding&&s.clearMarginCache(),s.marginInfo||s.getMarginInfo(),d==t.dockBegin?r=t.shrinkWrap?a.dockOutwardBegin(e,s,l,t):a.dockInwardBegin(e,s,l,t):d==t.dockEnd?r=t.shrinkWrap?a.dockOutwardEnd(e,s,l,t):a.dockInwardEnd(e,s,l,t):t.shrinkWrapDock?(o=s.getProp(c)+s.marginInfo[c],t.maxChildSize=Math.max(t.maxChildSize,o),r=0):r=a.dockStretch(e,s,l,t),s.dockedAt[t.posProp]=r},dockInwardBegin:function(e,t,n,i){var r,o,a,s=i.begin,l=i.sizeProp,d=n.ignoreParentFrame;return d&&(i.ignoreFrameBegin=t,a=n.dock,r=e.frameBorder[a],s-=r+e.framePadding[a]),n.overlay||(o=t.getProp(l)+t.marginInfo[l],i.begin+=o,d&&(i.begin-=r)),s},dockInwardEnd:function(e,t,n,i){var r,o=i.sizeProp,a=t.getProp(o)+t.marginInfo[o],s=i.end-a;return n.overlay||(i.end=s),n.ignoreParentFrame&&(i.ignoreFrameEnd=t,r=e.frameBorder[n.dock],s+=r+e.framePadding[n.dock],i.end+=r),s},dockOutwardBegin:function(e,t,n,i){var r,o=i.begin,a=i.sizeProp;return i.collapsed?i.ignoreFrameBegin=i.ignoreFrameEnd=t:n.ignoreParentFrame&&(i.ignoreFrameBegin=t),n.overlay||(r=t.getProp(a)+t.marginInfo[a],o-=r,i.begin=o),o},dockOutwardEnd:function(e,t,n,i){var r,o=i.end,a=i.sizeProp;return r=t.getProp(a)+t.marginInfo[a],i.collapsed?i.ignoreFrameBegin=i.ignoreFrameEnd=t:n.ignoreParentFrame&&(i.ignoreFrameEnd=t),n.overlay||(i.end=o+r,i.dockedPixelsEnd+=r),o},dockStretch:function(e,t,n,i){var r,o,a=n.dock,s=i.sizeProp,l="top"==a||"bottom"==a,d=e.frameBorder,c=t.offsets,u=e.framePadding,h=l?"right":"bottom",f=l?"left":"top",g=i.begin+c[f];return n.stretch!==!1&&(o=i.end-g-c[h],n.ignoreParentFrame&&(g-=u[f]+d[f],o+=u[s]+d[s]),r=t.marginInfo,o-=r[s],t[i.setSize](o)),g},finishAxis:function(e,t){if(isNaN(t.maxChildSize))return!1;var n,i,r,o,a=t.begin,s=t.end-a,l=t.collapsed,d=t.setSize,c=t.dockBegin,u=t.dockEnd,h=e.framePadding,f=e.frameBorder,g=f[c],p=e.framing,m=p&&p[c],x=l?0:h[c],y=t.sizeProp,E=t.ignoreFrameBegin,v=t.ignoreFrameEnd,b=e.bodyContext,C=Math.max(g+x-m,0);return t.shrinkWrap?(i=t.initialSize,p?(r=-a+g+x,n=r-m-C):(n=-a,r=n+x),l||(s+=h[y]),E?(r-=g,n-=g,E.dockedAt[t.posProp]-=x):s+=g,l||(v?v.dockedAt[t.posProp]+=h[u]:s+=f[u]),t.size=s,t.horizontal||this.owner.manageHeight||(o=!1)):(p?(r=0,n=a-m-C):(r=-g,n=a-x-g),i=s),t.delta=r,b[d](i,o),b.setProp(t.bodyPosProp,n),!isNaN(s)},beforeInvalidateShrinkWrapDock:function(e,t){var n=t.axis.sizeModelName;e[n].constrainedMin||(e[n]=Ext.layout.SizeModel.calculated)},afterInvalidateShrinkWrapDock:function(e,t){var n,i=t.axis,r=t.layout;e[i.sizeModelName].calculated&&(n=r.dockStretch(t.ownerContext,e,e.target,i),e.setProp(i.posProp,i.delta+n))},finishConstraints:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f=this,g=f.sizeModels,p=t.shrinkWrap,m=n.shrinkWrap,x=f.owner;if(p&&(l=t.size,d=t.collapsed?0:t.minSize,c=t.maxSize,u=t.maxChildSize,h=Math.max(l,u),h>c?(s=g.constrainedMax,o=c):d>h?(s=g.constrainedMin,o=d):u>l?(s=g.constrainedDock,x.dockConstrainedWidth=o=u):o=l),m&&(l=n.size,d=n.collapsed?0:n.minSize,c=n.maxSize,u=n.maxChildSize,h=Math.max(l,u+l-n.initialSize),h>c?(a=g.constrainedMax,r=c):d>h?(a=g.constrainedMin,r=d):u>l?(a=g.constrainedDock,x.dockConstrainedHeight=r=u):(e.collapsedVert||x.manageHeight||(i=!1,e.bodyContext.setProp("margin-bottom",n.dockedPixelsEnd)),r=l)),s||a){if(s&&a&&s.constrainedMax&&a.constrainedByMin)return e.invalidate({widthModel:s}),!1;if(!e.widthModel.calculatedFromShrinkWrap&&!e.heightModel.calculatedFromShrinkWrap)return e.invalidate({widthModel:s,heightModel:a}),!1}else f.invalidateAxes(e,t,n);return p&&(e.setWidth(o),s&&(e.widthModel=s)),m&&(e.setHeight(r,i),a&&(e.heightModel=a)),!0},invalidateAxes:function(e,t,n){var i,r,o,a,s,l,d,c,u=this.beforeInvalidateShrinkWrapDock,h=this.afterInvalidateShrinkWrapDock,f=t.end-t.begin,g=n.initialSize,p=t.shrinkWrapDock&&t.maxChildSize<f,m=n.shrinkWrapDock&&n.maxChildSize<g;if(p||m)for(m&&(n.begin=n.initialBegin,n.end=n.begin+n.initialSize),i=e.dockedItems,o=0,r=i.length;r>o;++o)a=i[o],l=a.horizontal,d=null,p&&l?(c=t.sizeProp,s=f,d=t):m&&!l&&(c=n.sizeProp,s=g,d=n),d&&(s-=a.getMarginInfo()[c],s!==a.props[c]&&a.invalidate({before:u,after:h,axis:d,ownerContext:e,layout:this}))},finishPositions:function(e,t,n){var i,r,o=e.dockedItems,a=o.length,s=t.delta,l=n.delta;for(i=0;a>i;++i)r=o[i],r.setProp("x",s+r.dockedAt.x),r.setProp("y",l+r.dockedAt.y)},finishedLayout:function(e){var t=this,n=e.target;t.callParent(arguments),e.animatePolicy||(1===e.isCollapsingOrExpanding?n.afterCollapse(!1):2===e.isCollapsingOrExpanding&&n.afterExpand(!1))},getAnimatePolicy:function(e){var t,n,i=this;return 1==e.isCollapsingOrExpanding?t=i.lastCollapsedState:2==e.isCollapsingOrExpanding&&(t=e.lastCollapsedState),"left"==t||"right"==t?n=i.horizontalCollapsePolicy:("top"==t||"bottom"==t)&&(n=i.verticalCollapsePolicy),n},getDockedItems:function(e,t){var n,i,r,o,a,s,l=this,d="visual"===e,c=d?Ext.ComponentQuery.query("[rendered]",l.owner.dockedItems.items):l.owner.dockedItems.items,u=c&&c.length&&e!==!1;if(null==t)r=u&&!d?c.slice():c;else{for(r=[],o=0,s=c.length;s>o;++o)i=c[o].dock,a="top"==i||"left"==i,(t?a:!a)&&r.push(c[o]);u=u&&r.length}return u&&(n="render"==(e=e||"render"),Ext.Array.sort(r,function(t,i){var r,o;return!n||(r=l.owner.dockOrder[t.dock])===(o=l.owner.dockOrder[i.dock])||r+o?(r=l.getItemWeight(t,e),o=l.getItemWeight(i,e),void 0!==r&&void 0!==o?r-o:0):r-o})),r||[]},getItemWeight:function(e,t){var n=e.weight||this.owner.defaultDockWeights[e.dock];return n[t]||n},getLayoutItems:function(){var e,t,n,i,r,o=this;if(o.owner.collapsed)r=o.owner.getCollapsedDockedItems();else for(e=o.getDockedItems("visual"),t=e.length,r=[],i=0;t>i;i++)n=e[i],n.hidden||r.push(n);return r},measureContentWidth:function(e){var t=e.bodyContext;return t.el.getWidth()-t.getBorderInfo().width},measureContentHeight:function(e){var t=e.bodyContext;return t.el.getHeight()-t.getBorderInfo().height},redoLayout:function(e){var t=this,n=t.owner;1==e.isCollapsingOrExpanding?(n.reExpander&&n.reExpander.el.show(),n.addClsWithUI(n.collapsedCls),e.redo(!0)):2==e.isCollapsingOrExpanding&&(n.removeClsWithUI(n.collapsedCls),e.bodyContext.redo())},renderChildren:function(){var e=this,t=e.getDockedItems(),n=e.getRenderTarget();e.handleItemBorders(),e.renderItems(t,n)},renderItems:function(e,t){var n,i,r,o,a=this,s=e.length,l=0,d=0,c=0,u=a.getRenderTarget().dom.childNodes,h=u.length;for(n=0,i=0;h>n&&(r=u[n],!Ext.fly(r).hasCls(Ext.baseCSSPrefix+"resizable-handle"));n++){for(i=0;s>i&&(o=e[i],!o.rendered||o.el.dom!==r);i++);i===s&&c++}for(;s>l;l++,d++)o=e[l],l!==d||"right"!==o.dock&&"bottom"!==o.dock||(d+=c),o&&!o.rendered?a.renderItem(o,t,d):a.isValidParent(o,t,d)||a.moveItem(o,t,d)},undoLayout:function(e){var t=this,n=t.owner;1==e.isCollapsingOrExpanding?(n.reExpander&&n.reExpander.el.hide(),n.removeClsWithUI(n.collapsedCls),e.undo(!0)):2==e.isCollapsingOrExpanding&&(n.addClsWithUI(n.collapsedCls),e.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(e,t){var n,i,r=this,o=r.sizePolicy,a=r.owner.shrinkWrapDock;return e.stretch===!1?o.nostretch:(n=e.dock,i="left"==n||"right"==n,a=a===!0?3:a||0,i?(o=o.vert,a=1&a):(o=o.horz,a=2&a),a&&(t||(t=r.owner.getSizeModel()),t[i?"height":"width"].shrinkWrap)?o.shrinkWrap:o.stretch)},configureItem:function(e){this.callParent(arguments),e.addCls(Ext.baseCSSPrefix+"docked"),e.addClsWithUI(this.getDockCls(e.dock))},getDockCls:function(e){return"docked-"+e},afterRemove:function(e){this.callParent(arguments),this.itemCls&&e.el.removeCls(this.itemCls+"-"+e.dock);var t=e.el.dom;!e.destroying&&t&&t.parentNode.removeChild(t),this.childrenChanged=!0},borderCollapseMap:{},getBorderCollapseTable:function(){var e,t=this,n=t.borderCollapseMap,i=t.owner,r=i.baseCls,o=i.ui;return n=n[r]||(n[r]={}),e=n[o],e||(r+="-"+o+"-outer-border-",n[o]=e=[0,r+"l",r+"b",r+"bl",r+"r",r+"rl",r+"rb",r+"rbl",r+"t",r+"tl",r+"tb",r+"tbl",r+"tr",r+"trl",r+"trb",r+"trbl"]),e}}),Ext.define("Ext.panel.AbstractPanel",{extend:Ext.container.Container,mixins:{docking:Ext.container.DockingContainer},baseCls:Ext.baseCSSPrefix+"panel",isPanel:!0,contentPaddingProperty:"bodyPadding",shrinkWrapDock:!1,componentLayout:"dock",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",Ext.isIE7m||Ext.isIEQuirks?'<div style="position:relative"></div>':"",'<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],bodyPosProps:{x:"x",y:"y"},border:!0,emptyArray:[],initComponent:function(){this.initBorderProps(),this.callParent()},initBorderProps:function(){var e=this;e.frame&&e.border&&void 0===e.bodyBorder&&(e.bodyBorder=!1),e.frame&&e.border&&(e.bodyBorder===!1||0===e.bodyBorder)&&(e.manageBodyBorders=!0)},beforeDestroy:function(){this.destroyDockedItems(),this.callParent()},initItems:function(){this.callParent(),this.initDockingItems()},initRenderData:function(){var e=this,t=e.callParent();return e.initBodyStyles(),e.protoBody.writeTo(t),delete e.protoBody,t},getComponent:function(e){var t=this.callParent(arguments);return void 0!==t||Ext.isNumber(e)||(t=this.getDockedComponent(e)),t},getProtoBody:function(){var e=this,t=e.protoBody;return t||(e.protoBody=t=new Ext.util.ProtoElement({cls:e.bodyCls,style:e.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:!0})),t},initBodyStyles:function(){var e=this,t=e.getProtoBody();void 0!==e.bodyPadding&&(e.layout.managePadding?t.setStyle("padding",0):t.setStyle("padding",this.unitizeBox(e.bodyPadding===!0?5:e.bodyPadding))),e.initBodyBorder()},initBodyBorder:function(){var e=this;e.frame&&e.bodyBorder&&(Ext.isNumber(e.bodyBorder)||(e.bodyBorder=1),e.getProtoBody().setStyle("border-width",this.unitizeBox(e.bodyBorder)))},getCollapsedDockedItems:function(){var e=this;return e.header===!1||"placeholder"==e.collapseMode?e.emptyArray:[e.getReExpander()]},setBodyStyle:function(e,t){var n=this,i=n.rendered?n.body:n.getProtoBody();return Ext.isFunction(e)&&(e=e()),1==arguments.length?(Ext.isString(e)&&(e=Ext.Element.parseStyles(e)),i.setStyle(e)):i.setStyle(e,t),n},addBodyCls:function(e){var t=this,n=t.rendered?t.body:t.getProtoBody();return n.addCls(e),t},removeBodyCls:function(e){var t=this,n=t.rendered?t.body:t.getProtoBody();return n.removeCls(e),t},addUIClsToElement:function(e){var t=this,n=t.callParent(arguments);return t.addBodyCls([Ext.baseCSSPrefix+e,t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e]),n},removeUIClsFromElement:function(e){var t=this,n=t.callParent(arguments);return t.removeBodyCls([Ext.baseCSSPrefix+e,t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e]),n},addUIToElement:function(){var e=this;e.callParent(arguments),e.addBodyCls(e.baseCls+"-body-"+e.ui)},removeUIFromElement:function(){var e=this;e.callParent(arguments),e.removeBodyCls(e.baseCls+"-body-"+e.ui)},getTargetEl:function(){return this.body},applyTargetCls:function(e){this.getProtoBody().addCls(e)},getRefItems:function(e){var t=this.callParent(arguments);return this.getDockingRefItems(e,t)},setupRenderTpl:function(e){this.callParent(arguments),this.setupDockingRenderTpl(e)}}),Ext.define("Ext.panel.Header",{extend:Ext.container.Container,alias:"widget.header",isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,componentLayout:"body",childEls:["body"],renderTpl:['<div id="{id}-body" class="{headerCls}-body {baseCls}-body {bodyCls} {bodyTargetCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>"],headingTpl:['<span id="{id}-textEl" class="{headerCls}-text {cls}-text {cls}-text-{ui}" unselectable="on">{title}</span>'],shrinkWrap:3,titlePosition:0,headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var e=this,t=e.hasOwnProperty("titlePosition"),n=e.items,i=t?e.titlePosition:n?n.length:0,r=[e.orientation,e.getDockName()],o=e.ownerCt;e.addEvents("click","dblclick"),e.indicateDragCls=e.headerCls+"-draggable",e.title=e.title||"&#160;",e.tools=e.tools||[],n=e.items=n?Ext.Array.slice(n):[],e.orientation=e.orientation||"horizontal",e.dock=e.dock?e.dock:"horizontal"==e.orientation?"top":"left",(o?o.border||o.frame:e.border)||r.push(e.orientation+"-noborder"),e.addClsWithUI(r),e.addCls([e.headerCls,e.headerCls+"-"+e.orientation]),e.indicateDrag&&e.addCls(e.indicateDragCls),(e.iconCls||e.icon||e.glyph)&&(e.initIconCmp(),t||n.length||++i,n.push(e.iconCmp)),e.titleCmp=new Ext.Component({ariaRole:"heading",focusable:!1,noWrap:!0,flex:1,rtl:e.rtl,id:e.id+"_hd",style:e.titleAlign?"text-align:"+e.titleAlign:"",cls:e.headerCls+"-text-container "+e.baseCls+"-text-container "+e.baseCls+"-text-container-"+e.ui,renderTpl:e.getTpl("headingTpl"),renderData:{title:e.title,cls:e.baseCls,headerCls:e.headerCls,ui:e.ui},childEls:["textEl"],autoEl:{unselectable:"on"},listeners:{render:e.onTitleRender,scope:e}}),e.layout="vertical"==e.orientation?{type:"vbox",align:"center",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},Ext.Array.push(n,e.tools),e.tools.length=0,e.callParent(),n.length<i&&(i=n.length),e.titlePosition=i,e.insert(i,e.titleCmp),e.on({dblclick:e.onDblClick,click:e.onClick,element:"el",scope:e})},initIconCmp:function(){var e,t=this,n=[t.headerCls+"-icon",t.baseCls+"-icon",t.iconCls];t.glyph&&n.push(t.baseCls+"-glyph"),e={focusable:!1,src:Ext.BLANK_IMAGE_URL,cls:n,baseCls:t.baseCls+"-icon",id:t.id+"-iconEl",iconCls:t.iconCls,glyph:t.glyph},Ext.isEmpty(t.icon)||(delete e.iconCls,e.src=t.icon),t.iconCmp=new Ext.Img(e)},beforeRender:function(){this.protoEl.unselectable(),this.callParent()},afterLayout:function(){var e,t,n,i,r=this;"vertical"===r.orientation&&(r.adjustTitlePosition(),t=r.frameTR,t&&(e=r.frameBR,n=r.frameTL,i=r.getWidth()-t.getPadding("r")-(n?n.getPadding("l"):r.el.getBorderWidth("l"))+"px",e.setStyle("background-position-x",i),t.setStyle("background-position-x",i)),Ext.isIE7&&Ext.isStrict&&r.frame&&r.el.repaint())},beforeLayout:function(){this.callParent(),this.syncBeforeAfterTitleClasses()},adjustTitlePosition:function(){var e,t=this.titleCmp;!Ext.isIE9m&&t&&(e=t.el,e.setStyle("left",e.getWidth()+"px"))},onTitleRender:function(){"vertical"===this.orientation&&this.titleCmp.el.setVertical(90)},addUIClsToElement:function(e){var t,n,i=this,r=i.callParent(arguments),o=[i.baseCls+"-body-"+e,i.baseCls+"-body-"+i.ui+"-"+e];if(i.bodyCls){for(t=i.bodyCls.split(" "),n=0;n<o.length;n++)Ext.Array.contains(t,o[n])||t.push(o[n]);i.bodyCls=t.join(" ")}else i.bodyCls=o.join(" ");return r},removeUIClsFromElement:function(e){var t,n,i=this,r=i.callParent(arguments),o=[i.baseCls+"-body-"+e,i.baseCls+"-body-"+i.ui+"-"+e];if(i.bodyCls){for(t=i.bodyCls.split(" "),n=0;n<o.length;n++)Ext.Array.remove(t,o[n]);i.bodyCls=t.join(" ")}return r},addUIToElement:function(){var e,t,n=this;n.callParent(arguments),t=n.baseCls+"-body-"+n.ui,n.rendered?n.bodyCls?n.body.addCls(n.bodyCls):n.body.addCls(t):n.bodyCls?(e=n.bodyCls.split(" "),Ext.Array.contains(e,t)||e.push(t),n.bodyCls=e.join(" ")):n.bodyCls=t,n.titleCmp&&n.titleCmp.rendered&&n.titleCmp.addCls(n.baseCls+"-text-container-"+n.ui)},removeUIFromElement:function(){var e,t,n=this;n.callParent(arguments),t=n.baseCls+"-body-"+n.ui,n.rendered?n.bodyCls?n.body.removeCls(n.bodyCls):n.body.removeCls(t):n.bodyCls?(e=n.bodyCls.split(" "),Ext.Array.remove(e,t),n.bodyCls=e.join(" ")):n.bodyCls=t,n.titleCmp&&n.titleCmp.rendered&&n.titleCmp.removeCls(n.baseCls+"-text-container-"+n.ui)},onClick:function(e){this.fireClickEvent("click",e)},onDblClick:function(e){this.fireClickEvent("dblclick",e)},fireClickEvent:function(e,t){var n="."+Ext.panel.Tool.prototype.baseCls;t.getTarget(n)||this.fireEvent(e,this,t)},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},applyTargetCls:function(e){this.bodyTargetCls=e},setTitle:function(e){var t=this,n=t.titleCmp;t.title=e,n.rendered?(n.textEl.update(t.title||"&#160;"),n.updateLayout()):t.titleCmp.on({render:function(){t.setTitle(e)},single:!0})},getMinWidth:function(){var e,t,n,i=this,r=i.titleCmp.textEl.dom,o=i.tools;if(r.style.display="inline",e=r.offsetWidth,r.style.display="",o&&(t=o.length))for(n=0;t>n;n++)o[n].el&&(e+=o[n].el.dom.offsetWidth);return i.iconCmp&&(e+=i.iconCmp.el.dom.offsetWidth),e+10},setIconCls:function(e){var t=this,n=!e||!e.length,i=t.iconCmp;t.iconCls=e,t.iconCmp||n?i&&(n?(t.iconCmp.destroy(),delete t.iconCmp):(i.removeCls(i.iconCls),i.addCls(e),i.iconCls=e)):(t.initIconCmp(),t.insert(0,t.iconCmp))},setIcon:function(e){var t=this,n=!e||!e.length,i=t.iconCmp;t.icon=e,t.iconCmp||n?i&&(n?(t.iconCmp.destroy(),delete t.iconCmp):i.setSrc(t.icon)):(t.initIconCmp(),t.insert(0,t.iconCmp))},setGlyph:function(e){var t=this,n=t.iconCmp;t.iconCmp?n&&(e?t.iconCmp.setGlyph(e):(t.iconCmp.destroy(),delete t.iconCmp)):(t.initIconCmp(),t.insert(0,t.iconCmp))},getTools:function(){return this.tools.slice()},addTool:function(e){this.add(Ext.ComponentManager.create(e,"tool"))},syncBeforeAfterTitleClasses:function(){var e,t,n,i,r=this,o=r.items,a=o.items,s=r.titlePosition,l=a.length,d=o.generation,c=r.syncBeforeAfterGen;if(c!==d)for(r.syncBeforeAfterGen=d,n=0;l>n;++n)i=a[n],e=i.afterTitleCls||(i.afterTitleCls=i.baseCls+"-after-title"),t=i.beforeTitleCls||(i.beforeTitleCls=i.baseCls+"-before-title"),!r.title||s>n?(c&&i.removeCls(e),i.addCls(t)):n>s&&(c&&i.removeCls(t),i.addCls(e))},onAdd:function(e){var t=this.tools;this.callParent(arguments),e.isTool&&(t.push(e),t[e.type]=e)},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyCls:this.bodyCls,bodyTargetCls:this.bodyTargetCls,headerCls:this.headerCls})},getDockName:function(){return this.dock},getFramingInfoCls:function(){var e=this,t=e.callParent(),n=e.ownerCt;return(!e.expanding&&n&&n.collapsed||e.isCollapsedExpander)&&(t+="-"+n.collapsedCls),t+"-"+e.dock}}),Ext.define("Ext.dd.DragDrop",{constructor:function(e,t,n){e&&this.init(e,t,n)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,b4StartDrag:function(){},startDrag:function(){},b4Drag:function(){},onDrag:function(){},onDragEnter:function(){},b4DragOver:function(){},onDragOver:function(){},b4DragOut:function(){},onDragOut:function(){},b4DragDrop:function(){},onDragDrop:function(){},onInvalidDrop:function(){},b4EndDrag:function(){},endDrag:function(){},b4MouseDown:function(){},onMouseDown:function(){},onMouseUp:function(){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(e,t){Ext.isNumber(t)&&(t={left:t,right:t,top:t,bottom:t}),t=t||this.defaultPadding;var n,i,r,o,a=Ext.get(this.getEl()).getBox(),s=Ext.get(e),l=s.getScroll(),d=s.dom;d==document.body?n={x:l.left,y:l.top,width:Ext.Element.getViewWidth(),height:Ext.Element.getViewHeight()}:(i=s.getXY(),n={x:i[0],y:i[1],width:d.clientWidth,height:d.clientHeight}),r=a.y-n.y,o=a.x-n.x,this.resetConstraints(),this.setXConstraint(o-(t.left||0),n.width-o-a.width-(t.right||0),this.xTickSize),this.setYConstraint(r-(t.top||0),n.height-r-a.height-(t.bottom||0),this.yTickSize)},getEl:function(){return this._domRef||(this._domRef=Ext.getDom(this.id)),this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(e,t,n){this.initTarget(e,t,n),Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(e,t,n){this.config=n||{},this.DDMInstance=Ext.dd.DragDropManager,this.groups={},"string"!=typeof e&&(e=Ext.id(e)),this.id=e,this.addToGroup(t?t:"default"),this.handleElId=e,this.setDragElId(e),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig(),this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0],this.isTarget=this.config.isTarget!==!1,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=this.config.primaryButtonOnly!==!1},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(e,t,n,i){this.padding=t||0===t?n||0===n?[e,t,n,i]:[e,t,e,t]:[e,e,e,e]},setInitPosition:function(e,t){var n,i,r,o=this.getEl();this.DDMInstance.verifyEl(o)&&(n=e||0,i=t||0,r=Ext.Element.getXY(o),this.initPageX=r[0]-n,this.initPageY=r[1]-i,this.lastPageX=r[0],this.lastPageY=r[1],this.setStartPosition(r))},setStartPosition:function(e){var t=e||Ext.Element.getXY(this.getEl());this.deltaSetXY=null,this.startPageX=t[0],this.startPageY=t[1]},addToGroup:function(e){this.groups[e]=!0,this.DDMInstance.regDragDrop(this,e)},removeFromGroup:function(e){this.groups[e]&&delete this.groups[e],this.DDMInstance.removeDDFromGroup(this,e)},setDragElId:function(e){this.dragElId=e},setHandleElId:function(e){"string"!=typeof e&&(e=Ext.id(e)),this.handleElId=e,this.DDMInstance.regHandle(this.id,e)},setOuterHandleElId:function(e){"string"!=typeof e&&(e=Ext.id(e)),Ext.EventManager.on(e,"mousedown",this.handleMouseDown,this),this.setHandleElId(e),this.hasOuterHandles=!0},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this),this._domRef=null,this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(e){var t=this;t.primaryButtonOnly&&0!=e.button||t.isLocked()||(t.DDMInstance.refreshCache(t.groups),(t.hasOuterHandles||t.DDMInstance.isOverTarget(e.getPoint(),t))&&t.clickValidator(e)&&(t.setStartPosition(),t.b4MouseDown(e),t.onMouseDown(e),t.DDMInstance.handleMouseDown(e,t),t.DDMInstance.stopEvent(e)))},clickValidator:function(e){var t=e.getTarget();return this.isValidHandleChild(t)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(t,this.id))},addInvalidHandleType:function(e){var t=e.toUpperCase();this.invalidHandleTypes[t]=t},addInvalidHandleId:function(e){"string"!=typeof e&&(e=Ext.id(e)),this.invalidHandleIds[e]=e},addInvalidHandleClass:function(e){this.invalidHandleClasses.push(e)},removeInvalidHandleType:function(e){var t=e.toUpperCase();delete this.invalidHandleTypes[t]},removeInvalidHandleId:function(e){"string"!=typeof e&&(e=Ext.id(e)),delete this.invalidHandleIds[e]},removeInvalidHandleClass:function(e){for(var t=0,n=this.invalidHandleClasses.length;n>t;++t)this.invalidHandleClasses[t]==e&&delete this.invalidHandleClasses[t]},isValidHandleChild:function(e){var t,n,i,r=!0;try{t=e.nodeName.toUpperCase()}catch(o){t=e.nodeName}for(r=r&&!this.invalidHandleTypes[t],r=r&&!this.invalidHandleIds[e.id],n=0,i=this.invalidHandleClasses.length;r&&i>n;++n)r=!Ext.fly(e).hasCls(this.invalidHandleClasses[n]);return r},setXTicks:function(e,t){this.xTicks=[],this.xTickSize=t;var n,i={};for(n=this.initPageX;n>=this.minX;n-=t)i[n]||(this.xTicks[this.xTicks.length]=n,i[n]=!0);for(n=this.initPageX;n<=this.maxX;n+=t)i[n]||(this.xTicks[this.xTicks.length]=n,i[n]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(e,t){this.yTicks=[],this.yTickSize=t;var n,i={};for(n=this.initPageY;n>=this.minY;n-=t)i[n]||(this.yTicks[this.yTicks.length]=n,i[n]=!0);for(n=this.initPageY;n<=this.maxY;n+=t)i[n]||(this.yTicks[this.yTicks.length]=n,i[n]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(e,t,n){this.leftConstraint=e,this.rightConstraint=t,this.minX=this.initPageX-e,this.maxX=this.initPageX+t,n&&this.setXTicks(this.initPageX,n),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(e,t,n){this.topConstraint=e,this.bottomConstraint=t,this.minY=this.initPageY-e,this.maxY=this.initPageY+t,n&&this.setYTicks(this.initPageY,n),this.constrainY=!0},resetConstraints:function(){if(this.initPageX||0===this.initPageX){var e=this.maintainOffset?this.lastPageX-this.initPageX:0,t=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(e,t)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(e,t){if(t){if(t[0]>=e)return t[0];var n,i,r,o,a;for(n=0,i=t.length;i>n;++n)if(r=n+1,t[r]&&t[r]>=e)return o=e-t[n],a=t[r]-e,a>o?t[n]:t[r];return t[t.length-1]}return e},toString:function(){return"DragDrop "+this.id}}),Ext.define("Ext.dd.DD",{extend:Ext.dd.DragDrop,constructor:function(e,t,n){e&&this.init(e,t,n)},scroll:!0,autoOffset:function(e,t){var n=e-this.startPageX,i=t-this.startPageY;this.setDelta(n,i)},setDelta:function(e,t){this.deltaX=e,this.deltaY=t},setDragElPos:function(e,t){var n=this.getDragEl();this.alignElWithMouse(n,e,t)},alignElWithMouse:function(e,t,n){var i,r,o,a,s=this.getTargetCoord(t,n),l=e.dom?e:Ext.fly(e,"_dd"),d=l.getSize(),c=Ext.Element;return this.deltaSetXY?(i=this.cachedViewportSize,this.setLocalXY(l,Math.max(0,Math.min(s.x+this.deltaSetXY[0],i.width-d.width)),Math.max(0,Math.min(s.y+this.deltaSetXY[1],i.height-d.height)))):(i=this.cachedViewportSize={width:c.getDocumentWidth(),height:c.getDocumentHeight()},r=[Math.max(0,Math.min(s.x,i.width-d.width)),Math.max(0,Math.min(s.y,i.height-d.height))],l.setXY(r),o=this.getLocalX(l),a=l.getLocalY(),this.deltaSetXY=[o-s.x,a-s.y]),this.cachePosition(s.x,s.y),this.autoScroll(s.x,s.y,e.offsetHeight,e.offsetWidth),s},cachePosition:function(e,t){if(e)this.lastPageX=e,this.lastPageY=t;else{var n=Ext.Element.getXY(this.getEl());this.lastPageX=n[0],this.lastPageY=n[1]}},autoScroll:function(e,t,n,i){if(this.scroll){var r=Ext.Element.getViewHeight(),o=Ext.Element.getViewWidth(),a=this.DDMInstance.getScrollTop(),s=this.DDMInstance.getScrollLeft(),l=n+t,d=i+e,c=r+a-t-this.deltaY,u=o+s-e-this.deltaX,h=40,f=document.all?80:30;l>r&&h>c&&window.scrollTo(s,a+f),a>t&&a>0&&h>t-a&&window.scrollTo(s,a-f),d>o&&h>u&&window.scrollTo(s+f,a),s>e&&s>0&&h>e-s&&window.scrollTo(s-f,a)}},getTargetCoord:function(e,t){var n=e-this.deltaX,i=t-this.deltaY;return this.constrainX&&(n<this.minX&&(n=this.minX),n>this.maxX&&(n=this.maxX)),this.constrainY&&(i<this.minY&&(i=this.minY),i>this.maxY&&(i=this.maxY)),n=this.getTick(n,this.xTicks),i=this.getTick(i,this.yTicks),{x:n,y:i}},applyConfig:function(){this.callParent(),this.scroll=this.config.scroll!==!1},b4MouseDown:function(e){this.autoOffset(e.getPageX(),e.getPageY())},b4Drag:function(e){this.setDragElPos(e.getPageX(),e.getPageY())},toString:function(){return"DD "+this.id},getLocalX:function(e){return e.getLocalX()},setLocalXY:function(e,t,n){e.setLocalXY(t,n)}}),Ext.define("Ext.dd.DDProxy",{extend:Ext.dd.DD,statics:{dragElId:"ygddfdiv"},constructor:function(e,t,n){e&&(this.init(e,t,n),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var e,t,n=this,i=document.body;return i&&i.firstChild?(e=this.getDragEl(),e||(e=document.createElement("div"),e.id=this.dragElId,t=e.style,t.position="absolute",t.visibility="hidden",t.cursor="move",t.border="2px solid #aaa",t.zIndex=999,i.insertBefore(e,i.firstChild)),void 0):(setTimeout(function(){n.createFrame()},50),void 0)},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent(),this.resizeFrame=this.config.resizeFrame!==!1,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(e,t){var n=(this.getEl(),this.getDragEl()),i=n.style;this._resizeProxy(),this.centerFrame&&this.setDelta(Math.round(parseInt(i.width,10)/2),Math.round(parseInt(i.height,10)/2)),this.setDragElPos(e,t),Ext.fly(n).show()},_resizeProxy:function(){if(this.resizeFrame){var e=this.getEl();Ext.fly(this.getDragEl()).setSize(e.offsetWidth,e.offsetHeight)}},b4MouseDown:function(e){var t=e.getPageX(),n=e.getPageY();this.autoOffset(t,n),this.setDragElPos(t,n)},b4StartDrag:function(e,t){this.showFrame(e,t)},b4EndDrag:function(){Ext.fly(this.getDragEl()).hide()},endDrag:function(){var e=this.getEl(),t=this.getDragEl();t.style.visibility="",this.beforeMove(),e.style.visibility="hidden",Ext.dd.DDM.moveToEl(e,t),t.style.visibility="hidden",e.style.visibility="",this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}}),Ext.define("Ext.dd.StatusProxy",{extend:Ext.Component,animRepair:!1,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div>'+'<div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",constructor:function(e){var t=this;e=e||{},Ext.apply(t,{hideMode:"visibility",hidden:!0,floating:!0,id:t.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:e.shadow||!1,renderTo:Ext.getDetachedBody()}),t.callParent(arguments),this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(e){e=e||this.dropNotAllowed,this.dropStatus!=e&&(this.el.replaceCls(this.dropStatus,e),this.dropStatus=e)},reset:function(e){var t=this,n=Ext.baseCSSPrefix+"dd-drag-proxy ";t.el.replaceCls(n+t.dropAllowed,n+t.dropNotAllowed),t.dropStatus=t.dropNotAllowed,e&&t.ghost.update("")},update:function(e){"string"==typeof e?this.ghost.update(e):(this.ghost.update(""),e.style.margin="0",this.ghost.dom.appendChild(e));var t=this.ghost.dom.firstChild;t&&Ext.fly(t).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(e){this.callParent(),e&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.sync()},repair:function(e,t,n){var i=this;i.callback=t,i.scope=n,e&&i.animRepair!==!1?(i.el.addCls(i.repairCls),i.el.hideUnders(!0),i.anim=i.el.animate({duration:i.repairDuration||500,easing:"ease-out",to:{x:e[0],y:e[1]},stopAnimation:!0,callback:i.afterRepair,scope:i})):i.afterRepair()},afterRepair:function(){var e=this;e.hide(!0),e.el.removeCls(e.repairCls),"function"==typeof e.callback&&e.callback.call(e.scope||e),delete e.callback,delete e.scope}}),Ext.define("Ext.dd.DragSource",{extend:Ext.dd.DDProxy,dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(e,t){this.el=Ext.get(e),this.dragData||(this.dragData={}),Ext.apply(this,t),this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})),this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:this.scroll===!0}]),this.dragging=!1},getDragData:function(){return this.dragData},onDragEnter:function(e,t){var n,i=Ext.dd.DragDropManager.getDDById(t);this.cachedTarget=i,this.beforeDragEnter(i,e,t)!==!1&&(i.isNotifyTarget?(n=i.notifyEnter(this,e,this.dragData),this.proxy.setStatus(n)):this.proxy.setStatus(this.dropAllowed),this.afterDragEnter&&this.afterDragEnter(i,e,t))},beforeDragEnter:function(){return!0},onDragOver:function(e,t){var n,i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);this.beforeDragOver(i,e,t)!==!1&&(i.isNotifyTarget&&(n=i.notifyOver(this,e,this.dragData),this.proxy.setStatus(n)),this.afterDragOver&&this.afterDragOver(i,e,t))
},beforeDragOver:function(){return!0},onDragOut:function(e,t){var n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);this.beforeDragOut(n,e,t)!==!1&&(n.isNotifyTarget&&n.notifyOut(this,e,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(n,e,t)),this.cachedTarget=null},beforeDragOut:function(){return!0},onDragDrop:function(e,t){var n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);this.beforeDragDrop(n,e,t)!==!1&&(n.isNotifyTarget?n.notifyDrop(this,e,this.dragData)!==!1?this.onValidDrop(n,e,t):this.onInvalidDrop(n,e,t):this.onValidDrop(n,e,t),this.afterDragDrop&&this.afterDragDrop(n,e,t)),delete this.cachedTarget},beforeDragDrop:function(){return!0},onValidDrop:function(e,t,n){this.hideProxy(),this.afterValidDrop&&this.afterValidDrop(e,t,n)},getRepairXY:function(){return this.el.getXY()},onInvalidDrop:function(e,t,n){var i=this;t||(t=e,e=null,n=t.getTarget().id),i.beforeInvalidDrop(e,t,n)!==!1&&(i.cachedTarget&&(i.cachedTarget.isNotifyTarget&&i.cachedTarget.notifyOut(i,t,i.dragData),i.cacheTarget=null),i.proxy.repair(i.getRepairXY(t,i.dragData),i.afterRepair,i),i.afterInvalidDrop&&i.afterInvalidDrop(t,n))},afterRepair:function(){var e=this;Ext.enableFx&&e.el.highlight(e.repairHighlightColor),e.dragging=!1},beforeInvalidDrop:function(){return!0},handleMouseDown:function(e){if(!this.dragging){var t=this.getDragData(e);t&&this.onBeforeDrag(t,e)!==!1&&(this.dragData=t,this.proxy.stop(),this.callParent(arguments))}},onBeforeDrag:function(){return!0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){return this.proxy.ensureAttachedToBody(!0),this.callParent(arguments)},startDrag:function(e,t){this.proxy.reset(),this.proxy.hidden=!1,this.dragging=!0,this.proxy.update(""),this.onInitDrag(e,t),this.proxy.show()},onInitDrag:function(e,t){var n=this.el.dom.cloneNode(!0);return n.id=Ext.id(),this.proxy.update(n),this.onStartDrag(e,t),!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide(),this.proxy.reset(!0),this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(){},endDrag:function(e){this.onEndDrag(this.dragData,e)},onEndDrag:function(){},autoOffset:function(){this.setDelta(-12,-20)},destroy:function(){this.callParent(),Ext.destroy(this.proxy)}}),Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(e,t){var n=this;n.panel=e,n.id=n.panel.id+"-ddproxy",Ext.apply(n,t)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var e=this;e.ghost&&(e.proxy&&(e.proxy.remove(),delete e.proxy),e.panel.unghost(null,e.moveOnDrag),delete e.ghost)},show:function(){var e,t=this;t.ghost||(e=t.panel.getSize(),t.panel.el.setVisibilityMode(Ext.Element.DISPLAY),t.ghost=t.panel.ghost(),t.insertProxy&&(t.proxy=t.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"}),t.proxy.setSize(e)))},repair:function(e,t,n){this.hide(),Ext.callback(t,n||this)},moveProxy:function(e,t){this.proxy&&e.insertBefore(this.proxy.dom,t)}}),Ext.define("Ext.panel.DD",{extend:Ext.dd.DragSource,constructor:function(e,t){var n=this;n.panel=e,n.dragData={panel:e},n.panelProxy=new Ext.panel.Proxy(e,t),n.proxy=n.panelProxy.proxy,n.callParent([e.el,t]),n.setupEl(e)},setupEl:function(e){var t=this,n=e.header,i=e.body;n&&(t.setHandleElId(n.id),i=n.el),i?(i.setStyle("cursor","move"),t.scroll=!1):e.on("boxready",t.setupEl,t,{single:!0})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(){this.panelProxy.show()},b4MouseDown:function(e){var t=e.getPageX(),n=e.getPageY();this.autoOffset(t,n)},onInitDrag:function(e,t){return this.onStartDrag(e,t),!0},createFrame:Ext.emptyFn,getDragEl:function(){var e=this.panelProxy.ghost;return e?e.el.dom:void 0},endDrag:function(){this.panelProxy.hide(),this.panel.saveState()},autoOffset:function(e,t){e-=this.startPageX,t-=this.startPageY,this.setDelta(e,t)},onInvalidDrop:function(e,t,n){var i=this;i.beforeInvalidDrop(e,t,n)!==!1&&(i.cachedTarget&&(i.cachedTarget.isNotifyTarget&&i.cachedTarget.notifyOut(i,t,i.dragData),i.cacheTarget=null),i.afterInvalidDrop&&i.afterInvalidDrop(t,n))}}),Ext.define("Ext.util.Memento",function(){function e(e,t,n,i){e[i?i+n:n]=t[n]}function t(e,t,n){delete e[n]}function n(e,t,n,r){var o=r?r+n:n,a=e[o];(a||e.hasOwnProperty(o))&&i(t,n,a)}function i(e,t,n){Ext.isDefined(n)?e[t]=n:delete e[t]}function r(e,t,n,i,r){if(t)if(Ext.isArray(i)){var o,a=i.length;for(o=0;a>o;o++)e(t,n,i[o],r)}else e(t,n,i,r)}return{data:null,target:null,constructor:function(e,t){e&&(this.target=e,t&&this.capture(t))},capture:function(t,n,i){var o=this;r(e,o.data||(o.data={}),n||o.target,t,i)},remove:function(e){r(t,this.data,null,e)},restore:function(e,t,i,o){r(n,this.data,i||this.target,e,o),t!==!1&&this.remove(e)},restoreAll:function(e,t){var n,r=this,o=t||this.target,a=r.data;for(n in a)a.hasOwnProperty(n)&&i(o,n,a[n]);e!==!1&&delete r.data}}}()),Ext.define("Ext.panel.Panel",{extend:Ext.panel.AbstractPanel,alias:"widget.panel",alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:!1,collapseFirst:!0,hideCollapseTool:!1,titleCollapse:void 0,floatable:!0,collapsible:void 0,closable:!1,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:!1,header:void 0,headerPosition:"top",frame:!1,frameHeader:!0,manageHeight:!0,constrain:!1,constrainHeader:!1,initComponent:function(){var e=this;e.addEvents("beforeclose","close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange","glyphchange","float","unfloat"),e.collapsible&&this.addStateEvents(["expand","collapse"]),e.unstyled&&e.setUI("plain"),e.frame&&e.setUI(e.ui+"-framed"),e.bridgeToolbars(),e.callParent(),e.collapseDirection=e.collapseDirection||e.headerPosition||Ext.Component.DIRECTION_TOP,e.hiddenOnCollapse=new Ext.dom.CompositeElement},beforeDestroy:function(){var e=this;Ext.destroy(e.placeholder,e.ghostPanel,e.dd),e.callParent()},initAria:function(){this.callParent(),this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var e=this,t=e.el,n=e.header;t&&n&&t.dom.setAttribute("aria-labelledby",n.titleCmp.id)},getHeader:function(){return this.header},setTitle:function(e){var t=this,n=t.title,i=t.header,r=t.reExpander,o=t.placeholder;t.title=e,i?i.isHeader?i.setTitle(e):i.title=e:t.rendered&&t.updateHeader(),r&&r.setTitle(e),o&&o.setTitle&&o.setTitle(e),t.fireEvent("titlechange",t,e,n)},setIconCls:function(e){var t=this,n=t.iconCls,i=t.header,r=t.placeholder;t.iconCls=e,i?i.isHeader?i.setIconCls(e):i.iconCls=e:t.updateHeader(),r&&r.setIconCls&&r.setIconCls(e),t.fireEvent("iconclschange",t,e,n)},setIcon:function(e){var t=this,n=t.icon,i=t.header,r=t.placeholder;t.icon=e,i?i.isHeader?i.setIcon(e):i.icon=e:t.updateHeader(),r&&r.setIcon&&r.setIcon(e),t.fireEvent("iconchange",t,e,n)},setGlyph:function(e){var t=this,n=t.glyph,i=t.header,r=t.placeholder;t.glyph=e,i?i.isHeader?i.setGlyph(e):i.glyph=e:t.updateHeader(),r&&r.setGlyph&&r.setIcon(e),t.fireEvent("glyphchange",t,e,n)},bridgeToolbars:function(){function e(e,t,n){return Ext.isArray(e)?e={xtype:"toolbar",items:e}:e.xtype||(e.xtype="toolbar"),e.dock=t,("left"==t||"right"==t)&&(e.vertical=!0),n&&(e.layout=Ext.applyIf(e.layout||{},{pack:{left:"start",center:"center"}[i.buttonAlign]||"end"})),e}var t,n,i=this,r=[],o=i.minButtonWidth;i.tbar&&(r.push(e(i.tbar,"top")),i.tbar=null),i.bbar&&(r.push(e(i.bbar,"bottom")),i.bbar=null),i.buttons&&(i.fbar=i.buttons,i.buttons=null),i.fbar&&(t=e(i.fbar,"bottom",!0),t.ui="footer",o&&(n=t.defaults,t.defaults=function(e){var t=n||{};return!(!e.xtype||"button"===e.xtype||e.isComponent&&e.isXType("button"))||"minWidth"in t||(t=Ext.apply({minWidth:o},t)),t}),r.push(t),i.fbar=null),i.lbar&&(r.push(e(i.lbar,"left")),i.lbar=null),i.rbar&&(r.push(e(i.rbar,"right")),i.rbar=null),i.dockedItems?(Ext.isArray(i.dockedItems)||(i.dockedItems=[i.dockedItems]),i.dockedItems=i.dockedItems.concat(r)):i.dockedItems=r},isPlaceHolderCollapse:function(){return"placeholder"==this.collapseMode},onBoxReady:function(){this.callParent(),this.collapsed&&this.setHiddenDocked()},beforeRender:function(){var e,t=this;t.callParent(),t.initTools(),t.preventHeader||t.header===!1||t.updateHeader(),t.collapsed&&(t.isPlaceHolderCollapse()?t.hidden||(t.setHiddenState(!0),t.preventCollapseFire=!0,t.placeholderCollapse(),delete t.preventCollapseFire,e=t.collapsed,t.collapsed=!1):(t.beginCollapse(),t.addClsWithUI(t.collapsedCls))),e&&(t.collapsed=e)},initTools:function(){var e,t,n=this,i=n.tools;for(n.tools=[],e=i&&i.length;e;)--e,n.tools[e]=t=i[e],t.toolOwner=n;!n.collapsible||n.hideCollapseTool||n.header===!1||n.preventHeader||(n.collapseDirection=n.collapseDirection||n.headerPosition||"top",n.collapseTool=n.expandTool=Ext.widget({xtype:"tool",handler:n.toggleCollapse,scope:n}),n.updateCollapseTool(),n.collapseFirst&&n.tools.unshift(n.collapseTool)),n.addTools(),n.closable&&(n.addClsWithUI("closable"),n.addTool(Ext.widget({xtype:"tool",type:"close",handler:Ext.Function.bind(n.close,n,[])}))),n.collapseTool&&!n.collapseFirst&&n.addTool(n.collapseTool)},addTools:Ext.emptyFn,updateCollapseTool:function(){var e=this,t=e.collapseTool;t&&(e.collapsed&&!e.isPlaceHolderCollapse()?t.setType("expand-"+e.getOppositeDirection(e.collapseDirection)):t.setType("collapse-"+e.collapseDirection))},close:function(){this.fireEvent("beforeclose",this)!==!1&&this.doClose()},doClose:function(){this.fireEvent("close",this),this[this.closeAction]()},updateHeader:function(e){var t=this,n=t.header,i=t.title,r=t.tools,o=t.icon||t.iconCls,a="left"===t.headerPosition||"right"===t.headerPosition;Ext.isObject(n)||n!==!1&&(e||i||o||r&&r.length||t.collapsible&&!t.titleCollapse)?(n&&n.isHeader?n.show():(n=t.header=Ext.widget(Ext.apply({xtype:"header",title:i,titleAlign:t.titleAlign,orientation:a?"vertical":"horizontal",dock:t.headerPosition||"top",textCls:t.headerTextCls,iconCls:t.iconCls,icon:t.icon,glyph:t.glyph,baseCls:t.baseCls+"-header",tools:r,ui:t.ui,id:t.id+"_header",overCls:t.headerOverCls,indicateDrag:t.draggable,frame:(t.frame||t.alwaysFramed)&&t.frameHeader,ignoreParentFrame:t.frame||t.overlapHeader,ignoreBorderManagement:t.frame||t.ignoreHeaderBorderManagement,ownerCt:t,listeners:t.collapsible&&t.titleCollapse?{click:t.toggleCollapse,scope:t}:null},t.header)),t.addDocked(n,0)),t.initHeaderAria()):n&&n.hide()},setUI:function(e){var t=this;t.callParent(arguments),t.header&&t.header.rendered&&t.header.setUI(e)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var e=this;return e.body||e.protoBody||e.frameBody||e.el},isVisible:function(e){var t=this;return t.collapsed&&t.placeholder?t.placeholder.isVisible(e):t.callParent(arguments)},onHide:function(){var e=this;e.collapsed&&e.placeholder?e.placeholder.hide():e.callParent(arguments)},onShow:function(){var e=this;e.collapsed&&e.isPlaceHolderCollapse()?(e.setHiddenState(!0),e.placeholderCollapse()):e.callParent(arguments)},onRemoved:function(e){var t=this;t.placeholder&&!e&&t.ownerCt.remove(t.placeholder,!1),t.callParent(arguments)},addTool:function(e){Ext.isArray(e)||(e=[e]);var t,n,i=this,r=i.header,o=e.length;for(t=0;o>t;t++)n=e[t],n.toolOwner=i,r&&r.isHeader?r.addTool(n):i.tools.push(n);i.updateHeader()},getOppositeDirection:function(e){var t=Ext.Component;switch(e){case t.DIRECTION_TOP:return t.DIRECTION_BOTTOM;case t.DIRECTION_RIGHT:return t.DIRECTION_LEFT;case t.DIRECTION_BOTTOM:return t.DIRECTION_TOP;case t.DIRECTION_LEFT:return t.DIRECTION_RIGHT}},getWidthAuthority:function(){return this.collapsed&&this.collapsedHorizontal()?1:this.callParent()},getHeightAuthority:function(){return this.collapsed&&this.collapsedVertical()?1:this.callParent()},collapsedHorizontal:function(){var e=this.getCollapsed();return"left"===e||"right"===e},collapsedVertical:function(){var e=this.getCollapsed();return"top"===e||"bottom"===e},restoreDimension:function(){var e=this.collapseDirection;return"top"===e||"bottom"===e?"height":"width"},getCollapsed:function(){var e=this;return e.collapsed===!0?e.collapseDirection:e.collapsed},getState:function(){var e,t=this,n=t.callParent();return n=t.addPropertyToState(n,"collapsed"),t.collapsed&&(e=t.collapseMemento,e=e&&e.data,t.collapsedVertical()?(n&&delete n.height,e&&(n=t.addPropertyToState(n,"height",e.height))):(n&&delete n.width,e&&(n=t.addPropertyToState(n,"width",e.width)))),n},findReExpander:function(e){var t,n,i=this,r=Ext.Component,o=i.dockedItems.items,a=o.length;if("mini"!==i.collapseMode)switch(e){case r.DIRECTION_TOP:case r.DIRECTION_BOTTOM:for(n=0;a>n;n++)if(t=o[n],!t.hidden&&t.isHeader&&(!t.dock||"top"===t.dock||"bottom"===t.dock))return t;break;case r.DIRECTION_LEFT:case r.DIRECTION_RIGHT:for(n=0;a>n;n++)if(t=o[n],!t.hidden&&t.isHeader&&("left"===t.dock||"right"===t.dock))return t;break;default:throw"Panel#findReExpander must be passed a valid collapseDirection"}},getReExpander:function(e){var t=this,n=e||t.collapseDirection,i=t.reExpander||t.findReExpander(n);return t.expandDirection=t.getOppositeDirection(n),i||(t.reExpander=i=t.createReExpander(n,{dock:n,cls:Ext.baseCSSPrefix+"docked "+t.baseCls+"-"+t.ui+"-collapsed",isCollapsedExpander:!0}),t.dockedItems.insert(0,i)),i},createReExpander:function(e,t){var n=this,i="left"===e,r="right"===e,o=i||r,a=Ext.apply({hideMode:"offsets",title:n.title||"&#160;",titleAlign:n.titleAlign,orientation:o?"vertical":"horizontal",textCls:n.headerTextCls,icon:n.icon,iconCls:n.iconCls,glyph:n.glyph,baseCls:n.self.prototype.baseCls+"-header",ui:n.ui,frame:n.frame&&n.frameHeader,ignoreParentFrame:n.frame||n.overlapHeader,indicateDrag:n.draggable,collapseImmune:!0,ownerCt:n.ownerCt,ownerLayout:n.componentLayout,margin:n.margin},t);return"mini"===n.collapseMode&&(o?a.width=1:a.height=1),n.hideCollapseTool||((i||r&&n.isPlaceHolderCollapse())&&(a.titlePosition=1),a.tools=[{xtype:"tool",type:"expand-"+n.getOppositeDirection(e),uiCls:["top"],handler:n.toggleCollapse,scope:n}]),a=new Ext.panel.Header(a),a.addClsWithUI(n.getHeaderCollapsedClasses(a)),a},getHeaderCollapsedClasses:function(e){var t,n=this,i=n.collapsedCls;return t=[i,i+"-"+e.getDockName()],n.border&&(!n.frame||n.frame&&Ext.supports.CSS3BorderRadius)&&t.push(i+"-border-"+e.getDockName()),t},beginCollapse:function(){var e,t=this,n=t.lastBox,i=t.rendered,r=t.collapseMemento||(t.collapseMemento=new Ext.util.Memento(t)),o=t.getSizeModel(),a=t.header;r.capture(["height","minHeight","width","minWidth"]),n&&r.capture(t.restoreDimension(),n,"last."),t.collapsedVertical()?(o.width.shrinkWrap&&(t.width=i?t.getWidth():t.width||t.minWidth||100),delete t.height,t.minHeight=0):t.collapsedHorizontal()&&(o.height.shrinkWrap&&(t.height=i?t.getHeight():t.height||t.minHeight||100),delete t.width,t.minWidth=0),t.ownerCt&&t.ownerCt.getLayout().beginCollapse(t),t.isPlaceHolderCollapse()||a===!1||(a===(e=t.getReExpander())?(a.collapseImmune=!0,a.getHierarchyState().collapseImmune=!0,a.addClsWithUI(t.getHeaderCollapsedClasses(a)),a.rendered&&a.updateFrame()):e.el&&(e.el.show(),e.hidden=!1)),t.resizer&&t.resizer.disable()},beginExpand:function(){var e,t=this,n=t.lastBox,i=t.collapseMemento,r=this.restoreDimension(),o=t.header;i&&(i.restore(["minHeight","minWidth",r]),n&&i.restore(r,!0,n,"last.")),t.ownerCt&&t.ownerCt.getLayout().beginExpand(t),t.isPlaceHolderCollapse()||o===!1||(o===(e=t.getReExpander())?(delete o.collapseImmune,delete o.getHierarchyState().collapseImmune,o.removeClsWithUI(t.getHeaderCollapsedClasses(o)),o.rendered&&(o.expanding=!0,o.updateFrame(),delete o.expanding)):(e.hidden=!0,e.el.hide())),t.resizer&&t.resizer.enable()},collapse:function(e,t){var n=this,i=e||n.collapseDirection,r=n.ownerCt;return n.isCollapsingOrExpanding?n:(arguments.length<2&&(t=n.animCollapse),n.collapsed||n.fireEvent("beforecollapse",n,e,t)===!1?n:r&&n.isPlaceHolderCollapse()?n.placeholderCollapse(e,t):(n.collapsed=i,n.beginCollapse(),n.getHierarchyState().collapsed=!0,n.fireHierarchyEvent("collapse"),n.doCollapseExpand(1,t)))},doCollapseExpand:function(e,t){var n=this,i=n.animCollapse,r=n.ownerLayout;return n.animCollapse=t,n.isCollapsingOrExpanding=e,t&&n.addCls(Ext.baseCSSPrefix+"animating-size"),r&&!t?r.onContentChange(n):n.updateLayout({isRoot:!0}),n.animCollapse=i,n},afterCollapse:function(e){var t=this,n=t.ownerLayout;t.isCollapsingOrExpanding=0,t.updateCollapseTool(),e&&t.removeCls(Ext.baseCSSPrefix+"animating-size"),n&&e&&n.onContentChange(t),t.setHiddenDocked(),t.fireEvent("collapse",t)},setHiddenDocked:function(){var e,t,n=this,i=n.hiddenOnCollapse,r=n.getDockedItems(),o=r.length,a=0;for(n.header!==!1&&(t=n.getReExpander()),i.add(n.body);o>a;a++)e=r[a],e&&e!==t&&e.el&&i.add(e.el);i.setStyle("visibility","hidden")},restoreHiddenDocked:function(){var e=this.hiddenOnCollapse;e.setStyle("visibility",""),e.clear()},getPlaceholder:function(e){var t=this,n=e||t.collapseDirection,i=null,r=t.placeholder,o=t.floatable,a=t.titleCollapse;return r||((o||t.collapsible&&a)&&(i={click:{fn:!a&&o?t.floatCollapsedPanel:t.toggleCollapse,element:"el",scope:t}}),t.placeholder=r=Ext.widget(t.createReExpander(n,{id:t.id+"-placeholder",listeners:i}))),r.placeholderFor||(r.isComponent||(t.placeholder=r=t.lookupComponent(r)),Ext.applyIf(r,{margins:t.margins,placeholderFor:t}),r.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+n+"-placeholder",t.collapsedCls])),r},placeholderCollapse:function(e,t){var n,i=this,r=i.ownerCt,o=e||i.collapseDirection,a=Ext.baseCSSPrefix+"border-region-slide-in",s=i.getPlaceholder(o);return i.isCollapsingOrExpanding=1,i.setHiddenState(!0),i.collapsed=o,s.rendered?(s.el.dom.parentNode!==i.el.dom.parentNode&&i.el.dom.parentNode.insertBefore(s.el.dom,i.el.dom),s.hidden=!1,s.el.show(),r.updateLayout()):r.insert(r.items.indexOf(i),s),i.rendered?(i.el.setVisibilityMode(i.placeholderCollapseHideMode),t?(i.el.addCls(a),s.el.hide(),n=i.convertCollapseDir(o),i.el.slideOut(n,{preserveScroll:!0,duration:Ext.Number.from(t,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.el.removeCls(a),s.el.show().setStyle("display","none").slideIn(n,{easing:"linear",duration:100,listeners:{afteranimate:function(){s.focus(),i.isCollapsingOrExpanding=0,i.fireEvent("collapse",i)}}})}}})):(i.el.hide(),i.isCollapsingOrExpanding=0,i.fireEvent("collapse",i))):(i.isCollapsingOrExpanding=0,i.preventCollapseFire||i.fireEvent("collapse",i)),i},floatCollapsedPanel:function(){var e,t,n=this,i=n.placeholder,r=i.getSize(),o=Ext.baseCSSPrefix+"border-region-slide-in",a=n.collapsed,s=n.ownerCt||n;if(!n.isSliding){if(n.el.hasCls(o))return n.slideOutFloatedPanel(),void 0;switch(n.isSliding=!0,i.el.hide(),i.hidden=!0,n.el.show(),n.setHiddenState(!1),n.collapsed=!1,s.updateLayout(),e=n.getBox(!1,!0),i.el.show(),i.hidden=!1,n.el.hide(),n.setHiddenState(!0),n.collapsed=a,s.updateLayout(),n.slideOutTask=n.slideOutTask||new Ext.util.DelayedTask(n.slideOutFloatedPanel,n),i.el.on("mouseleave",n.onMouseLeaveFloated,n),n.el.on("mouseleave",n.onMouseLeaveFloated,n),i.el.on("mouseenter",n.onMouseEnterFloated,n),n.el.on("mouseenter",n.onMouseEnterFloated,n),n.el.addCls(o),n.floated=!0,n.collapseTool&&n.collapseTool.el.hide(),n.collapsed){case"top":n.setLocalXY(e.x,e.y+r.height-1);break;case"right":n.setLocalXY(e.x-r.width+1,e.y);break;case"bottom":n.setLocalXY(e.x,e.y-r.height+1);break;case"left":n.setLocalXY(e.x+r.width-1,e.y)}t=n.convertCollapseDir(n.collapsed),n.floatedFromCollapse=n.collapsed,n.collapsed=!1,n.setHiddenState(!1),n.el.slideIn(t,{preserveScroll:!0,duration:Ext.Number.from(n.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){n.isSliding=!1,n.fireEvent("float",n)}}})}},onMouseLeaveFloated:function(){this.slideOutTask.delay(500)},onMouseEnterFloated:function(){this.slideOutTask.cancel()},isLayoutRoot:function(){return this.floatedFromCollapse?!0:this.callParent()},slideOutFloatedPanel:function(){var e,t=this,n=this.el;t.isSliding||t.isDestroyed||(t.isSliding=!0,t.floated=!1,t.slideOutFloatedPanelBegin(),"string"==typeof t.collapsed&&(e=t.convertCollapseDir(t.collapsed)),n.slideOut(e,{preserveScroll:!0,duration:Ext.Number.from(t.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){t.slideOutFloatedPanelEnd(),t.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}}))},slideOutFloatedPanelBegin:function(){var e=this,t=e.placeholder.el,n=e.el;e.collapsed=e.floatedFromCollapse,e.setHiddenState(!0),e.floatedFromCollapse=null,t.un("mouseleave",e.onMouseLeaveFloated,e),n.un("mouseleave",e.onMouseLeaveFloated,e),t.un("mouseenter",e.onMouseEnterFloated,e),n.un("mouseenter",e.onMouseEnterFloated,e)},slideOutFloatedPanelEnd:function(){var e=this;e.collapseTool&&e.collapseTool.el.show(),e.slideOutTask.cancel(),e.isSliding=!1,e.fireEvent("unfloat",e)},expand:function(e){var t=this;return t.isCollapsingOrExpanding?t:(arguments.length||(e=t.animCollapse),t.collapsed||t.floatedFromCollapse?t.fireEvent("beforeexpand",t,e)===!1?t:(delete this.getHierarchyState().collapsed,t.isPlaceHolderCollapse()?t.placeholderExpand(e):(t.restoreHiddenDocked(),t.beginExpand(),t.collapsed=!1,t.doCollapseExpand(2,e))):t)},placeholderExpand:function(e){var t,n,i=this,r=i.collapsed,o=Ext.baseCSSPrefix+"border-region-slide-in",a=i.ownerLayout?i.ownerLayout.centerRegion:null;return Ext.AbstractComponent.layoutSuspendCount&&(e=!1),i.floatedFromCollapse&&(n=i.getPosition(!0),i.slideOutFloatedPanelBegin(),i.slideOutFloatedPanelEnd(),i.floated=!1),e?(Ext.suspendLayouts(),i.placeholder.hide(),i.el.show(),i.collapsed=!1,i.setHiddenState(!1),a&&!n&&(a.hidden=!0),Ext.resumeLayouts(!0),a.hidden=!1,i.el.addCls(o),i.isCollapsingOrExpanding=2,n?(t=i.getXY(),i.setLocalXY(n[0],n[1]),i.setXY([t[0],t[1]],{duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.el.removeCls(o),i.isCollapsingOrExpanding=0,i.fireEvent("expand",i)}}})):(i.el.hide(),i.placeholder.el.show(),i.placeholder.hidden=!1,i.setHiddenState(!1),i.el.slideIn(i.convertCollapseDir(r),{preserveScroll:!0,duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.el.removeCls(o),i.placeholder.hide(),i.updateLayout(),i.isCollapsingOrExpanding=0,i.fireEvent("expand",i)}}}))):(i.floated=i.collapsed=!1,i.el.removeCls(o),Ext.suspendLayouts(),i.placeholder.hide(),i.show(),Ext.resumeLayouts(!0),i.fireEvent("expand",i)),i},afterExpand:function(e){var t=this,n=t.ownerLayout;t.isCollapsingOrExpanding=0,t.updateCollapseTool(),e&&t.removeCls(Ext.baseCSSPrefix+"animating-size"),n&&e&&n.onContentChange(t),t.fireEvent("expand",t),t.fireHierarchyEvent("expand")},setBorder:function(e,t){if(!t){var n=this,i=n.header;e=e?e===!0?"1px":n.unitizeBox(e):0,i&&(i.isHeader?i.setBorder(e):i.border=e),n.rendered&&n.bodyBorder!==!1&&n.body.setStyle("border-width",e),n.updateLayout(),n.border=e}},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){this.simpleDrag?this.initSimpleDraggable():this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},initSimpleDraggable:function(){var e,t,n=this;n.header||n.updateHeader(!0),n.header&&(e=Ext.applyIf({el:n.el,delegate:"#"+Ext.escapeId(n.header.id)},n.draggable),(n.constrain||n.constrainHeader)&&(e.constrain=n.constrain,e.constrainDelegate=n.constrainHeader,e.constrainTo=n.constrainTo||n.container),t=n.dd=new Ext.util.ComponentDragger(this,e),n.relayEvents(t,["dragstart","drag","dragend"]),n.maximized&&t.disable())},ghostTools:function(){var e,t,n,i=[],r=this.header,o=r?r.query("tool[hidden=false]"):[];if(o.length)for(e=0,t=o.length;t>e;e++)n=o[e],i.push({type:n.type});else i=[{type:"placeholder"}];return i},ghost:function(e){var t,n=this,i=n.ghostPanel,r=n.getBox();return i?i.el.show():(i=new Ext.panel.Panel({renderTo:Ext.getBody(),floating:{shadow:!1},frame:n.frame&&!n.alwaysFramed,alwaysFramed:n.alwaysFramed,overlapHeader:n.overlapHeader,headerPosition:n.headerPosition,baseCls:n.baseCls,cls:n.baseCls+"-ghost "+(e||"")}),n.ghostPanel=i),n.ghostPanel.hidden=!1,i.floatParent=n.floatParent,n.floating?i.zIndexManager.assignZIndices():i.toFront(),n.preventHeader||n.header===!1||(t=i.header,t&&(t.suspendLayouts(),Ext.Array.forEach(t.query("tool"),t.remove,t),t.resumeLayouts()),i.addTool(n.ghostTools()),i.setTitle(n.title),n.iconCls?i.setIconCls(n.iconCls):n.icon?i.setIcon(n.icon):n.glyph&&i.setGlyph(n.glyph),i.header.addCls(Ext.baseCSSPrefix+"header-ghost")),i.setPagePosition(r.x,r.y),i.setSize(r.width,r.height),n.el.hide(),i},unghost:function(e,t){var n=this;n.ghostPanel&&(e!==!1&&(n.el.show(),t!==!1&&(n.setPagePosition(n.ghostPanel.getXY()),"offsets"==n.hideMode&&delete n.el.hideModeStyles),Ext.defer(n.focus,10,n)),n.ghostPanel.el.hide(),n.ghostPanel.hidden=!0)},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},initResizable:function(){this.callParent(arguments),this.collapsed&&this.resizer.disable()},convertCollapseDir:function(e){return e.substr(0,1)}},function(){this.prototype.animCollapse=Ext.enableFx}),Ext.define("Ext.tip.Tip",{extend:Ext.panel.Panel,alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:!0,shim:!0},focusOnToFront:!1,closeAction:"hide",ariaRole:"tooltip",alwaysFramed:!0,frameHeader:!1,initComponent:function(){var e=this;e.floating=Ext.apply({},{shadow:e.shadow,constrain:e.constrainPosition},e.self.prototype.floating),e.callParent(arguments),e.constrain=e.constrain||e.constrainPosition},showAt:function(e){var t=this;this.callParent(arguments),t.isVisible()&&(t.setPagePosition(e[0],e[1]),(t.constrainPosition||t.constrain)&&t.doConstrain(),t.toFront(!0))},initDraggable:function(){var e=this;e.draggable={el:e.getDragEl(),delegate:e.header.el,constrain:e,constrainTo:e.el.dom.parentNode},Ext.Component.prototype.initDraggable.call(e)},ghost:void 0,unghost:void 0}),Ext.define("Ext.tip.ToolTip",{extend:Ext.tip.Tip,alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5e3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){var e=this;e.callParent(arguments),e.lastActive=new Date,e.setTarget(e.target),e.origAnchor=e.anchor},onRender:function(){var e=this;e.callParent(arguments),e.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+e.getAnchorPosition(),e.anchorEl=e.el.createChild({cls:Ext.baseCSSPrefix+"tip-anchor "+e.anchorCls})},setTarget:function(e){var t,n=this,i=Ext.get(e);n.target&&(t=Ext.get(n.target),n.mun(t,"mouseover",n.onTargetOver,n),n.mun(t,"mouseout",n.onTargetOut,n),n.mun(t,"mousemove",n.onMouseMove,n)),n.target=i,i&&n.mon(i,{freezeEvent:!0,mouseover:n.onTargetOver,mouseout:n.onTargetOut,mousemove:n.onMouseMove,scope:n}),n.anchor&&(n.anchorTarget=n.target)},onMouseMove:function(e){var t,n=this,i=n.delegate?e.getTarget(n.delegate):n.triggerElement=!0;i?(n.targetXY=e.getXY(),i===n.triggerElement?!n.hidden&&n.trackMouse&&(t=n.getTargetXY(),n.constrainPosition&&(t=n.el.adjustForConstraints(t,n.el.parent())),n.setPagePosition(t)):(n.hide(),n.lastActive=new Date(0),n.onTargetOver(e))):!n.closable&&n.isVisible()&&n.autoHide!==!1&&n.hide()},getTargetXY:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h=this;if(h.delegate&&(h.anchorTarget=h.triggerElement),h.anchor){if(h.targetCounter++,t=h.getOffsets(),n=h.anchorToTarget&&!h.trackMouse?h.getAlignToXY(h.anchorTarget,h.getAnchorAlign()):h.targetXY,i=Ext.Element.getViewWidth()-5,r=Ext.Element.getViewHeight()-5,o=document.documentElement,a=document.body,s=(o.scrollLeft||a.scrollLeft||0)+5,l=(o.scrollTop||a.scrollTop||0)+5,d=[n[0]+t[0],n[1]+t[1]],c=h.getSize(),u=h.constrainPosition,h.anchorEl.removeCls(h.anchorCls),h.targetCounter<2&&u){if(d[0]<s)return h.anchorToTarget&&(h.defaultAlign="l-r",h.mouseOffset&&(h.mouseOffset[0]*=-1)),h.anchor="left",h.getTargetXY();if(d[0]+c.width>i)return h.anchorToTarget&&(h.defaultAlign="r-l",h.mouseOffset&&(h.mouseOffset[0]*=-1)),h.anchor="right",h.getTargetXY();if(d[1]<l)return h.anchorToTarget&&(h.defaultAlign="t-b",h.mouseOffset&&(h.mouseOffset[1]*=-1)),h.anchor="top",h.getTargetXY();if(d[1]+c.height>r)return h.anchorToTarget&&(h.defaultAlign="b-t",h.mouseOffset&&(h.mouseOffset[1]*=-1)),h.anchor="bottom",h.getTargetXY()}return h.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+h.getAnchorPosition(),h.anchorEl.addCls(h.anchorCls),h.targetCounter=0,d}return e=h.getMouseOffset(),h.targetXY?[h.targetXY[0]+e[0],h.targetXY[1]+e[1]]:e},getMouseOffset:function(){var e=this,t=e.anchor?[0,0]:[15,18];return e.mouseOffset&&(t[0]+=e.mouseOffset[0],t[1]+=e.mouseOffset[1]),t},getAnchorPosition:function(){var e,t=this;switch(t.anchor?t.tipAnchor=t.anchor.charAt(0):(e=t.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/),t.tipAnchor=e[1].charAt(0)),t.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var e,t,n=this,i=n.getAnchorPosition().charAt(0);if(n.anchorToTarget&&!n.trackMouse)switch(i){case"t":t=[0,9];break;case"b":t=[0,-13];break;case"r":t=[-13,0];break;default:t=[9,0]}else switch(i){case"t":t=[-15-n.anchorOffset,30];break;case"b":t=[-19-n.anchorOffset,-13-n.el.dom.offsetHeight];break;case"r":t=[-15-n.el.dom.offsetWidth,-13-n.anchorOffset];break;default:t=[25,-13-n.anchorOffset]}return e=n.getMouseOffset(),t[0]+=e[0],t[1]+=e[1],t},onTargetOver:function(e){var t,n=this,i=n.delegate;n.disabled||e.within(n.target.dom,!0)||(t=i?e.getTarget(i):!0,t&&(n.triggerElement=t,n.triggerEvent=e,n.clearTimer("hide"),n.targetXY=e.getXY(),n.delayShow()))},delayShow:function(){var e=this;e.hidden&&!e.showTimer?Ext.Date.getElapsed(e.lastActive)<e.quickShowInterval?e.show():e.showTimer=Ext.defer(e.showFromDelay,e.showDelay,e):e.hidden||e.autoHide===!1||e.show()},showFromDelay:function(){this.fromDelayShow=!0,this.show(),delete this.fromDelayShow},onShowVeto:function(){this.callParent(),delete this.triggerElement,this.clearTimer("show")},onTargetOut:function(e){var t=this,n=t.triggerElement,i=n===!0?t.target:n;t.disabled||!n||e.within(i,!0)||(t.showTimer&&(t.clearTimer("show"),t.triggerElement=null),t.autoHide!==!1&&t.delayHide())},delayHide:function(){var e=this;e.hidden||e.hideTimer||(e.hideTimer=Ext.defer(e.hide,e.hideDelay,e))},hide:function(){var e=this;e.clearTimer("dismiss"),e.lastActive=new Date,e.anchorEl&&e.anchorEl.hide(),e.callParent(arguments),delete e.triggerElement},show:function(){var e=this;this.callParent(),this.hidden===!1&&(e.setPagePosition(-1e4,-1e4),e.anchor&&(e.anchor=e.origAnchor),e.calledFromShowAt||e.showAt(e.getTargetXY()),e.anchor?(e.syncAnchor(),e.anchorEl.show()):e.anchorEl.hide())},showAt:function(e){var t=this;t.lastActive=new Date,t.clearTimers(),t.calledFromShowAt=!0,t.isVisible()||this.callParent(arguments),t.isVisible()&&(t.setPagePosition(e[0],e[1]),(t.constrainPosition||t.constrain)&&t.doConstrain(),t.toFront(!0),t.el.sync(!0),t.dismissDelay&&t.autoHide!==!1&&(t.dismissTimer=Ext.defer(t.hide,t.dismissDelay,t)),t.anchor?(t.syncAnchor(),t.anchorEl.isVisible()||t.anchorEl.show()):t.anchorEl.hide()),delete t.calledFromShowAt},syncAnchor:function(){var e,t,n,i=this;switch(i.tipAnchor.charAt(0)){case"t":e="b",t="tl",n=[20+i.anchorOffset,1];break;case"r":e="l",t="tr",n=[-1,12+i.anchorOffset];break;case"b":e="t",t="bl",n=[20+i.anchorOffset,-1];break;default:e="r",t="tl",n=[1,12+i.anchorOffset]}i.anchorEl.alignTo(i.el,e+"-"+t,n),i.anchorEl.setStyle("z-index",parseInt(i.el.getZIndex(),10)||1).setVisibilityMode(Ext.Element.DISPLAY)
},setPagePosition:function(){var e=this;e.callParent(arguments),e.anchor&&e.syncAnchor()},_timerNames:{},clearTimer:function(e){var t=this,n=t._timerNames,i=n[e]||(n[e]=e+"Timer"),r=t[i];r&&(clearTimeout(r),t[i]=null)},clearTimers:function(){var e=this;e.clearTimer("show"),e.clearTimer("dismiss"),e.clearTimer("hide")},onShow:function(){var e=this;e.callParent(),e.mon(Ext.getDoc(),"mousedown",e.onDocMouseDown,e)},onHide:function(){var e=this;e.callParent(),e.mun(Ext.getDoc(),"mousedown",e.onDocMouseDown,e)},onDocMouseDown:function(e){var t=this;t.closable||e.within(t.el.dom)||(t.disable(),Ext.defer(t.doEnable,100,t))},doEnable:function(){this.isDestroyed||this.enable()},onDisable:function(){this.callParent(),this.clearTimers(),this.hide()},beforeDestroy:function(){var e=this;e.clearTimers(),Ext.destroy(e.anchorEl),delete e.anchorEl,delete e.target,delete e.anchorTarget,delete e.triggerElement,e.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this),this.callParent()}}),Ext.define("Ext.tip.QuickTip",{extend:Ext.tip.ToolTip,alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay"},initComponent:function(){var e=this;e.target=e.target||Ext.getDoc(),e.targets=e.targets||{},e.callParent()},register:function(e){for(var t,n,i,r=Ext.isArray(e)?e:arguments,o=0,a=r.length;a>o;o++)if(e=r[o],t=e.target)if(Ext.isArray(t))for(n=0,i=t.length;i>n;n++)this.targets[Ext.id(t[n])]=e;else this.targets[Ext.id(t)]=e},unregister:function(e){delete this.targets[Ext.id(e)]},cancelShow:function(e){var t=this,n=t.activeTarget;e=Ext.get(e).dom,t.isVisible()?n&&n.el==e&&t.hide():n&&n.el==e&&t.clearTimer("show")},getTipCfg:function(e){var t,n=e.getTarget(),i=n.title;return this.interceptTitles&&i&&Ext.isString(i)?(n.qtip=i,n.removeAttribute("title"),e.preventDefault(),{text:i}):(t=this.tagConfig,(n=e.getTarget("["+t.namespace+t.attribute+"]"))?{target:n,text:n.getAttribute(t.namespace+t.attribute)}:void 0)},onTargetOver:function(e){var t,n,i,r,o,a,s,l,d,c,u,h=this,f=e.getTarget(h.delegate);if(!h.disabled&&(h.targetXY=e.getXY(),f&&1===f.nodeType&&f!=document.documentElement&&f!=document.body)){if(h.activeTarget&&(f==h.activeTarget.el||Ext.fly(h.activeTarget.el).contains(f)))return h.targetTextEmpty()?(h.onShowVeto(),delete h.activeTarget):(h.clearTimer("hide"),h.show()),void 0;if(f){l=h.targets;for(u in l)if(l.hasOwnProperty(u)&&(c=l[u],d=Ext.fly(c.target),d&&(d.dom===f||d.contains(f)))){i=d.dom;break}if(i)return h.activeTarget=h.targets[i.id],h.activeTarget.el=f,h.anchor=h.activeTarget.anchor,h.anchor&&(h.anchorTarget=f),t=parseInt(h.activeTarget.showDelay,10),t&&(n=h.showDelay,h.showDelay=t),h.delayShow(),t&&(h.showDelay=n),void 0}i=Ext.fly(f,"_quicktip-target"),r=h.tagConfig,o=r.namespace,a=h.getTipCfg(e),a&&(a.target&&(f=a.target,i=Ext.fly(f,"_quicktip-target")),s=i.getAttribute(o+r.hide),h.activeTarget={el:f,text:a.text,width:+i.getAttribute(o+r.width)||null,autoHide:"user"!=s&&"false"!==s,title:i.getAttribute(o+r.title),cls:i.getAttribute(o+r.cls),align:i.getAttribute(o+r.align),showDelay:parseInt(i.getAttribute(o+r.showDelay),10)},h.anchor=i.getAttribute(o+r.anchor),h.anchor&&(h.anchorTarget=f),t=parseInt(h.activeTarget.showDelay,10),t&&(n=h.showDelay,h.showDelay=t),h.delayShow(),t&&(h.showDelay=n))}},onTargetOut:function(e){var t,n,i=this,r=i.activeTarget;r&&e.within(i.activeTarget.el)&&!i.getTipCfg(e)||(i.clearTimer("show"),delete i.activeTarget,i.autoHide!==!1&&(t=r&&parseInt(r.hideDelay,10),t&&(n=i.hideDelay,i.hideDelay=t),i.delayHide(),t&&(i.hideDelay=n)))},targetTextEmpty:function(){var e,t,n=this,i=n.activeTarget,r=n.tagConfig;return i&&(e=i.el,e&&(t=e.getAttribute(r.namespace+r.attribute),!t&&!n.targets[i.target]))?!0:!1},show:function(){var e=this,t=e.fromDelayShow;return t&&e.targetTextEmpty()?(e.onShowVeto(),delete e.activeTarget,void 0):(e.callParent(arguments),void 0)},showAt:function(e){var t,n=this,i=n.activeTarget,r=n.header;i&&(n.rendered||(n.render(Ext.getBody()),n.activeTarget=i),n.suspendLayouts(),i.title?(n.setTitle(i.title),r.show()):r&&r.hide(),n.update(i.text),n.autoHide=i.autoHide,n.dismissDelay=i.dismissDelay||n.dismissDelay,i.mouseOffset&&(e[0]+=i.mouseOffset[0],e[1]+=i.mouseOffset[1]),t=n.lastCls,t&&(n.removeCls(t),delete n.lastCls),t=i.cls,t&&(n.addCls(t),n.lastCls=t),n.setWidth(i.width),n.anchor?n.constrainPosition=!1:i.align?(e=n.getAlignToXY(i.el,i.align),n.constrainPosition=!1):n.constrainPosition=!0,n.resumeLayouts(!0)),n.callParent([e])},hide:function(){delete this.activeTarget,this.callParent()}}),Ext.define("Ext.tip.QuickTipManager",{singleton:!0,alternateClassName:"Ext.QuickTips",disabled:!1,init:function(e,t){var n=this;if(!n.tip){if(!Ext.isReady)return Ext.onReady(function(){Ext.tip.QuickTipManager.init(e,t)}),void 0;var i=Ext.apply({disabled:n.disabled,id:"ext-quicktips-tip"},t),r=i.className,o=i.xtype;r?delete i.className:o&&(r="widget."+o,delete i.xtype),e!==!1&&(i.renderTo=document.body),n.tip=Ext.create(r||"Ext.tip.QuickTip",i),Ext.quickTipsActive=!0}},destroy:function(){Ext.destroy(this.tip),this.tip=void 0},ddDisable:function(){var e=this,t=e.tip;t&&!e.disabled&&t.disable()},ddEnable:function(){var e=this,t=e.tip;t&&!e.disabled&&t.enable()},enable:function(){var e=this,t=e.tip;t&&t.enable(),e.disabled=!1},disable:function(){var e=this,t=e.tip;t&&t.disable(),e.disabled=!0},isEnabled:function(){var e=this.tip;return void 0!==e&&!e.disabled},getQuickTip:function(){return this.tip},register:function(){var e=this.tip;e.register.apply(e,arguments)},unregister:function(){var e=this.tip;e.unregister.apply(e,arguments)},tips:function(){var e=this.tip;e.register.apply(e,arguments)}}),Ext.define("Ext.app.Application",{extend:Ext.app.Controller,scope:void 0,enableQuickTips:!0,appFolder:"app",appProperty:"app",namespaces:[],autoCreateViewport:!1,paths:null,onClassExtended:function(e,t,n){var i,r,o,a,s,l=Ext.app.Controller,d=e.prototype,c=[];if(o=t.name||e.superclass.name,s=t.appFolder||e.superclass.appFolder,o&&(t.$namespace=o,Ext.app.addNamespaces(o)),t.namespaces&&Ext.app.addNamespaces(t.namespaces),t["paths processed"])delete t["paths processed"];else if(o&&s&&Ext.Loader.setPath(o,s),r=t.paths)for(a in r)r.hasOwnProperty(a)&&Ext.Loader.setPath(a,r[a]);t.autoCreateViewport&&l.processDependencies(d,c,o,"view",["Viewport"]),c.length&&(i=n.onBeforeCreated,n.onBeforeCreated=function(){var e=Ext.Array.clone(arguments);Ext.require(c,function(){return i.apply(this,e)})})},constructor:function(){var e=this;e.callParent(arguments),e.doInit(e),e.initNamespace(),e.initControllers(),e.onBeforeLaunch(),e.finishInitControllers()},initNamespace:function(){var e,t=this,n=t.appProperty;e=Ext.namespace(t.name),e&&(e.getApplication=function(){return t},n&&(e[n]||(e[n]=t)))},initControllers:function(){var e=this,t=Ext.Array.from(e.controllers);e.controllers=new Ext.util.MixedCollection;for(var n=0,i=t.length;i>n;n++)e.getController(t[n])},finishInitControllers:function(){var e,t,n,i=this;for(e=i.controllers.getRange(),t=0,n=e.length;n>t;t++)e[t].finishInit(i)},launch:Ext.emptyFn,onBeforeLaunch:function(){var e,t,n,i,r=this;for(r.enableQuickTips&&r.initQuickTips(),r.autoCreateViewport&&r.initViewport(),r.launch.call(r.scope||r),r.launched=!0,r.fireEvent("launch",r),e=r.controllers.items,n=e.length,t=0;n>t;t++)i=e[t],i.onLaunch(r)},getModuleClassName:function(e,t){return Ext.app.Controller.getFullName(e,t,this.name).absoluteName},initQuickTips:function(){Ext.tip.QuickTipManager.init()},initViewport:function(){var e=this.getView("Viewport");e&&e.create()},getController:function(e){var t,n,i=this,r=i.controllers;return n=r.get(e),n||(t=i.getModuleClassName(e,"controller"),n=Ext.create(t,{application:i,id:e}),r.add(n),i._initialized&&n.doInit(i)),n},getApplication:function(){return this}}),Ext.define("Ext.app.domain.Controller",{extend:Ext.app.EventDomain,singleton:!0,type:"controller",idProperty:"id",constructor:function(){var e=this;e.callParent(),e.monitor(Ext.app.Controller)}}),Ext.define("Ext.direct.Provider",{alias:"direct.provider",mixins:{observable:Ext.util.Observable},isProvider:!0,constructor:function(e){var t=this;Ext.apply(t,e),Ext.applyIf(t,{id:Ext.id(null,"provider-")}),t.addEvents("connect","disconnect","data","exception"),t.mixins.observable.constructor.call(t,e)},isConnected:function(){return!1},connect:Ext.emptyFn,disconnect:Ext.emptyFn}),Ext.define("Ext.app.domain.Direct",{extend:Ext.app.EventDomain,singleton:!0,type:"direct",idProperty:"id",constructor:function(){var e=this;e.callParent(),e.monitor(Ext.direct.Provider)}}),Ext.define("Ext.button.Split",{alias:"widget.splitbutton",extend:Ext.button.Button,alternateClassName:"Ext.SplitButton",arrowCls:"split",split:!0,initComponent:function(){this.callParent(),this.addEvents("arrowclick")},setArrowHandler:function(e,t){this.arrowHandler=e,this.scope=t},onClick:function(e){var t=this;e.preventDefault(),t.disabled||(t.overMenuTrigger?(t.maybeShowMenu(),t.fireEvent("arrowclick",t,e),t.arrowHandler&&t.arrowHandler.call(t.scope||t,t,e)):(t.doToggle(),t.fireHandler(e)))}}),Ext.define("Ext.button.Cycle",{alias:"widget.cycle",extend:Ext.button.Split,alternateClassName:"Ext.CycleButton",getButtonText:function(e){var t=this,n="";return e&&t.showText===!0?(t.prependText&&(n+=t.prependText),n+=e.text):t.text},setActiveItem:function(e,t){var n=this;Ext.isObject(e)||(e=n.menu.getComponent(e)),e&&(n.rendered?(n.setText(n.getButtonText(e)),n.setIconCls(e.iconCls),n.setGlyph(e.glyph)):(n.text=n.getButtonText(e),n.iconCls=e.iconCls,n.glyph=e.glyph),n.activeItem=e,e.checked||e.setChecked(!0,!1),n.forceIcon&&n.setIconCls(n.forceIcon),n.forceGlyph&&n.setGlyph(n.forceGlyph),t||n.fireEvent("change",n,e))},getActiveItem:function(){return this.activeItem},initComponent:function(){var e,t,n,i,r=this,o=0;for(r.addEvents("change"),r.changeHandler&&(r.on("change",r.changeHandler,r.scope||r),delete r.changeHandler),e=(r.menu.items||[]).concat(r.items||[]),r.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},r.menu),n=e.length,t=0;n>t;t++)i=e[t],i=Ext.applyIf({group:r.id,itemIndex:t,checkHandler:r.checkHandler,scope:r,checked:i.checked||!1},i),r.menu.items.push(i),i.checked&&(o=t);r.itemCount=r.menu.items.length,r.callParent(arguments),r.on("click",r.toggleSelected,r),r.setActiveItem(o,r),r.width&&r.showText&&r.addCls(Ext.baseCSSPrefix+"cycle-fixed-width")},checkHandler:function(e,t){t&&this.setActiveItem(e)},toggleSelected:function(){var e,t=this,n=t.menu;e=t.activeItem.next(":not([disabled])")||n.items.getAt(0),e.setChecked(!0)}}),Ext.define("Ext.chart.Callout",{constructor:function(e){e.callouts&&(e.callouts.styles=Ext.applyIf(e.callouts.styles||{},{color:"#000",font:"11px Helvetica, sans-serif"}),this.callouts=Ext.apply(this.callouts||{},e.callouts),this.calloutsArray=[])},renderCallouts:function(){if(this.callouts){var e,t,n,i,r,o,a,s,l=this,d=l.items,c=l.chart.animate,u=l.callouts,h=u.styles,f=l.calloutsArray,g=l.chart.getChartStore(),p=g.getCount(),m=d.length/p,x=[];for(e=0,t=0;p>e;e++)for(n=0;m>n;n++)if(r=d[t],o=f[t],a=g.getAt(e),s=!u.filter||u.filter(a),s||o){o||(f[t]=o=l.onCreateCallout(a,r,e,s,n,t));for(i in o)o[i]&&o[i].setAttributes&&o[i].setAttributes(h,!0);if(!s)for(i in o)o[i]&&(o[i].setAttributes?o[i].setAttributes({hidden:!0},!0):o[i].setVisible&&o[i].setVisible(!1));u&&u.renderer&&u.renderer(o,a),l.onPlaceCallout(o,a,r,e,s,c,n,t,x),x.push(o),t++}else t++;this.hideCallouts(t)}},onCreateCallout:function(){var e=this,t=(e.calloutsGroup,e.callouts),n=t?t.styles:void 0,i=n?n.width:0,r=n?n.height:0,o=e.chart,a=o.surface,s={lines:!1};return s.lines=a.add(Ext.apply({},{type:"path",path:"M0,0",stroke:e.getLegendColor()||"#555"},n)),t.items&&(s.panel=new Ext.Panel({style:"position: absolute;",width:i,height:r,items:t.items,renderTo:o.el})),s},hideCallouts:function(e){for(var t,n,i=this.calloutsArray,r=i.length;r-->e;){t=i[r];for(n in t)t[n]&&t[n].hide(!0)}}}),Ext.define("Ext.draw.CompositeSprite",{extend:Ext.util.MixedCollection,mixins:{animate:Ext.util.Animate},autoDestroy:!1,isCompositeSprite:!0,constructor:function(e){var t=this;e=e||{},Ext.apply(t,e),t.addEvents("mousedown","mouseup","mouseover","mouseout","click"),t.id=Ext.id(null,"ext-sprite-group-"),t.callParent()},onClick:function(e){this.fireEvent("click",e)},onMouseUp:function(e){this.fireEvent("mouseup",e)},onMouseDown:function(e){this.fireEvent("mousedown",e)},onMouseOver:function(e){this.fireEvent("mouseover",e)},onMouseOut:function(e){this.fireEvent("mouseout",e)},attachEvents:function(e){var t=this;e.on({scope:t,mousedown:t.onMouseDown,mouseup:t.onMouseUp,mouseover:t.onMouseOver,mouseout:t.onMouseOut,click:t.onClick})},add:function(){var e=this.callParent(arguments);return this.attachEvents(e),e},insert:function(){return this.callParent(arguments)},remove:function(e){var t=this;return e.un({scope:t,mousedown:t.onMouseDown,mouseup:t.onMouseUp,mouseover:t.onMouseOver,mouseout:t.onMouseOut,click:t.onClick}),t.callParent(arguments)},getBBox:function(){for(var e,t,n=0,i=this.items,r=this.length,o=1/0,a=o,s=-o,l=o,d=-o;r>n;n++)e=i[n],e.el&&!e.bboxExcluded&&(t=e.getBBox(),a=Math.min(a,t.x),l=Math.min(l,t.y),s=Math.max(s,t.height+t.y),d=Math.max(d,t.width+t.x));return{x:a,y:l,height:s-l,width:d-a}},setAttributes:function(e,t){for(var n=0,i=this.items,r=this.length;r>n;n++)i[n].setAttributes(e,t);return this},hide:function(e){for(var t=0,n=this.items,i=this.length;i>t;t++)n[t].hide(e);return this},show:function(e){for(var t=0,n=this.items,i=this.length;i>t;t++)n[t].show(e);return this},redraw:function(){var e=this,t=0,n=e.items,i=e.getSurface(),r=e.length;if(i)for(;r>t;t++)i.renderItem(n[t]);return e},setStyle:function(e){for(var t,n,i=0,r=this.items,o=this.length;o>i;i++)t=r[i],n=t.el,n&&n.setStyle(e)},addCls:function(e){var t=0,n=this.items,i=this.getSurface(),r=this.length;if(i)for(;r>t;t++)i.addCls(n[t],e)},removeCls:function(e){var t=0,n=this.items,i=this.getSurface(),r=this.length;if(i)for(;r>t;t++)i.removeCls(n[t],e)},getSurface:function(){var e=this.first();return e?e.surface:null},destroy:function(){var e,t=this,n=t.getSurface(),i=t.autoDestroy;if(n)for(;t.getCount()>0;)e=t.first(),t.remove(e),n.remove(e,i);t.clearListeners()}}),Ext.define("Ext.draw.Surface",{mixins:{observable:Ext.util.Observable},separatorRe:/[, ]+/,enginePriority:["Svg","Vml"],statics:{create:function(e,t){t=t||this.prototype.enginePriority;for(var n=0,i=t.length;i>n;n++)if(Ext.supports[t[n]])return Ext.create("Ext.draw.engine."+t[n],e);return!1},save:function(e,t){t=t||{};var n={"image/png":"Image","image/jpeg":"Image","image/svg+xml":"Svg"},i=n[t.type]||"Svg",r=Ext.draw.engine[i+"Exporter"];return r.generate(e,t)}},availableAttrs:{blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,"dominant-baseline":"auto",fill:"none","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:"",height:0,hidden:!1,href:"http://sencha.com/",opacity:1,path:"M0,0",radius:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"none","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank",text:"","text-anchor":"middle",title:"Ext Draw",width:0,x:0,y:0,zIndex:0},container:void 0,height:352,width:512,x:0,y:0,orderSpritesByZIndex:!0,constructor:function(e){var t=this;e=e||{},Ext.apply(t,e),t.domRef=Ext.getDoc().dom,t.customAttributes={},t.addEvents("mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","click","dblclick"),t.mixins.observable.constructor.call(t),t.getId(),t.initGradients(),t.initItems(),t.renderTo&&(t.render(t.renderTo),delete t.renderTo),t.initBackground(e.background)},initSurface:Ext.emptyFn,renderItem:Ext.emptyFn,renderItems:Ext.emptyFn,setViewBox:function(e,t,n,i){isFinite(e)&&isFinite(t)&&isFinite(n)&&isFinite(i)&&(this.viewBox={x:e,y:t,width:n,height:i},this.applyViewBox())},addCls:Ext.emptyFn,removeCls:Ext.emptyFn,setStyle:Ext.emptyFn,initGradients:function(){if(this.hasOwnProperty("gradients")){var e,t,n=this.gradients,i=this.addGradient;if(n)for(e=0,t=n.length;t>e&&i.call(this,n[e],e,t)!==!1;e++);}},initItems:function(){var e=this.items;this.items=new Ext.draw.CompositeSprite,this.items.autoDestroy=!0,this.groups=new Ext.draw.CompositeSprite,e&&this.add(e)},initBackground:function(e){var t,n,i=this,r=i.width,o=i.height;Ext.isString(e)&&(e={fill:e}),e&&(e.gradient?(n=e.gradient,t=n.id,i.addGradient(n),i.background=i.add({type:"rect",x:0,y:0,width:r,height:o,fill:"url(#"+t+")",zIndex:-1})):e.fill?i.background=i.add({type:"rect",x:0,y:0,width:r,height:o,fill:e.fill,zIndex:-1}):e.image&&(i.background=i.add({type:"image",x:0,y:0,width:r,height:o,src:e.image,zIndex:-1})),i.background.bboxExcluded=!0)},setSize:function(){this.applyViewBox()},scrubAttrs:function(e){var t,n={},i={},r=e.attr;for(t in r)this.translateAttrs.hasOwnProperty(t)?(n[this.translateAttrs[t]]=r[t],i[this.translateAttrs[t]]=!0):this.availableAttrs.hasOwnProperty(t)&&!i[t]&&(n[t]=r[t]);return n},onClick:function(e){this.processEvent("click",e)},onDblClick:function(e){this.processEvent("dblclick",e)},onMouseUp:function(e){this.processEvent("mouseup",e)},onMouseDown:function(e){this.processEvent("mousedown",e)},onMouseOver:function(e){this.processEvent("mouseover",e)},onMouseOut:function(e){this.processEvent("mouseout",e)},onMouseMove:function(e){this.fireEvent("mousemove",e)},onMouseEnter:Ext.emptyFn,onMouseLeave:Ext.emptyFn,addGradient:Ext.emptyFn,add:function(){var e,t,n,i,r,o,a=Array.prototype.slice.call(arguments),s=a.length>1;if(s||Ext.isArray(a[0])){for(t=s?a:a[0],n=[],i=0,r=t.length;r>i;i++)o=t[i],o=this.add(o),n.push(o);return n}return e=this.prepareItems(a[0],!0)[0],this.insertByZIndex(e),this.onAdd(e),e},insertByZIndex:function(e){var t,n=this,i=n.items.items,r=i.length,o=Math.ceil,a=e.attr.zIndex,s=r,l=s-1,d=0;if(n.orderSpritesByZIndex&&r&&a<i[l].attr.zIndex){for(;l>=d;)if(s=o((d+l)/2),t=i[s].attr.zIndex,t>a)l=s-1;else{if(!(a>t))break;d=s+1}for(;r>s&&i[s].attr.zIndex<=a;)s++}return n.items.insert(s,e),s},onAdd:function(e){var t,n,i,r=e.group,o=e.draggable;if(r){for(t=[].concat(r),n=t.length,i=0;n>i;i++)r=t[i],this.getGroup(r).add(e);delete e.group}o&&e.initDraggable()},remove:function(e,t){if(e){this.items.remove(e);var n,i=[].concat(this.groups.items),r=i.length;for(n=0;r>n;n++)i[n].remove(e);e.onRemove(),t===!0&&e.destroy()}},removeAll:function(e){var t,n=this.items.items,i=n.length;for(t=i-1;t>-1;t--)this.remove(n[t],e)},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,applyViewBox:function(){var e,t,n,i,r,o,a,s=this,l=s.viewBox,d=s.width||1,c=s.height||1;l&&(d||c)?(e=l.x,t=l.y,n=l.width,i=l.height,r=c/i,o=d/n,a=Math.min(o,r),d>n*a&&(e-=(d-n*a)/2/a),c>i*a&&(t-=(c-i*a)/2/a),s.viewBoxShift={dx:-e,dy:-t,scale:a},s.background&&s.background.setAttributes(Ext.apply({},{x:e,y:t,width:d/a,height:c/a},{hidden:!1}),!0)):s.background&&d&&c&&s.background.setAttributes(Ext.apply({x:0,y:0,width:d,height:c},{hidden:!1}),!0)},getBBox:function(e,t){var n=this["getPath"+e.type](e);return t?(e.bbox.plain=e.bbox.plain||Ext.draw.Draw.pathDimensions(n),e.bbox.plain):(e.dirtyTransform&&this.applyTransformations(e,!0),e.bbox.transform=e.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(n,e.matrix)),e.bbox.transform)},transformToViewBox:function(e,t){if(this.viewBoxShift){var n=this,i=n.viewBoxShift;return[e/i.scale-i.dx,t/i.scale-i.dy]}return[e,t]},applyTransformations:function(e,t){"text"==e.type&&(e.bbox.transform=0,this.transform(e,!1)),e.dirtyTransform=!1;var n=this,i=e.attr;(null!=i.translation.x||null!=i.translation.y)&&n.translate(e),(null!=i.scaling.x||null!=i.scaling.y)&&n.scale(e),null!=i.rotation.degrees&&n.rotate(e),e.bbox.transform=0,this.transform(e,t),e.transformations=[]},rotate:function(e){var t,n=e.attr.rotation.degrees,i=e.attr.rotation.x,r=e.attr.rotation.y;Ext.isNumber(i)&&Ext.isNumber(r)||(t=this.getBBox(e,!0),i=Ext.isNumber(i)?i:t.x+t.width/2,r=Ext.isNumber(r)?r:t.y+t.height/2),e.transformations.push({type:"rotate",degrees:n,x:i,y:r})},translate:function(e){var t=e.attr.translation.x||0,n=e.attr.translation.y||0;e.transformations.push({type:"translate",x:t,y:n})},scale:function(e){var t,n=e.attr.scaling.x||1,i=e.attr.scaling.y||1,r=e.attr.scaling.centerX,o=e.attr.scaling.centerY;Ext.isNumber(r)&&Ext.isNumber(o)||(t=this.getBBox(e,!0),r=Ext.isNumber(r)?r:t.x+t.width/2,o=Ext.isNumber(o)?o:t.y+t.height/2),e.transformations.push({type:"scale",x:n,y:i,centerX:r,centerY:o})},rectPath:function(e,t,n,i,r){return r?[["M",e+r,t],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",e,t],["l",n,0],["l",0,i],["l",-n,0],["z"]]},ellipsePath:function(e,t,n,i){return null==i&&(i=n),[["M",e,t],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]},getPathpath:function(e){return e.attr.path},getPathcircle:function(e){var t=e.attr;return this.ellipsePath(t.x,t.y,t.radius,t.radius)},getPathellipse:function(e){var t=e.attr;return this.ellipsePath(t.x,t.y,t.radiusX||t.width/2||0,t.radiusY||t.height/2||0)},getPathrect:function(e){var t=e.attr;return this.rectPath(t.x||0,t.y||0,t.width||0,t.height||0,t.r||0)},getPathimage:function(e){var t=e.attr;return this.rectPath(t.x||0,t.y||0,t.width,t.height)},getPathtext:function(e){var t=this.getBBoxText(e);return this.rectPath(t.x,t.y,t.width,t.height)},createGroup:function(e){var t=this.groups.get(e);return t||(t=new Ext.draw.CompositeSprite({surface:this}),t.id=e||Ext.id(null,"ext-surface-group-"),this.groups.add(t)),t},getGroup:function(e){var t;return"string"==typeof e?(t=this.groups.get(e),t||(t=this.createGroup(e))):t=e,t},prepareItems:function(e){e=[].concat(e);var t,n,i;for(n=0,i=e.length;i>n;n++)t=e[n],t instanceof Ext.draw.Sprite?t.surface=this:(t.surface=this,e[n]=this.createItem(t));return e},setText:Ext.emptyFn,createItem:Ext.emptyFn,getId:function(){return this.id||(this.id=Ext.id(null,"ext-surface-"))},destroy:function(){var e=this;delete e.domRef,e.background&&e.background.destroy(),e.removeAll(!0),Ext.destroy(e.groups.items)}}),Ext.define("Ext.layout.component.Draw",{alias:"layout.draw",extend:Ext.layout.component.Auto,setHeightInDom:!0,setWidthInDom:!0,type:"draw",measureContentWidth:function(e){var t=e.target,n=e.getPaddingInfo(),i=this.getBBox(e);return t.viewBox?e.heightModel.shrinkWrap?n.width:i.width/i.height*(e.getProp("contentHeight")-n.height)+n.width:t.autoSize?i.width+n.width:i.x+i.width+n.width},measureContentHeight:function(e){var t=e.target,n=e.getPaddingInfo(),i=this.getBBox(e);return e.target.viewBox?e.widthModel.shrinkWrap?n.height:i.height/i.width*(e.getProp("contentWidth")-n.width)+n.height:t.autoSize?i.height+n.height:i.y+i.height+n.height},getBBox:function(e){var t=e.surfaceBBox;return t||(t=e.target.surface.items.getBBox(),t.width===-1/0&&t.height===-1/0&&(t.width=t.height=t.x=t.y=0),e.surfaceBBox=t),t},publishInnerWidth:function(e,t){e.setContentWidth(t-e.getFrameInfo().width,!0)},publishInnerHeight:function(e,t){e.setContentHeight(t-e.getFrameInfo().height,!0)},finishedLayout:function(e){var t=e.props,n=e.getPaddingInfo();this.owner.setSurfaceSize(t.contentWidth-n.width,t.contentHeight-n.height),this.callParent(arguments)}}),Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:Ext.Component,enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:!0,shrinkWrap:3,autoSize:!1,initComponent:function(){this.callParent(arguments),this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave","click","dblclick")},onRender:function(){var e,t,n,i,r,o,a=this,s=a.viewBox,l=a.autoSize;a.callParent(arguments),a.createSurface()!==!1&&(t=a.surface.items,(s||l)&&(e=t.getBBox(),n=e.width,i=e.height,r=e.x,o=e.y,a.viewBox?a.surface.setViewBox(r,o,n,i):a.autoSizeSurface()))},autoSizeSurface:function(){var e=this.surface.items.getBBox();this.setSurfaceSize(e.width,e.height)},setSurfaceSize:function(e,t){if(this.surface.setSize(e,t),this.autoSize){var n=this.surface.items.getBBox();this.surface.setViewBox(n.x,n.y-+Ext.isOpera,e,t)}},createSurface:function(){function e(e){return function(t){n.fireEvent(e,t)}}var t,n=this,i=Ext.applyIf({renderTo:n.el,height:n.height,width:n.width,items:n.items},n.initialConfig);return delete i.listeners,i.gradients||(i.gradients=n.gradients),(t=Ext.draw.Surface.create(i,n.enginePriority))?(n.surface=t,t.on({scope:n,mouseup:e("mouseup"),mousedown:e("mousedown"),mousemove:e("mousemove"),mouseenter:e("mouseenter"),mouseleave:e("mouseleave"),click:e("click"),dblclick:e("dblclick")}),void 0):!1},onDestroy:function(){Ext.destroy(this.surface),this.callParent(arguments)}}),Ext.chart=Ext.chart||{},Ext.define("Ext.chart.theme.Theme",function(){return function(){Ext.chart.theme=function(e,t){e=e||{};var n,i,r,o,a,s,l,d,c,u,h=0,f=Ext.Date.now(),g=[];if(e.baseColor&&(c=Ext.draw.Color.fromString(e.baseColor),u=c.getHSL()[2],.15>u?c=c.getLighter(.3):.3>u?c=c.getLighter(.15):u>.85?c=c.getDarker(.3):u>.7&&(c=c.getDarker(.15)),e.colors=[c.getDarker(.3).toString(),c.getDarker(.15).toString(),c.toString(),c.getLighter(.15).toString(),c.getLighter(.3).toString()],delete e.baseColor),e.colors){for(i=e.colors.slice(),a=t.markerThemes,o=t.seriesThemes,n=i.length,t.colors=i;n>h;h++)r=i[h],l=a[h]||{},s=o[h]||{},l.fill=s.fill=l.stroke=s.stroke=r,a[h]=l,o[h]=s;t.markerThemes=a.slice(0,n),t.seriesThemes=o.slice(0,n)}for(d in t)d in e&&(Ext.isObject(e[d])&&Ext.isObject(t[d])?Ext.apply(t[d],e[d]):t[d]=e[d]);if(e.useGradients){for(i=t.colors||function(){var e=[];for(h=0,o=t.seriesThemes,n=o.length;n>h;h++)e.push(o[h].fill||o[h].stroke);return e}(),h=0,n=i.length;n>h;h++)c=Ext.draw.Color.fromString(i[h]),c&&(r=c.getDarker(.1).toString(),c=c.toString(),d="theme-"+c.substr(1)+"-"+r.substr(1)+"-"+f,g.push({id:d,angle:45,stops:{0:{color:c.toString()},100:{color:r.toString()}}}),i[h]="url(#"+d+")");t.gradients=g,t.colors=i}Ext.apply(this,t)}}(),{theme:"Base",themeAttrs:!1,initTheme:function(e){var t,n,i=this,r=Ext.chart.theme;if(e){e=e.split(":");for(t in r)if(t==e[0])return n="gradients"==e[1],i.themeAttrs=new r[t]({useGradients:n}),n&&(i.gradients=i.themeAttrs.gradients),i.themeAttrs.background&&(i.background=i.themeAttrs.background),void 0}}}}()),Ext.define("Ext.chart.MaskLayer",{extend:Ext.Component,constructor:function(e){e=Ext.apply(e||{},{style:"position:absolute;background-color:#ff9;cursor:crosshair;opacity:0.5;border:1px solid #00f;"}),this.callParent([e])},initComponent:function(){var e=this;e.callParent(arguments),e.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave")},initDraggable:function(){this.callParent(arguments),this.dd.onStart=function(){var e=this,t=e.comp;this.startPosition=t.getPosition(!0),t.ghost&&!t.liveDrag&&(e.proxy=t.ghost(),e.dragTarget=e.proxy.header.el),(e.constrain||e.constrainDelegate)&&(e.constrainTo=e.calculateConstrainRegion())}}}),Ext.define("Ext.chart.Mask",{constructor:function(e){var t=this;t.addEvents("select"),e&&Ext.apply(t,e),t.enableMask&&t.on("afterrender",function(){var e=new Ext.chart.MaskLayer({renderTo:t.el,hidden:!0});e.el.on({mousemove:function(e){t.onMouseMove(e)},mouseup:function(e){t.onMouseUp(e)}}),e.initDraggable(),t.maskType=t.mask,t.mask=e,t.maskSprite=t.surface.add({type:"path",path:["M",0,0],zIndex:1001,opacity:.6,hidden:!0,stroke:"#00f",cursor:"crosshair"})},t,{single:!0})},onMouseUp:function(e){var t,n=this,i=n.bbox||n.chartBBox;n.maskMouseDown=!1,n.mouseDown=!1,n.mouseMoved&&(n.handleMouseEvent(e),n.mouseMoved=!1,t=n.maskSelection,n.fireEvent("select",n,{x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}))},onMouseDown:function(e){this.handleMouseEvent(e)},onMouseMove:function(e){this.handleMouseEvent(e)},handleMouseEvent:function(e){var t,n=this,i=n.maskType,r=n.bbox||n.chartBBox,o=r.x,a=r.y,s=Math,l=s.floor,d=s.abs,c=s.min,u=s.max,h=l(a+r.height),f=l(o+r.width),g=e.getPageX()-n.el.getX(),p=e.getPageY()-n.el.getY(),m=n.maskMouseDown;g=u(g,o),p=u(p,a),g=c(g,f),p=c(p,h),"mousedown"===e.type?(n.mouseDown=!0,n.mouseMoved=!1,n.maskMouseDown={x:g,y:p}):(n.mouseMoved=n.mouseDown,m&&n.mouseDown?("horizontal"==i?(p=a,m.y=h):"vertical"==i&&(g=o,m.x=f),f=m.x-g,h=m.y-p,t=["M",g,p,"l",f,0,0,h,-f,0,"z"],n.maskSelection={x:(f>0?g:g+f)+n.el.getX(),y:(h>0?p:p+h)+n.el.getY(),width:d(f),height:d(h)},n.mask.updateBox(n.maskSelection),n.mask.show(),n.maskSprite.setAttributes({hidden:!0},!0)):(t="horizontal"==i?["M",g,a,"L",g,h]:"vertical"==i?["M",o,p,"L",f,p]:["M",g,a,"L",g,h,"M",o,p,"L",f,p],n.maskSprite.setAttributes({path:t,"stroke-width":i===!0?1:1,hidden:!1},!0)))},onMouseLeave:function(){var e=this;e.mouseMoved=!1,e.mouseDown=!1,e.maskMouseDown=!1,e.mask.hide(),e.maskSprite.hide(!0)}}),Ext.define("Ext.chart.Navigation",{setZoom:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f=this,g=f.axes.items,p=f.chartBBox,m=p.width,x=p.height,y={x:e.x-f.el.getX(),y:e.y-f.el.getY(),width:e.width,height:e.height};for(t=0,n=g.length;n>t;t++)i=g[t],h="bottom"==i.position||"top"==i.position,"Category"==i.type?(l||(l=f.getChartStore(),d=l.data.items.length),r=y,u=i.length,c=Math.round(u/d),h?(a=r.x?Math.floor(r.x/c)+1:0,s=(r.x+r.width)/c):(a=r.y?Math.floor(r.y/c)+1:0,s=(r.y+r.height)/c)):(r={x:y.x/m,y:y.y/x,width:y.width/m,height:y.height/x},o=i.calcEnds(),h?(a=(o.to-o.from)*r.x+o.from,s=(o.to-o.from)*r.width+a):(s=(o.to-o.from)*(1-r.y)+o.from,a=s-(o.to-o.from)*r.height)),i.minimum=a,i.maximum=s,h?i.doConstrain&&"vertical"!=f.maskType&&i.doConstrain():i.doConstrain&&"horizontal"!=f.maskType&&i.doConstrain();f.redraw(!1)},restoreZoom:function(){var e,t,n,i=this,r=i.axes.items;for(i.setSubStore(null),e=0,t=r.length;t>e;e++)n=r[e],delete n.minimum,delete n.maximum;i.redraw(!1)}}),Ext.define("Ext.chart.Shape",{singleton:!0,circle:function(e,t){return e.add(Ext.apply({type:"circle",x:t.x,y:t.y,stroke:null,radius:t.radius},t))},line:function(e,t){return e.add(Ext.apply({type:"rect",x:t.x-t.radius,y:t.y-t.radius,height:2*t.radius,width:2*t.radius/5},t))},square:function(e,t){return e.add(Ext.applyIf({type:"rect",x:t.x-t.radius,y:t.y-t.radius,height:2*t.radius,width:2*t.radius,radius:null},t))},triangle:function(e,t){return t.radius*=1.75,e.add(Ext.apply({type:"path",stroke:null,path:"M".concat(t.x,",",t.y,"m0-",.58*t.radius,"l",.5*t.radius,",",.87*t.radius,"-",t.radius,",0z")},t))},diamond:function(e,t){var n=t.radius;return n*=1.5,e.add(Ext.apply({type:"path",stroke:null,path:["M",t.x,t.y-n,"l",n,n,-n,n,-n,-n,n,-n,"z"]},t))},cross:function(e,t){var n=t.radius;return n/=1.7,e.add(Ext.apply({type:"path",stroke:null,path:"M".concat(t.x-n,",",t.y,"l",[-n,-n,n,-n,n,n,n,-n,n,n,-n,n,n,n,-n,n,-n,-n,-n,n,-n,-n,"z"])},t))},plus:function(e,t){var n=t.radius/1.3;return e.add(Ext.apply({type:"path",stroke:null,path:"M".concat(t.x-n/2,",",t.y-n/2,"l",[0,-n,n,0,0,n,n,0,0,n,-n,0,0,n,-n,0,0,-n,-n,0,0,-n,"z"])},t))},arrow:function(e,t){var n=t.radius;return e.add(Ext.apply({type:"path",path:"M".concat(t.x-.7*n,",",t.y-.4*n,"l",[.6*n,0,0,.4*-n,n,.8*n,-n,.8*n,0,.4*-n,.6*-n,0],"z")},t))},drop:function(e,t,n,i,r,o){r=r||30,o=o||0,e.add({type:"path",path:["M",t,n,"l",r,0,"A",.4*r,.4*r,0,1,0,t+.7*r,n-.7*r,"z"],fill:"#000",stroke:"none",rotate:{degrees:22.5-o,x:t,y:n}}),o=(o+90)*Math.PI/180,e.add({type:"text",x:t+r*Math.sin(o)-10,y:n+r*Math.cos(o)+5,text:i,"font-size":12*r/40,stroke:"none",fill:"#fff"})}}),Ext.define("Ext.chart.LegendItem",{extend:Ext.draw.CompositeSprite,hiddenSeries:!1,label:void 0,x:0,y:0,zIndex:500,boldRe:/bold\s\d{1,}.*/i,constructor:function(e){this.callParent(arguments),this.createLegend(e)},createLegend:function(e){var t=this,n=t.series,i=e.yFieldIndex;t.label=t.createLabel(e),t.createSeriesMarkers(e),t.setAttributes({hidden:!1},!0),t.yFieldIndex=i,t.on("mouseover",t.onMouseOver,t),t.on("mouseout",t.onMouseOut,t),t.on("mousedown",t.onMouseDown,t),n.visibleInLegend(i)||(t.hiddenSeries=!0,t.label.setAttributes({opacity:.5},!0)),t.updatePosition({x:0,y:0})
},getLabelText:function(){function e(e){var t=n[e];return Ext.isArray(t)?t[i]:t}var t=this,n=t.series,i=t.yFieldIndex;return e("title")||e("yField")},createLabel:function(){var e=this,t=e.legend;return e.add("label",e.surface.add({type:"text",x:20,y:0,zIndex:(e.zIndex||0)+2,fill:t.labelColor,font:t.labelFont,text:e.getLabelText(),style:{cursor:"pointer"}}))},createSeriesMarkers:function(e){var t=this,n=e.yFieldIndex,i=t.series,r=i.type,o=(t.surface,t.zIndex);if("line"===r||"scatter"===r){if("line"===r){var a=Ext.apply(i.seriesStyle,i.style);t.drawLine(.5,.5,16.5,.5,o,a,n)}if(i.showMarkers||"scatter"===r){var s=Ext.apply(i.markerStyle,i.markerConfig||{},{fill:i.getLegendColor(n)});t.drawMarker(8.5,.5,o,s)}}else t.drawFilledBox(12,12,o,n)},drawLine:function(e,t,n,i,r,o,a){var s=this,l=s.surface,d=s.series;return s.add("line",l.add({type:"path",path:"M"+e+","+t+"L"+n+","+i,zIndex:(r||0)+2,"stroke-width":d.lineWidth,"stroke-linejoin":"round","stroke-dasharray":d.dash,stroke:o.stroke||d.getLegendColor(a)||"#000",style:{cursor:"pointer"}}))},drawMarker:function(e,t,n,i){var r=this,o=r.surface;return r.series,r.add("marker",Ext.chart.Shape[i.type](o,{fill:i.fill,x:e,y:t,zIndex:(n||0)+2,radius:i.radius||i.size,style:{cursor:"pointer"}}))},drawFilledBox:function(e,t,n,i){var r=this,o=r.surface,a=r.series;return r.add("box",o.add({type:"rect",zIndex:(n||0)+2,x:0,y:0,width:e,height:t,fill:a.getLegendColor(i),style:{cursor:"pointer"}}))},onMouseOver:function(){var e=this;e.label.setStyle({"font-weight":"bold"}),e.series._index=e.yFieldIndex,e.series.highlightItem()},onMouseOut:function(){var e=this,t=e.legend,n=e.boldRe;e.label.setStyle({"font-weight":t.labelFont&&n.test(t.labelFont)?"bold":"normal"}),e.series._index=e.yFieldIndex,e.series.unHighlightItem()},onMouseDown:function(){var e=this,t=e.yFieldIndex;e.hiddenSeries?(e.series.showAll(t),e.label.setAttributes({opacity:1},!0)):(e.series.hideAll(t),e.label.setAttributes({opacity:.5},!0)),e.hiddenSeries=!e.hiddenSeries,e.legend.chart.redraw()},updatePosition:function(e){var t,n=this,i=n.items,r=i.length,o=0;for(e||(e=n.legend);r>o;o++)switch(t=i[o],t.type){case"text":t.setAttributes({x:20+e.x+n.x,y:e.y+n.y},!0);break;case"rect":t.setAttributes({translate:{x:e.x+n.x,y:e.y+n.y-6}},!0);break;default:t.setAttributes({translate:{x:e.x+n.x,y:e.y+n.y}},!0)}}}),Ext.define("Ext.chart.Legend",{visible:!0,update:!0,position:"bottom",x:0,y:0,labelColor:"#000",labelFont:"12px Helvetica, sans-serif",boxStroke:"#000",boxStrokeWidth:1,boxFill:"#FFF",itemSpacing:10,padding:5,width:0,height:0,boxZIndex:100,constructor:function(e){var t=this;e&&Ext.apply(t,e),t.items=[],t.isVertical=-1!=="left|right|float".indexOf(t.position),t.origX=t.x,t.origY=t.y},create:function(){var e,t,n,i=this,r=i.chart.series.items;if(i.createBox(),i.rebuild!==!1&&i.createItems(),!i.created&&i.isDisplayed())for(i.created=!0,e=0,t=r.length;t>e;e++)n=r[e],n.on("titlechange",i.redraw,i)},redraw:function(){var e=this;e.create(),e.updatePosition()},isDisplayed:function(){return this.visible&&-1!==this.chart.series.findIndex("showInLegend",!0)},createItems:function(){var e,t,n,i,r,o,a,s=this,l=s.chart.series.items,d=s.items;for(s.removeItems(),t=0,n=l.length;n>t;t++)if(o=l[t],o.showInLegend)for(e=[].concat(o.yField),i=0,r=e.length;r>i;i++)a=s.createLegendItem(o,i),d.push(a);s.alignItems()},removeItems:function(){var e,t=this,n=t.items,i=n?n.length:0;if(i)for(e=0;i>e;e++)n[e].destroy();n.length=[]},alignItems:function(){var e,t,n,i,r,o=this,a=o.padding,s=o.isVertical,l=Math.floor;e=o.updateItemDimensions(),t=e.maxWidth,n=e.maxHeight,i=e.totalWidth,r=e.totalHeight,o.width=l((s?t:i)+2*a),o.height=l((s?r:n)+2*a)},updateItemDimensions:function(){var e,t,n,i,r,o,a=this,s=a.items,l=a.padding,d=a.itemSpacing,c=0,u=0,h=0,f=0,g=a.isVertical,p=Math.floor,m=Math.max,x=0;for(e=0,t=s.length;t>e;e++)n=s[e],i=n.getBBox(),r=i.width,o=i.height,x=0===e?0:d,n.x=l+p(g?0:h+x),n.y=l+p(g?f+x:0)+o/2,h+=x+r,f+=x+o,c=m(c,r),u=m(u,o);return{totalWidth:h,totalHeight:f,maxWidth:c,maxHeight:u}},createLegendItem:function(e,t){var n=this;return new Ext.chart.LegendItem({legend:n,series:e,surface:n.chart.surface,yFieldIndex:t})},getBBox:function(){var e=this;return{x:Math.round(e.x)-e.boxStrokeWidth/2,y:Math.round(e.y)-e.boxStrokeWidth/2,width:e.width+e.boxStrokeWidth,height:e.height+e.boxStrokeWidth}},createBox:function(){var e,t,n=this;return n.boxSprite&&n.boxSprite.destroy(),t=n.getBBox(),isNaN(t.width)||isNaN(t.height)?(n.boxSprite=!1,void 0):(e=n.boxSprite=n.chart.surface.add(Ext.apply({type:"rect",stroke:n.boxStroke,"stroke-width":n.boxStrokeWidth,fill:n.boxFill,zIndex:n.boxZIndex},t)),e.redraw(),void 0)},calcPosition:function(){var e,t,n=this,i=n.width,r=n.height,o=n.chart,a=o.chartBBox,s=o.insetPadding,l=a.width-2*s,d=a.height-2*s,c=a.x+s,u=a.y+s,h=o.surface,f=Math.floor;switch(n.position){case"left":e=s,t=f(u+d/2-r/2);break;case"right":e=f(h.width-i)-s,t=f(u+d/2-r/2);break;case"top":e=f(c+l/2-i/2),t=s;break;case"bottom":e=f(c+l/2-i/2),t=f(h.height-r)-s;break;default:e=f(n.origX)+s,t=f(n.origY)+s}return{x:e,y:t}},updatePosition:function(){var e,t,n,i,r=this,o=r.items;if(r.isDisplayed()){for(e=r.calcPosition(),r.x=e.x,r.y=e.y,t=0,n=o.length;n>t;t++)o[t].updatePosition();i=r.getBBox(),isNaN(i.width)||isNaN(i.height)?r.boxSprite&&r.boxSprite.hide(!0):(r.boxSprite||r.createBox(),r.boxSprite.setAttributes(i,!0),r.boxSprite.show(!0))}},toggle:function(e){var t=this,n=0,i=t.items,r=i.length;for(t.boxSprite&&(e?t.boxSprite.show(!0):t.boxSprite.hide(!0));r>n;++n)e?i[n].show(!0):i[n].hide(!0);t.visible=e}}),Ext.define("Ext.chart.theme.Base",{constructor:function(e){var t=Ext.identityFn;Ext.chart.theme.call(this,e,{background:!1,axis:{stroke:"#444","stroke-width":1},axisLabelTop:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:t},axisLabelRight:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:t},axisLabelBottom:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:t},axisLabelLeft:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:t},axisTitleTop:{font:"bold 18px Arial",fill:"#444"},axisTitleRight:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},axisTitleBottom:{font:"bold 18px Arial",fill:"#444"},axisTitleLeft:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},series:{"stroke-width":0},seriesLabel:{font:"12px Arial",fill:"#333"},marker:{stroke:"#555",radius:3,size:3},colors:["#94ae0a","#115fa6","#a61120","#ff8809","#ffd13e","#a61187","#24ad9a","#7c7474","#a66111"],seriesThemes:[{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#a66111"}],markerThemes:[{fill:"#115fa6",type:"circle"},{fill:"#94ae0a",type:"cross"},{fill:"#115fa6",type:"plus"},{fill:"#94ae0a",type:"circle"},{fill:"#a61120",type:"cross"}]})}},function(){for(var e=["#b1da5a","#4ce0e7","#e84b67","#da5abd","#4d7fe6","#fec935"],t=["Green","Sky","Red","Purple","Blue","Yellow"],n=0,i=e.length,r=Ext.chart.theme,o=[["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]],a=o.length;i>n;n++)r[t[n]]=function(e){return Ext.extend(r.Base,{constructor:function(t){r.Base.prototype.constructor.call(this,Ext.apply({baseColor:e},t))}})}(e[n]);for(n=0;a>n;n++)r["Category"+(n+1)]=function(e){return Ext.extend(r.Base,{constructor:function(t){r.Base.prototype.constructor.call(this,Ext.apply({colors:e},t))}})}(o[n])}),Ext.define("Ext.chart.Chart",{extend:Ext.draw.Component,alias:"widget.chart",mixins:{themeManager:Ext.chart.theme.Theme,mask:Ext.chart.Mask,navigation:Ext.chart.Navigation,bindable:Ext.util.Bindable,observable:Ext.util.Observable},viewBox:!1,animate:!1,legend:!1,insetPadding:10,background:!1,constructor:function(e){var t,n=this;e=Ext.apply({},e),n.initTheme(e.theme||n.theme),n.gradients&&Ext.apply(e,{gradients:n.gradients}),n.background&&Ext.apply(e,{background:n.background}),e.animate&&(t={easing:"ease",duration:500},e.animate=Ext.isObject(e.animate)?Ext.applyIf(e.animate,t):t),n.mixins.observable.constructor.call(n,e),e.enableMask&&n.mixins.mask.constructor.call(n),n.mixins.navigation.constructor.call(n),n.callParent([e])},getChartStore:function(){return this.substore||this.store},initComponent:function(){var e,t,n=this;n.callParent(),n.addEvents("itemmousedown","itemmouseup","itemmouseover","itemmouseout","itemclick","itemdblclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh"),Ext.applyIf(n,{zoom:{width:1,height:1,x:0,y:0}}),n.maxGutters={left:0,right:0,bottom:0,top:0},n.store=Ext.data.StoreManager.lookup(n.store),e=n.axes,n.axes=new Ext.util.MixedCollection(!1,function(e){return e.position}),e&&n.axes.addAll(e),t=n.series,n.series=new Ext.util.MixedCollection(!1,function(e){return e.seriesId||(e.seriesId=Ext.id(null,"ext-chart-series-"))}),t&&n.series.addAll(t),n.legend!==!1&&(n.legend=new Ext.chart.Legend(Ext.applyIf({chart:n},n.legend))),n.on({mousemove:n.onMouseMove,mouseleave:n.onMouseLeave,mousedown:n.onMouseDown,mouseup:n.onMouseUp,click:n.onClick,dblclick:n.onDblClick,scope:n})},afterComponentLayout:function(e,t,n,i){var r=this;Ext.isNumber(e)&&Ext.isNumber(t)&&(e!==n||t!==i?(r.curWidth=e,r.curHeight=t,r.redraw(!0),r.needsRedraw=!1):r.needsRedraw&&(r.redraw(),r.needsRedraw=!1)),this.callParent(arguments)},redraw:function(e){var t,n,i,r=this,o=r.series.items,a=o.length,s=r.axes.items,l=s.length,d=0,c=r.chartBBox={x:0,y:0,height:r.curHeight,width:r.curWidth},u=r.legend;for(r.surface.setSize(c.width,c.height),t=0;a>t;t++)n=o[t],i=n.initialized?n:r.initializeSeries(n,t,d),i.onRedraw(),Ext.isArray(n.yField)?d+=n.yField.length:++d;for(t=0;l>t;t++)n=s[t],n.initialized||r.initializeAxis(n);for(t=0;l>t;t++)s[t].processView();for(t=0;l>t;t++)s[t].drawAxis(!0);for(u!==!1&&u.visible&&(u.update||!u.created)&&u.create(),r.alignAxes(),u!==!1&&u.visible&&u.updatePosition(),r.getMaxGutters(),r.resizing=!!e,t=0;l>t;t++)s[t].drawAxis();for(t=0;a>t;t++)r.drawCharts(o[t]);r.resizing=!1},afterRender:function(){var e=this;e.callParent(arguments),e.categoryNames&&e.setCategoryNames(e.categoryNames),e.bindStore(e.store,!0),e.refresh(),"Vml"===e.surface.engine&&(e.on("added",e.onAddedVml,e),e.mon(e.hierarchyEventSource,"added",e.onContainerAddedVml,e))},onAddedVml:function(){this.needsRedraw=!0},onContainerAddedVml:function(e){this.isDescendantOf(e)&&(this.needsRedraw=!0)},getEventXY:function(e){var t=this.surface.getRegion(),n=e.getXY(),i=n[0]-t.left,r=n[1]-t.top;return[i,r]},onClick:function(e){this.handleClick("itemclick",e)},onDblClick:function(e){this.handleClick("itemdblclick",e)},handleClick:function(e,t){var n,i,r,o,a=this,s=a.getEventXY(t),l=a.series.items;for(n=0,i=l.length;i>n;n++)r=l[n],Ext.draw.Draw.withinBox(s[0],s[1],r.bbox)&&r.getItemForPoint&&(o=r.getItemForPoint(s[0],s[1]),o&&r.fireEvent(e,o))},onMouseDown:function(e){var t,n,i,r,o=this,a=o.getEventXY(e),s=o.series.items;for(o.enableMask&&o.mixins.mask.onMouseDown.call(o,e),t=0,n=s.length;n>t;t++)i=s[t],Ext.draw.Draw.withinBox(a[0],a[1],i.bbox)&&i.getItemForPoint&&(r=i.getItemForPoint(a[0],a[1]),r&&i.fireEvent("itemmousedown",r))},onMouseUp:function(e){var t,n,i,r,o=this,a=o.getEventXY(e),s=o.series.items;for(o.enableMask&&o.mixins.mask.onMouseUp.call(o,e),t=0,n=s.length;n>t;t++)i=s[t],Ext.draw.Draw.withinBox(a[0],a[1],i.bbox)&&i.getItemForPoint&&(r=i.getItemForPoint(a[0],a[1]),r&&i.fireEvent("itemmouseup",r))},onMouseMove:function(e){var t,n,i,r,o,a,s,l=this,d=l.getEventXY(e),c=l.series.items;for(l.enableMask&&l.mixins.mask.onMouseMove.call(l,e),t=0,n=c.length;n>t;t++)i=c[t],Ext.draw.Draw.withinBox(d[0],d[1],i.bbox)?i.getItemForPoint&&(r=i.getItemForPoint(d[0],d[1]),o=i._lastItemForPoint,a=i._lastStoreItem,s=i._lastStoreField,(r!==o||r&&(r.storeItem!=a||r.storeField!=s))&&(o&&(i.fireEvent("itemmouseout",o),delete i._lastItemForPoint,delete i._lastStoreField,delete i._lastStoreItem),r&&(i.fireEvent("itemmouseover",r),i._lastItemForPoint=r,i._lastStoreItem=r.storeItem,i._lastStoreField=r.storeField))):(o=i._lastItemForPoint,o&&(i.fireEvent("itemmouseout",o),delete i._lastItemForPoint,delete i._lastStoreField,delete i._lastStoreItem))},onMouseLeave:function(e){var t,n,i,r=this,o=r.series.items;for(r.enableMask&&r.mixins.mask.onMouseLeave.call(r,e),t=0,n=o.length;n>t;t++)i=o[t],delete i._lastItemForPoint},delayRefresh:function(){var e=this;e.refreshTask||(e.refreshTask=new Ext.util.DelayedTask(e.refresh,e)),e.refreshTask.delay(e.refreshBuffer)},refresh:function(){var e=this;if(e.rendered&&void 0!==e.curWidth&&void 0!==e.curHeight){if(!e.isVisible(!0))return e.refreshPending||(e.setShowListeners("mon"),e.refreshPending=!0),void 0;e.fireEvent("beforerefresh",e)!==!1&&(e.redraw(),e.fireEvent("refresh",e))}},onShow:function(){var e=this;e.callParent(arguments),e.refreshPending&&(e.delayRefresh(),e.setShowListeners("mun")),delete e.refreshPending},setShowListeners:function(e){var t=this;t[e](t.hierarchyEventSource,{scope:t,single:!0,show:t.forceRefresh,expand:t.forceRefresh})},doRefresh:function(){this.setSubStore(null),this.refresh()},forceRefresh:function(e){var t=this;t.isDescendantOf(e)&&t.refreshPending&&(t.setShowListeners("mun"),t.delayRefresh()),delete t.refreshPending},bindStore:function(e,t){var n=this;n.mixins.bindable.bindStore.apply(n,arguments),n.store&&!t&&n.refresh()},getStoreListeners:function(){var e=this.doRefresh,t=this.delayRefresh;return{refresh:e,add:t,bulkremove:t,update:t,clear:e}},setSubStore:function(e){this.substore=e},initializeAxis:function(e){var t=this,n=t.chartBBox,i=n.width,r=n.height,o=n.x,a=n.y,s=t.themeAttrs,l={chart:t};switch(s&&(l.axisStyle=Ext.apply({},s.axis),l.axisLabelLeftStyle=Ext.apply({},s.axisLabelLeft),l.axisLabelRightStyle=Ext.apply({},s.axisLabelRight),l.axisLabelTopStyle=Ext.apply({},s.axisLabelTop),l.axisLabelBottomStyle=Ext.apply({},s.axisLabelBottom),l.axisTitleLeftStyle=Ext.apply({},s.axisTitleLeft),l.axisTitleRightStyle=Ext.apply({},s.axisTitleRight),l.axisTitleTopStyle=Ext.apply({},s.axisTitleTop),l.axisTitleBottomStyle=Ext.apply({},s.axisTitleBottom)),e.position){case"top":Ext.apply(l,{length:i,width:r,x:o,y:a});break;case"bottom":Ext.apply(l,{length:i,width:r,x:o,y:r});break;case"left":Ext.apply(l,{length:r,width:i,x:o,y:r});break;case"right":Ext.apply(l,{length:r,width:i,x:i,y:r})}e.chart?Ext.apply(e,l):(Ext.apply(l,e),e=t.axes.replace(Ext.createByAlias("axis."+e.type.toLowerCase(),l))),e.initialized=!0},getInsets:function(){var e=this,t=e.insetPadding;return{top:t,right:t,bottom:t,left:t}},calculateInsets:function(){function e(e){var t=c.findIndex("position",e);return 0>t?null:c.getAt(t)}var t,n,i,r,o,a,s,l=this,d=l.legend,c=l.axes,u=["top","right","bottom","left"];for(t=l.getInsets(),n=0,i=u.length;i>n;n++)r=u[n],o="left"===r||"right"===r,a=e(r),d!==!1&&d.position===r&&(s=d.getBBox(),t[r]+=(o?s.width:s.height)+l.insetPadding),a&&a.bbox&&(s=a.bbox,t[r]+=o?s.width:s.height);return t},alignAxes:function(){var e,t,n,i,r,o,a,s=this,l=s.axes.items;for(e=s.calculateInsets(),t={x:e.left,y:e.top,width:s.curWidth-e.left-e.right,height:s.curHeight-e.top-e.bottom},s.chartBBox=t,n=0,i=l.length;i>n;n++)r=l[n],o=r.position,a="left"===o||"right"===o,r.x="right"===o?t.x+t.width:t.x,r.y="top"===o?t.y:t.y+t.height,r.width=a?t.width:t.height,r.length=a?t.height:t.width},initializeSeries:function(e,t,n){var r,o,a,s,l,d,c,u=this,h=u.themeAttrs,f=[],g=(e instanceof Ext.chart.series.Series).i=0;if(!e.initialized){if(c={chart:u,seriesId:e.seriesId},h){if(a=h.seriesThemes,l=h.markerThemes,r=Ext.apply({},h.series),o=Ext.apply({},h.marker),c.seriesStyle=Ext.apply(r,a[n%a.length]),c.seriesLabelStyle=Ext.apply({},h.seriesLabel),c.markerStyle=Ext.apply(o,l[n%l.length]),h.colors)c.colorArrayStyle=h.colors;else{for(f=[],d=a.length;d>i;i++)s=a[i],(s.fill||s.stroke)&&f.push(s.fill||s.stroke);f.length&&(c.colorArrayStyle=f)}c.seriesIdx=t,c.themeIdx=n}g?Ext.applyIf(e,c):(Ext.applyIf(c,e),e=u.series.replace(Ext.createByAlias("series."+e.type.toLowerCase(),c)))}return e.initialize&&e.initialize(),e.initialized=!0,e},getMaxGutters:function(){var e,t,n,i=this,r=i.series.items,o=0,a=0,s=0,l=0;for(e=0,t=r.length;t>e;e++)n=r[e].getGutters(),n&&(n.verticalAxis?(s=Math.max(s,n.lower),l=Math.max(l,n.upper)):(o=Math.max(o,n.lower),a=Math.max(a,n.upper)));i.maxGutters={left:o,right:a,bottom:s,top:l}},drawAxis:function(e){e.drawAxis()},drawCharts:function(e){e.triggerafterrender=!1,e.drawSeries(),this.animate||e.fireEvent("afterrender")},save:function(e){return Ext.draw.Surface.save(this.surface,e)},destroy:function(){Ext.destroy(this.surface),this.bindStore(null),this.callParent(arguments)}}),Ext.define("Ext.chart.Highlight",{highlight:!1,highlightCfg:{fill:"#fdd","stroke-width":5,stroke:"#f55"},constructor:function(e){e.highlight&&"boolean"!=typeof e.highlight&&(this.highlightCfg=Ext.merge({},this.highlightCfg,e.highlight))},highlightItem:function(e){if(e){var t,n,i,r,o=this,a=e.sprite,s=Ext.merge({},o.highlightCfg,o.highlight),l=o.chart.surface,d=o.chart.animate;if(o.highlight&&a&&!a._highlighted){if(a._anim&&(a._anim.paused=!0),a._highlighted=!0,!a._defaults){a._defaults=Ext.apply({},a.attr),n={},i={};for(t in s)if(t in a._defaults||(a._defaults[t]=l.availableAttrs[t]),n[t]=a._defaults[t],i[t]=s[t],Ext.isObject(s[t])){n[t]={},i[t]={},Ext.apply(a._defaults[t],a.attr[t]),Ext.apply(n[t],a._defaults[t]);for(r in a._defaults[t])i[t][r]=r in s[t]?s[t][r]:n[t][r];for(r in s[t])r in i[t]||(i[t][r]=s[t][r])}a._from=n,a._to=i,a._endStyle=i}d?a._anim=new Ext.fx.Anim({target:a,from:a._from,to:a._to,duration:150}):a.setAttributes(a._to,!0)}}},unHighlightItem:function(){if(this.highlight&&this.items)for(var e,t,n,i=this,r=i.items,o=r.length,a=Ext.merge({},i.highlightCfg,i.highlight),s=i.chart.animate,l=0;o>l;l++)if(r[l]&&(n=r[l].sprite,n&&n._highlighted)){n._anim&&(n._anim.paused=!0),e={};for(t in a)e[t]=Ext.isObject(n._defaults[t])?Ext.apply({},n._defaults[t]):n._defaults[t];s?(n._endStyle=e,n._anim=new Ext.fx.Anim({target:n,to:e,duration:150})):n.setAttributes(e,!0),delete n._highlighted}},cleanHighlights:function(){if(this.highlight){var e,t=this.group,n=this.markerGroup,i=0;for(e=t.getCount();e>i;i++)delete t.getAt(i)._defaults;if(n)for(e=n.getCount();e>i;i++)delete n.getAt(i)._defaults}}}),Ext.define("Ext.chart.Label",{colorStringRe:/url\s*\(\s*#([^\/)]+)\s*\)/,constructor:function(){var e=this;e.label=Ext.applyIf(e.label||{},{display:"none",stackedDisplay:"none",color:"#000",field:"name",minMargin:50,font:"11px Helvetica, sans-serif",orientation:"horizontal",renderer:Ext.identityFn}),"none"!==e.label.display&&(e.labelsGroup=e.chart.surface.getGroup(e.seriesId+"-labels"))},renderLabels:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,y,E,v,b,C,w=this,S=w.chart,P=S.gradients,k=w.items,T=S.animate,I=w.label,M=I.display,D=I.stackedDisplay,A=I.renderer,R=I.color,F=[].concat(I.field),L=w.labelsGroup,O=(L||0)&&L.length,B=w.chart.getChartStore(),N=B.getCount(),H=(k||0)&&k.length,W=H/N,z=(P||0)&&P.length,V=Ext.draw.Color,G=[];if("none"!=M&&L){if(0==H)for(;O--;)G.push(O);else{for(t=0,n=0,i=0;N>t;t++)for(r=0,o=0;W>o;o++){for(c=k[n],u=L.getAt(i),h=B.getAt(t);this.__excludes&&this.__excludes[r];)r++;if(!c&&u&&(u.hide(!0),i++),c&&F[o]){if(!u&&(u=w.onCreateLabel(h,c,t,M),!u))break;if(u.setAttributes({fill:String(R)},!0),w.onPlaceLabel(u,h,c,t,M,T,r),i++,I.contrast&&c.sprite){if(f=c.sprite,x=T&&f._endStyle?f._endStyle.fill:T&&f._to?f._to.fill:f.attr.fill,x=x||f.attr.fill,g=V.fromString(x),x&&!g){for(x=x.match(w.colorStringRe)[1],a=0;z>a;a++)if(e=P[a],e.id==x){d=0,s=0;for(l in e.stops)d++,s+=V.fromString(e.stops[l].color).getGrayscale();p=s/d/255;break}}else p=g.getGrayscale()/255;u.isOutside&&(p=1),m=V.fromString(u.attr.fill||u.attr.color).getHSL(),m[2]=p>.5?.2:.8,u.setAttributes({fill:String(V.fromHSL.apply({},m))},!0)}w.stacked&&D&&(c.totalPositiveValues||c.totalNegativeValues)&&(E=c.totalPositiveValues||0,v=c.totalNegativeValues||0,y=E+v,"total"==D?b=A(y):"balances"==D&&(0==E&&0==v?b=A(0):(b=A(E),C=A(v))),b&&(u=L.getAt(i),u||(u=w.onCreateLabel(h,c,t,"over")),m=V.fromString(u.attr.color||u.attr.fill).getHSL(),u.setAttributes({text:b,style:I.font,fill:String(V.fromHSL.apply({},m))},!0),w.onPlaceLabel(u,h,c,t,"over",T,r),i++),C&&(u=L.getAt(i),u||(u=w.onCreateLabel(h,c,t,"under")),m=V.fromString(u.attr.color||u.attr.fill).getHSL(),u.setAttributes({text:C,style:I.font,fill:String(V.fromHSL.apply({},m))},!0),w.onPlaceLabel(u,h,c,t,"under",T,r),i++))}n++,r++}for(O=L.length;O>i;)G.push(i),i++}w.hideLabels(G)}},hideLabels:function(e){var t=this.labelsGroup,n=!!e&&e.length;if(t)if(n===!1)for(n=t.getCount();n--;)t.getAt(n).hide(!0);else for(;n--;)t.getAt(e[n]).hide(!0)}}),Ext.define("Ext.chart.TipSurface",{extend:Ext.draw.Component,spriteArray:!1,renderFirst:!0,constructor:function(e){this.callParent([e]),e.sprites&&(this.spriteArray=[].concat(e.sprites),delete e.sprites)},onRender:function(){var e,t,n=this,i=0,r=0;if(this.callParent(arguments),t=n.spriteArray,n.renderFirst&&t)for(n.renderFirst=!1,r=t.length;r>i;i++)e=n.surface.add(t[i]),e.setAttributes({hidden:!1},!0)}}),Ext.define("Ext.chart.Tip",{constructor:function(e){var t,n,i,r=this;e.tips&&(r.tipTimeout=null,r.tipConfig=Ext.apply({},e.tips,{renderer:Ext.emptyFn,constrainPosition:!0,autoHide:!0}),r.tooltip=new Ext.tip.ToolTip(r.tipConfig),r.chart.surface.on("mousemove",r.tooltip.onMouseMove,r.tooltip),r.chart.surface.on("mouseleave",function(){r.hideTip()}),r.tipConfig.surface&&(t=r.tipConfig.surface,n=t.sprites,i=new Ext.chart.TipSurface({id:"tipSurfaceComponent",sprites:n}),t.width&&t.height&&i.setSize(t.width,t.height),r.tooltip.add(i),r.spriteTip=i))},showTip:function(e){var t,n,i,r,o,a,s,l,d,c,u=this;u.tooltip&&(clearTimeout(u.tipTimeout),t=u.tooltip,n=u.spriteTip,i=u.tipConfig,r=t.trackMouse,r||(t.trackMouse=!0,o=e.sprite,a=o.surface,s=Ext.get(a.getId()),s&&(l=s.getXY(),d=l[0]+(o.attr.x||0)+(o.attr.translation&&o.attr.translation.x||0),c=l[1]+(o.attr.y||0)+(o.attr.translation&&o.attr.translation.y||0),t.targetXY=[d,c])),n?i.renderer.call(t,e.storeItem,e,n.surface):i.renderer.call(t,e.storeItem,e),t.show(),t.trackMouse=r)},hideTip:function(){var e=this.tooltip;e&&(clearTimeout(this.tipTimeout),this.tipTimeout=setTimeout(function(){e.hide()},0))}}),Ext.define("Ext.chart.axis.Abstract",{constructor:function(e){e=e||{};var t=this,n=e.position||"left";n=n.charAt(0).toUpperCase()+n.substring(1),e.label=Ext.apply(e["axisLabel"+n+"Style"]||{},e.label||{}),e.axisTitleStyle=Ext.apply(e["axisTitle"+n+"Style"]||{},e.labelTitle||{}),Ext.apply(t,e),t.fields=Ext.Array.from(t.fields),this.callParent(),t.labels=[],t.getId(),t.labelGroup=t.chart.surface.getGroup(t.axisId+"-labels")},alignment:null,grid:!1,steps:10,x:0,y:0,minValue:0,maxValue:0,getId:function(){return this.axisId||(this.axisId=Ext.id(null,"ext-axis-"))},processView:Ext.emptyFn,drawAxis:Ext.emptyFn,addDisplayAndLabels:Ext.emptyFn}),Ext.define("Ext.chart.axis.Axis",{extend:Ext.chart.axis.Abstract,alternateClassName:"Ext.chart.Axis",hidden:!1,forceMinMax:!1,dashSize:3,position:"bottom",skipFirst:!1,length:0,width:0,adjustEnd:!0,majorTickSteps:!1,nullGutters:{lower:0,upper:0,verticalAxis:void 0},applyData:Ext.emptyFn,getRange:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h=this,f=h.chart,g=f.getChartStore(),p=g.data.items,m=f.series.items,x=h.position,y=Ext.chart.series,E=[],v=1/0,b=-1/0,C="left"===h.position||"right"===h.position||"radial"===h.position,w=p.length,S={},P={},k=!0;for(s=h.fields,r=0,n=s.length;n>r;r++)P[s[r]]=!0;for(t=0,n=m.length;n>t;t++)if(!m[t].seriesIsHidden&&m[t].getAxesForXAndYFields&&(e=m[t].getAxesForXAndYFields(),!e.xAxis||e.xAxis===x||!e.yAxis||e.yAxis===x)){if(s=y.Bar&&m[t]instanceof y.Bar&&!m[t].column?C?Ext.Array.from(m[t].xField):Ext.Array.from(m[t].yField):C?Ext.Array.from(m[t].yField):Ext.Array.from(m[t].xField),h.fields.length){for(r=0,i=s.length;i>r&&!P[s[r]];r++);if(r==i)continue}if((a=m[t].stacked)&&(y.Bar&&m[t]instanceof y.Bar?m[t].column!=C&&(a=!1,k=!1):C||(a=!1,k=!1)),a){for(l={},r=0;r<s.length;r++)k&&m[t].__excludes&&m[t].__excludes[r]||(P[s[r]]||Ext.Logger.warn("Field `"+s[r]+"` is not included in the "+x+" axis config."),P[s[r]]=l[s[r]]=!0);E.push({fields:l,positiveValue:0,negativeValue:0})}else for(s&&0!=s.length||(s=h.fields),r=0;r<s.length;r++)k&&m[t].__excludes&&m[t].__excludes[r]||(P[s[r]]=S[s[r]]=!0)}for(t=0;w>t;t++){for(d=p[t],o=0;o<E.length;o++)E[o].positiveValue=0,E[o].negativeValue=0;for(c in P)if(u=d.get(c),"Time"==h.type&&"string"==typeof u&&(u=Date.parse(u)),!isNaN(u))for(u=void 0===u?0:Number(u),S[c]&&(v>u&&(v=u),u>b&&(b=u)),o=0;o<E.length;o++)E[o].fields[c]&&(u>=0?(E[o].positiveValue+=u,b<E[o].positiveValue&&(b=E[o].positiveValue),v>0&&(v=0)):(E[o].negativeValue+=u,v>E[o].negativeValue&&(v=E[o].negativeValue),0>b&&(b=0)))}return isFinite(b)||(b=h.prevMax||0),isFinite(v)||(v=h.prevMin||0),"number"==typeof v&&(v=Ext.Number.correctFloat(v)),"number"==typeof b&&(b=Ext.Number.correctFloat(b)),v==b||b==Math.floor(b)&&v==Math.floor(v)||(v=Math.floor(v),b=Math.floor(b)+1),isNaN(h.minimum)||(v=h.minimum),isNaN(h.maximum)||(b=h.maximum),v>=b&&(v=Math.floor(v),b=v+1),{min:v,max:b}},calcEnds:function(){var e,t,n,i,r=this,o=r.getRange(),a=o.min,s=o.max;return e=Ext.isNumber(r.majorTickSteps)?r.majorTickSteps+1:r.steps,t=!(Ext.isNumber(r.maximum)&&Ext.isNumber(r.minimum)&&Ext.isNumber(r.majorTickSteps)&&r.majorTickSteps>0),n=Ext.draw.Draw.snapEnds(a,s,e,t),Ext.isNumber(r.maximum)&&(n.to=r.maximum,i=!0),Ext.isNumber(r.minimum)&&(n.from=r.minimum,i=!0),r.adjustMaximumByMajorUnit&&(n.to=Math.ceil(n.to/n.step)*n.step,i=!0),r.adjustMinimumByMajorUnit&&(n.from=Math.floor(n.from/n.step)*n.step,i=!0),i&&(n.steps=Math.ceil((n.to-n.from)/n.step)),r.prevMin=a==s?0:a,r.prevMax=s,n},drawAxis:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f,g,p=this,m=p.x,x=p.y,y=p.dashSize,E=p.length,v=p.position,b="left"==v||"right"==v,C=[],w=p.isNumericAxis,S=p.applyData(),P=S.step,k=S.steps,T=Ext.isArray(k),I=S.from,M=S.to,D=M-I||1,A=p.minorTickSteps||0,R=p.minorTickSteps||0,F=(Math.max(A+1,0),Math.max(R+1,0),"left"==v||"top"==v?-1:1),L=y*F,O=p.chart.series.items,B=O[0],N=B?B.nullGutters:p.nullGutters,H=0;if(p.from=I,p.to=M,!(p.hidden||I>M||T&&0==k.length||!T&&isNaN(P))){if(T)k=Ext.Array.filter(k,function(e){return+e>+p.from&&+e<+p.to},this),k=Ext.Array.union([p.from],k,[p.to]);else{for(k=new Array,h=+p.from;h<+p.to;h+=P)k.push(h);k.push(+p.to)}for(H=k.length,t=0,u=O.length;u>t;t++)if(!O[t].seriesIsHidden&&O[t].getAxesForXAndYFields&&(c=O[t].getAxesForXAndYFields(),!c.xAxis||!c.yAxis||c.xAxis===v||c.yAxis===v)){N=O[t].getGutters(),void 0!==N.verticalAxis&&N.verticalAxis!=b&&(a=O[t].getPadding(),N=b?{lower:a.bottom,upper:a.top,verticalAxis:!0}:{lower:a.left,upper:a.right,verticalAxis:!1});break}if(w&&(p.labels=[]),N)if(b)for(i=Math.floor(m),o=["M",i+.5,x,"l",0,-E],n=E-(N.lower+N.upper),d=0;H>d;d++)r=x-N.lower-(k[d]-k[0])*n/D,o.push("M",i,Math.floor(r)+.5,"l",2*L,0),C.push([i,Math.floor(r)]),w&&p.labels.push(k[d]);else for(r=Math.floor(x),o=["M",m,r+.5,"l",E,0],n=E-(N.lower+N.upper),d=0;H>d;d++)i=m+N.lower+(k[d]-k[0])*n/D,o.push("M",Math.floor(i)+.5,r,"l",0,2*L+1),C.push([Math.floor(i),r]),w&&p.labels.push(k[d]);if(s=b?R:A,Ext.isArray(s)?l=2==s.length?+Ext.Date.add(new Date,s[0],s[1])-Date.now():s[0]:Ext.isNumber(s)&&s>0&&(l=P/(s+1)),N&&l)for(d=0;H-1>d;d++)if(f=+k[d],g=+k[d+1],b)for(value=f+l;g>value;value+=l)r=x-N.lower-(value-k[0])*n/D,o.push("M",i,Math.floor(r)+.5,"l",L,0);else for(value=f+l;g>value;value+=l)i=m+N.upper+(value-k[0])*n/D,o.push("M",Math.floor(i)+.5,r,"l",0,L+1);p.axis||(p.axis=p.chart.surface.add(Ext.apply({type:"path",path:o},p.axisStyle))),p.axis.setAttributes({path:o},!0),p.inflections=C,!e&&p.grid&&p.drawGrid(),p.axisBBox=p.axis.getBBox(),p.drawLabel()}},drawGrid:function(){var e,t,n,i,r,o=this,a=o.chart.surface,s=o.grid,l=s.odd,d=s.even,c=o.inflections,u=c.length-(l||d?0:1),h=o.position,f=o.chart.maxGutters,g=o.width-2,p=1,m=[],x=[],y=[];for((0===f.bottom&&0===f.top||"left"!=h&&"right"!=h)&&(0===f.left&&0===f.right||"top"!=h&&"bottom"!=h)||(p=0,u++);u>p;p++)e=c[p],t=c[p-1],l||d?(m=p%2?x:y,n=(p%2?l:d)||{},i=(n.lineWidth||n["stroke-width"]||0)/2,r=2*i,"left"==h?m.push("M",t[0]+1+i,t[1]+.5-i,"L",t[0]+1+g-i,t[1]+.5-i,"L",e[0]+1+g-i,e[1]+.5+i,"L",e[0]+1+i,e[1]+.5+i,"Z"):"right"==h?m.push("M",t[0]-i,t[1]+.5-i,"L",t[0]-g+i,t[1]+.5-i,"L",e[0]-g+i,e[1]+.5+i,"L",e[0]-i,e[1]+.5+i,"Z"):"top"==h?m.push("M",t[0]+.5+i,t[1]+1+i,"L",t[0]+.5+i,t[1]+1+g-i,"L",e[0]+.5-i,e[1]+1+g-i,"L",e[0]+.5-i,e[1]+1+i,"Z"):m.push("M",t[0]+.5+i,t[1]-i,"L",t[0]+.5+i,t[1]-g+i,"L",e[0]+.5-i,e[1]-g+i,"L",e[0]+.5-i,e[1]-i,"Z")):m="left"==h?m.concat(["M",e[0]+.5,e[1]+.5,"l",g,0]):"right"==h?m.concat(["M",e[0]-.5,e[1]+.5,"l",-g,0]):"top"==h?m.concat(["M",e[0]+.5,e[1]+.5,"l",0,g]):m.concat(["M",e[0]+.5,e[1]-.5,"l",0,-g]);l||d?(x.length&&(!o.gridOdd&&x.length&&(o.gridOdd=a.add({type:"path",path:x})),o.gridOdd.setAttributes(Ext.apply({path:x,hidden:!1},l||{}),!0)),y.length&&(o.gridEven||(o.gridEven=a.add({type:"path",path:y})),o.gridEven.setAttributes(Ext.apply({path:y,hidden:!1},d||{}),!0))):m.length?(o.gridLines||(o.gridLines=o.chart.surface.add({type:"path",path:m,"stroke-width":o.lineWidth||1,stroke:o.gridColor||"#ccc"})),o.gridLines.setAttributes({hidden:!1,path:m},!0)):o.gridLines&&o.gridLines.hide(!0)},getOrCreateLabel:function(e,t){var n=this,i=n.labelGroup,r=i.getAt(e),o=n.chart.surface;return r?t!=r.attr.text&&(r.setAttributes(Ext.apply({text:t},n.label),!0),r._bbox=r.getBBox()):(r=o.add(Ext.apply({group:i,type:"text",x:0,y:0,text:t},n.label)),o.renderItem(r),r._bbox=r.getBBox()),n.label.rotation?(r.setAttributes({rotation:{degrees:0}},!0),r._ubbox=r.getBBox(),r.setAttributes(n.label,!0)):r._ubbox=r._bbox,r},rect2pointArray:function(e){var t=this.chart.surface,n=t.getBBox(e,!0),i=[n.x,n.y],r=i.slice(),o=[n.x+n.width,n.y],a=o.slice(),s=[n.x+n.width,n.y+n.height],l=s.slice(),d=[n.x,n.y+n.height],c=d.slice(),u=e.matrix;return i[0]=u.x.apply(u,r),i[1]=u.y.apply(u,r),o[0]=u.x.apply(u,a),o[1]=u.y.apply(u,a),s[0]=u.x.apply(u,l),s[1]=u.y.apply(u,l),d[0]=u.x.apply(u,c),d[1]=u.y.apply(u,c),[i,o,s,d]},intersect:function(e,t){var n=this.rect2pointArray(e),i=this.rect2pointArray(t);return!!Ext.draw.Draw.intersect(n,i).length},drawHorizontalLabels:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h=this,f=h.label,g=Math.floor,p=Math.max,m=h.chart.axes,x=h.chart.insetPadding,y=h.chart.maxGutters,E=h.position,v=h.inflections,b=v.length,C=h.labels,w=0,S=h.adjustEnd,P=-1!=m.findIndex("position","left"),k=-1!=m.findIndex("position","right");for(s=b-1,n=v[0],u=h.getOrCreateLabel(0,h.label.renderer(C[0])),e=Math.floor(Math.abs(Math.sin(f.rotate&&f.rotate.degrees*Math.PI/180||0))),c=0;b>c;c++){if(n=v[c],a=h.label.renderer(C[c]),o=h.getOrCreateLabel(c,a),t=o._bbox,w=p(w,t.height+h.dashSize+h.label.padding),l=g(n[0]-(e?t.height:t.width)/2),S&&0==y.left&&0==y.right&&(0!=c||P?c!=s||k||(l=Math.min(l,n[0]-t.width+x)):l=n[0]),d="top"==E?n[1]-2*h.dashSize-h.label.padding-t.height/2:n[1]+2*h.dashSize+h.label.padding+t.height/2,o.setAttributes({hidden:!1,x:l,y:d},!0),0!=c&&(h.intersect(o,i)||h.intersect(o,u))){if(c!==s||0===r){o.hide(!0);continue}i.hide(!0)}i=o,r=c}return w},drawVerticalLabels:function(){var e,t,n,i,r,o,a,s,l,d=this,c=d.inflections,u=d.position,h=c.length,f=d.chart,g=f.insetPadding,p=d.labels,m=0,x=Math.max,y=Math.floor,E=Math.ceil,v=d.chart.axes,b=d.chart.maxGutters,C=-1!=v.findIndex("position","top"),w=-1!=v.findIndex("position","bottom"),S=d.adjustEnd,P=h-1;for(l=0;h>l;l++){if(t=c[l],o=d.label.renderer(p[l]),r=d.getOrCreateLabel(l,o),e=r._bbox,m=x(m,e.width+d.dashSize+d.label.padding),s=t[1],S&&b.bottom+b.top<e.height/2&&(l!=P||C?0!=l||w||(s=d.y+b.bottom-y(e.height/2)):s=Math.max(s,d.y-d.length+E(e.height/2)-g)),a="left"==u?t[0]-e.width-d.dashSize-d.label.padding-2:t[0]+d.dashSize+d.label.padding+2,r.setAttributes(Ext.apply({hidden:!1,x:a,y:s},d.label),!0),0!=l&&d.intersect(r,n)){if(l!==P||0===i){r.hide(!0);
continue}n.hide(!0)}n=r,i=l}return m},drawLabel:function(){var e,t,n=this,i=n.position,r=n.labelGroup,o=n.inflections,a=0,s=0;for("left"==i||"right"==i?a=n.drawVerticalLabels():s=n.drawHorizontalLabels(),e=r.getCount(),t=o.length;e>t;t++)r.getAt(t).hide(!0);n.bbox={},Ext.apply(n.bbox,n.axisBBox),n.bbox.height=s,n.bbox.width=a,Ext.isString(n.title)&&n.drawTitle(a,s)},setTitle:function(e){this.title=e,this.drawLabel()},drawTitle:function(e,t){var n,i,r,o=this,a=o.position,s=o.chart.surface,l=o.displaySprite,d=o.title,c="left"==a||"right"==a,u=o.x,h=o.y;l?l.setAttributes({text:d},!0):(n={type:"text",x:0,y:0,text:d},l=o.displaySprite=s.add(Ext.apply(n,o.axisTitleStyle,o.labelTitle)),s.renderItem(l)),i=l.getBBox(),r=o.dashSize+o.label.padding,c?(h-=o.length/2-i.height/2,"left"==a?u-=e+r+i.width/2:u+=e+r+i.width-i.width/2,o.bbox.width+=i.width+10):(u+=o.length/2-.5*i.width,"top"==a?h-=t+r+.3*i.height:h+=t+r+.8*i.height,o.bbox.height+=i.height+10),l.setAttributes({translate:{x:u,y:h}},!0)}}),Ext.define("Ext.chart.axis.Category",{extend:Ext.chart.axis.Axis,alternateClassName:"Ext.chart.CategoryAxis",alias:"axis.category",categoryNames:null,calculateCategoryCount:!1,doConstrain:function(){var e,t=this,n=t.chart,i=n.getChartStore(),r=i.data.items,o=n.series.items,a=o.length,s=[];for(e=0;a>e;e++)if("bar"===o[e].type&&o[e].stacked)return;for(e=t.minimum;e<t.maximum;e++)s.push(r[e]);n.setSubStore(new Ext.data.Store({model:i.model,data:s}))},setLabels:function(){var e,t,n,i,r,o,a=this.chart.getChartStore(),s=a.data.items,l=this.fields,d=l.length;for(i=this.labels=[],e=0,t=s.length;t>e;e++)for(n=s[e],o=0;d>o;o++)r=n.get(l[o]),i.push(r)},applyData:function(){this.callParent(),this.setLabels();var e=this.chart.getChartStore().getCount();return{from:0,to:e-1,power:1,step:1,steps:e-1}}}),Ext.define("Ext.chart.axis.Gauge",{extend:Ext.chart.axis.Abstract,position:"gauge",alias:"axis.gauge",drawAxis:function(){var e,t,n=this.chart,i=n.surface,r=n.chartBBox,o=r.x+r.width/2,a=r.y+r.height,s=this.margin||10,l=Math.min(r.width,2*r.height)/2+s,d=[],c=this.steps,u=Math.PI,h=Math.cos,f=Math.sin;if(this.sprites&&!n.resizing)return this.drawLabel(),void 0;if(this.margin>=0)if(this.sprites)for(d=this.sprites,t=0;c>=t;t++)d[t].setAttributes({path:["M",o+(l-s)*h(t/c*u-u),a+(l-s)*f(t/c*u-u),"L",o+l*h(t/c*u-u),a+l*f(t/c*u-u),"Z"],stroke:"#ccc"},!0);else for(t=0;c>=t;t++)e=i.add({type:"path",path:["M",o+(l-s)*h(t/c*u-u),a+(l-s)*f(t/c*u-u),"L",o+l*h(t/c*u-u),a+l*f(t/c*u-u),"Z"],stroke:"#ccc"}),e.setAttributes({hidden:!1},!0),d.push(e);this.sprites=d,this.drawLabel(),this.title&&this.drawTitle()},drawTitle:function(){var e,t=this,n=t.chart,i=n.surface,r=n.chartBBox,o=t.titleSprite;o||(t.titleSprite=o=i.add(Ext.apply({type:"text",zIndex:2},t.axisTitleStyle,t.labelTitle))),o.setAttributes(Ext.apply({text:t.title},t.label||{}),!0),e=o.getBBox(),o.setAttributes({x:r.x+r.width/2-e.width/2,y:r.y+r.height-e.height/2-4},!0)},setTitle:function(e){this.title=e,this.drawTitle()},drawLabel:function(){var e,t,n=this.chart,i=n.surface,r=n.chartBBox,o=r.x+r.width/2,a=r.y+r.height,s=this.margin||10,l=Math.min(r.width,2*r.height)/2+2*s,d=Math.round,c=[],u=this.maximum||0,h=this.minimum||0,f=this.steps,g=0,p=Math.PI,m=Math.cos,x=Math.sin,y=this.label,E=y.renderer||Ext.identityFn;if(this.labelArray)for(c=this.labelArray,g=0;f>=g;g++)t=0===g||g===f?7:0,c[g].setAttributes({text:E(d(h+g/f*(u-h))),x:o+l*m(g/f*p-p),y:a+l*x(g/f*p-p)-t},!0);else for(g=0;f>=g;g++)t=0===g||g===f?7:0,e=i.add({type:"text",text:E(d(h+g/f*(u-h))),x:o+l*m(g/f*p-p),y:a+l*x(g/f*p-p)-t,"text-anchor":"middle","stroke-width":.2,zIndex:10,stroke:"#333"}),e.setAttributes({hidden:!1},!0),c.push(e);this.labelArray=c}}),Ext.define("Ext.chart.axis.Numeric",{extend:Ext.chart.axis.Axis,alternateClassName:"Ext.chart.NumericAxis",type:"Numeric",isNumericAxis:!0,alias:"axis.numeric",constructor:function(e){var t,n=this,i=!(!e.label||!e.label.renderer);n.callParent([e]),t=n.label,null==e.constrain&&(n.constrain=null!=e.minimum&&null!=e.maximum),i||(t.renderer=function(e){return n.roundToDecimal(e,n.decimals)})},roundToDecimal:function(e,t){var n=Math.pow(10,t||0);return Math.round(e*n)/n},minimum:0/0,maximum:0/0,constrain:!0,decimals:2,scale:"linear",doConstrain:function(){var e,t,n,i,r,o,a=this,s=a.chart,l=s.getChartStore(),d=l.data.items,c=(s.series.items,a.fields),u=c.length,h=a.calcEnds(),f=h.from,g=h.to,p=[];for(e=0,t=d.length;t>e;e++){for(o=!0,n=d[e],i=0;u>i;i++){if(r=n.get(c[i]),"Time"==a.type&&"string"==typeof r&&(r=Date.parse(r)),+f>+r){o=!1;break}if(+r>+g){o=!1;break}}o&&p.push(n)}s.setSubStore(new Ext.data.Store({model:l.model,data:p}))},position:"left",adjustMaximumByMajorUnit:!1,adjustMinimumByMajorUnit:!1,processView:function(){var e,t,n=this,i=n.chart,r=i.series.items;for(e=0,t=r.length;t>e;e++)if(r[e].stacked){delete n.minimum,delete n.maximum,n.constrain=!1;break}n.constrain&&n.doConstrain()},applyData:function(){return this.callParent(),this.calcEnds()}}),Ext.define("Ext.chart.axis.Radial",{extend:Ext.chart.axis.Numeric,position:"radial",alias:"axis.radial",drawAxis:function(){var e,t,n,i=this.chart,r=i.surface,o=i.chartBBox,a=i.getChartStore(),s=a.getCount(),l=o.x+o.width/2,d=o.y+o.height/2,c=Math.min(o.width,o.height)/2,u=[],h=this.steps,f=2*Math.PI,g=Math.cos,p=Math.sin;if(this.sprites&&!i.resizing)return this.drawLabel(),void 0;if(this.sprites){for(u=this.sprites,t=0;h>t;t++)u[t].setAttributes({x:l,y:d,radius:Math.max(c*(t+1)/h,0),stroke:"#ccc"},!0);for(n=0;s>n;n++)u[t+n].setAttributes({path:["M",l,d,"L",l+c*g(n/s*f),d+c*p(n/s*f),"Z"],stroke:"#ccc"},!0)}else{for(t=1;h>=t;t++)e=r.add({type:"circle",x:l,y:d,radius:Math.max(c*t/h,0),stroke:"#ccc"}),e.setAttributes({hidden:!1},!0),u.push(e);for(t=0;s>t;t++)e=r.add({type:"path",path:["M",l,d,"L",l+c*g(t/s*f),d+c*p(t/s*f),"Z"],stroke:"#ccc"}),e.setAttributes({hidden:!1},!0),u.push(e)}this.sprites=u,this.drawLabel()},drawLabel:function(){var e,t,n,i,r,o,a,s,l,d=this.chart,c=d.series.items,u=d.surface,h=d.chartBBox,f=d.getChartStore(),g=f.data.items,p=h.x+h.width/2,m=h.y+h.height/2,x=Math.min(h.width,h.height)/2,y=Math.max,E=Math.round,v=[],b=[],C=[],w=!this.maximum,S=this.maximum||0,P=this.steps,k=0,T=2*Math.PI,I=Math.cos,M=Math.sin,D=this.label.display,A="none"!==D,R=10;if(A){for(k=0,t=c.length;t>k;k++)e=c[k],b.push(e.yField),o=e.xField;for(a=0,t=g.length;t>a;a++)if(n=g[a],C.push(n.get(o)),w)for(k=0,r=b.length;r>k;k++)S=y(+n.get(b[k]),S);if(this.labelArray){if(v=this.labelArray,"categories"!=D)for(k=0;P>k;k++)v[k].setAttributes({text:E((k+1)/P*S),x:p,y:m-x*(k+1)/P,"text-anchor":"middle","stroke-width":.1,stroke:"#333"},!0);if("scale"!=D)for(a=0,P=C.length;P>a;a++)s=I(a/P*T)*(x+R),l=M(a/P*T)*(x+R),v[k+a]&&v[k+a].setAttributes({type:"text",text:C[a],x:p+s,y:m+l,"text-anchor":.001>=s*s?"middle":0>s?"end":"start"},!0)}else{if("categories"!=D)for(k=1;P>=k;k++)i=u.add({type:"text",text:E(k/P*S),x:p,y:m-x*k/P,"text-anchor":"middle","stroke-width":.1,stroke:"#333"}),i.setAttributes({hidden:!1},!0),v.push(i);if("scale"!=D)for(a=0,P=C.length;P>a;a++)s=I(a/P*T)*(x+R),l=M(a/P*T)*(x+R),i=u.add({type:"text",text:C[a],x:p+s,y:m+l,"text-anchor":.001>=s*s?"middle":0>s?"end":"start"}),i.setAttributes({hidden:!1},!0),v.push(i)}this.labelArray=v}},getRange:function(){var e=this.callParent();return e.min=0,e},processView:function(){var e,t,n,i,r=this,o=r.chart.series.items,a=[];for(e=0,t=o.length;t>e;e++)n=o[e],a.push(n.yField);r.fields=a,i=r.calcEnds(),r.maximum=i.to,r.steps=i.steps}}),Ext.define("Ext.chart.axis.Time",{extend:Ext.chart.axis.Numeric,alternateClassName:"Ext.chart.TimeAxis",type:"Time",alias:"axis.time",dateFormat:!1,fromDate:!1,toDate:!1,step:[Ext.Date.DAY,1],constrain:!1,constructor:function(e){var t,n,i,r=this;r.callParent([e]),t=r.label||{},i=this.dateFormat,i&&(t.renderer?(n=t.renderer,t.renderer=function(e){return e=n(e),Ext.Date.format(new Date(n(e)),i)}):t.renderer=function(e){return Ext.Date.format(new Date(e>>0),i)})},processView:function(){var e=this;e.fromDate&&(e.minimum=+e.fromDate),e.toDate&&(e.maximum=+e.toDate),e.constrain&&e.doConstrain()},calcEnds:function(){var e,t=this,n=t.step;return n?(e=t.getRange(),e=Ext.draw.Draw.snapEndsByDateAndStep(new Date(e.min),new Date(e.max),Ext.isNumber(n)?[Date.MILLI,n]:n),t.minimum&&(e.from=t.minimum),t.maximum&&(e.to=t.maximum),e):t.callParent(arguments)}}),Ext.define("Ext.chart.series.Series",{mixins:{observable:Ext.util.Observable,labels:Ext.chart.Label,highlights:Ext.chart.Highlight,tips:Ext.chart.Tip,callouts:Ext.chart.Callout},type:null,title:null,showInLegend:!0,renderer:function(e,t,n){return n},shadowAttributes:null,animating:!1,nullGutters:{lower:0,upper:0,verticalAxis:void 0},nullPadding:{left:0,right:0,width:0,bottom:0,top:0,height:0},constructor:function(e){var t=this;e&&Ext.apply(t,e),t.shadowGroups=[],t.mixins.labels.constructor.call(t,e),t.mixins.highlights.constructor.call(t,e),t.mixins.tips.constructor.call(t,e),t.mixins.callouts.constructor.call(t,e),t.addEvents({scope:t,itemclick:!0,itemmouseover:!0,itemmouseout:!0,itemmousedown:!0,itemmouseup:!0,mouseleave:!0,afterdraw:!0,titlechange:!0}),t.mixins.observable.constructor.call(t,e),t.on({scope:t,itemmouseover:t.onItemMouseOver,itemmouseout:t.onItemMouseOut,mouseleave:t.onMouseLeave}),t.style&&Ext.apply(t.seriesStyle,t.style)},onRedraw:Ext.emptyFn,eachRecord:function(e,t){var n=this.chart;n.getChartStore().each(e,t)},getRecordCount:function(){var e=this.chart,t=e.getChartStore();return t?t.getCount():0},isExcluded:function(e){var t=this.__excludes;return!(!t||!t[e])},setBBox:function(e){var t,n,i=this,r=i.chart,o=r.chartBBox,a=e?{left:0,right:0,bottom:0,top:0}:r.maxGutters;t={x:o.x,y:o.y,width:o.width,height:o.height},i.clipBox=t,n={x:t.x+a.left-r.zoom.x*r.zoom.width,y:t.y+a.bottom-r.zoom.y*r.zoom.height,width:(t.width-(a.left+a.right))*r.zoom.width,height:(t.height-(a.bottom+a.top))*r.zoom.height},i.bbox=n},onAnimate:function(e,t){var n=this;return e.stopAnimation(),n.animating?e.animate(Ext.applyIf(t,n.chart.animate)):(n.animating=!0,e.animate(Ext.apply(Ext.applyIf(t,n.chart.animate),{callback:function(){n.animating=!1,n.fireEvent("afterrender")}})))},getGutters:function(){return this.nullGutters},getPadding:function(){return this.nullPadding},onItemMouseOver:function(e){var t=this;e.series===t&&(t.highlight&&t.highlightItem(e),t.tooltip&&t.showTip(e))},onItemMouseOut:function(e){var t=this;e.series===t&&(t.unHighlightItem(),t.tooltip&&t.hideTip(e))},onMouseLeave:function(){var e=this;e.unHighlightItem(),e.tooltip&&e.hideTip()},getItemForPoint:function(e,t){if(!this.items||!this.items.length||this.seriesIsHidden)return null;var n,i,r=this,o=r.items,a=r.bbox;if(!Ext.draw.Draw.withinBox(e,t,a))return null;for(n=0,i=o.length;i>n;n++)if(o[n]&&this.isItemInPoint(e,t,o[n],n))return o[n];return null},isItemInPoint:function(){return!1},hideAll:function(){var e,t,n,i,r,o,a,s=this,l=s.items;for(s.seriesIsHidden=!0,s._prevShowMarkers=s.showMarkers,s.showMarkers=!1,s.hideLabels(0),n=0,t=l.length;t>n;n++)if(e=l[n],o=e.sprite,o&&o.setAttributes({hidden:!0},!0),o&&o.shadows)for(a=o.shadows,i=0,r=a.length;r>i;++i)a[i].setAttributes({hidden:!0},!0)},showAll:function(){var e=this,t=e.chart.animate;e.chart.animate=!1,e.seriesIsHidden=!1,e.showMarkers=e._prevShowMarkers,e.drawSeries(),e.chart.animate=t},hide:function(){if(this.items){var e,t,n,i,r,o=this,a=o.items;if(a&&a.length){for(e=0,i=a.length;i>e;++e)if(a[e].sprite&&(a[e].sprite.hide(!0),r=a[e].shadows||a[e].sprite.shadows))for(t=0,n=r.length;n>t;++t)r[t].hide(!0);o.hideLabels()}}},getLegendColor:function(){var e,t,n=this;if(n.seriesStyle){if(e=n.seriesStyle.fill,t=n.seriesStyle.stroke,e&&"none"!=e)return e;if(t)return t}return n.colorArrayStyle?n.colorArrayStyle[n.themeIdx%n.colorArrayStyle.length]:"#000"},visibleInLegend:function(e){var t=this.__excludes;return t?!t[e]:!this.seriesIsHidden},setTitle:function(e,t){var n=this,i=n.title;Ext.isString(e)&&(t=e,e=0),Ext.isArray(i)?i[e]=t:n.title=t,n.fireEvent("titlechange",t,e)}}),Ext.define("Ext.chart.series.Cartesian",{extend:Ext.chart.series.Series,alternateClassName:["Ext.chart.CartesianSeries","Ext.chart.CartesianChart"],xField:null,yField:null,axis:"left",getLegendLabels:function(){var e,t,n,i,r,o,a,s=this,l=[],d=s.combinations;for(e=[].concat(s.yField),t=0,n=e.length;n>t;t++)i=s.title,l.push((Ext.isArray(i)?i[t]:i)||e[t]);if(d)for(d=Ext.Array.from(d),t=0,n=d.length;n>t;t++)r=d[t],o=l[r[0]],a=l[r[1]],l[r[1]]=o+" & "+a,l.splice(r[0],1);return l},eachYValue:function(e,t,n){var i,r,o,a=this,s=a.getYValueAccessors();for(i=0,r=s.length;r>i;i++)o=s[i],t.call(n,o(e),i)},getYValueCount:function(){return this.getYValueAccessors().length},combine:function(e,t){var n=this,i=n.getYValueAccessors(),r=i[e],o=i[t];i[t]=function(e){return r(e)+o(e)},i.splice(e,1),n.callParent([e,t])},clearCombinations:function(){delete this.yValueAccessors,this.callParent()},getYValueAccessors:function(){var e,t,n,i,r=this,o=r.yValueAccessors;if(!o)for(o=r.yValueAccessors=[],e=[].concat(r.yField),n=0,i=e.length;i>n;n++)t=e[n],o.push(function(e){return e.get(t)});return o},getMinMaxXValues:function(){var e,t,n,i,r,o,a=this,s=a.chart,l=s.getChartStore(),d=l.data.items,c=a.getRecordCount(),u=a.xField;if(c>0){for(i=1/0,r=-i,e=0,t=d.length;t>e;e++)n=d[e],o=n.get(u),o>r&&(r=o),i>o&&(i=o);1/0==i&&(i=0),r==-1/0&&(r=c-1)}else i=r=0;return[i,r]},getMinMaxYValues:function(){function e(e,t){d.isExcluded(t)||(0>e?l+=e:s+=e)}function t(e,t){d.isExcluded(t)||(e>a&&(a=e),o>e&&(o=e))}var n,i,r,o,a,s,l,d=this,c=d.chart,u=c.getChartStore(),h=u.data.items,f=d.getRecordCount(),g=d.stacked;if(f>0){for(o=1/0,a=-o,n=0,i=h.length;i>n;n++)r=h[n],g?(s=0,l=0,d.eachYValue(r,e),s>a&&(a=s),o>l&&(o=l)):d.eachYValue(r,t);1/0==o&&(o=0),a==-1/0&&(a=f-1)}else o=a=0;return[o,a]},getAxesForXAndYFields:function(){var e,t,n,i,r,o,a=this,s=a.chart.axes,l=[].concat(a.axis),d={},c=[].concat(a.yField),u={},h=[].concat(a.xField);if(o="bar"===a.type&&a.column===!1,o&&(e=c,c=h,h=e),Ext.Array.indexOf(l,"top")>-1)t="top";else if(Ext.Array.indexOf(l,"bottom")>-1)t="bottom";else if(s.get("top")&&s.get("bottom")){for(i=0,r=h.length;r>i;i++)u[h[i]]=!0;for(e=[].concat(s.get("bottom").fields),i=0,r=e.length;r>i;i++)if(u[e[i]]){t="bottom";break}for(e=[].concat(s.get("top").fields),i=0,r=e.length;r>i;i++)if(u[e[i]]){t="top";break}}else s.get("top")?t="top":s.get("bottom")&&(t="bottom");if(Ext.Array.indexOf(l,"left")>-1)n="left";else if(Ext.Array.indexOf(l,"right")>-1)n="right";else if(s.get("left")&&s.get("right")){for(i=0,r=c.length;r>i;i++)d[c[i]]=!0;for(e=[].concat(s.get("right").fields),i=0,r=e.length;r>i&&!d[e[i]];i++);for(e=[].concat(s.get("left").fields),i=0,r=e.length;r>i;i++)if(d[e[i]]){n="left";break}}else s.get("left")?n="left":s.get("right")&&(n="right");return o?{xAxis:n,yAxis:t}:{xAxis:t,yAxis:n}}}),Ext.define("Ext.chart.series.Area",{extend:Ext.chart.series.Cartesian,alias:"series.area",type:"area",stacked:!0,style:{},constructor:function(e){this.callParent(arguments);var t=this,n=t.chart.surface;e.highlightCfg=Ext.Object.merge({},{lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},e.highlightCfg),Ext.apply(t,e,{__excludes:[]}),t.highlight&&(t.highlightSprite=n.add({type:"path",path:["M",0,0],zIndex:1e3,opacity:.3,lineWidth:5,hidden:!0,stroke:"#444"})),t.group=n.getGroup(t.seriesId)},shrink:function(e,t,n){var i,r,o=e.length,a=Math.floor(o/n),s=0,l=this.areas.length,d=[],c=[],u=[];for(r=0;l>r;++r)d[r]=0;for(i=0;o>i;++i){for(s+=+e[i],r=0;l>r;++r)d[r]+=+t[i][r];if(0==i%a){for(c.push(s/a),r=0;l>r;++r)d[r]/=a;for(u.push(d),s=0,r=0,d=[];l>r;++r)d[r]=0}}return{x:c,y:u}},getBounds:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x=this,y=x.chart,E=y.getChartStore(),v=E.data.items,b=[].concat(x.yField),C=b.length,w=[],S=[],P=1/0,k=P,T=P,I=-P,M=-P,D=Math,A=(D.min,D.max,x.getAxesForXAndYFields()),R=A.xAxis,F=A.yAxis;for(x.setBBox(),a=x.bbox,(m=y.axes.get(R))&&("Time"===m.type&&(r=!0),i=m.applyData(),k=i.from,I=i.to),(m=y.axes.get(F))&&(i=m.applyData(),T=i.from,M=i.to),x.xField&&!Ext.isNumber(k)&&(m=x.getMinMaxXValues(),r=!0,k=m[0],I=m[1]),x.yField&&!Ext.isNumber(T)&&(m=x.getMinMaxYValues(),T=m[0],M=m[1]),Ext.isNumber(T)||(T=0),Ext.isNumber(M)||(M=0),t=v.length,t>0&&r&&(o=v[0].get(x.xField),"number"!=typeof o&&(o=+o,isNaN(o)&&(r=!1))),e=0;t>e;e++){for(n=v[e],d=n.get(x.xField),c=[],"number"!=typeof d&&(d=r?+d:e),w.push(d),h=0,u=0;C>u;u++)x.__excludes[u]||(p=n.get(b[u]),"number"==typeof p&&c.push(p));S.push(c)}return s=a.width/(I-k||1),l=a.height/(M-T||1),f=w.length,f>a.width&&x.areas&&(g=x.shrink(w,S,a.width),w=g.x,S=g.y),{bbox:a,minX:k,minY:T,xValues:w,yValues:S,xScale:s,yScale:l,areasLen:C}},getPaths:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f=this,g=f.chart,p=(g.getChartStore(),!0),m=f.getBounds(),x=m.bbox,y=f.items=[],E=[],v=0,b=[];for(n=m.xValues.length,t=0;n>t;t++)for(o=m.xValues[t],a=m.yValues[t],i=x.x+(o-m.minX)*m.xScale,void 0===h&&(h=i),s=0,v=0,l=0;l<m.areasLen;l++)f.__excludes[l]||(E[l]||(E[l]=[]),c=a[v],s+=c,r=x.y+x.height-(s-m.minY)*m.yScale,b[l]?(b[l].push("L",i,r),E[l].push(["L",i,r])):(b[l]=["M",i,r],E[l].push(["L",i,r])),y[l]||(y[l]={pointsUp:[],pointsDown:[],series:f}),y[l].pointsUp.push([i,r]),v++);for(l=0;l<m.areasLen;l++)if(!f.__excludes[l]){if(u=b[l],0==l||p)p=!1,u.push("L",i,x.y+x.height,"L",h,x.y+x.height,"Z");else{for(e=E[d],e.reverse(),u.push("L",i,e[0][2]),t=0;n>t;t++)u.push(e[t][0],e[t][1],e[t][2]),y[l].pointsDown[n-t-1]=[e[t][1],e[t][2]];u.push("L",h,u[2],"Z")}d=l}return{paths:b,areasLen:m.areasLen}},drawSeries:function(){var e,t,n,i,r,o,a=this,s=a.chart,l=s.getChartStore(),d=s.surface,c=s.animate,u=a.group,h=Ext.apply(a.seriesStyle,a.style),f=a.colorArrayStyle,g=f&&f.length||0,p=a.themeIdx;if(a.unHighlightItem(),a.cleanHighlights(),!l||!l.getCount()||a.seriesIsHidden)return a.hide(),a.items=[],void 0;for(n=a.getPaths(),a.areas||(a.areas=[]),e=0;e<n.areasLen;e++)a.__excludes[e]||(o=p+e,a.areas[e]||(a.items[e].sprite=a.areas[e]=d.add(Ext.apply({},{type:"path",group:u,path:n.paths[e],stroke:h.stroke||f[o%g],fill:f[o%g]},h||{}))),t=a.areas[e],i=n.paths[e],c?(r=a.renderer(t,!1,{path:i,fill:f[e%g],stroke:h.stroke||f[e%g]},e,l),a.animation=a.onAnimate(t,{to:r})):(r=a.renderer(t,!1,{path:i,hidden:!1,fill:f[o%g],stroke:h.stroke||f[o%g]},e,l),a.areas[e].setAttributes(r,!0)));a.renderLabels(),a.renderCallouts()},onAnimate:function(e){return e.show(),this.callParent(arguments)},onCreateLabel:function(e,t){return null},onPlaceLabel:function(e,t,n,i,r,o,a){var s,l,d,c=this,u=c.chart,h=u.resizing,f=c.label,g=f.renderer,p=f.field,m=c.bbox,x=Number(n.point[i][0]),y=Number(n.point[i][1]);e.setAttributes({text:g(t.get(p[a]),e,t,n,i,r,o,a),hidden:!0},!0),s=e.getBBox(),l=s.width/2,d=s.height/2,x<m.x+l?x=m.x+l:x+l>m.x+m.width&&(x=m.x+m.width-l),y-=d,y<m.y+d?y+=2*d:y+d>m.y+m.height&&(y-=2*d),c.chart.animate&&!c.chart.resizing?(e.show(!0),c.onAnimate(e,{to:{x:x,y:y}})):(e.setAttributes({x:x,y:y},!0),h&&c.animation?c.animation.on("afteranimate",function(){e.show(!0)}):e.show(!0))},onPlaceCallout:function(e,t,n,i){var r,o,a,s,l,d,c,u,h,f,g,p,m,x=this,y=x.chart,E=(y.surface,y.resizing,x.callouts,x.items),v=0==i?!1:E[i-1].point,b=i==E.length-1?!1:E[i+1].point,C=n.point,w=e&&e.label?e.label.getBBox():{width:0,height:0},S=30,P=3,k=x.clipRect;if(w.width&&w.height){v||(v=C),b||(b=C),s=(b[1]-v[1])/(b[0]-v[0]),l=(C[1]-v[1])/(C[0]-v[0]),d=(b[1]-C[1])/(b[0]-C[0]),o=Math.sqrt(1+s*s),r=[1/o,s/o],a=[-r[1],r[0]],l>0&&0>d&&a[1]<0||0>l&&d>0&&a[1]>0?(a[0]*=-1,a[1]*=-1):(Math.abs(l)<Math.abs(d)&&a[0]<0||Math.abs(l)>Math.abs(d)&&a[0]>0)&&(a[0]*=-1,a[1]*=-1),p=C[0]+a[0]*S,m=C[1]+a[1]*S,c=p+(a[0]>0?0:-(w.width+2*P)),u=m-w.height/2-P,h=w.width+2*P,f=w.height+2*P,(c<k[0]||c+h>k[0]+k[2])&&(a[0]*=-1),(u<k[1]||u+f>k[1]+k[3])&&(a[1]*=-1),p=C[0]+a[0]*S,m=C[1]+a[1]*S,c=p+(a[0]>0?0:-(w.width+2*P)),u=m-w.height/2-P,h=w.width+2*P,f=w.height+2*P,e.lines.setAttributes({path:["M",C[0],C[1],"L",p,m,"Z"]},!0),e.box.setAttributes({x:c,y:u,width:h,height:f},!0),e.label.setAttributes({x:p+(a[0]>0?P:-(w.width+P)),y:m},!0);for(g in e)e[g].show(!0)}},isItemInPoint:function(e,t,n,i){var r,o,a,s=this,l=n.pointsUp,d=n.pointsDown,c=Math.abs,u=!1,h=!1,f=1/0;for(r=0,o=l.length;o>r;r++)if(a=[l[r][0],l[r][1]],u=!1,h=r==o-1,f>c(e-a[0])&&(f=c(e-a[0]),u=!0,h&&++r),!u||u&&h){if(a=l[r-1],t>=a[1]&&(!d.length||t<=d[r-1][1]))return n.storeIndex=r-1,n.storeField=s.yField[i],n.storeItem=s.chart.getChartStore().getAt(r-1),n._points=d.length?[a,d[r-1]]:[a],!0;break}return!1},highlightSeries:function(){var e,t,n;void 0!==this._index&&(e=this.areas[this._index],e.__highlightAnim&&(e.__highlightAnim.paused=!0),e.__highlighted=!0,e.__prevOpacity=e.__prevOpacity||e.attr.opacity||1,e.__prevFill=e.__prevFill||e.attr.fill,e.__prevLineWidth=e.__prevLineWidth||e.attr.lineWidth,n=Ext.draw.Color.fromString(e.__prevFill),t={lineWidth:(e.__prevLineWidth||0)+2},n?t.fill=n.getLighter(.2).toString():t.opacity=Math.max(e.__prevOpacity-.3,0),this.chart.animate?e.__highlightAnim=new Ext.fx.Anim(Ext.apply({target:e,to:t},this.chart.animate)):e.setAttributes(t,!0))},unHighlightSeries:function(){var e;void 0!==this._index&&(e=this.areas[this._index],e.__highlightAnim&&(e.__highlightAnim.paused=!0),e.__highlighted&&(e.__highlighted=!1,e.__highlightAnim=new Ext.fx.Anim({target:e,to:{fill:e.__prevFill,opacity:e.__prevOpacity,lineWidth:e.__prevLineWidth}})))},highlightItem:function(e){var t,n,i=this;return e?(t=e._points,n=2==t.length?["M",t[0][0],t[0][1],"L",t[1][0],t[1][1]]:["M",t[0][0],t[0][1],"L",t[0][0],i.bbox.y+i.bbox.height],i.highlightSprite.setAttributes({path:n,hidden:!1},!0),void 0):(this.highlightSeries(),void 0)},unHighlightItem:function(e){e||this.unHighlightSeries(),this.highlightSprite&&this.highlightSprite.hide(!0)},hideAll:function(e){var t=this;e=(isNaN(t._index)?e:t._index)||0,t.__excludes[e]=!0,t.areas[e].hide(!0),t.redraw()},showAll:function(e){var t=this;e=(isNaN(t._index)?e:t._index)||0,t.__excludes[e]=!1,t.areas[e].show(!0),t.redraw()},redraw:function(){var e,t=this;e=t.chart.legend.rebuild,t.chart.legend.rebuild=!1,t.chart.redraw(),t.chart.legend.rebuild=e},hide:function(){if(this.areas){var e,t,n=this,i=n.areas;if(i&&i.length){for(e=0,t=i.length;t>e;++e)i[e]&&i[e].hide(!0);n.hideLabels()}}},getLegendColor:function(e){var t=this;return e+=t.themeIdx,t.colorArrayStyle[e%t.colorArrayStyle.length]}}),Ext.define("Ext.chart.series.Bar",{extend:Ext.chart.series.Cartesian,alternateClassName:["Ext.chart.BarSeries","Ext.chart.BarChart","Ext.chart.StackedBarChart"],type:"bar",alias:"series.bar",column:!1,style:{},gutter:38.2,groupGutter:38.2,xPadding:0,yPadding:10,constructor:function(e){this.callParent(arguments);var t,n,i=this,r=i.chart.surface,o=i.chart.shadow;if(e.highlightCfg=Ext.Object.merge({lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},e.highlightCfg),Ext.apply(i,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:1.2}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:.9}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:.6}}]}),i.group=r.getGroup(i.seriesId+"-bars"),o)for(t=0,n=i.shadowAttributes.length;n>t;t++)i.shadowGroups.push(r.getGroup(i.seriesId+"-shadows"+t))},getPadding:function(){var e=this,t=e.xPadding,n=e.yPadding,i={};return Ext.isNumber(t)?(i.left=t,i.right=t):Ext.isObject(t)?(i.left=t.left,i.right=t.right):(i.left=0,i.right=0),i.width=i.left+i.right,Ext.isNumber(n)?(i.bottom=n,i.top=n):Ext.isObject(n)?(i.bottom=n.bottom,i.top=n.top):(i.bottom=0,i.top=0),i.height=i.bottom+i.top,i},getBarGirth:function(){var e,t,n=this,i=n.chart.getChartStore(),r=n.column,o=i.getCount(),a=n.gutter/100;return n.style&&n.style.width?n.style.width:(e=n.getPadding(),t=r?"width":"height",(n.chart.chartBBox[t]-e[t])/(o*(a+1)-a))},getGutters:function(){var e=this,t=e.column,n=e.getPadding(),i=e.getBarGirth()/2,r=Math.ceil((t?n.left:n.bottom)+i),o=Math.ceil((t?n.right:n.top)+i);return{lower:r,upper:o,verticalAxis:!t}},getBounds:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,y,E,v,b,C,w,S=this,P=S.chart,k=P.getChartStore(),T=k.data.items,I=[].concat(S.yField),M=I.length,D=M,A=S.groupGutter/100,R=S.column,F=S.getPadding(),L=S.stacked,O=S.getBarGirth(),B=R?"width":"height",N=Math,H=N.min,W=N.max,z=N.abs,V=S.getAxesForXAndYFields(),G=V.yAxis;if(S.setBBox(!0),h=S.bbox,S.__excludes)for(b=0,E=S.__excludes.length;E>b;b++)S.__excludes[b]&&D--;if(p=P.axes.get(G),p&&(d=p.applyData(),f=d.from,g=d.to),S.yField&&!Ext.isNumber(f)&&(m=S.getMinMaxYValues(),f=m[0],g=m[1]),Ext.isNumber(f)||(f=0),Ext.isNumber(g)||(g=0),x=(R?h.height-F.height:h.width-F.width)/(g-f),c=O,u=O/((L?1:D)*(A+1)-A),B in S.style&&(u=H(u,S.style[B]),c=u*((L?1:D)*(A+1)-A)),y=R?h.y+h.height-F.bottom:h.x+F.left,L){for(E=[[],[]],e=0,t=T.length;t>e;e++)for(n=T[e],E[0][e]=E[0][e]||0,E[1][e]=E[1][e]||0,b=0;M>b;b++)S.__excludes&&S.__excludes[b]||(v=n.get(I[b]),E[+(v>0)][e]+=z(v));E[+(g>0)].push(z(g)),E[+(f>0)].push(z(f)),w=W.apply(N,E[0]),C=W.apply(N,E[1]),x=(R?h.height-F.height:h.width-F.width)/(C+w),y+=w*x*(R?-1:1)}else 0>f/g&&(y-=f*x*(R?-1:1));if(S.boundColumn)for(p=P.axes.get(V.xAxis),p&&(d=p.applyData(),r=d.from,o=d.to),S.xField&&!Ext.isNumber(r)&&(m=S.getMinMaxYValues(),r=m[0],o=m[1]),Ext.isNumber(r)||(r=0),Ext.isNumber(o)||(o=0),l=S.getGutters(),a=(h.width-(l.lower+l.upper))/(o-r||1),s=h.x+l.lower,i=[],e=0,t=T.length;t>e;e++)n=T[e],v=n.get(S.xField),i[e]=s+(v-r)*a-u/2;return{bars:I,barsLoc:i,bbox:h,shrunkBarWidth:c,barsLen:M,groupBarsLen:D,barWidth:O,groupBarWidth:u,scale:x,zero:y,padding:F,signed:0>f/g,minY:f,maxY:g}},getPaths:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,y,E,v,b,C=this,w=C.chart,S=w.getChartStore(),P=S.data.items,k=C.bounds=C.getBounds(),T=C.items=[],I=Ext.isArray(C.yField)?C.yField:[C.yField],M=C.gutter/100,D=C.groupGutter/100,A=w.animate,R=C.column,F=C.group,L=w.shadow,O=C.shadowGroups,B=(C.shadowAttributes,O.length),N=k.bbox,H=k.barWidth,W=k.shrunkBarWidth,z=C.getPadding(),V=C.stacked,G=k.barsLen,X=C.colorArrayStyle,Y=X&&X.length||0,j=C.themeIdx,_=Math,U=_.max,K=(_.min,_.abs);for(e=0,t=P.length;t>e;e++){for(n=P[e],l=k.zero,d=k.zero,a=0,s=0,g=p=0,c=!1,i=0,f=0;G>i;i++)if(!C.__excludes||!C.__excludes[i]){if(r=n.get(k.bars[i]),r>=0?g+=r:p+=r,o=Math.round((r-U(k.minY,0))*k.scale),b=j+(G>1?i:0),u={fill:X[b%Y]},R?Ext.apply(u,{height:o,width:U(k.groupBarWidth,0),x:C.boundColumn?k.barsLoc[e]:N.x+z.left+.5*(H-W)+e*H*(1+M)+f*k.groupBarWidth*(1+D)*!V,y:l-o}):(E=t-1-e,Ext.apply(u,{height:U(k.groupBarWidth,0),width:o+(l==k.zero),x:l+(l!=k.zero),y:N.y+z.top+.5*(H-W)+E*H*(1+M)+f*k.groupBarWidth*(1+D)*!V+1})),0>o&&(R?(u.y=d,u.height=K(o)):(u.x=d+o,u.width=K(o))),V&&(0>o?d+=o*(R?-1:1):l+=o*(R?-1:1),a+=K(o),0>o&&(s+=K(o))),u.x=Math.floor(u.x)+1,v=Math.floor(u.y),Ext.isIE8m&&u.y>v&&v--,u.y=v,u.width=Math.floor(u.width),u.height=Math.floor(u.height),T.push({series:C,yField:I[i],storeItem:n,value:[n.get(C.xField),r],attr:u,point:R?[u.x+u.width/2,r>=0?u.y:u.y+u.height]:[r>=0?u.x+u.width:u.x,u.y+u.height/2]}),A&&w.resizing){if(h=R?{x:u.x,y:k.zero,width:u.width,height:0}:{x:k.zero,y:u.y,width:0,height:u.height},L&&(V&&!c||!V))for(c=!0,m=0;B>m;m++)x=O[m].getAt(V?e:e*G+i),x&&x.setAttributes(h,!0);y=F.getAt(e*G+i),y&&y.setAttributes(h,!0)}f++}V&&T.length&&(T[e*f].totalDim=a,T[e*f].totalNegDim=s,T[e*f].totalPositiveValues=g,T[e*f].totalNegativeValues=p)}if(V&&0==f)for(e=0,t=P.length;t>e;e++)for(m=0;B>m;m++)x=O[m].getAt(e),x&&x.hide(!0)},renderShadows:function(e,t,n,i){var r,o,a,s,l,d,c,u=this,h=u.chart,f=h.surface,g=h.animate,p=u.stacked,m=u.shadowGroups,x=u.shadowAttributes,y=m.length,E=h.getChartStore(),v=u.column,b=u.items,C=[],w=i.zero;if(p&&0===e%i.groupBarsLen||!p)for(d=e/i.groupBarsLen,r=0;y>r;r++)o=Ext.apply({},x[r]),a=m[r].getAt(p?d:e),Ext.copyTo(o,t,"x,y,width,height"),a||(a=f.add(Ext.apply({type:"rect",group:m[r]},Ext.apply({},n,o)))),p&&(s=b[e].totalDim,l=b[e].totalNegDim,v?(o.y=w+l-s-1,o.height=s):(o.x=w-l,o.width=s)),c=u.renderer(a,E.getAt(d),o,e,E),c.hidden=!!t.hidden,g?u.onAnimate(a,{to:c}):a.setAttributes(c,!0),C.push(a);return C},drawSeries:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g=this,p=g.chart,m=p.getChartStore(),x=p.surface,y=p.animate,E=g.stacked,v=g.column,b=p.axes,C=g.getAxesForXAndYFields(),w=C.xAxis,S=(C.yAxis,p.shadow),P=g.shadowGroups,k=P.length,T=g.group,I=g.seriesStyle;if(!m||!m.getCount()||g.seriesIsHidden)return g.hide(),g.items=[],void 0;for(c=Ext.apply({},this.style,I),delete c.fill,delete c.x,delete c.y,delete c.width,delete c.height,g.unHighlightItem(),g.cleanHighlights(),g.boundColumn=w&&Ext.Array.contains(g.axis,w)&&b.get(w)&&b.get(w).isNumericAxis,g.getPaths(),d=g.bounds,e=g.items,r=v?{y:d.zero,height:0}:{x:d.zero,width:0},t=e.length,n=0;t>n;n++){if(o=T.getAt(n),u=e[n].attr,S&&(e[n].shadows=g.renderShadows(n,u,r,d)),o||(h=Ext.apply({},r,u),h=Ext.apply(h,c||{}),o=x.add(Ext.apply({},{type:"rect",group:T},h))),y){if(a=g.renderer(o,m.getAt(n),u,n,m),o._to=a,f=g.onAnimate(o,{to:Ext.apply(a,c)}),S&&E&&0===n%d.barsLen)for(i=n/d.barsLen,s=0;k>s;s++)f.on("afteranimate",function(){this.show(!0)},P[s].getAt(i))}else a=g.renderer(o,m.getAt(n),Ext.apply(u,{hidden:!1}),n,m),o.setAttributes(Ext.apply(a,c),!0);e[n].sprite=o}for(t=T.getCount(),i=n;t>i;i++)T.getAt(i).hide(!0);if(g.stacked&&(n=m.getCount()),S)for(s=0;k>s;s++)for(l=P[s],t=l.getCount(),i=n;t>i;i++)l.getAt(i).hide(!0);g.renderLabels()},onCreateLabel:function(){var e=this,t=e.chart.surface,n=e.labelsGroup,i=e.label,r=Ext.apply({},i,e.seriesLabelStyle||{});return t.add(Ext.apply({type:"text",group:n},r||{}))},onPlaceLabel:function(e,t,n,i,r,o,a){var s,l,d,c,u,h,f,g=this,p=g.bounds,m=p.groupBarWidth,x=g.column,y=g.chart,E=y.chartBBox,v=y.resizing,b=(n.value[0],n.value[1]),C=n.attr,w=g.label,S=g.stacked,P=w.stackedDisplay,k="vertical"==w.orientation,T=[].concat(w.field),I=w.renderer,M=p.zero,D="insideStart",A="insideEnd",R="outside",F="over",L="under",O=4,B=2;if(p.signed,r==D||r==A||r==R){if(S&&r==R)return e.hide(!0),void 0;if(e.setAttributes({style:void 0}),s=Ext.isNumber(a)?I(t.get(T[a]),e,t,n,i,r,o,a):"",e.setAttributes({text:s}),l=g.getLabelSize(s,e.attr.style),d=l.width,c=l.height,x){if(!d||!c||S&&C.height<c)return e.hide(!0),void 0;if(u=C.x+(k?m/2:(m-d)/2),r==R){var N=b>=0?C.y-E.y:E.y+E.height-C.y-C.height;c+B>N&&(r=A)}if(S||r==R||c+B>C.height&&(r=R),!h)if(h=C.y,b>=0)switch(r){case D:h+=C.height+(k?-B:-c/2);break;case A:h+=k?c+O:c/2;break;case R:h+=k?-B:-c/2}else switch(r){case D:h+=k?c+B:c/2;break;case A:h+=k?C.height-B:C.height-c/2;break;case R:h+=k?C.height+c+B:C.height+c/2}}else{if(!d||!c||S&&!C.width)return e.hide(!0),void 0;if(h=C.y+(k?(m+c)/2:m/2),r==R){var N=b>=0?E.x+E.width-C.x-C.width:C.x-E.x;d+O>N&&(r=A)}if(r!=R&&!k&&d+O>C.width)if(S){if(c>C.width)return e.hide(!0),void 0;u=C.x+C.width/2,h=C.y+C.height-(C.height-d)/2,k=!0}else r=R;if(!u)if(u=C.x,b>=0)switch(r){case D:u+=k?d/2:O;break;case A:u+=C.width+(k?-d/2:-d-O);break;case R:u+=C.width+(k?d/2:O)}else switch(r){case D:u+=C.width+(k?-d/2:-d-O);break;case A:u+=k?d/2:O;break;case R:u+=k?-d/2:-d-O}}}else if((r==F||r==L)&&S&&P)switch(s=e.attr.text,e.setAttributes({style:Ext.applyIf(e.attr&&e.attr.style||{},{"font-weight":"bold","font-size":"14px"})}),l=g.getLabelSize(s,e.attr.style),d=l.width,c=l.height,r){case F:x?(u=C.x+(k?m/2:(m-d)/2),h=M-(n.totalDim-n.totalNegDim)-c/2-B):(u=M+(n.totalDim-n.totalNegDim)+O,h=C.y+(k?(m+c)/2:m/2));break;case L:x?(u=C.x+(k?m/2:(m-d)/2),h=M+n.totalNegDim+c/2):(u=M-n.totalNegDim-d-O,h=C.y+(k?(m+c)/2:m/2))}return void 0==u||void 0==h?(e.hide(!0),void 0):(e.isOutside=r==R,e.setAttributes({text:s}),f={x:u,y:h},k&&(f.rotate={x:u,y:h,degrees:270}),o&&v&&(x?(u=C.x+C.width/2,h=M):(u=M,h=C.y+C.height/2),e.setAttributes({x:u,y:h},!0),k&&e.setAttributes({rotate:{x:u,y:h,degrees:270}},!0)),o?g.onAnimate(e,{to:f}):e.setAttributes(Ext.apply(f,{hidden:!1}),!0),void 0)},getLabelSize:function(e,t){var n,i,r,o=this.testerLabel,a=this.label,s=Ext.apply({},a,t,this.seriesLabelStyle||{}),l="vertical"===a.orientation;return o||(o=this.testerLabel=this.chart.surface.add(Ext.apply({type:"text",opacity:0},s))),o.setAttributes({style:t,text:e},!0),n=o.getBBox(),i=n.width,r=n.height,{width:l?r:i,height:l?i:r}
},onAnimate:function(e){return e.show(),this.callParent(arguments)},isItemInPoint:function(e,t,n){var i=n.sprite.getBBox();return i.x<=e&&i.y<=t&&i.x+i.width>=e&&i.y+i.height>=t},hideAll:function(e){var t=this.chart.axes,n=t.items,i=n.length,r=0;for(e=(isNaN(this._index)?e:this._index)||0,this.__excludes||(this.__excludes=[]),this.__excludes[e]=!0,this.drawSeries(),r;i>r;r++)n[r].drawAxis()},showAll:function(e){var t=this.chart.axes,n=t.items,i=n.length,r=0;for(e=(isNaN(this._index)?e:this._index)||0,this.__excludes||(this.__excludes=[]),this.__excludes[e]=!1,this.drawSeries(),r;i>r;r++)n[r].drawAxis()},getLegendColor:function(e){var t=this,n=t.colorArrayStyle.length;return t.style&&t.style.fill?t.style.fill:t.colorArrayStyle[e%n]},highlightItem:function(){this.callParent(arguments),this.renderLabels()},unHighlightItem:function(){this.callParent(arguments),this.renderLabels()},cleanHighlights:function(){this.callParent(arguments),this.renderLabels()}}),Ext.define("Ext.chart.series.Column",{alternateClassName:["Ext.chart.ColumnSeries","Ext.chart.ColumnChart","Ext.chart.StackedColumnChart"],extend:Ext.chart.series.Bar,type:"column",alias:"series.column",column:!0,boundColumn:!1,xPadding:10,yPadding:0}),Ext.define("Ext.chart.series.Gauge",{extend:Ext.chart.series.Series,type:"gauge",alias:"series.gauge",rad:Math.PI/180,highlightDuration:150,angleField:!1,needle:!1,donut:!1,showInLegend:!1,style:{},constructor:function(e){this.callParent(arguments);var t,n,i=this,r=i.chart,o=r.surface,a=(r.store,r.shadow);if(Ext.apply(i,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]}),i.group=o.getGroup(i.seriesId),a)for(t=0,n=i.shadowAttributes.length;n>t;t++)i.shadowGroups.push(o.getGroup(i.seriesId+"-shadows"+t));o.customAttributes.segment=function(e){return i.getSegment(e)}},initialize:function(){var e=this,t=e.chart.getChartStore(),n=t.data.items,i=e.label,r=n.length;e.yField=[],i&&i.field&&r>0&&e.yField.push(n[0].get(i.field))},getSegment:function(e){var t=this,n=t.rad,i=Math.cos,r=Math.sin,o=Math.abs,a=t.centerX,s=t.centerY,l=0,d=0,c=0,u=0,h=0,f=0,g=0,p=0,m=.01,x=(e.endRho-e.startRho,e.startAngle),y=e.endAngle,E=(x+y)/2*n,v=e.margin||0,b=o(y-x)>180,C=Math.min(x,y)*n,w=Math.max(x,y)*n,S=!1;return a+=v*i(E),s+=v*r(E),l=a+e.startRho*i(C),h=s+e.startRho*r(C),d=a+e.endRho*i(C),f=s+e.endRho*r(C),c=a+e.startRho*i(w),g=s+e.startRho*r(w),u=a+e.endRho*i(w),p=s+e.endRho*r(w),o(l-c)<=m&&o(h-g)<=m&&(S=!0),S?{path:[["M",l,h],["L",d,f],["A",e.endRho,e.endRho,0,+b,1,u,p],["Z"]]}:{path:[["M",l,h],["L",d,f],["A",e.endRho,e.endRho,0,+b,1,u,p],["L",c,g],["A",e.startRho,e.startRho,0,+b,0,l,h],["Z"]]}},calcMiddle:function(e){var t=this,n=t.rad,i=e.slice,r=t.centerX,o=t.centerY,a=i.startAngle,s=i.endAngle,l=(Math.max("rho"in i?i.rho:t.radius,t.label.minMargin),+t.donut,Math.min(a,s)*n),d=Math.max(a,s)*n,c=-(l+(d-l)/2),u=r+(e.endRho+e.startRho)/2*Math.cos(c),h=o-(e.endRho+e.startRho)/2*Math.sin(c);e.middle={x:u,y:h}},drawSeries:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m=this,x=m.chart,y=x.getChartStore(),E=m.group,v=m.chart.animate,b=m.chart.axes.get(0),C=b&&b.minimum||m.minimum||0,w=b&&b.maximum||m.maximum||0,S=m.angleField||m.field||m.xField,P=x.surface,k=x.chartBBox,T=(m.rad,+m.donut),I=[],M=m.seriesStyle,D=(m.seriesLabelStyle,m.colorArrayStyle),A=D&&D.length||0,R=Math.cos,F=Math.sin;if(Ext.apply(M,m.style||{}),m.setBBox(),h=m.bbox,m.colorSet&&(D=m.colorSet,A=D.length),!y||!y.getCount()||m.seriesIsHidden)return m.hide(),m.items=[],void 0;for(t=m.centerX=k.x+k.width/2,n=m.centerY=k.y+k.height,m.radius=Math.min(t-k.x,n-k.y),m.slices=r=[],m.items=I=[],m.value||(d=y.getAt(0),m.value=d.get(S)),a=m.value,m.needle?(g={series:m,value:a,startAngle:-180,endAngle:0,rho:m.radius},f=-180*(1-(a-C)/(w-C)),r.push(g)):(f=-180*(1-(a-C)/(w-C)),g={series:m,value:a,startAngle:-180,endAngle:f,rho:m.radius},p={series:m,value:m.maximum-a,startAngle:f,endAngle:0,rho:m.radius},r.push(g,p)),c=0,l=r.length;l>c;c++)i=r[c],o=E.getAt(c),e=Ext.apply({segment:{startAngle:i.startAngle,endAngle:i.endAngle,margin:0,rho:i.rho,startRho:i.rho*+T/100,endRho:i.rho}},Ext.apply(M,D&&{fill:D[c%A]}||{})),s=Ext.apply({},e.segment,{slice:i,series:m,storeItem:d,index:c}),I[c]=s,o||(u=Ext.apply({type:"path",group:E},Ext.apply(M,D&&{fill:D[c%A]}||{})),o=P.add(Ext.apply(u,e))),i.sprite=i.sprite||[],s.sprite=o,i.sprite.push(o),v?(e=m.renderer(o,d,e,c,y),o._to=e,m.onAnimate(o,{to:e})):(e=m.renderer(o,d,Ext.apply(e,{hidden:!1}),c,y),o.setAttributes(e,!0));m.needle&&(f=f*Math.PI/180,m.needleSprite?v?m.onAnimate(m.needleSprite,{to:{path:["M",t+m.radius*+T/100*R(f),n+-Math.abs(m.radius*+T/100*F(f)),"L",t+m.radius*R(f),n+-Math.abs(m.radius*F(f))]}}):m.needleSprite.setAttributes({type:"path",path:["M",t+m.radius*+T/100*R(f),n+-Math.abs(m.radius*+T/100*F(f)),"L",t+m.radius*R(f),n+-Math.abs(m.radius*F(f))]}):m.needleSprite=m.chart.surface.add({type:"path",path:["M",t+m.radius*+T/100*R(f),n+-Math.abs(m.radius*+T/100*F(f)),"L",t+m.radius*R(f),n+-Math.abs(m.radius*F(f))],"stroke-width":4,stroke:"#222"}),m.needleSprite.setAttributes({hidden:!1},!0)),delete m.value},setValue:function(e){this.value=e,this.drawSeries()},onCreateLabel:function(){},onPlaceLabel:function(){},onPlaceCallout:function(){},onAnimate:function(e){return e.show(),this.callParent(arguments)},isItemInPoint:function(e,t,n,i){var r=this,o=r.centerX,a=r.centerY,s=Math.abs,l=s(e-o),d=s(t-a),c=n.startAngle,u=n.endAngle,h=Math.sqrt(l*l+d*d),f=Math.atan2(t-a,e-o)/r.rad;return 0===i&&f>=c&&u>f&&h>=n.startRho&&h<=n.endRho},getLegendColor:function(e){var t=this.colorSet||this.colorArrayStyle;return t[e%t.length]}}),Ext.define("Ext.chart.series.Line",{extend:Ext.chart.series.Cartesian,alternateClassName:["Ext.chart.LineSeries","Ext.chart.LineChart"],type:"line",alias:"series.line",selectionTolerance:20,showMarkers:!0,markerConfig:{},style:{},smooth:!1,defaultSmoothness:3,fill:!1,constructor:function(e){this.callParent(arguments);var t,n,i=this,r=i.chart.surface,o=i.chart.shadow;if(e.highlightCfg=Ext.Object.merge({"stroke-width":3},e.highlightCfg),Ext.apply(i,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}}]}),i.group=r.getGroup(i.seriesId),i.showMarkers&&(i.markerGroup=r.getGroup(i.seriesId+"-markers")),o)for(t=0,n=i.shadowAttributes.length;n>t;t++)i.shadowGroups.push(r.getGroup(i.seriesId+"-shadows"+t))},shrink:function(e,t,n){for(var i=e.length,r=Math.floor(i/n),o=1,a=0,s=0,l=[+e[0]],d=[+t[0]];i>o;++o)a+=+e[o]||0,s+=+t[o]||0,0==o%r&&(l.push(a/r),d.push(s/r),a=0,s=0);return{x:l,y:d}},drawSeries:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,y,E,v,b,C,w,S,P,k,T,I,M,D,A,R,F,L,O,B,N,H,W,z,V,G,X=this,Y=X.chart,j=Y.axes,_=Y.getChartStore(),U=_.data.items,K=_.getCount(),q=X.chart.surface,$={},Q=X.group,Z=X.showMarkers,J=X.markerGroup,et=Y.shadow,tt=X.shadowGroups,nt=X.shadowAttributes,it=X.smooth,rt=tt.length,ot=["M"],at=["M"],st=["M"],lt=["M"],dt=Y.markerIndex,ct=([].concat(X.axis),[]),ut={},ht=[],ft=!1,gt=[],pt=Ext.apply({},X.markerStyle),mt=X.seriesStyle,xt=X.colorArrayStyle,yt=xt&&xt.length||0,Et=Ext.isNumber,vt=(X.seriesIdx,X.getAxesForXAndYFields()),bt=vt.xAxis,Ct=vt.yAxis,wt=bt?j.get(bt).type:"",St=Ct?j.get(Ct).type:"";if(X.fireEvent("beforedraw",X)!==!1){if(!K||X.seriesIsHidden){if(X.hide(),X.items=[],X.line){if(X.line.hide(!0),X.line.shadows)for(n=X.line.shadows,x=0,rt=n.length;rt>x;x++)i=n[x],i.hide(!0);X.fillPath&&X.fillPath.hide(!0)}return X.line=null,X.fillPath=null,void 0}if(O=Ext.apply(pt||{},X.markerConfig,{fill:X.seriesStyle.fill||xt[X.themeIdx%xt.length]}),N=O.type,delete O.type,B=mt,B["stroke-width"]||(B["stroke-width"]=.5),W="opacity"in B?B.opacity:1,G="opacity"in B?B.opacity:.3,z="lineOpacity"in B?B.lineOpacity:W,V="fillOpacity"in B?B.fillOpacity:G,dt&&J&&J.getCount())for(m=0;dt>m;m++)b=J.getAt(m),J.remove(b),J.add(b),C=J.getAt(J.getCount()-2),b.setAttributes({x:0,y:0,translate:{x:C.attr.translation.x,y:C.attr.translation.y}},!0);for(X.unHighlightItem(),X.cleanHighlights(),X.setBBox(),$=X.bbox,X.clipRect=[$.x,$.y,$.width,$.height],(E=j.get(bt))&&(v=E.applyData(),M=v.from,D=v.to),(E=j.get(Ct))&&(v=E.applyData(),A=v.from,R=v.to),X.xField&&!Ext.isNumber(M)&&(E=X.getMinMaxXValues(),M=E[0],D=E[1]),X.yField&&!Ext.isNumber(A)&&(E=X.getMinMaxYValues(),A=E[0],R=E[1]),isNaN(M)?(M=0,T=$.width/(K-1||1)):T=$.width/(D-M||K-1||1),isNaN(A)?(A=0,I=$.height/(K-1||1)):I=$.height/(R-A||K-1||1),m=0,y=U.length;y>m;m++)e=U[m],S=e.get(X.xField),"Time"==wt&&"string"==typeof S&&(S=Date.parse(S)),("string"==typeof S||"object"==typeof S&&!Ext.isDate(S)||bt&&j.get(bt)&&"Category"==j.get(bt).type)&&(S=S in ut?ut[S]:ut[S]=m),P=e.get(X.yField),"Time"==St&&"string"==typeof P&&(P=Date.parse(P)),"undefined"==typeof P||"string"==typeof P&&!P||(("string"==typeof P||"object"==typeof P&&!Ext.isDate(P)||Ct&&j.get(Ct)&&"Category"==j.get(Ct).type)&&(P=m),gt.push(m),ct.push(S),ht.push(P));for(y=ct.length,y>$.width&&(k=X.shrink(ct,ht,$.width),ct=k.x,ht=k.y),X.items=[],H=0,y=ct.length,m=0;y>m;m++)if(S=ct[m],P=ht[m],P!==!1){if(d=($.x+(S-M)*T).toFixed(2),c=($.y+$.height-(P-A)*I).toFixed(2),ft&&(ft=!1,at.push("M")),at=at.concat([d,c]),"undefined"==typeof g&&"undefined"!=typeof c&&(g=c,f=d),(!X.line||Y.resizing)&&(ot=ot.concat([d,$.y+$.height/2])),Y.animate&&Y.resizing&&X.line&&(X.line.setAttributes({path:ot,opacity:z},!0),X.fillPath&&X.fillPath.setAttributes({path:ot,opacity:V},!0),X.line.shadows))for(n=X.line.shadows,x=0,rt=n.length;rt>x;x++)i=n[x],i.setAttributes({path:ot},!0);Z&&(b=J.getAt(H++),b?(b.setAttributes({value:'"'+S+", "+P+'"',x:0,y:0,hidden:!1},!0),b._to={translate:{x:+d,y:+c}}):(b=Ext.chart.Shape[N](q,Ext.apply({group:[Q,J],x:0,y:0,translate:{x:+(u||d),y:h||$.y+$.height/2},value:'"'+S+", "+P+'"',zIndex:4e3},O)),b._to={translate:{x:+d,y:+c}})),X.items.push({series:X,value:[S,P],point:[d,c],sprite:b,storeItem:_.getAt(gt[m])}),u=d,h=c}else 1==at.length&&(at=[]),ft=!0,X.items.push(!1);if(!(at.length<=1)){if(X.smooth&&(lt=Ext.draw.Draw.smooth(at,Et(it)?it:X.defaultSmoothness)),st=it?lt:at,Y.markerIndex&&X.previousPath?(o=X.previousPath,it||Ext.Array.erase(o,1,2)):o=at,!X.line&&(X.line=q.add(Ext.apply({type:"path",group:Q,path:ot,stroke:B.stroke||B.fill},B||{})),X.line.setAttributes({opacity:z},!0),et&&X.line.setAttributes(Ext.apply({},X.shadowOptions),!0),X.line.setAttributes({fill:"none",zIndex:3e3}),!B.stroke&&yt&&X.line.setAttributes({stroke:xt[X.themeIdx%yt]},!0),et))for(n=X.line.shadows=[],r=0;rt>r;r++)t=nt[r],t=Ext.apply({},t,{path:ot}),i=q.add(Ext.apply({},{type:"path",group:tt[r]},t)),n.push(i);if(X.fill&&(s=st.concat([["L",d,$.y+$.height],["L",f,$.y+$.height],["L",f,g]]),X.fillPath||(X.fillPath=q.add({group:Q,type:"path",fill:B.fill||xt[X.themeIdx%yt],path:ot}))),p=Z&&J.getCount(),Y.animate){if(a=X.fill,F=X.line,l=X.renderer(F,!1,{path:st},m,_),Ext.apply(l,B||{},{stroke:B.stroke||B.fill}),delete l.fill,F.show(!0),X.animation=L=Y.markerIndex&&X.previousPath?X.onAnimate(F,{to:l,from:{path:o}}):X.onAnimate(F,{to:l}),et)for(n=F.shadows,x=0;rt>x;x++)n[x].show(!0),Y.markerIndex&&X.previousPath?X.onAnimate(n[x],{to:{path:st},from:{path:o}}):X.onAnimate(n[x],{to:{path:st}});if(a&&(X.fillPath.show(!0),X.onAnimate(X.fillPath,{to:Ext.apply({},{path:s,fill:B.fill||xt[X.themeIdx%yt],"stroke-width":0,opacity:V},B||{})})),Z){for(H=0,m=0;y>m;m++)X.items[m]&&(w=J.getAt(H++),w&&(l=X.renderer(w,_.getAt(m),w._to,m,_),X.onAnimate(w,{to:Ext.applyIf(l,O||{})}),w.show(!0)));for(;p>H;H++)w=J.getAt(H),w.hide(!0)}}else{if(l=X.renderer(X.line,!1,{path:st,hidden:!1},m,_),Ext.apply(l,B||{},{stroke:B.stroke||B.fill}),delete l.fill,X.line.setAttributes(l,!0),X.line.setAttributes({opacity:z},!0),et)for(n=X.line.shadows,x=0;rt>x;x++)n[x].setAttributes({path:st,hidden:!1},!0);if(X.fill&&X.fillPath.setAttributes({path:s,hidden:!1,opacity:V},!0),Z){for(H=0,m=0;y>m;m++)X.items[m]&&(w=J.getAt(H++),w&&(l=X.renderer(w,_.getAt(m),w._to,m,_),w.setAttributes(Ext.apply(O||{},l||{}),!0),w.attr.hidden||w.show(!0)));for(;p>H;H++)w=J.getAt(H),w.hide(!0)}}Y.markerIndex&&(X.smooth?Ext.Array.erase(at,1,2):Ext.Array.splice(at,1,0,at[1],at[2]),X.previousPath=at),X.renderLabels(),X.renderCallouts(),X.fireEvent("draw",X)}}},onCreateLabel:function(e,t){var n=this,i=n.labelsGroup,r=n.label,o=n.bbox,a=Ext.apply({},r,n.seriesLabelStyle||{});return n.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:i,x:Number(t.point[0]),y:o.y+o.height/2},a||{}))},onPlaceLabel:function(e,t,n,i,r,o,a){var s,l,d,c,u,h,f=this,g=f.chart,p=g.resizing,m=f.label,x=m.renderer,y=m.field,E=f.bbox,v=Number(n.point[0]),b=Number(n.point[1]),C=n.sprite.attr.radius;e.setAttributes({text:x(t.get(y),e,t,n,i,r,o,a),hidden:!0},!0),l=n.sprite.getBBox(),l.width=l.width||2*C,l.height=l.height||2*C,s=e.getBBox(),d=s.width/2,c=s.height/2,"rotate"==r?(u=l.width/2+d+c/2,v+u+d>E.x+E.width?v-=u:v+=u,e.setAttributes({rotation:{x:v,y:b,degrees:-45}},!0)):("under"==r||"over"==r)&&(e.setAttributes({rotation:{degrees:0}},!0),v<E.x+d?v=E.x+d:v+d>E.x+E.width&&(v=E.x+E.width-d),h=l.height/2+c,b+="over"==r?-h:h,b<E.y+c?b+=2*h:b+c>E.y+E.height&&(b-=2*h)),f.chart.animate&&!f.chart.resizing?(e.show(!0),f.onAnimate(e,{to:{x:v,y:b}})):(e.setAttributes({x:v,y:b},!0),p&&f.animation?f.animation.on("afteranimate",function(){e.show(!0)}):e.show(!0))},highlightItem:function(){var e=this,t=e.line;e.callParent(arguments),t&&!e.highlighted&&("__strokeWidth"in t||(t.__strokeWidth=parseFloat(t.attr["stroke-width"])||0),t.__anim&&(t.__anim.paused=!0),t.__anim=new Ext.fx.Anim({target:t,to:{"stroke-width":t.__strokeWidth+3}}),e.highlighted=!0)},unHighlightItem:function(){var e,t=this,n=t.line;t.callParent(arguments),n&&t.highlighted&&(e=n.__strokeWidth||parseFloat(n.attr["stroke-width"])||0,n.__anim=new Ext.fx.Anim({target:n,to:{"stroke-width":e}}),t.highlighted=!1)},onPlaceCallout:function(e,t,n,i,r){if(r){var o,a,s,l,d,c,u,h,f,g,p,m,x,y=this,E=y.chart,v=(E.surface,E.resizing,y.callouts),b=y.items,C=0==i?!1:b[i-1].point,w=i==b.length-1?!1:b[i+1].point,S=[+n.point[0],+n.point[1]],P=v.offsetFromViz||30,k=(v.offsetToSide||10,v.offsetBox||3),T=y.clipRect,I={width:v.styles.width||10,height:v.styles.height||10};C||(C=S),w||(w=S),l=(w[1]-C[1])/(w[0]-C[0]),d=(S[1]-C[1])/(S[0]-C[0]),c=(w[1]-S[1])/(w[0]-S[0]),a=Math.sqrt(1+l*l),o=[1/a,l/a],s=[-o[1],o[0]],d>0&&0>c&&s[1]<0||0>d&&c>0&&s[1]>0?(s[0]*=-1,s[1]*=-1):(Math.abs(d)<Math.abs(c)&&s[0]<0||Math.abs(d)>Math.abs(c)&&s[0]>0)&&(s[0]*=-1,s[1]*=-1),m=S[0]+s[0]*P,x=S[1]+s[1]*P,u=m+(s[0]>0?0:-(I.width+2*k)),h=x-I.height/2-k,f=I.width+2*k,g=I.height+2*k,(u<T[0]||u+f>T[0]+T[2])&&(s[0]*=-1),(h<T[1]||h+g>T[1]+T[3])&&(s[1]*=-1),m=S[0]+s[0]*P,x=S[1]+s[1]*P,u=m+(s[0]>0?0:-(I.width+2*k)),h=x-I.height/2-k,f=I.width+2*k,g=I.height+2*k,E.animate?(y.onAnimate(e.lines,{to:{path:["M",S[0],S[1],"L",m,x,"Z"]}}),e.panel&&e.panel.setPosition(u,h,!0)):(e.lines.setAttributes({path:["M",S[0],S[1],"L",m,x,"Z"]},!0),e.panel&&e.panel.setPosition(u,h));for(p in e)e[p].show(!0)}},isItemInPoint:function(e,t,n,i){var r,o,a,s,l,d,c,u,h,f,g,p,m=this,x=m.items,y=m.selectionTolerance,E=Math.sqrt;return Math.abs,o=x[i],r=i&&x[i-1],i>=l&&(r=x[l-1]),a=r&&r.point,s=o&&o.point,d=r?a[0]:s[0]-y,c=r?a[1]:s[1],u=o?s[0]:a[0]+y,h=o?s[1]:a[1],f=E((e-d)*(e-d)+(t-c)*(t-c)),g=E((e-u)*(e-u)+(t-h)*(t-h)),p=Math.min(f,g),y>=p?p==f?r:o:!1},toggleAll:function(e){var t,n,i,r,o=this;if(e?Ext.chart.series.Cartesian.prototype.showAll.call(o):Ext.chart.series.Cartesian.prototype.hideAll.call(o),o.line&&(o.line.setAttributes({hidden:!e},!0),o.line.shadows))for(t=0,r=o.line.shadows,n=r.length;n>t;t++)i=r[t],i.setAttributes({hidden:!e},!0);o.fillPath&&o.fillPath.setAttributes({hidden:!e},!0)},hideAll:function(){this.toggleAll(!1)},showAll:function(){this.toggleAll(!0)}}),Ext.define("Ext.chart.series.Pie",{alternateClassName:["Ext.chart.PieSeries","Ext.chart.PieChart"],extend:Ext.chart.series.Series,type:"pie",alias:"series.pie",accuracy:1e5,rad:2*Math.PI/1e5,highlightDuration:150,angleField:!1,lengthField:!1,donut:!1,showInLegend:!1,style:{},constructor:function(e){this.callParent(arguments);var t,n,i=this,r=i.chart,o=r.surface,a=(r.store,r.shadow);if(e.highlightCfg=Ext.merge({segment:{margin:20}},e.highlightCfg),Ext.apply(i,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]}),i.group=o.getGroup(i.seriesId),a)for(t=0,n=i.shadowAttributes.length;n>t;t++)i.shadowGroups.push(o.getGroup(i.seriesId+"-shadows"+t));o.customAttributes.segment=function(e){var t=i.getSegment(e);return t.path&&0!==t.path.length||(t.path=["M",0,0]),t},i.__excludes=i.__excludes||[]},onRedraw:function(){this.initialize()},initialize:function(){var e,t,n,i=this,r=i.chart.getChartStore(),o=r.data.items;if(i.yField=[],i.label.field)for(e=0,t=o.length;t>e;e++)n=o[e],i.yField.push(n.get(i.label.field))},getSegment:function(e){var t=this,n=t.rad,i=Math.cos,r=Math.sin,o=t.centerX,a=t.centerY,s=0,l=0,d=0,c=0,u=0,h=0,f=0,g=0,p=0,m=0,x=0,y=0,E=.01,v=e.startAngle,b=e.endAngle,C=(v+b)/2*n,w=e.margin||0,S=Math.min(v,b)*n,P=Math.max(v,b)*n,k=i(S),T=r(S),I=i(P),M=r(P),D=i(C),A=r(C),R=0;return E>P-S?{path:""}:(0!==w&&(o+=w*D,a+=w*A),l=o+e.endRho*k,h=a+e.endRho*T,c=o+e.endRho*I,g=a+e.endRho*M,x=o+e.endRho*D,y=a+e.endRho*A,0!==e.startRho?(s=o+e.startRho*k,u=a+e.startRho*T,d=o+e.startRho*I,f=a+e.startRho*M,p=o+e.startRho*D,m=a+e.startRho*A,{path:[["M",l,h],["A",e.endRho,e.endRho,0,0,1,x,y],["L",x,y],["A",e.endRho,e.endRho,0,R,1,c,g],["L",c,g],["L",d,f],["A",e.startRho,e.startRho,0,R,0,p,m],["L",p,m],["A",e.startRho,e.startRho,0,0,0,s,u],["L",s,u],["Z"]]}):{path:[["M",o,a],["L",l,h],["A",e.endRho,e.endRho,0,0,1,x,y],["L",x,y],["A",e.endRho,e.endRho,0,R,1,c,g],["L",c,g],["L",o,a],["Z"]]})},calcMiddle:function(e){var t=this,n=t.rad,i=e.slice,r=t.centerX,o=t.centerY,a=i.startAngle,s=i.endAngle,l=(+t.donut,-(a+s)*n/2),d=(e.endRho+e.startRho)/2,c=r+d*Math.cos(l),u=o-d*Math.sin(l);e.middle={x:c,y:u}},drawSeries:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,y,E,v,b=this,C=b.chart.getChartStore(),w=C.data.items,S=b.group,P=b.chart.animate,k=b.angleField||b.field||b.xField,T=[].concat(b.lengthField),I=0,M=b.chart,D=M.surface,A=M.chartBBox,R=M.shadow,F=b.shadowGroups,L=b.shadowAttributes,O=F.length,B=T.length,N=0,H=+b.donut,W=[],z=[],V=0,G=0,X=0,Y=b.seriesStyle,j=b.colorArrayStyle,_=j&&j.length||0,U=0;if(Ext.apply(Y,b.style||{}),b.setBBox(),v=b.bbox,b.colorSet&&(j=b.colorSet,_=j.length),!C||!C.getCount()||b.seriesIsHidden)return b.hide(),b.items=[],void 0;for(b.unHighlightItem(),b.cleanHighlights(),a=b.centerX=A.x+A.width/2,s=b.centerY=A.y+A.height/2,b.radius=Math.min(a-A.x,s-A.y),b.slices=c=[],b.items=z=[],m=0,p=w.length;p>m;m++)if(e=w[m],(!this.__excludes||!this.__excludes[m])&&(V+=+e.get(k),T[0])){for(x=0,I=0;B>x;x++)I+=+e.get(T[x]);W[m]=I,G=Math.max(G,I)}for(V=V||1,m=0,p=w.length;p>m;m++){if(e=w[m],this.__excludes&&this.__excludes[m]?h=0:(h=e.get(k),0==U&&(U=1)),1==U)for(U=2,b.firstAngle=X=b.accuracy*h/V/2,x=0;m>x;x++)c[x].startAngle=c[x].endAngle=b.firstAngle;y=X-b.accuracy*h/V,d={series:b,value:h,startAngle:X,endAngle:y,storeItem:e},T[0]?(g=+W[m],d.rho=Math.floor(b.radius/G*g)):d.rho=b.radius,c[m]=d,function(){X=y}()}if(R)for(m=0,p=c.length;p>m;m++)for(d=c[m],d.shadowAttrs=[],x=0,N=0,i=[];B>x;x++){for(u=S.getAt(m*B+x),l=T[x]?C.getAt(m).get(T[x])/W[m]*d.rho:d.rho,t={segment:{startAngle:d.startAngle,endAngle:d.endAngle,margin:0,rho:d.rho,startRho:N+l*H/100,endRho:N+l},hidden:!d.value&&d.startAngle%b.accuracy==d.endAngle%b.accuracy},o=0,i=[];O>o;o++)n=L[o],r=F[o].getAt(m),r||(r=M.surface.add(Ext.apply({},{type:"path",group:F[o],strokeLinejoin:"round"},t,n))),n=b.renderer(r,C.getAt(m),Ext.apply({},t,n),m,C),P?b.onAnimate(r,{to:n}):r.setAttributes(n,!0),i.push(r);d.shadowAttrs[x]=i}for(m=0,p=c.length;p>m;m++)for(d=c[m],x=0,N=0;B>x;x++)u=S.getAt(m*B+x),l=T[x]?C.getAt(m).get(T[x])/W[m]*d.rho:d.rho,t=Ext.apply({segment:{startAngle:d.startAngle,endAngle:d.endAngle,margin:0,rho:d.rho,startRho:N+l*H/100,endRho:N+l},hidden:!d.value&&d.startAngle%b.accuracy==d.endAngle%b.accuracy},Ext.apply(Y,j&&{fill:j[(B>1?x:m)%_]}||{})),f=Ext.apply({},t.segment,{slice:d,series:b,storeItem:d.storeItem,index:m}),b.calcMiddle(f),R&&(f.shadows=d.shadowAttrs[x]),z[m]=f,u||(E=Ext.apply({type:"path",group:S,middle:f.middle},Ext.apply(Y,j&&{fill:j[(B>1?x:m)%_]}||{})),u=D.add(Ext.apply(E,t))),d.sprite=d.sprite||[],f.sprite=u,d.sprite.push(u),d.point=[f.middle.x,f.middle.y],P?(t=b.renderer(u,C.getAt(m),t,m,C),u._to=t,u._animating=!0,b.onAnimate(u,{to:t,listeners:{afteranimate:{fn:function(){this._animating=!1},scope:u}}})):(t=b.renderer(u,C.getAt(m),Ext.apply(t,{hidden:!1}),m,C),u.setAttributes(t,!0)),N+=l;for(p=S.getCount(),m=0;p>m;m++)!c[m/B>>0]&&S.getAt(m)&&S.getAt(m).hide(!0);if(R)for(O=F.length,o=0;p>o;o++)if(!c[o/B>>0])for(x=0;O>x;x++)F[x].getAt(o)&&F[x].getAt(o).hide(!0);b.renderLabels(),b.renderCallouts()},onCreateLabel:function(e,t){var n=this,i=n.labelsGroup,r=n.label,o=(n.centerX,n.centerY,t.middle),a=Ext.apply(n.seriesLabelStyle||{},r||{});return n.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:i,x:o.x,y:o.y},a))},onPlaceLabel:function(e,t,n,i,r,o,a){function s(e){return 0>e&&(e+=360),e%360}var l,d,c,u,h=this,f=h.chart,g=f.resizing,p=h.label,m=p.renderer,x=p.field,y=h.centerX,E=h.centerY,v=n.middle,b={x:v.x,y:v.y},C=v.x-y,w=v.y-E,S={},P=1,k=Math.atan2(w,C||1),T=180*k/Math.PI;switch(b.hidden=!1,this.__excludes&&this.__excludes[i]&&(b.hidden=!0),e.setAttributes({text:m(t.get(x),e,t,n,i,r,o,a)},!0),r){case"outside":P=2*Math.sqrt(C*C+w*w),e.setAttributes({rotation:{degrees:0}},!0),d=e.getBBox(),c=d.width/2*Math.cos(k)+4,u=d.height/2*Math.sin(k)+4,P+=Math.sqrt(c*c+u*u),b.x=P*Math.cos(k)+y,b.y=P*Math.sin(k)+E;break;case"rotate":T=s(T),T=T>90&&270>T?T+180:T,l=e.attr.rotation.degrees,null!=l&&Math.abs(l-T)>90?(T>l?T-=360:T+=360,T%=360):T=s(T),b.rotate={degrees:T,x:b.x,y:b.y}}b.translate={x:0,y:0},!o||g||"rotate"==r&&null==l?e.setAttributes(b,!0):h.onAnimate(e,{to:b}),e._from=S},onPlaceCallout:function(e,t,n){var i,r,o=this,a=o.chart,s=o.centerX,l=o.centerY,d=n.middle,c={x:d.x,y:d.y},u=d.x-s,h=d.y-l,f=1,g=Math.atan2(h,u||1),p=e&&e.label?e.label.getBBox():{width:0,height:0},m=20,x=10,y=10;if(p.width&&p.height){f=n.endRho+m,i=(n.endRho+n.startRho)/2+(n.endRho-n.startRho)/3,c.x=f*Math.cos(g)+s,c.y=f*Math.sin(g)+l,u=i*Math.cos(g),h=i*Math.sin(g),a.animate?(o.onAnimate(e.lines,{to:{path:["M",u+s,h+l,"L",c.x,c.y,"Z","M",c.x,c.y,"l",u>0?x:-x,0,"z"]}}),o.onAnimate(e.box,{to:{x:c.x+(u>0?x:-(x+p.width+2*y)),y:c.y+(h>0?-p.height-y/2:-p.height-y/2),width:p.width+2*y,height:p.height+2*y}}),o.onAnimate(e.label,{to:{x:c.x+(u>0?x+y:-(x+p.width+y)),y:c.y+(h>0?-p.height/4:-p.height/4)}})):(e.lines.setAttributes({path:["M",u+s,h+l,"L",c.x,c.y,"Z","M",c.x,c.y,"l",u>0?x:-x,0,"z"]},!0),e.box.setAttributes({x:c.x+(u>0?x:-(x+p.width+2*y)),y:c.y+(h>0?-p.height-y/2:-p.height-y/2),width:p.width+2*y,height:p.height+2*y},!0),e.label.setAttributes({x:c.x+(u>0?x+y:-(x+p.width+y)),y:c.y+(h>0?-p.height/4:-p.height/4)},!0));for(r in e)e[r].show(!0)}},onAnimate:function(e){return e.show(),this.callParent(arguments)},isItemInPoint:function(e,t,n){var i=this,r=i.centerX,o=i.centerY,a=Math.abs,s=a(e-r),l=a(t-o),d=n.startAngle,c=n.endAngle,u=Math.sqrt(s*s+l*l),h=Math.atan2(t-o,e-r)/i.rad;return h>i.firstAngle&&(h-=i.accuracy),d>=h&&h>c&&u>=n.startRho&&u<=n.endRho},hideAll:function(e){var t,n,i,r,o,a,s;for(e=(isNaN(this._index)?e:this._index)||0,this.__excludes=this.__excludes||[],this.__excludes[e]=!0,s=this.slices[e].sprite,o=0,a=s.length;a>o;o++)s[o].setAttributes({hidden:!0},!0);if(this.slices[e].shadowAttrs)for(t=0,r=this.slices[e].shadowAttrs,n=r.length;n>t;t++)for(i=r[t],o=0,a=i.length;a>o;o++)i[o].setAttributes({hidden:!0},!0);this.drawSeries()},showAll:function(e){e=(isNaN(this._index)?e:this._index)||0,this.__excludes[e]=!1,this.drawSeries()},highlightItem:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,y=this,E=y.rad;if(e=e||this.items[this._index],this.unHighlightItem(),!(!e||y.animating||e.sprite&&e.sprite._animating)&&(y.callParent([e]),y.highlight&&"segment"in y.highlightCfg&&(t=y.highlightCfg.segment,n=y.chart.animate,y.labelsGroup&&(u=y.labelsGroup,h=y.label.display,f=u.getAt(e.index),g=(e.startAngle+e.endAngle)/2*E,p=t.margin||0,m=p*Math.cos(g),x=p*Math.sin(g),Math.abs(m)<1e-10&&(m=0),Math.abs(x)<1e-10&&(x=0),n?(f.stopAnimation(),f.animate({to:{translate:{x:m,y:x}},duration:y.highlightDuration})):f.setAttributes({translate:{x:m,y:x}},!0)),y.chart.shadow&&e.shadows)))for(r=0,o=e.shadows,s=o.length;s>r;r++){a=o[r],l={},d=e.sprite._from.segment;for(c in d)c in t||(l[c]=d[c]);i={segment:Ext.applyIf(l,y.highlightCfg.segment)},n?(a.stopAnimation(),a.animate({to:i,duration:y.highlightDuration})):a.setAttributes(i,!0)}},unHighlightItem:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,y,E=this;if(E.highlight){if("segment"in E.highlightCfg&&E.items)for(e=E.items,t=E.chart.animate,n=!!E.chart.shadow,i=E.labelsGroup,r=e.length,o=0,a=0,s=E.label.display;r>o;o++)if(m=e[o],m&&(f=m.sprite,f&&f._highlighted&&(i&&(x=i.getAt(m.index),y=Ext.apply({translate:{x:0,y:0}},"rotate"==s?{rotate:{x:x.attr.x,y:x.attr.y,degrees:x.attr.rotation.degrees}}:{}),t?(x.stopAnimation(),x.animate({to:y,duration:E.highlightDuration})):x.setAttributes(y,!0)),n)))for(g=m.shadows,l=g.length;l>a;a++){c={},u=m.sprite._to.segment,h=m.sprite._from.segment,Ext.apply(c,h);for(d in u)d in h||(c[d]=u[d]);p=g[a],t?(p.stopAnimation(),p.animate({to:{segment:c},duration:E.highlightDuration})):p.setAttributes({segment:c},!0)}E.callParent(arguments)}},getLegendColor:function(e){var t=this;return t.colorSet&&t.colorSet[e%t.colorSet.length]||t.colorArrayStyle[e%t.colorArrayStyle.length]}}),Ext.define("Ext.chart.series.Radar",{extend:Ext.chart.series.Series,type:"radar",alias:"series.radar",rad:Math.PI/180,showInLegend:!1,style:{},constructor:function(){this.callParent(arguments);var e=this,t=e.chart.surface;e.group=t.getGroup(e.seriesId),e.showMarkers&&(e.markerGroup=t.getGroup(e.seriesId+"-markers"))},drawSeries:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m=this,x=m.chart.getChartStore(),y=x.data.items,E=m.group,v=m.chart,b=v.series.items,C=m.field||m.yField,w=v.surface,S=v.chartBBox,P=m.colorArrayStyle,k=0,T=[],I=Math.max,M=Math.cos,D=Math.sin,A=2*Math.PI,R=x.getCount(),F=m.seriesStyle,L=v.axes&&v.axes.get(0),O=!(L&&L.maximum);if(m.setBBox(),k=O?0:L.maximum||0,Ext.apply(F,m.style||{}),!x||!x.getCount()||m.seriesIsHidden)return m.hide(),m.items=[],m.radar&&m.radar.hide(!0),m.radar=null,void 0;if(F.stroke||(F.stroke=P[m.themeIdx%P.length]),m.unHighlightItem(),m.cleanHighlights(),o=m.centerX=S.x+S.width/2,a=m.centerY=S.y+S.height/2,m.radius=l=Math.min(S.width,S.height)/2,m.items=s=[],O){for(n=0,i=b.length;i>n;n++)r=b[n],T.push(r.yField);for(e=0;R>e;e++)for(t=y[e],g=0,p=T.length;p>g;g++)k=I(+t.get(T[g]),k)}for(k=k||1,d=[],c=[],g=0;R>g;g++)t=y[g],f=l*t.get(C)/k,u=f*M(g/R*A),h=f*D(g/R*A),0==g?(c.push("M",u+o,h+a),d.push("M",.01*u+o,.01*h+a)):(c.push("L",u+o,h+a),d.push("L",.01*u+o,.01*h+a)),s.push({sprite:!1,point:[o+u,a+h],storeItem:t,series:m});c.push("Z"),m.radar||(m.radar=w.add(Ext.apply({type:"path",group:E,path:d},F||{}))),v.resizing&&m.radar.setAttributes({path:d},!0),v.animate?m.onAnimate(m.radar,{to:Ext.apply({path:c},F||{})}):m.radar.setAttributes(Ext.apply({path:c},F||{}),!0),m.showMarkers&&m.drawMarkers(),m.renderLabels(),m.renderCallouts()},drawMarkers:function(){var e,t,n,i,r,o=this,a=o.chart,s=a.surface,l=a.getChartStore(),d=Ext.apply({},o.markerStyle||{}),c=Ext.apply(d,o.markerConfig,{fill:o.colorArrayStyle[o.themeIdx%o.colorArrayStyle.length]}),u=o.items,h=c.type,f=o.markerGroup,g=o.centerX,p=o.centerY;for(delete c.type,t=0,n=u.length;n>t;t++)e=u[t],i=f.getAt(t),i?i.show():i=Ext.chart.Shape[h](s,Ext.apply({group:f,x:0,y:0,translate:{x:g,y:p}},c)),e.sprite=i,a.resizing&&i.setAttributes({x:0,y:0,translate:{x:g,y:p}},!0),i._to={translate:{x:e.point[0],y:e.point[1]}},r=o.renderer(i,l.getAt(t),i._to,t,l),r=Ext.applyIf(r||{},c||{}),a.animate?o.onAnimate(i,{to:r}):i.setAttributes(r,!0)},isItemInPoint:function(e,t,n){var i,r=10,o=Math.abs;return i=n.point,o(i[0]-e)<=r&&o(i[1]-t)<=r},onCreateLabel:function(){var e=this,t=e.labelsGroup,n=e.label,i=e.centerX,r=e.centerY,o=Ext.apply({},n,e.seriesLabelStyle||{});return e.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:t,x:i,y:r},o||{}))},onPlaceLabel:function(e,t,n,i,r,o,a){function s(e){return 0>e&&(e+=360),e%360}var l,d,c=this,u=c.chart,h=u.resizing,f=c.label,g=f.renderer,p=f.field,m=c.centerX,x=c.centerY,y={x:Number(n.point[0]),y:Number(n.point[1])},E=y.x-m,v=y.y-x,b=Math.atan2(v,E||1),C=180*b/Math.PI;e.setAttributes({text:g(t.get(p),e,t,n,i,r,o,a),hidden:!0},!0),l=e.getBBox(),C=s(C),C>45&&135>C||C>225&&315>C?(d=C>45&&135>C?1:-1,y.y+=d*l.height/2):(d=C>=135&&225>=C?-1:1,y.x+=d*l.width/2),h&&e.setAttributes({x:m,y:x},!0),o?(e.show(!0),c.onAnimate(e,{to:y})):(e.setAttributes(y,!0),e.show(!0))},toggleAll:function(e){var t,n,i,r,o=this;if(e?Ext.chart.series.Radar.superclass.showAll.call(o):Ext.chart.series.Radar.superclass.hideAll.call(o),o.radar&&(o.radar.setAttributes({hidden:!e},!0),o.radar.shadows))for(t=0,r=o.radar.shadows,n=r.length;n>t;t++)i=r[t],i.setAttributes({hidden:!e},!0)},hideAll:function(){this.toggleAll(!1),this.hideMarkers(0)},showAll:function(){this.toggleAll(!0)},hideMarkers:function(e){for(var t=this,n=t.markerGroup&&t.markerGroup.getCount()||0,i=e||0;n>i;i++)t.markerGroup.getAt(i).hide(!0)},getAxesForXAndYFields:function(){var e=this,t=e.chart,n=t.axes,i=[].concat(n&&n.get(0));return{yAxis:i}}}),Ext.define("Ext.chart.series.Scatter",{extend:Ext.chart.series.Cartesian,type:"scatter",alias:"series.scatter",constructor:function(e){this.callParent(arguments);var t,n,i=this,r=i.chart.shadow,o=i.chart.surface;if(Ext.apply(i,e,{style:{},markerConfig:{},shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)"},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)"},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)"}]}),i.group=o.getGroup(i.seriesId),r)for(t=0,n=i.shadowAttributes.length;n>t;t++)i.shadowGroups.push(o.getGroup(i.seriesId+"-shadows"+t))},getBounds:function(){var e,t,n,i,r,o,a,s,l,d=this,c=d.chart,u=c.getChartStore(),h=c.axes,f=d.getAxesForXAndYFields(),g=f.xAxis,p=f.yAxis;return d.setBBox(),e=d.bbox,(s=h.get(g))&&(l=s.applyData(),i=l.from,o=l.to),(s=h.get(p))&&(l=s.applyData(),r=l.from,a=l.to),d.xField&&!Ext.isNumber(i)&&(s=d.getMinMaxXValues(),i=s[0],o=s[1]),d.yField&&!Ext.isNumber(r)&&(s=d.getMinMaxYValues(),r=s[0],a=s[1]),isNaN(i)?(i=0,o=u.getCount()-1,t=e.width/(u.getCount()-1)):t=e.width/(o-i),isNaN(r)?(r=0,a=u.getCount()-1,n=e.height/(u.getCount()-1)):n=e.height/(a-r),{bbox:e,minX:i,minY:r,xScale:t,yScale:n}},getPaths:function(){var e,t,n,i,r,o,a,s,l=this,d=l.chart,c=d.shadow,u=d.getChartStore(),h=u.data.items,f=l.group,g=l.bounds=l.getBounds(),p=l.bbox,m=g.xScale,x=g.yScale,y=g.minX,E=g.minY,v=p.x,b=p.y,C=p.height,w=(l.items=[],[]);for(e=0,t=h.length;t>e;e++)n=h[e],o=n.get(l.xField),a=n.get(l.yField),"undefined"==typeof a||"string"==typeof a&&!a||null==o||null==a||(("string"==typeof o||"object"==typeof o&&!Ext.isDate(o))&&(o=e),("string"==typeof a||"object"==typeof a&&!Ext.isDate(a))&&(a=e),i=v+(o-y)*m,r=b+C-(a-E)*x,w.push({x:i,y:r}),l.items.push({series:l,value:[o,a],point:[i,r],storeItem:n}),d.animate&&d.resizing&&(s=f.getAt(e),s&&(l.resetPoint(s),c&&l.resetShadow(s))));return w},resetPoint:function(e){var t=this.bbox;e.setAttributes({translate:{x:(t.x+t.width)/2,y:(t.y+t.height)/2}},!0)
},resetShadow:function(e){var t,n,i=this,r=e.shadows,o=i.shadowAttributes,a=i.shadowGroups.length,s=i.bbox;for(t=0;a>t;t++)n=Ext.apply({},o[t]),n.translate?(n.translate.x+=(s.x+s.width)/2,n.translate.y+=(s.y+s.height)/2):n.translate={x:(s.x+s.width)/2,y:(s.y+s.height)/2},r[t].setAttributes(n,!0)},createPoint:function(e,t){var n=this,i=n.chart,r=n.group,o=n.bbox;return Ext.chart.Shape[t](i.surface,Ext.apply({},{x:0,y:0,group:r,translate:{x:(o.x+o.width)/2,y:(o.y+o.height)/2}},e))},createShadow:function(e,t,n){var i,r,o,a,s=this,l=s.chart,d=s.shadowGroups,c=s.shadowAttributes,u=d.length,h=s.bbox;for(e.shadows=o=[],i=0;u>i;i++)a=Ext.apply({},c[i]),a.translate?(a.translate.x+=(h.x+h.width)/2,a.translate.y+=(h.y+h.height)/2):Ext.apply(a,{translate:{x:(h.x+h.width)/2,y:(h.y+h.height)/2}}),Ext.apply(a,t),r=Ext.chart.Shape[n](l.surface,Ext.apply({},{x:0,y:0,group:d[i]},a)),o.push(r)},drawSeries:function(){var e,t,n,i,r,o,a,s,l,d,c,u=this,h=u.chart,f=h.getChartStore(),g=u.group,p=h.shadow,m=u.shadowGroups,x=u.shadowAttributes,y=m.length;if(o=Ext.apply(u.markerStyle,u.markerConfig),s=o.type||"circle",delete o.type,!f||!f.getCount())return u.hide(),u.items=[],void 0;for(u.unHighlightItem(),u.cleanHighlights(),t=u.getPaths(),i=t.length,r=0;i>r;r++){if(n=t[r],e=g.getAt(r),Ext.apply(n,o),e||(e=u.createPoint(n,s),p&&u.createShadow(e,o,s)),l=e.shadows,h.animate)for(d=u.renderer(e,f.getAt(r),{translate:n},r,f),e._to=d,u.onAnimate(e,{to:d}),a=0;y>a;a++)c=Ext.apply({},x[a]),d=u.renderer(l[a],f.getAt(r),Ext.apply({},{hidden:!1,translate:{x:n.x+(c.translate?c.translate.x:0),y:n.y+(c.translate?c.translate.y:0)}},c),r,f),u.onAnimate(l[a],{to:d});else for(d=u.renderer(e,f.getAt(r),{translate:n},r,f),e._to=d,e.setAttributes(d,!0),a=0;y>a;a++)c=Ext.apply({},x[a]),d=u.renderer(l[a],f.getAt(r),Ext.apply({},{hidden:!1,translate:{x:n.x+(c.translate?c.translate.x:0),y:n.y+(c.translate?c.translate.y:0)}},c),r,f),l[a].setAttributes(d,!0);u.items[r].sprite=e}for(i=g.getCount(),r=t.length;i>r;r++)g.getAt(r).hide(!0);u.renderLabels(),u.renderCallouts()},onCreateLabel:function(e,t){var n=this,i=n.labelsGroup,r=n.label,o=Ext.apply({},r,n.seriesLabelStyle),a=n.bbox;return n.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:i,x:Number(t.point[0]),y:a.y+a.height/2},o))},onPlaceLabel:function(e,t,n,i,r,o,a){var s,l,d,c,u,h,f,g=this,p=g.chart,m=p.resizing,x=g.label,y=x.renderer,E=x.field,v=g.bbox,b=Number(n.point[0]),C=Number(n.point[1]),w=n.sprite.attr.radius;e.setAttributes({text:y(t.get(E),e,t,n,i,r,o,a),hidden:!0},!0),l=n.sprite.getBBox(),l.width=l.width||2*w,l.height=l.height||2*w,s=e.getBBox(),d=s.width/2,c=s.height/2,"rotate"==r?(u=l.width/2+d+c/2,b+u+d>v.x+v.width?b-=u:b+=u,e.setAttributes({rotation:{x:b,y:C,degrees:-45}},!0)):("under"==r||"over"==r)&&(e.setAttributes({rotation:{degrees:0}},!0),b<v.x+d?b=v.x+d:b+d>v.x+v.width&&(b=v.x+v.width-d),h=l.height/2+c,C+="over"==r?-h:h,C<v.y+c?C+=2*h:C+c>v.y+v.height&&(C-=2*h)),p.animate?m?(f=n.sprite.getActiveAnimation(),f?f.on("afteranimate",function(){e.setAttributes({x:b,y:C},!0),e.show(!0)}):e.show(!0)):g.onAnimate(e,{to:{x:b,y:C}}):(e.setAttributes({x:b,y:C},!0),e.show(!0))},onPlaceCallout:function(e,t,n){var i,r,o,a,s,l,d,c,u=this,h=u.chart,f=(h.surface,h.resizing,u.callouts,u.items,n.point),g=e.label.getBBox(),p=30,m=3,x=u.bbox;i=[Math.cos(Math.PI/4),-Math.sin(Math.PI/4)],d=f[0]+i[0]*p,c=f[1]+i[1]*p,r=d+(i[0]>0?0:-(g.width+2*m)),o=c-g.height/2-m,a=g.width+2*m,s=g.height+2*m,(r<x[0]||r+a>x[0]+x[2])&&(i[0]*=-1),(o<x[1]||o+s>x[1]+x[3])&&(i[1]*=-1),d=f[0]+i[0]*p,c=f[1]+i[1]*p,r=d+(i[0]>0?0:-(g.width+2*m)),o=c-g.height/2-m,a=g.width+2*m,s=g.height+2*m,h.animate?(u.onAnimate(e.lines,{to:{path:["M",f[0],f[1],"L",d,c,"Z"]}},!0),u.onAnimate(e.box,{to:{x:r,y:o,width:a,height:s}},!0),u.onAnimate(e.label,{to:{x:d+(i[0]>0?m:-(g.width+m)),y:c}},!0)):(e.lines.setAttributes({path:["M",f[0],f[1],"L",d,c,"Z"]},!0),e.box.setAttributes({x:r,y:o,width:a,height:s},!0),e.label.setAttributes({x:d+(i[0]>0?m:-(g.width+m)),y:c},!0));for(l in e)e[l].show(!0)},onAnimate:function(e){return e.show(),this.callParent(arguments)},isItemInPoint:function(e,t,n){var i,r=10;return Math.abs,i=n.point,i[0]-r<=e&&i[0]+r>=e&&i[1]-r<=t&&i[1]+r>=t}}),Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.TableLayout",monitorResize:!1,type:"table",createsInnerCt:!0,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,getItemSizePolicy:function(){return this.autoSizePolicy},initHierarchyState:function(e){e.inShrinkWrapTable=!0},getLayoutItems:function(){var e,t,n=this,i=[],r=n.callParent(),o=r.length;for(t=0;o>t;t++)e=r[t],e.hidden||i.push(e);return i},getHiddenItems:function(){for(var e,t=[],n=this.owner.items.items,i=n.length,r=0;i>r;++r)e=n[r],e.rendered&&e.hidden&&t.push(e);return t},renderChildren:function(){var e,t,n,i,r,o,a,s,l=this,d=l.getLayoutItems(),c=l.owner.getTargetEl().child("table",!0).tBodies[0],u=c.rows,h=0,f=d.length,g=l.getHiddenItems();for(e=l.calculateCells(d);f>h;h++)if(t=e[h],n=t.rowIdx,i=t.cellIdx,r=d[h],o=u[n],o||(o=c.insertRow(n),l.trAttrs&&o.set(l.trAttrs)),s=a=Ext.get(o.cells[i]||o.insertCell(i)),l.needsDivWrap()&&(s=a.first()||a.createChild({tag:"div"}),s.setWidth(null)),r.rendered?l.isValidParent(r,s,n,i,c)||l.moveItem(r,s,0):l.renderItem(r,s,0),l.tdAttrs&&a.set(l.tdAttrs),r.tdAttrs&&a.set(r.tdAttrs),a.set({colSpan:r.colspan||1,rowSpan:r.rowspan||1,id:r.cellId||"",cls:l.cellCls+" "+(r.cellCls||"")}),!e[h+1]||e[h+1].rowIdx!==n)for(i++;o.cells[i];)o.deleteCell(i);for(n++;c.rows[n];)c.deleteRow(n);for(h=0,f=g.length;f>h;++h)l.ensureInDocument(g[h].getEl())},ensureInDocument:function(e){for(var t=e.dom.parentNode;t;){if("BODY"==t.tagName.toUpperCase())return;t=t.parentNode}Ext.getDetachedBody().appendChild(e)},calculate:function(e){if(e.hasDomProp("containerChildrenSizeDone")){var t=e.targetContext,n=e.widthModel.shrinkWrap,i=e.heightModel.shrinkWrap,r=i||n,o=r&&t.el.child("table",!0),a=r&&t.getPaddingInfo();n&&e.setContentWidth(o.offsetWidth+a.width,!0),i&&e.setContentHeight(o.offsetHeight+a.height,!0)}else this.done=!1},finalizeLayout:function(){if(this.needsDivWrap()){var e,t,n=this.getLayoutItems(),i=n.length;for(e=0;i>e;e++)t=n[e],Ext.fly(t.el.dom.parentNode).setWidth(t.getWidth())}(Ext.isIE6||Ext.isIEQuirks)&&this.owner.getTargetEl().child("table").repaint()},calculateCells:function(e){for(var t,n,i=[],r=0,o=0,a=0,s=this.columns||1/0,l=[],d=0,c=e.length;c>d;d++){for(n=e[d];o>=s||l[o]>0;)if(o>=s)for(o=0,a=0,r++,t=0;s>t;t++)l[t]>0&&l[t]--;else o++;for(i.push({rowIdx:r,cellIdx:a}),t=n.colspan||1;t;--t)l[o]=n.rowspan||1,++o;++a}return i},getRenderTree:function(){var e,t,n,i,r,o,a,s,l=this,d=l.getLayoutItems(),c=[],u=Ext.apply({tag:"table",role:"presentation",cls:l.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",cn:c}},l.tableAttrs),h=l.tdAttrs,f=l.needsDivWrap(),g=d.length;for(e=l.calculateCells(d),t=0;g>t;t++)n=d[t],i=e[t],o=i.rowIdx,a=i.cellIdx,r=c[o],r||(r=c[o]={tag:"tr",cn:[]},l.trAttrs&&Ext.apply(r,l.trAttrs)),s=r.cn[a]={tag:"td"},h&&Ext.apply(s,h),Ext.apply(s,{colSpan:n.colspan||1,rowSpan:n.rowspan||1,id:n.cellId||"",cls:l.cellCls+" "+(n.cellCls||"")}),f&&(s=s.cn={tag:"div"}),l.configureItem(n),s.cn=n.getRenderTree();return u},isValidParent:function(e,t,n,i){var r,o,a;return 3===arguments.length?(a=e.el.up("table"),a&&a.dom.parentNode===t.dom):(r=this.owner.getTargetEl().child("table",!0).tBodies[0],o=r.rows[n].cells[i],e.el.dom.parentNode===o)},needsDivWrap:function(){return Ext.isOpera10_5}}),Ext.define("Ext.container.ButtonGroup",{extend:Ext.panel.Panel,alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:!0,frameHeader:!1,titleAlign:"center",noTitleCls:"notitle",initComponent:function(){var e=this,t=e.columns;t&&(e.layout=Ext.apply({},{columns:t},e.layout)),e.title||e.addClsWithUI(e.noTitleCls),e.callParent(arguments)},onBeforeAdd:function(e){e.isButton&&(e.ui=this.defaultButtonUI&&"default"===e.ui&&!e.hasOwnProperty("ui")?this.defaultButtonUI:e.ui+"-toolbar"),this.callParent(arguments)},applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e}}),Ext.define("Ext.container.Monitor",{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,disabled:0,constructor:function(e){Ext.apply(this,e)},bind:function(e){var t=this;t.target=e,e.on("beforedestroy",t.disable,t),t.onContainerAdd(e)},unbind:function(){var e=this,t=e.target;t&&t.un("beforedestroy",e.disable,e),e.items=null},disable:function(){++this.disabled},enable:function(){this.disabled>0&&--this.disabled},handleAdd:function(e,t){this.disabled||(t.is(this.selector)&&this.onItemAdd(t.ownerCt,t),t.isQueryable&&this.onContainerAdd(t))},onItemAdd:function(e,t){var n=this,i=n.items,r=n.addHandler;n.disabled||(r&&r.call(n.scope||t,t),i&&i.add(t))},onItemRemove:function(e,t){var n=this,i=n.items,r=n.removeHandler;n.disabled||(r&&r.call(n.scope||t,t),i&&i.remove(t))},onContainerAdd:function(e,t){var n,i,r,o,a=this,s=a.handleAdd,l=a.handleRemove;if(e.isContainer&&(e.on("add",s,a),e.on("dockedadd",s,a),e.on("remove",l,a),e.on("dockedremove",l,a)),t!==!0)for(n=e.query(a.selector),r=0,i=n.length;i>r;++r)o=n[r],a.onItemAdd(o.ownerCt,o);for(n=e.query("container"),r=0,i=n.length;i>r;++r)a.onContainerAdd(n[r],!0)},handleRemove:function(e,t){var n=this;n.disabled||(t.is(n.selector)&&n.onItemRemove(e,t),t.isQueryable&&n.onContainerRemove(e,t))},onContainerRemove:function(e,t){var n,i,r,o,a=this;if(t.isDestroyed||t.destroying||!t.isContainer)a.invalidateItems();else{for(a.removeCtListeners(t),n=t.query(a.selector),i=0,r=n.length;r>i;++i)o=n[i],a.onItemRemove(o.ownerCt,o);for(n=t.query("container"),i=0,r=n.length;r>i;++i)a.removeCtListeners(n[i])}},removeCtListeners:function(e){var t=this;e.un("add",t.handleAdd,t),e.un("dockedadd",t.handleAdd,t),e.un("remove",t.handleRemove,t),e.un("dockedremove",t.handleRemove,t)},getItems:function(){var e=this,t=e.items;return t||(t=e.items=new Ext.util.MixedCollection,t.addAll(e.target.query(e.selector))),t},invalidateItems:function(){this.items=null}}),Ext.define("Ext.container.Viewport",{extend:Ext.container.Container,alias:"widget.viewport",alternateClassName:"Ext.Viewport",isViewport:!0,ariaRole:"application",preserveElOnDestroy:!0,viewportCls:Ext.baseCSSPrefix+"viewport",initComponent:function(){var e=this,t=document.body.parentNode,n=e.el=Ext.getBody();Ext.getScrollbarSize(),e.width=e.height=void 0,e.callParent(arguments),Ext.fly(t).addCls(e.viewportCls),e.autoScroll&&(Ext.fly(t).setStyle(e.getOverflowStyle()),delete e.autoScroll),n.setHeight=n.setWidth=Ext.emptyFn,n.dom.scroll="no",e.allowDomMove=!1,e.renderTo=e.el},applyTargetCls:function(e){this.el.addCls(e)},onRender:function(){var e=this;e.callParent(arguments),e.width=Ext.Element.getViewportWidth(),e.height=Ext.Element.getViewportHeight()},afterFirstLayout:function(){var e=this;e.callParent(arguments),setTimeout(function(){Ext.EventManager.onWindowResize(e.fireResize,e)},1)},fireResize:function(e,t){(e!=this.width||t!=this.height)&&this.setSize(e,t)},initHierarchyState:function(){this.callParent([this.hierarchyState=Ext.rootHierarchyState])},beforeDestroy:function(){var e=this;e.removeUIFromElement(),e.el.removeCls(e.baseCls),Ext.fly(document.body.parentNode).removeCls(e.viewportCls),e.callParent()}}),Ext.define("Ext.data.IdGenerator",{isGenerator:!0,constructor:function(e){var t=this;Ext.apply(t,e),t.id&&(Ext.data.IdGenerator.all[t.id]=t)},getRecId:function(e){return e.modelName+"-"+e.internalId},statics:{all:{},get:function(e){var t,n,i;if("string"==typeof e)n=i=e,e=null;else{if(e.isGenerator)return e;n=e.id||e.type,i=e.type}return t=this.all[n],t||(t=Ext.create("idgen."+i,e)),t}}}),Ext.define("Ext.data.SortTypes",{singleton:!0,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(e){return String(e).replace(this.stripTagsRE,"")},asUCText:function(e){return String(e).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(e){return String(e).toUpperCase()},asDate:function(e){return e?Ext.isDate(e)?e.getTime():Date.parse(String(e)):0},asFloat:function(e){var t=parseFloat(String(e).replace(/,/g,""));return isNaN(t)?0:t},asInt:function(e){var t=parseInt(String(e).replace(/,/g,""),10);return isNaN(t)?0:t}}),Ext.define("Ext.data.Types",{singleton:!0},function(){var e=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:e.none,type:"auto"},STRING:{convert:function(e){var t=this.useNull?null:"";return void 0===e||null===e?t:String(e)},sortType:e.asUCString,type:"string"},INT:{convert:function(e){return"number"==typeof e?parseInt(e):void 0!==e&&null!==e&&""!==e?parseInt(String(e).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:e.none,type:"int"},FLOAT:{convert:function(e){return"number"==typeof e?e:void 0!==e&&null!==e&&""!==e?parseFloat(String(e).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:e.none,type:"float"},BOOL:{convert:function(e){return"boolean"==typeof e?e:!this.useNull||void 0!==e&&null!==e&&""!==e?"true"===e||1==e:null},sortType:e.none,type:"bool"},DATE:{convert:function(e){var t,n=this.dateReadFormat||this.dateFormat;return e?e instanceof Date?e:n?Ext.Date.parse(e,n):(t=Date.parse(e),t?new Date(t):null):null},sortType:e.asDate,type:"date"}}),Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})}),Ext.define("Ext.data.Field",{alias:"data.field",isField:!0,constructor:function(e){var t,n=this,i=Ext.data.Types;Ext.isString(e)&&(e={name:e}),Ext.apply(n,e),t=n.sortType,n.type?Ext.isString(n.type)&&(n.type=i[n.type.toUpperCase()]||i.AUTO):n.type=i.AUTO,Ext.isString(t)?n.sortType=Ext.data.SortTypes[t]:Ext.isEmpty(t)&&(n.sortType=n.type.sortType),e.hasOwnProperty("convert")?n.convert||!n.type.convert||e.hasOwnProperty("defaultValue")||(n.defaultValue=n.type.convert(n.defaultValue)):n.convert=n.type.convert,e.convert&&(n.hasCustomConvert=!0)},dateFormat:null,dateReadFormat:null,dateWriteFormat:null,useNull:!1,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:!0,persist:!0}),Ext.define("Ext.data.Errors",{extend:Ext.util.MixedCollection,isValid:function(){return 0===this.length},getByField:function(e){var t,n,i=[];for(n=0;n<this.length;n++)t=this.items[n],t.field==e&&i.push(t);return i}}),Ext.define("Ext.data.validations",{singleton:!0,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(e,t){return 1===arguments.length&&(t=e),!!t||0===t||t===!1},length:function(e,t){if(void 0===t||null===t)return!1;var n=t.length,i=e.min,r=e.max;return i&&i>n||r&&n>r?!1:!0},email:function(e,t){return Ext.data.validations.emailRe.test(t)},format:function(e,t){return!(!e.matcher||!e.matcher.test(t))},inclusion:function(e,t){return e.list&&-1!=Ext.Array.indexOf(e.list,t)},exclusion:function(e,t){return e.list&&-1==Ext.Array.indexOf(e.list,t)}}),Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:Ext.util.Observable},compareConvertFields:function(e,t){var n=e.convert&&e.type&&e.convert!==e.type.convert,i=t.convert&&t.type&&t.convert!==t.type.convert;return n&&!i?1:!n&&i?-1:0},itemNameFn:function(e){return e.name},onClassExtended:function(e,t,n){var i=n.onBeforeCreated;n.onBeforeCreated=function(e,t){var r,o,a,s,l=this,d=Ext.getClassName(e),c=e.prototype,u=e.prototype.superclass,h=t.validations||[],f=t.fields||[],g=t.associations||[],p=function(e,t){var n,i,r=0;if(e)for(e=Ext.Array.from(e),n=e.length;n>r;++r)i=e[r],Ext.isObject(i)||(i={model:i}),i.type=t,g.push(i)},m=t.idgen,x=new Ext.util.MixedCollection(!1,c.itemNameFn),y=new Ext.util.MixedCollection(!1,c.itemNameFn),E=u.validations,v=u.fields,b=u.associations,C=[],w="idProperty"in t?t.idProperty:c.idProperty,S=w?w.isField?w:new Ext.data.Field(w):null,P=!1,k=function(e,t,n){var i,r;x.events.add.firing?(r=e,i=t):(i=n,r=t.originalIndex),i.originalIndex=r,S&&(i.mapping&&i.mapping===S.mapping||i.name===S.name)&&(c.idField=i,P=!0,i.defaultValue=void 0)},T=t.proxy,I=function(){x.sortBy(c.compareConvertFields)};for(e.modelName=d,c.modelName=d,E&&(h=E.concat(h)),t.validations=h,v&&(f=v.items.concat(f)),x.on({add:k,replace:k}),a=0,s=f.length;s>a;++a)r=f[a],x.add(r.isField?r:new Ext.data.Field(r));for(S&&!P&&(c.idField=S,S.defaultValue=void 0,x.add(S)),I(),x.on({add:I,replace:I}),t.fields=x,m&&(t.idgen=Ext.data.IdGenerator.get(m)),p(t.belongsTo,"belongsTo"),delete t.belongsTo,p(t.hasMany,"hasMany"),delete t.hasMany,p(t.hasOne,"hasOne"),delete t.hasOne,b&&(g=b.items.concat(g)),a=0,s=g.length;s>a;++a)C.push("association."+g[a].type.toLowerCase());T?T.isProxy||C.push("proxy."+(T.type||T)):e.prototype.proxy||(e.prototype.proxy=e.prototype.defaultProxyType,C.push("proxy."+e.prototype.defaultProxyType)),Ext.require(C,function(){for(Ext.ModelManager.registerType(d,e),a=0,s=g.length;s>a;++a)o=g[a],o.isAssociation?o=Ext.applyIf({ownerModel:d,associatedModel:o.model},o.initialConfig):Ext.apply(o,{ownerModel:d,associatedModel:o.model}),void 0===Ext.ModelManager.getModel(o.model)?Ext.ModelManager.registerDeferredAssociation(o):y.add(Ext.data.association.Association.create(o));t.associations=y,i.call(l,e,t,n),T&&T.isProxy&&e.setProxy(T),Ext.ModelManager.onModelDefined(e)})}},inheritableStatics:{setProxy:function(e){return e.isProxy||("string"==typeof e&&(e={type:e}),e=Ext.createByAlias("proxy."+e.type,e)),e.setModel(this),this.proxy=this.prototype.proxy=e,e},getProxy:function(){var e=this.proxy;return e?e:(e=this.prototype.proxy,e.isProxy&&(e=e.clone()),this.setProxy(e))},setFields:function(e,t,n){var i,r,o,a,s=this,l=!1,d=s.prototype,c=d.fields,u=d.superclass.fields;for(t&&(d.idProperty=t,r=t.isField?t:new Ext.data.Field(t)),n&&(d.clientIdProperty=n),c?c.clear():c=s.prototype.fields=new Ext.util.MixedCollection(!1,function(e){return e.name}),u&&(e=u.items.concat(e)),a=0,o=e.length;o>a;a++)i=new Ext.data.Field(e[a]),r&&(i.mapping&&i.mapping===r.mapping||i.name===r.name)&&(l=!0,i.defaultValue=void 0),c.add(i);return r&&!l&&(r.defaultValue=void 0,c.add(r)),s.fields=c,c},getFields:function(){return this.prototype.fields.items},load:function(e,t){t=Ext.apply({},t),t=Ext.applyIf(t,{action:"read",id:e});var n,i=new Ext.data.Operation(t),r=t.scope||this;n=function(n){var i=null,o=n.wasSuccessful();o?(i=n.getRecords()[0],i.hasId()||i.setId(e),Ext.callback(t.success,r,[i,n])):Ext.callback(t.failure,r,[i,n]),Ext.callback(t.callback,r,[i,n,o])},this.getProxy().read(i,n,this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(e){var t=[this.PREFIX,"-",this.AUTO_ID++].join("");return e.phantom=!0,e.internalId=t,t}},idgen:{isGenerator:!0,type:"default",generate:function(){return null},getRecId:function(e){return e.modelName+"-"+e.internalId}},editing:!1,dirty:!1,persistenceProperty:"data",evented:!1,isModel:!0,phantom:!1,idProperty:"id",clientIdProperty:null,defaultProxyType:"ajax",emptyData:[],constructor:function(e,t,n,i){var r,o,a,s,l,d,c,u,h,f=this,g=t||0===t,p=f.idProperty,m=f.idField;if(f.raw=n||e,f.modified={},u=f[f.persistenceProperty]=i||{},f.data=f[f.persistenceProperty],f.mixins.observable.constructor.call(f),!i)if(e?!g&&p&&(t=e[p],r=t||0===t):e=f.emptyData,o=f.fields.items,a=o.length,h=0,Ext.isArray(e))for(;a>h;h++)s=o[h],l=s.name,d=e[s.originalIndex],void 0===d&&(d=s.defaultValue),s.convert&&(d=s.convert(d,f)),void 0!==d&&(u[l]=d);else for(;a>h;h++)s=o[h],l=s.name,d=e[l],void 0===d&&(d=s.defaultValue),s.convert&&(d=s.convert(d,f)),void 0!==d&&(u[l]=d);f.stores=[],g?(r=!0,u[p]=m&&m.convert?m.convert(t):t):r||(c=f.idgen.generate(),null!=c&&(f.preventInternalUpdate=!0,f.setId(c),delete f.preventInternalUpdate)),f.internalId=r?t:Ext.data.Model.id(f),"function"==typeof f.init&&f.init(),f.id=f.idgen.getRecId(f)},get:function(e){return this[this.persistenceProperty][e]},_singleProp:{},set:function(e,t){var n,i,r,o,a,s,l,d,c,u,h=this,f=h[h.persistenceProperty],g=h.fields,p=h.modified,m="string"==typeof e;m?(u=h._singleProp,u[e]=t):u=e;for(s in u)if(u.hasOwnProperty(s)){if(c=u[s],g&&(i=g.get(s))&&i.convert&&(c=i.convert(c,h)),n=f[s],h.isEqual(n,c))continue;if(f[s]=c,(a||(a=[])).push(s),i&&i.persist)if(p.hasOwnProperty(s)){if(h.isEqual(p[s],c)){delete p[s],h.dirty=!1;for(o in p)if(p.hasOwnProperty(o)){h.dirty=!0;break}}}else h.dirty=!0,p[s]=n;s==h.idProperty&&(r=!0,l=n,d=c)}return m&&delete u[e],r&&h.changeId(l,d),!h.editing&&a&&h.afterEdit(a),a||null},copyFrom:function(e){var t,n,i,r,o,a=this,s=a.fields.items,l=s.length,d=[],c=0,u=a.idProperty;if(e){for(n=a[a.persistenceProperty],i=e[e.persistenceProperty];l>c;c++)t=s[c],r=t.name,r!=u&&(o=i[r],void 0===o||a.isEqual(n[r],o)||(n[r]=o,d.push(r)));a.phantom&&!e.phantom&&(a.beginEdit(),a.setId(e.getId()),a.endEdit(!0),a.commit(!0))}return d},isEqual:function(e,t){return e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t},beginEdit:function(){var e,t,n,i=this;if(!i.editing){i.editing=!0,i.dirtySave=i.dirty,n=i[i.persistenceProperty],t=i.dataSave={};for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);n=i.modified,t=i.modifiedSave={};for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}},cancelEdit:function(){var e=this;e.editing&&(e.editing=!1,e.modified=e.modifiedSave,e[e.persistenceProperty]=e.dataSave,e.dirty=e.dirtySave,e.modifiedSave=e.dataSave=e.dirtySave=null)},endEdit:function(e,t){var n,i,r=this;e=e===!0,r.editing&&(r.editing=!1,n=r.dataSave,r.modifiedSave=r.dataSave=r.dirtySave=null,e||(t||(t=r.getModifiedFieldNames(n)),i=r.dirty||t.length>0,i&&r.afterEdit(t)))},getModifiedFieldNames:function(e){var t,n=this,i=n[n.persistenceProperty],r=[];e=e||n.dataSave;for(t in i)i.hasOwnProperty(t)&&(n.isEqual(i[t],e[t])||r.push(t));return r},getChanges:function(){var e,t=this.modified,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=this.get(e));return n},isModified:function(e){return this.modified.hasOwnProperty(e)},setDirty:function(){var e,t,n,i=this,r=i.fields.items,o=r.length;for(i.dirty=!0,n=0;o>n;n++)e=r[n],e.persist&&(t=e.name,i.modified[t]=i.get(t))},reject:function(e){var t,n=this,i=n.modified;for(t in i)i.hasOwnProperty(t)&&"function"!=typeof i[t]&&(n[n.persistenceProperty][t]=i[t]);n.dirty=!1,n.editing=!1,n.modified={},e!==!0&&n.afterReject()},commit:function(e,t){var n=this;n.phantom=n.dirty=n.editing=!1,n.modified={},e!==!0&&n.afterCommit(t)},copy:function(e){var t=this;return new t.self(t.raw,e,null,Ext.apply({},t[t.persistenceProperty]))},setProxy:function(e){return e.isProxy||("string"==typeof e&&(e={type:e}),e=Ext.createByAlias("proxy."+e.type,e)),e.setModel(this.self),this.proxy=e,e},getProxy:function(){return this.hasOwnProperty("proxy")?this.proxy:this.self.getProxy()},validate:function(){var e,t,n,i,r,o,a=new Ext.data.Errors,s=this.validations,l=Ext.data.validations;if(s)for(e=s.length,o=0;e>o;o++)t=s[o],n=t.field||t.name,r=t.type,i=l[r](t,this.get(n)),i||a.add({field:n,message:t.message||l[r+"Message"]});return a},isValid:function(){return this.validate().isValid()},save:function(e){e=Ext.apply({},e);var t,n,i,r,o=this,a=o.phantom?"create":"update",s=e.scope||o,l=o.stores,d=0;return Ext.apply(e,{records:[o],action:a}),i=new Ext.data.Operation(e),r=function(i){var r=i.wasSuccessful();if(r){for(t=l.length;t>d;d++)n=l[d],n.fireEvent("write",n,i),n.fireEvent("datachanged",n);Ext.callback(e.success,s,[o,i])}else Ext.callback(e.failure,s,[o,i]);Ext.callback(e.callback,s,[o,i,r])},o.getProxy()[a](i,r,o),o},destroy:function(e){e=Ext.apply({records:[this],action:"destroy"},e);var t,n,i,r,o,a,s=this,l=s.phantom!==!0,d=e.scope||s,c=0;return o=new Ext.data.Operation(e),a=function(o){if(r=[s,o],t=Ext.Array.clone(s.stores),o.wasSuccessful()){for(n=t.length;n>c;c++)i=t[c],i.remove&&i.remove(s,!0),i.fireEvent("bulkremove",i,[s],[i.indexOf(s)],!1),l&&i.fireEvent("write",i,o);s.clearListeners(),Ext.callback(e.success,d,r)}else Ext.callback(e.failure,d,r);Ext.callback(e.callback,d,r)},l?s.getProxy().destroy(o,a,s):(o.complete=o.success=!0,o.resultSet=s.getProxy().reader.nullResultSet,a(o)),s},getId:function(){return this.get(this.idField.name)},getObservableId:function(){return this.id},setId:function(e){this.set(this.idProperty,e)},changeId:function(e,t){var n,i,r,o=this;o.preventInternalUpdate||(n=o.hasId(e),i=o.hasId(t),r=o.internalId,o.phantom=!i,(i!==n||i&&n)&&(o.internalId=i?t:Ext.data.Model.id(o)),o.fireEvent("idchanged",o,e,t,r),o.callStore("onIdChanged",e,t,r))},hasId:function(e){return 0===arguments.length&&(e=this.getId()),!(!e&&0!==e)},join:function(e){var t=this;t.stores.length?Ext.Array.include(this.stores,e):t.stores[0]=e,this.store=this.stores[0]},unjoin:function(e){Ext.Array.remove(this.stores,e),this.store=this.stores[0]||null},afterEdit:function(e){this.callStore("afterEdit",e)},afterReject:function(){this.callStore("afterReject")},afterCommit:function(e){this.callStore("afterCommit",e)},callStore:function(e){var t,n=Ext.Array.clone(arguments),i=this.stores,r=0,o=i.length;for(n[0]=this;o>r;++r)t=i[r],t&&Ext.isFunction(t[e])&&t[e].apply(t,n)},getData:function(e){var t,n,i=this,r=i.fields.items,o=r.length,a={};for(n=0;o>n;n++)t=r[n].name,a[t]=i.get(t);return e===!0&&Ext.apply(a,i.getAssociatedData()),a},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(e,t){var n,i,r,o,a,s,l,d,c,u,h,f,g,p,m=this,x=m.associations.items,y=x.length,E={},v=[],b=[],C=[];for(h=0;y>h;h++)if(u=x[h],d=u.associationId,l=e[d],!l||l===t)if(e[d]=t,g=u.type,p=u.name,"hasMany"==g){if(n=m[u.storeName],E[p]=[],n&&n.getCount()>0)for(i=n.data.items,c=i.length,f=0;c>f;f++)r=i[f],E[p][f]=r.getData(),v.push(r),b.push(p),C.push(f)}else("belongsTo"==g||"hasOne"==g)&&(r=m[u.instanceName],void 0!==r&&(E[p]=r.getData(),v.push(r),b.push(p),C.push(-1)));for(h=0,c=v.length;c>h;++h)r=v[h],o=E[b[h]],a=C[h],s=r.prepareAssociatedData(e,t+1),-1===a?Ext.apply(o,s):Ext.apply(o[a],s);return E}}),Ext.define("Ext.data.proxy.Server",{extend:Ext.data.proxy.Proxy,alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3e4,constructor:function(e){var t=this;e=e||{},t.callParent([e]),t.extraParams=e.extraParams||{},t.api=Ext.apply({},e.api||t.api),t.nocache=t.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(e,t){this.extraParams[e]=t},buildRequest:function(e){var t,n=this,i=e.params=Ext.apply({},e.params,n.extraParams);return Ext.applyIf(i,n.getParams(e)),void 0!==e.id&&void 0===i[n.idParam]&&(i[n.idParam]=e.id),t=new Ext.data.Request({params:i,action:e.action,records:e.records,operation:e,url:e.url,proxy:n}),t.url=n.buildUrl(t),e.request=t,t},processResponse:function(e,t,n,i,r,o){var a,s,l=this;e===!0?(a=l.getReader(),a.applyDefaults="read"===t.action,s=a.read(l.extractResponseData(i)),s.success!==!1?(Ext.apply(t,{response:i,resultSet:s}),t.commitRecords(s.records),t.setCompleted(),t.setSuccessful()):(t.setException(s.message),l.fireEvent("exception",this,i,t))):(l.setException(t,i),l.fireEvent("exception",this,i,t)),"function"==typeof r&&r.call(o||l,t),l.afterRequest(n,e)},setException:function(e,t){e.setException({status:t.status,statusText:t.statusText})},extractResponseData:Ext.identityFn,applyEncoding:function(e){return Ext.encode(e)},encodeSorters:function(e){for(var t=[],n=e.length,i=0;n>i;i++)t[i]={property:e[i].property,direction:e[i].direction};return this.applyEncoding(t)},encodeFilters:function(e){for(var t=[],n=e.length,i=0;n>i;i++)t[i]={property:e[i].property,value:e[i].value};return this.applyEncoding(t)},getParams:function(e){var t,n,i=this,r={},o=Ext.isDefined,a=e.groupers,s=e.sorters,l=e.filters,d=e.page,c=e.start,u=e.limit,h=i.simpleSortMode,f=i.simpleGroupMode,g=i.pageParam,p=i.startParam,m=i.limitParam,x=i.groupParam,y=i.groupDirectionParam,E=i.sortParam,v=i.filterParam,b=i.directionParam;return g&&o(d)&&(r[g]=d),p&&o(c)&&(r[p]=c),m&&o(u)&&(r[m]=u),t=x&&a&&a.length>0,t&&(f?(r[x]=a[0].property,r[y]=a[0].direction||"ASC"):r[x]=i.encodeSorters(a)),E&&s&&s.length>0&&(h?(n=0,s.length>1&&t&&(n=1),r[E]=s[n].property,r[b]=s[n].direction):r[E]=i.encodeSorters(s)),v&&l&&l.length>0&&(r[v]=i.encodeFilters(l)),r},buildUrl:function(e){var t=this,n=t.getUrl(e);return t.noCache&&(n=Ext.urlAppend(n,Ext.String.format("{0}={1}",t.cacheString,Ext.Date.now()))),n},getUrl:function(e){return e.url||this.api[e.action]||this.url},doRequest:function(){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}}),Ext.define("Ext.data.proxy.Ajax",{extend:Ext.data.proxy.Server,alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},binary:!1,doRequest:function(e,t,n){var i=this.getWriter(),r=this.buildRequest(e);return e.allowWrite()&&(r=i.write(r)),Ext.apply(r,{binary:this.binary,headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(r,e,t,n),method:this.getMethod(r),disableCaching:!1}),Ext.Ajax.request(r),r},getMethod:function(e){return this.actionMethods[e.action]},createRequestCallback:function(e,t,n,i){var r=this;return function(o,a,s){r.processResponse(a,t,e,s,n,i)}}},function(){Ext.data.HttpProxy=this}),Ext.define("Ext.data.proxy.Client",{extend:Ext.data.proxy.Proxy,alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){}}),Ext.define("Ext.data.proxy.Memory",{extend:Ext.data.proxy.Client,alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",constructor:function(e){this.callParent([e]),this.setReader(this.reader)},updateOperation:function(e,t,n){var i=0,r=e.getRecords(),o=r.length;for(i;o>i;i++)r[i].commit();e.setCompleted(),e.setSuccessful(),Ext.callback(t,n||this,[e])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,arguments)},read:function(e,t,n){var i=this,r=e.resultSet=i.getReader().read(i.data),o=r.records,a=e.sorters,s=e.groupers,l=e.filters;e.setCompleted(),r.success&&(l&&l.length&&(o=r.records=Ext.Array.filter(o,Ext.util.Filter.createFilterFn(l))),s&&s.length&&(a=a?a.concat(s):a),a&&a.length&&(r.records=Ext.Array.sort(o,Ext.util.Sortable.createComparator(a))),i.enablePaging&&void 0!==e.start&&void 0!==e.limit&&(e.start>=r.total?(r.success=!1,r.count=0,r.records=[]):(r.records=Ext.Array.slice(r.records,e.start,e.start+e.limit),r.count=r.records.length))),r.success?e.setSuccessful():i.fireEvent("exception",i,null,e),Ext.callback(t,n||i,[e])},clear:Ext.emptyFn}),Ext.define("Ext.util.LruCache",{extend:Ext.util.HashMap,constructor:function(e){Ext.apply(this,e),this.callParent([e])},add:function(e,t){var n,i=this,r=i.findKey(t);return r?(i.unlinkEntry(n=i.map[r]),n.prev=i.last,n.next=null):n={prev:i.last,next:null,key:e,value:t},i.last?i.last.next=n:i.first=n,i.last=n,i.callParent([e,n]),i.prune(),t},insertBefore:function(e,t,n){var i,r,o=this;return(n=this.map[this.findKey(n)])?(i=o.findKey(t),i?o.unlinkEntry(r=o.map[i]):r={prev:n.prev,next:n,key:e,value:t},n.prev?r.prev.next=r:o.first=r,r.next=n,n.prev=r,o.prune(),t):o.add(e,t)},get:function(e){var t=this.map[e];return t?(t.next&&this.moveToEnd(t),t.value):void 0},removeAtKey:function(e){return this.unlinkEntry(this.map[e]),this.callParent(arguments)
},clear:function(){return this.first=this.last=null,this.callParent(arguments)},unlinkEntry:function(e){e&&(e.next?e.next.prev=e.prev:this.last=e.prev,e.prev?e.prev.next=e.next:this.first=e.next,e.prev=e.next=null)},moveToEnd:function(e){this.unlinkEntry(e),(e.prev=this.last)?this.last.next=e:this.first=e,this.last=e},getArray:function(e){for(var t=[],n=this.first;n;)t.push(e?n.key:n.value),n=n.next;return t},each:function(e,t,n){var i=this,r=n?i.last:i.first,o=i.length;for(t=t||i;r&&e.call(t,r.key,r.value,o)!==!1;)r=n?r.prev:r.next;return i},findKey:function(e){var t,n=this.map;for(t in n)if(n.hasOwnProperty(t)&&n[t].value===e)return t;return void 0},clone:function(){var e,t=new this.self(this.initialConfig),n=this.map;t.suspendEvents();for(e in n)n.hasOwnProperty(e)&&t.add(e,n[e].value);return t.resumeEvents(),t},prune:function(){var e=this,t=e.maxSize?e.length-e.maxSize:0;if(t>0)for(;e.first&&t;t--)e.removeAtKey(e.first.key)}}),Ext.define("Ext.data.PageMap",{extend:Ext.util.LruCache,clear:function(){var e=this;e.pageMapGeneration=(e.pageMapGeneration||0)+1,e.callParent(arguments)},forEach:function(e,t){var n,i,r,o,a,s=this,l=Ext.Object.getKeys(s.map),d=l.length;for(n=0;d>n;n++)l[n]=Number(l[n]);for(Ext.Array.sort(l),t=t||s,n=0;d>n;n++)for(r=l[n],o=s.getPage(r),a=o.length,i=0;a>i;i++)if(e.call(t,o[i],(r-1)*s.pageSize+i)===!1)return},findBy:function(e,t){var n=this,i=null;return t=t||n,n.forEach(function(n,r){return e.call(t,n,r)?(i=n,!1):void 0}),i},findIndexBy:function(e,t){var n=this,i=-1;return t=t||n,n.forEach(function(n,r){return e.call(t,n)?(i=r,!1):void 0}),i},getPageFromRecordIndex:function(){return Ext.data.Store.prototype.getPageFromRecordIndex.apply(this,arguments)},addAll:function(e){this.addPage(1,e)},addPage:function(e,t){var n,i,r=this,o=e+Math.floor((t.length-1)/r.pageSize);for(n=0;o>=e;e++,n+=r.pageSize)i=Ext.Array.slice(t,n,n+r.pageSize),r.add(e,i),r.fireEvent("pageAdded",e,i)},getCount:function(){var e=this.callParent();return e&&(e=(e-1)*this.pageSize+this.last.value.length),e},indexOf:function(e){return e?e.index:-1},insert:function(){},remove:function(){},removeAt:function(){},getPage:function(e){return this.get(e)},hasRange:function(e,t){for(var n=this.getPageFromRecordIndex(e),i=this.getPageFromRecordIndex(t);i>=n;n++)if(!this.hasPage(n))return!1;return!0},hasPage:function(e){return!!this.get(e)},getAt:function(e){return this.getRange(e,e)[0]},getRange:function(e,t){this.hasRange(e,t)||Ext.Error.raise("PageMap asked for range which it does not have");for(var n,i,r,o,a=this,s=a.getPageFromRecordIndex(e),l=a.getPageFromRecordIndex(t),d=(s-1)*a.pageSize,c=l*a.pageSize-1,u=s,h=[],f=0;l>=u;u++)u==s?(n=e-d,r=!0):(n=0,r=!1),u==l&&(i=a.pageSize-(c-t),r=!0),r?Ext.Array.push(h,Ext.Array.slice(a.getPage(u),n,i)):Ext.Array.push(h,a.getPage(u));for(o=h.length;o>f;f++)h[f].index=e++;return h}}),Ext.define("Ext.data.Group",{extend:Ext.util.Observable,key:void 0,dirty:!0,constructor:function(){this.callParent(arguments),this.records=[]},contains:function(e){return-1!==Ext.Array.indexOf(this.records,e)},add:function(e){Ext.Array.push(this.records,e),this.dirty=!0},remove:function(e){Ext.isArray(e)||(e=[e]);var t,n=e.length;for(t=0;n>t;++t)Ext.Array.remove(this.records,e[t]);this.dirty=!0},isDirty:function(){return this.dirty},hasAggregate:function(){return!!this.aggregate},setDirty:function(){this.dirty=!0},commit:function(){this.dirty=!1},isCollapsed:function(){return this.collapsed},getAggregateRecord:function(e){var t,n=this;return(e===!0||n.dirty||!n.aggregate)&&(t=n.store.model,n.aggregate=new t,n.aggregate.isSummary=!0),n.aggregate}}),Ext.define("Ext.data.Store",{extend:Ext.data.AbstractStore,alias:"store.store",remoteSort:!1,remoteFilter:!1,remoteGroup:!1,groupField:void 0,groupDir:"ASC",trailingBufferZone:25,leadingBufferZone:200,pageSize:void 0,currentPage:1,clearOnPageLoad:!0,loading:!1,sortOnFilter:!0,buffered:!1,purgePageCount:5,clearRemovedOnLoad:!0,defaultPageSize:25,defaultViewSize:100,addRecordsOptions:{addRecords:!0},statics:{recordIdFn:function(e){return e.internalId},recordIndexFn:function(e){return e.index},grouperIdFn:function(e){return e.id||e.property},groupIdFn:function(e){return e.key}},constructor:function(e){e=Ext.apply({},e);var t,n,i=this,r=e.groupers||i.groupers,o=e.groupField||i.groupField;n=e.data||i.data,n&&(i.inlineData=n,delete e.data),!r&&o&&(r=[{property:o,direction:e.groupDir||i.groupDir}],(e.getGroupString||i.getGroupString!==Ext.data.Store.prototype.getGroupString)&&(r[0].getGroupString=function(e){return i.getGroupString(e)})),delete e.groupers,i.groupers=new Ext.util.MixedCollection(!1,Ext.data.Store.grouperIdFn),i.groupers.addAll(i.decodeGroupers(r)),i.groups=new Ext.util.MixedCollection(!1,Ext.data.Store.groupIdFn),i.callParent([e]),i.buffered?(i.data=new Ext.data.PageMap({store:i,keyFn:Ext.data.Store.recordIdFn,pageSize:i.pageSize,maxSize:i.purgePageCount,listeners:{clear:i.onPageMapClear,scope:i}}),i.pageRequests={},i.remoteSort=i.remoteGroup=i.remoteFilter=!0,i.sortOnLoad=!1,i.filterOnLoad=!1):(i.data=new Ext.util.MixedCollection({getKey:Ext.data.Store.recordIdFn,maintainIndices:!0}),i.data.pageSize=i.pageSize),i.remoteGroup&&(i.remoteSort=!0),i.sorters.insert(0,i.groupers.getRange()),t=i.proxy,n=i.inlineData,i.buffered||i.pageSize||(i.pageSize=i.defaultPageSize),n?(t instanceof Ext.data.proxy.Memory?(t.data=n,i.read()):i.add.apply(i,[n]),i.sorters.items.length&&!i.remoteSort&&i.group(null,null,!0),delete i.inlineData):i.autoLoad&&Ext.defer(i.load,1,i,["object"==typeof i.autoLoad?i.autoLoad:void 0])},onBeforeSort:function(){var e=this.groupers;e.getCount()>0&&this.sort(e.items,"prepend",!1)},decodeGroupers:function(e){Ext.isArray(e)||(e=void 0===e?[]:[e]);var t,n,i=e.length,r=Ext.util.Grouper,o=[];for(n=0;i>n;n++)t=e[n],t instanceof r?o.push(t):(Ext.isString(t)&&(t={property:t}),t=Ext.apply({root:"data",direction:"ASC"},t),t.fn&&(t.sorterFn=t.fn),"function"==typeof t&&(t={sorterFn:t}),o.push(new r(t)));return o},group:function(e,t,n){var i,r,o=this;e&&(o.sorters.removeAll(o.groupers.items),Ext.isArray(e)?r=e:Ext.isObject(e)?r=[e]:Ext.isString(e)&&(i=o.groupers.get(e),i?void 0===t?i.toggle():i.setDirection(t):(i={property:e,direction:t||"ASC"},r=[i])),r&&r.length&&(o.groupers.clear(),o.groupers.addAll(o.decodeGroupers(r))),o.sorters.insert(0,o.groupers.items)),o.remoteGroup?o.buffered?(o.data.clear(),o.loadPage(1,{groupChange:!0})):o.load({scope:o,callback:n?null:o.fireGroupChange}):(o.doSort(o.generateComparator()),o.constructGroups(),n||o.fireGroupChange())},getGroupField:function(){var e,t=this.groupers.first();return t&&(e=t.property),e},constructGroups:function(){var e,t,n,i,r=this,o=this.data.items,a=o.length,s=r.groups;if(s.clear(),r.isGrouped())for(t=0;a>t;++t)i=o[t],e=r.getGroupString(i),n=s.get(e),n||(n=new Ext.data.Group({key:e,store:r}),s.add(e,n)),n.add(i)},clearGrouping:function(){var e,t=this,n=t.groupers.items,i=n.length;for(e=0;i>e;e++)t.sorters.remove(n[e]);t.groupers.clear(),t.remoteGroup?t.buffered?(t.data.clear(),t.loadPage(1,{groupChange:!0})):t.load({scope:t,callback:t.fireGroupChange}):(t.groups.clear(),t.sorters.length?t.sort():(t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),t.fireGroupChange())},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(e){var t,n,i,r,o=this.data.items,a=o.length,s=[],l={};for(r=0;a>r;r++)t=o[r],n=this.getGroupString(t),i=l[n],void 0===i&&(i={name:n,children:[]},s.push(i),l[n]=i),i.children.push(t);return e?l[e]:s},getGroupsForGrouper:function(e,t){var n,i,r,o,a,s=e.length,l=[];for(a=0;s>a;a++)r=e[a],i=t.getGroupString(r),i!==n&&(o={name:i,grouper:t,records:[]},l.push(o)),o.records.push(r),n=i;return l},getGroupsForGrouperIndex:function(e,t){var n,i=this,r=i.groupers,o=r.getAt(t),a=i.getGroupsForGrouper(e,o),s=a.length;if(t+1<r.length)for(n=0;s>n;n++)a[n].children=i.getGroupsForGrouperIndex(a[n].records,t+1);for(n=0;s>n;n++)a[n].depth=t;return a},getGroupData:function(e){var t=this;return e!==!1&&t.sort(),t.getGroupsForGrouperIndex(t.data.items,0)},getGroupString:function(e){var t=this.groupers.first();return t?t.getGroupString(e):""},insert:function(e,t){var n,i,r,o,a=this,s=!1,l=a.modelDefaults;if(o=Ext.isIterable(t)?[]:t=[t],i=t.length){for(n=0;i>n;n++)r=t[n],r.isModel||(r=a.createModel(r)),o[n]=r,l&&r.set(l),r.join(a),s=s||r.phantom===!0;a.data.insert(e,o),a.snapshot&&a.snapshot.addAll(o),a.requireSort&&(a.suspendEvents(),a.sort(),a.resumeEvents()),a.isGrouped()&&a.updateGroupsOnAdd(o),a.fireEvent("add",a,o,e),a.fireEvent("datachanged",a),a.autoSync&&s&&!a.autoSyncSuspended&&a.sync()}return o},updateGroupsOnAdd:function(e){var t,n,i,r,o=this,a=o.groups,s=e.length;for(t=0;s>t;++t)r=e[t],n=o.getGroupString(r),i=a.getByKey(n),i||(i=a.add(new Ext.data.Group({key:n,store:o}))),i.add(r)},updateGroupsOnRemove:function(e){var t,n,i,r,o=this,a=o.groups,s=e.length;for(t=0;s>t;++t)r=e[t],n=o.getGroupString(r),i=a.getByKey(n),i&&(i.remove(r),0===i.records.length&&a.remove(i))},updateGroupsOnUpdate:function(e,t){var n,i,r,o,a=this,s=a.getGroupField(),l=a.getGroupString(e),d=a.groups;if(t&&-1!==Ext.Array.indexOf(t,s)){for(a.buffered&&Ext.Error.raise({msg:"Cannot move records between groups in a buffered store record"}),r=d.items,i=0,n=r.length;n>i;++i)if(o=r[i],o.contains(e)){o.remove(e);break}for(o=d.getByKey(l),o||(o=d.add(new Ext.data.Group({key:l,store:a}))),o.add(e),a.data.remove(e),a.data.insert(a.data.findInsertionIndex(e,a.generateComparator()),e),i=0,n=this.getCount();n>i;i++)a.data.items[i].index=i}else d.getByKey(l).setDirty()},add:function(e){var t,n,i,r=this;return t=Ext.isArray(e)?e:arguments,n=t.length,i=!r.remoteSort&&r.sorters&&r.sorters.items.length,i&&1===n?[r.addSorted(r.createModel(t[0]))]:(i&&(r.requireSort=!0),t=r.insert(r.data.length,t),delete r.requireSort,t)},addSorted:function(e){var t=this,n=t.data.findInsertionIndex(e,t.generateComparator());return t.insert(n,e),e},createModel:function(e){return e.isModel||(e=Ext.ModelManager.create(e,this.model)),e},onUpdate:function(e,t,n){this.isGrouped()&&this.updateGroupsOnUpdate(e,n)},each:function(e,t){var n,i,r=this.data.items,o=r.length;for(i=0;o>i&&(n=r[i],e.call(t||n,n,i,o)!==!1);i++);},remove:function(e,t,n){t=t===!0;var i,r,o,a,s,l,d,c=this,u=!1,h=c.snapshot,f=c.data,g=0,p=[],m=[],x=[],y=!n&&c.hasListeners.remove;if(e.isModel?(e=[e],i=1):Ext.isIterable(e)?i=e.length:"object"==typeof e&&(l=!0,g=e.start,i=e.end+1,d=i-g),!l){for(g=0;i>g;++g)s=e[g],"number"==typeof s?(a=s,s=f.getAt(a)):a=c.indexOf(s),s&&a>-1&&p.push({record:s,index:a}),h&&h.remove(s);p=Ext.Array.sort(p,function(e,t){var n=e.index,i=t.index;return n===t.index2?0:i>n?-1:1}),g=0,i=p.length}for(;i>g;g++)l?(s=f.getAt(g),a=g):(r=p[g],s=r.record,a=r.index),m.push(s),x.push(a),o=s.phantom!==!0,!t&&o&&(s.removedFrom=a,c.removed.push(s)),s.unjoin(c),a-=g,u=u||o,l||(f.removeAt(a),y&&c.fireEvent("remove",c,s,a,!!t));l&&f.removeRange(e.start,d),n||(c.fireEvent("bulkremove",c,m,x,!!t),c.fireEvent("datachanged",c)),!t&&c.autoSync&&u&&!c.autoSyncSuspended&&c.sync()},removeAt:function(e,t){var n=this,i=n.getCount();i>=e&&(1===arguments.length?n.remove([e]):t&&n.remove({start:e,end:Math.min(e+t,i)-1}))},removeAll:function(e){var t=this,n=t.snapshot,i=t.data;n&&n.removeAll(i.getRange()),t.buffered?i&&(e&&t.suspendEvent("clear"),i.clear(),e&&t.resumeEvent("clear")):(t.remove({start:0,end:t.getCount()-1},!1,e),e!==!0&&t.fireEvent("clear",t))},load:function(e){var t=this;return e=e||{},"function"==typeof e&&(e={callback:e}),e.groupers=e.groupers||t.groupers.items,e.page=e.page||t.currentPage,e.start=void 0!==e.start?e.start:(e.page-1)*t.pageSize,e.limit=e.limit||t.pageSize,e.addRecords=e.addRecords||!1,t.buffered?(e.limit=t.viewSize||t.defaultViewSize,t.loadToPrefetch(e)):t.callParent([e])},reload:function(e){var t,n,i,r,o,a,s,l,d=this,c=d.getCount();if(e||(e={}),!d.buffered)return d.callParent(arguments);if(delete d.totalCount,a=function(){d.rangeCached(t,n)&&(d.loading=!1,d.data.un("pageAdded",a),l=d.data.getRange(t,n),d.fireEvent("load",d,l,!0))},s=Math.ceil((d.leadingBufferZone+d.trailingBufferZone)/2),t=e.start||(c?d.getAt(0).index:0),n=t+(e.count||(c?c:d.pageSize))-1,i=d.getPageFromRecordIndex(Math.max(t-s,0)),r=d.getPageFromRecordIndex(n+s),d.data.clear(!0),d.fireEvent("beforeload",d,e)!==!1)for(d.loading=!0,d.data.on("pageAdded",a),o=i;r>=o;o++)d.prefetchPage(o,e)},onProxyLoad:function(e){var t=this,n=e.getResultSet(),i=e.getRecords(),r=e.wasSuccessful();t.isDestroyed||(n&&(t.totalCount=n.total),t.loading=!1,r&&t.loadRecords(i,e),t.hasListeners.load&&t.fireEvent("load",t,i,r),t.hasListeners.read&&t.fireEvent("read",t,i,r),Ext.callback(e.callback,e.scope||t,[i,e,r]))},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(e,t){Ext.isString(e)&&(e={property:e,value:t});var n,i=this,r=i.decodeFilters(e),o=i.sorters.length&&i.sortOnFilter&&!i.remoteSort,a=r.length;for(n=0;a>n;n++)i.filters.replace(r[n]);e=i.filters.items,e.length&&(i.remoteFilter?(delete i.totalCount,i.buffered?(i.data.clear(),i.loadPage(1)):(i.currentPage=1,i.load())):(i.snapshot=i.snapshot||i.data.clone(),i.data=i.snapshot.filter(e),i.constructGroups(),o?i.sort():(i.fireEvent("datachanged",i),i.fireEvent("refresh",i))),i.fireEvent("filterchange",i,e))},clearFilter:function(e){var t=this;if(t.filters.clear(),t.remoteFilter){if(e)return;delete t.totalCount,t.buffered?(t.data.clear(),t.loadPage(1)):(t.currentPage=1,t.load())}else t.isFiltered()&&(t.data=t.snapshot,delete t.snapshot,t.constructGroups(),e!==!0&&(t.fireEvent("datachanged",t),t.fireEvent("refresh",t)));t.fireEvent("filterchange",t,t.filters.items)},removeFilter:function(e,t){var n=this;!n.remoteFilter&&n.isFiltered()&&(e instanceof Ext.util.Filter?n.filters.remove(e):n.filters.removeAtKey(e),t!==!1?n.filters.length?n.filter():n.clearFilter():n.fireEvent("filterchange",n,n.filters.items))},addFilter:function(e,t){var n,i,r,o=this;for(n=o.decodeFilters(e),r=n.length,i=0;r>i;i++)o.filters.replace(n[i]);t!==!1&&o.filters.length?o.filter():o.fireEvent("filterchange",o,o.filters.items)},isFiltered:function(){var e=this.snapshot;return!(!e||e===this.data)},filterBy:function(e,t){var n=this;n.snapshot=n.snapshot||n.data.clone(),n.data=n.queryBy(e,t||n),n.fireEvent("datachanged",n),n.fireEvent("refresh",n)},queryBy:function(e,t){var n=this;return(n.snapshot||n.data).filterBy(e,t||n)},query:function(e,t,n,i,r){var o=this,a=o.createFilterFn(e,t,n,i,r),s=o.queryBy(a);return s||(s=new Ext.util.MixedCollection),s},loadData:function(e,t){var n,i=e.length,r=[];for(n=0;i>n;n++)r.push(this.createModel(e[n]));this.loadRecords(r,t?this.addRecordsOptions:void 0)},loadRawData:function(e,t){var n=this,i=n.proxy.reader.read(e),r=i.records;i.success&&(n.totalCount=i.total,n.loadRecords(r,t?n.addRecordsOptions:void 0))},loadRecords:function(e,t){var n,i,r=this,o=0,a=e.length,s=r.snapshot;if(t&&(n=t.start,i=t.addRecords),i?s&&s.addAll(e):(delete r.snapshot,r.clearData(!0)),r.data.addAll(e),void 0!==n)for(;a>o;o++)e[o].index=n+o,e[o].join(r);else for(;a>o;o++)e[o].join(r);r.suspendEvents(),r.filterOnLoad&&!r.remoteFilter&&r.filter(),r.sortOnLoad&&!r.remoteSort&&r.sort(void 0,void 0,void 0,!0),r.resumeEvents(),r.isGrouped()&&r.constructGroups(),r.fireEvent("datachanged",r),r.fireEvent("refresh",r)},loadPage:function(e,t){var n=this;return n.currentPage=e,t=Ext.apply({page:e,start:(e-1)*n.pageSize,limit:n.pageSize,addRecords:!n.clearOnPageLoad},t),n.buffered?(t.limit=n.viewSize||n.defaultViewSize,n.loadToPrefetch(t)):(n.read(t),void 0)},nextPage:function(e){this.loadPage(this.currentPage+1,e)},previousPage:function(e){this.loadPage(this.currentPage-1,e)},clearData:function(e){var t,n,i=this;if(!i.buffered&&i.data)for(t=i.data.items,n=t.length;n--;)t[n].unjoin(i);i.data&&i.data.clear(),(e!==!0||i.clearRemovedOnLoad)&&(i.removed.length=0)},loadToPrefetch:function(e){var t,n,i,r=this,o=e,a=e.start,s=e.start+e.limit-1,l=Math.min(s,e.start+(r.viewSize||e.limit)-1),d=r.getPageFromRecordIndex(Math.max(a-r.trailingBufferZone,0)),c=r.getPageFromRecordIndex(s+r.leadingBufferZone),u=function(){r.rangeCached(a,l)&&(r.loading=!1,n=r.data.getRange(a,l),r.data.un("pageAdded",u),r.hasListeners.guaranteedrange&&r.guaranteeRange(a,l,e.callback,e.scope),e.callback&&e.callback.call(e.scope||r,n,a,s,e),r.fireEvent("datachanged",r),r.fireEvent("refresh",r),r.fireEvent("load",r,n,!0),e.groupChange&&r.fireGroupChange())};r.fireEvent("beforeload",r,e)!==!1&&(delete r.totalCount,r.loading=!0,e.callback&&(o=Ext.apply({},e),delete o.callback),r.on("prefetch",function(e,n,a){if(a)if(i=r.getTotalCount())for(r.data.on("pageAdded",u),l=Math.min(l,i-1),c=r.getPageFromRecordIndex(Math.min(l+r.leadingBufferZone,i-1)),t=d+1;c>=t;++t)r.prefetchPage(t,o);else r.fireEvent("datachanged",r),r.fireEvent("refresh",r),r.fireEvent("load",r,n,!0);else r.fireEvent("load",r,n,!1)},null,{single:!0}),r.prefetchPage(d,o))},prefetch:function(e){var t,n,i=this,r=i.pageSize;return r?(i.lastPageSize&&r!=i.lastPageSize&&Ext.Error.raise("pageSize cannot be dynamically altered"),i.data.pageSize||(i.data.pageSize=r)):i.pageSize=i.data.pageSize=r=e.limit,i.lastPageSize=r,e.page||(e.page=i.getPageFromRecordIndex(e.start),e.start=(e.page-1)*r,e.limit=Math.ceil(e.limit/r)*r),i.pageRequests[e.page]||(e=Ext.apply({action:"read",filters:i.filters.items,sorters:i.sorters.items,groupers:i.groupers.items,pageMapGeneration:i.data.pageMapGeneration},e),n=new Ext.data.Operation(e),i.fireEvent("beforeprefetch",i,n)!==!1&&(t=i.proxy,i.pageRequests[e.page]=t.read(n,i.onProxyPrefetch,i),t.isSynchronous&&delete i.pageRequests[e.page])),i},onPageMapClear:function(){var e,t,n=this,i=n.wasLoading,r=n.pageRequests;n.data.events.pageadded&&n.data.events.pageadded.clearListeners(),n.loading=!0,n.totalCount=0;for(t in r)r.hasOwnProperty(t)&&(e=r[t],delete r[t],delete e.callback);n.fireEvent("clear",n),n.loading=i},prefetchPage:function(e,t){var n=this,i=n.pageSize||n.defaultPageSize,r=(e-1)*n.pageSize,o=n.totalCount;(void 0===o||n.getCount()!==o)&&n.prefetch(Ext.applyIf({page:e,start:r,limit:i},t))},onProxyPrefetch:function(e){var t=this,n=e.getResultSet(),i=e.getRecords(),r=e.wasSuccessful(),o=e.page;e.pageMapGeneration===t.data.pageMapGeneration&&(n&&(t.totalCount=n.total,t.fireEvent("totalcountchange",t.totalCount)),void 0!==o&&delete t.pageRequests[o],t.loading=!1,t.fireEvent("prefetch",t,i,r,e),r&&t.cachePage(i,e.page),Ext.callback(e.callback,e.scope||t,[i,e,r]))},cachePage:function(e,t){var n,i=this,r=e.length;for(Ext.isDefined(i.totalCount)||(i.totalCount=e.length,i.fireEvent("totalcountchange",i.totalCount)),n=0;r>n;n++)e[n].join(i);i.data.addPage(t,e)},rangeCached:function(e,t){return this.data&&this.data.hasRange(e,t)},pageCached:function(e){return this.data&&this.data.hasPage(e)},pagePending:function(e){return!!this.pageRequests[e]},rangeSatisfied:function(e,t){return this.rangeCached(e,t)},getPageFromRecordIndex:function(e){return Math.floor(e/this.pageSize)+1},onGuaranteedRange:function(e){var t,n=this,i=n.getTotalCount(),r=e.prefetchStart,o=e.prefetchEnd>i-1?i-1:e.prefetchEnd;o=Math.max(0,o),t=n.data.getRange(r,o),e.fireEvent!==!1&&n.fireEvent("guaranteedrange",t,r,o,e),e.callback&&e.callback.call(e.scope||n,t,r,o,e)},guaranteeRange:function(e,t,n,i,r){r=Ext.apply({callback:n,scope:i},r),this.getRange(e,t,r)},prefetchRange:function(e,t){var n,i,r,o=this;if(!o.rangeCached(e,t))for(n=o.getPageFromRecordIndex(e),i=o.getPageFromRecordIndex(t),o.data.maxSize=o.purgePageCount?i-n+1+o.purgePageCount:0,r=n;i>=r;r++)o.pageCached(r)||o.prefetchPage(r)},primeCache:function(e,t,n){var i=this;-1===n?(e=Math.max(e-i.leadingBufferZone,0),t=Math.min(t+i.trailingBufferZone,i.totalCount-1)):1===n?(e=Math.max(Math.min(e-i.trailingBufferZone,i.totalCount-i.pageSize),0),t=Math.min(t+i.leadingBufferZone,i.totalCount-1)):(e=Math.min(Math.max(Math.floor(e-(i.leadingBufferZone+i.trailingBufferZone)/2),0),i.totalCount-i.pageSize),t=Math.min(Math.max(Math.ceil(t+(i.leadingBufferZone+i.trailingBufferZone)/2),0),i.totalCount-1)),i.prefetchRange(e,t)},sort:function(){var e=this;return e.buffered&&e.remoteSort&&e.data.clear(),e.callParent(arguments)},doSort:function(e){var t,n,i,r=this;if(r.remoteSort)r.buffered?(r.data.clear(),r.loadPage(1)):r.load();else{if(r.data.sortBy(e),!r.buffered)for(t=r.getRange(),n=t.length,i=0;n>i;i++)t[i].index=i;r.fireEvent("datachanged",r),r.fireEvent("refresh",r)}},find:function(e,t,n,i,r,o){var a=this.createFilterFn(e,t,i,r,o);return a?this.data.findIndexBy(a,null,n):-1},findRecord:function(){var e=this,t=e.find.apply(e,arguments);return-1!==t?e.getAt(t):null},createFilterFn:function(e,t,n,i,r){return Ext.isEmpty(t)?!1:(t=this.data.createValueMatcher(t,n,i,r),function(n){return t.test(n.data[e])})},findExact:function(e,t,n){return this.data.findIndexBy(function(n){return n.isEqual(n.get(e),t)},this,n)},findBy:function(e,t,n){return this.data.findIndexBy(e,t,n)},collect:function(e,t,n){var i=this,r=n===!0&&i.snapshot?i.snapshot:i.data;return r.collect(e,"data",t)},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.totalCount||0},getAt:function(e){return this.data.getAt(e)},getRange:function(e,t,n){var i,r,o,a,s=this,l=s.totalCount-1,d=s.lastRequestStart;return n=Ext.apply({prefetchStart:e,prefetchEnd:t},n),s.buffered?(t=t>=s.totalCount?l:t,i=0===e?0:e-1,r=t===l?t:t+1,s.lastRequestStart=e,s.rangeCached(i,r)?(s.onGuaranteedRange(n),a=s.data.getRange(e,t)):(s.fireEvent("cachemiss",s,e,t),o=function(){s.rangeCached(i,r)&&(s.fireEvent("cachefilled",s,e,t),s.data.un("pageAdded",o),s.onGuaranteedRange(n))},s.data.on("pageAdded",o),s.prefetchRange(e,t)),s.primeCache(e,t,d>e?-1:1)):(a=s.data.getRange(e,t),n.callback&&n.callback.call(n.scope||s,a,e,t,n)),a},getById:function(e){var t=(this.snapshot||this.data).findBy(function(t){return t.getId()===e});return t},indexOf:function(e){return this.data.indexOf(e)},indexOfTotal:function(e){var t=e.index;return t||0===t?t:this.indexOf(e)},indexOfId:function(e){return this.indexOf(this.getById(e))},first:function(e){var t=this;return e&&t.isGrouped()?t.aggregate(function(e){return e.length?e[0]:void 0},t,!0):t.data.first()},last:function(e){var t=this;return e&&t.isGrouped()?t.aggregate(function(e){var t=e.length;return t?e[t-1]:void 0},t,!0):t.data.last()},sum:function(e,t){var n=this;return t&&n.isGrouped()?n.aggregate(n.getSum,n,!0,[e]):n.getSum(n.data.items,e)},getSum:function(e,t){for(var n=0,i=0,r=e.length;r>i;++i)n+=e[i].get(t);return n},count:function(e){var t=this;return e&&t.isGrouped()?t.aggregate(function(e){return e.length},t,!0):t.getCount()},min:function(e,t){var n=this;return t&&n.isGrouped()?n.aggregate(n.getMin,n,!0,[e]):n.getMin(n.data.items,e)},getMin:function(e,t){var n,i,r=1,o=e.length;for(o>0&&(i=e[0].get(t));o>r;++r)n=e[r].get(t),i>n&&(i=n);return i},max:function(e,t){var n=this;return t&&n.isGrouped()?n.aggregate(n.getMax,n,!0,[e]):n.getMax(n.data.items,e)},getMax:function(e,t){var n,i,r=1,o=e.length;for(o>0&&(i=e[0].get(t));o>r;++r)n=e[r].get(t),n>i&&(i=n);return i},average:function(e,t){var n=this;return t&&n.isGrouped()?n.aggregate(n.getAverage,n,!0,[e]):n.getAverage(n.data.items,e)},getAverage:function(e,t){var n=0,i=e.length,r=0;if(e.length>0){for(;i>n;++n)r+=e[n].get(t);return r/i}return 0},aggregate:function(e,t,n,i){if(i=i||[],n&&this.isGrouped()){var r,o,a=this.getGroups(),s=a.length,l={};for(o=0;s>o;++o)r=a[o],l[r.name]=this.getAggregate(e,t||this,r.children,i);return l}return this.getAggregate(e,t,this.data.items,i)},getAggregate:function(e,t,n,i){return i=i||[],e.apply(t||this,[n].concat(i))},onIdChanged:function(e,t,n,i){var r=this.snapshot;r&&r.updateKey(i,n),this.data.updateKey(i,n),this.callParent(arguments)},commitChanges:function(){for(var e=this,t=e.getModifiedRecords(),n=t.length,i=0;n>i;i++)t[i].commit();e.removed.length=0},filterNewOnly:function(e){return e.phantom===!0},getRejectRecords:function(){return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items,this.getUpdatedRecords())},rejectChanges:function(){for(var e,t=this,n=t.getRejectRecords(),i=n.length,r=0;i>r;r++)e=n[r],e.reject(),e.phantom&&t.remove(e);for(n=t.removed,i=n.length,r=0;i>r;r++)e=n[r],t.insert(e.removedFrom||0,e),e.reject();t.removed.length=0}},function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"memory"})}),Ext.define("Ext.data.reader.Array",{extend:Ext.data.reader.Json,alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",totalProperty:void 0,successProperty:void 0,createFieldAccessExpression:function(e,t,n){var i,r=null==e.mapping?e.originalIndex:e.mapping;return"function"==typeof r?i=t+".mapping("+n+", this)":(isNaN(r)&&(r='"'+r+'"'),i=n+"["+r+"]"),i}}),Ext.define("Ext.data.ArrayStore",{extend:Ext.data.Store,alias:"store.array",constructor:function(e){e=Ext.apply({proxy:{type:"memory",reader:"array"}},e),this.callParent([e])},loadData:function(e,t){if(this.expandData===!0){for(var n=[],i=0,r=e.length;r>i;i++)n[n.length]=[e[i]];e=n}this.callParent([e,t])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore}),Ext.define("Ext.data.Batch",{mixins:{observable:Ext.util.Observable},autoStart:!1,pauseOnException:!1,current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),t.operations=[],t.exceptions=[]},add:function(e){return this.total++,e.setBatch(this),this.operations.push(e),this},start:function(e){var t=this;return t.isRunning?t:(t.exceptions.length=0,t.hasException=!1,t.isRunning=!0,t.runOperation(Ext.isDefined(e)?e:t.current+1))},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){return this.isRunning=!1,this},runOperation:function(e){var t,n=this,i=n.operations,r=i[e];return void 0===r?(n.isRunning=!1,n.isComplete=!0,n.fireEvent("complete",n,i[i.length-1])):(n.current=e,t=function(e){var t=e.hasException();t&&(n.hasException=!0,n.exceptions.push(e),n.fireEvent("exception",n,e)),t&&n.pauseOnException?n.pause():(e.setCompleted(),n.fireEvent("operationcomplete",n,e),n.runNextOperation())},r.setStarted(),n.proxy[r.action](r,t,n)),n}}),Ext.define("Ext.data.BufferStore",{extend:Ext.data.Store,alias:"store.buffer",sortOnLoad:!1,filterOnLoad:!1,constructor:function(){Ext.Error.raise("The BufferStore class has been deprecated. Instead, specify the buffered config option on Ext.data.Store")}}),Ext.define("Ext.direct.Manager",{singleton:!0,mixins:{observable:Ext.util.Observable},exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},constructor:function(){var e=this;e.addEvents("event","exception"),e.transactions=new Ext.util.MixedCollection,e.providers=new Ext.util.MixedCollection,e.mixins.observable.constructor.call(e)},addProvider:function(e){var t,n,i=this,r=arguments,o=i.relayers||(i.relayers={});{if(!(r.length>1))return e.isProvider||(e=Ext.create("direct."+e.type+"provider",e)),i.providers.add(e),e.on("data",i.onProviderData,i),e.relayedEvents&&(o[e.id]=i.relayEvents(e,e.relayedEvents)),e.isConnected()||e.connect(),e;for(t=0,n=r.length;n>t;++t)i.addProvider(r[t])}},getProvider:function(e){return e.isProvider?e:this.providers.get(e)},removeProvider:function(e){var t,n=this,i=n.providers,r=n.relayers;return e=e.isProvider?e:i.get(e),e?(e.un("data",n.onProviderData,n),t=e.id,r[t]&&(r[t].destroy(),delete r[t]),i.remove(e),e):null},addTransaction:function(e){return this.transactions.add(e),e},removeTransaction:function(e){var t=this;return e=t.getTransaction(e),t.transactions.remove(e),e},getTransaction:function(e){return"object"==typeof e?e:this.transactions.get(e)},onProviderData:function(e,t){var n,i,r=this;if(Ext.isArray(t))for(n=0,i=t.length;i>n;++n)r.onProviderData(e,t[n]);else t.name&&"event"!=t.name&&"exception"!=t.name?r.fireEvent(t.name,t):t.status===!1&&r.fireEvent("exception",t),r.fireEvent("event",t,e)},parseMethod:function(e){if(Ext.isString(e)){for(var t=e.split("."),n=0,i=t.length,r=Ext.global;r&&i>n;)r=r[t[n]],++n;e=Ext.isFunction(r)?r:null}return e||null}},function(){Ext.Direct=Ext.direct.Manager}),Ext.define("Ext.data.proxy.Direct",{extend:Ext.data.proxy.Server,alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",paramOrder:void 0,paramsAsHash:!0,directFn:void 0,paramOrderRe:/[\s,|]/,constructor:function(){var e,t=this;t.callParent(arguments),e=t.paramOrder,Ext.isString(e)&&(t.paramOrder=e.split(t.paramOrderRe))},resolveMethods:function(){var e,t=this,n=t.directFn,i=t.api,r=Ext.direct.Manager;if(n)e=t.directFn=r.parseMethod(n),Ext.isFunction(e)||Ext.Error.raise("Cannot resolve directFn "+n);else if(i)for(n in i)i.hasOwnProperty(n)&&(e=i[n],i[n]=r.parseMethod(e),Ext.isFunction(i[n])||Ext.Error.raise("Cannot resolve Direct api "+n+" method "+e));t.methodsResolved=!0},doRequest:function(e,t,n){var i,r,o=this,a=o.getWriter(),s=o.buildRequest(e),l=s.params,d=[];o.methodsResolved||o.resolveMethods(),i=o.api[s.action]||o.directFn,e.allowWrite()&&(s=a.write(s)),"read"==e.action?(r=i.directCfg.method,d=r.getArgs(l,o.paramOrder,o.paramsAsHash)):d.push(s.jsonData),Ext.apply(s,{args:d,directFn:i}),d.push(o.createRequestCallback(s,e,t,n),o),i.apply(window,d)},applyEncoding:Ext.identityFn,createRequestCallback:function(e,t,n,i){var r=this;return function(o,a){r.processResponse(a.status,t,e,a,n,i)}},extractResponseData:function(e){return Ext.isDefined(e.result)?e.result:e.data},setException:function(e,t){e.setException(t.message)},buildUrl:function(){return""}}),Ext.define("Ext.data.DirectStore",{extend:Ext.data.Store,alias:"store.direct",constructor:function(e){if(e=Ext.apply({},e),!e.proxy){var t={type:"direct",reader:{type:"json"}};Ext.copyTo(t,e,"paramOrder,paramsAsHash,directFn,api,simpleSortMode"),Ext.copyTo(t.reader,e,"totalProperty,root,idProperty"),e.proxy=t}this.callParent([e])}}),Ext.define("Ext.data.JsonP",{singleton:!0,requestCount:0,requests:{},timeout:3e4,disableCaching:!0,disableCachingParam:"_dc",callbackKey:"callback",request:function(e){e=Ext.apply({},e);var t,n,i=this,r=Ext.isDefined(e.disableCaching)?e.disableCaching:i.disableCaching,o=e.disableCachingParam||i.disableCachingParam,a=++i.requestCount,s=e.callbackName||"callback"+a,l=e.callbackKey||i.callbackKey,d=Ext.isDefined(e.timeout)?e.timeout:i.timeout,c=Ext.apply({},e.params),u=e.url,h=Ext.name;return r&&!c[o]&&(c[o]=Ext.Date.now()),e.params=c,c[l]=h+".data.JsonP."+s,n=i.createScript(u,c,e),i.requests[a]=t={url:u,params:c,script:n,id:a,scope:e.scope,success:e.success,failure:e.failure,callback:e.callback,callbackKey:l,callbackName:s},d>0&&(t.timeout=setTimeout(Ext.bind(i.handleTimeout,i,[t]),d)),i.setupErrorHandling(t),i[s]=Ext.bind(i.handleResponse,i,[t],!0),i.loadScript(t),t},abort:function(e){var t,n=this,i=n.requests;if(e)e.id||(e=i[e]),n.handleAbort(e);else for(t in i)i.hasOwnProperty(t)&&n.abort(i[t])},setupErrorHandling:function(e){e.script.onerror=Ext.bind(this.handleError,this,[e])},handleAbort:function(e){e.errorType="abort",this.handleResponse(null,e)},handleError:function(e){e.errorType="error",this.handleResponse(null,e)},cleanupErrorHandling:function(e){e.script.onerror=null},handleTimeout:function(e){e.errorType="timeout",this.handleResponse(null,e)},handleResponse:function(e,t){var n=!0;t.timeout&&clearTimeout(t.timeout),delete this[t.callbackName],delete this.requests[t.id],this.cleanupErrorHandling(t),Ext.fly(t.script).remove(),t.errorType?(n=!1,Ext.callback(t.failure,t.scope,[t.errorType])):Ext.callback(t.success,t.scope,[e]),Ext.callback(t.callback,t.scope,[n,e,t.errorType]),Ext.EventManager.idleEvent.fire()},createScript:function(e,t){var n=document.createElement("script");return n.setAttribute("src",Ext.urlAppend(e,Ext.Object.toQueryString(t))),n.setAttribute("async",!0),n.setAttribute("type","text/javascript"),n},loadScript:function(e){Ext.getHead().appendChild(e.script)}}),Ext.define("Ext.data.proxy.JsonP",{extend:Ext.data.proxy.Server,alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],defaultWriterType:"base",callbackKey:"callback",recordParam:"records",autoAppendParams:!0,constructor:function(){this.addEvents("exception"),this.callParent(arguments)
},doRequest:function(e,t,n){var i=this,r=i.buildRequest(e),o=r.params;return Ext.apply(r,{callbackKey:i.callbackKey,timeout:i.timeout,scope:i,disableCaching:!1,callback:i.createRequestCallback(r,e,t,n)}),i.autoAppendParams&&(r.params={}),r.jsonp=Ext.data.JsonP.request(r),r.params=o,e.setStarted(),i.lastRequest=r,r},createRequestCallback:function(e,t,n,i){var r=this;return function(o,a){delete r.lastRequest,r.processResponse(o,t,e,a,n,i)}},setException:function(e){e.setException(e.request.jsonp.errorType)},buildUrl:function(e){var t,n,i,r,o=this,a=o.callParent(arguments),s=e.records,l=o.getWriter();if(l&&e.operation.allowWrite()&&(e=l.write(e)),t=e.params,n=t.filters,delete t.filters,n&&n.length)for(r=0;r<n.length;r++)i=n[r],i.value&&(t[i.property]=i.value);return(!l||!l.encode)&&Ext.isArray(s)&&s.length>0&&(t[o.recordParam]=o.encodeRecords(s)),o.autoAppendParams&&(a=Ext.urlAppend(a,Ext.Object.toQueryString(t))),a},abort:function(){var e=this.lastRequest;e&&Ext.data.JsonP.abort(e.jsonp)},encodeRecords:function(e){for(var t=[],n=0,i=e.length;i>n;n++)t.push(Ext.encode(e[n].getData()));return t}}),Ext.define("Ext.data.JsonPStore",{extend:Ext.data.Store,alias:"store.jsonp",constructor:function(e){e=Ext.apply({proxy:{type:"jsonp",reader:"json"}},e),this.callParent([e])}}),Ext.define("Ext.data.JsonStore",{extend:Ext.data.Store,alias:"store.json",constructor:function(e){e=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},e),this.callParent([e])}}),Ext.define("Ext.data.NodeInterface",{statics:{decorate:function(e){var t,n,i;"string"==typeof e?e=Ext.ModelManager.getModel(e):e.isModel&&(e=Ext.ModelManager.getModel(e.modelName)),e.prototype.isNode||(t=e.prototype.idProperty,n=e.prototype.fields.get(t),i=e.prototype.fields.get(t).type.type,e.override(this.getPrototypeBody()),this.applyFields(e,[{name:"parentId",type:i,defaultValue:null,useNull:n.useNull},{name:"index",type:"int",defaultValue:0,persist:!1,convert:null},{name:"depth",type:"int",defaultValue:0,persist:!1,convert:null},{name:"expanded",type:"bool",defaultValue:!1,persist:!1,convert:null},{name:"expandable",type:"bool",defaultValue:!0,persist:!1,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"leaf",type:"bool",defaultValue:!1},{name:"cls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"icon",type:"string",defaultValue:"",persist:!1,convert:null},{name:"root",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isFirst",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"loading",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"href",type:"string",defaultValue:"",persist:!1,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:!1,convert:null},{name:"children",type:"auto",defaultValue:null,persist:!1,convert:null}]))},applyFields:function(e,t){var n,i,r=e.prototype,o=r.fields,a=o.keys,s=t.length;for(i=0;s>i;i++)n=t[i],Ext.Array.contains(a,n.name)||o.add(new Ext.data.Field(n))},getPrototypeBody:function(){var e={idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0,rootchange:!0};return{isNode:!0,constructor:function(){var e=this;return e.callParent(arguments),e.firstChild=e.lastChild=e.parentNode=e.previousSibling=e.nextSibling=null,e.childNodes=[],e},createNode:function(e){return e.isModel||(e=Ext.ModelManager.create(e,this.modelName)),e.childNodes||(e.firstChild=e.lastChild=e.parentNode=e.previousSibling=e.nextSibling=null,e.childNodes=[]),e},isLeaf:function(){return this.get("leaf")===!0},setFirstChild:function(e){this.firstChild=e},setLastChild:function(e){this.lastChild=e},updateInfo:function(e,t){var n,i,r,o,a=this,s=a.data.depth,l={},d=a.childNodes,c=d.length,u=a.phantom,h=a[a.persistenceProperty];t||Ext.Error.raise("NodeInterface expects update info to be passed");for(i in t)o=a.fields.get(i),r=t[i],o&&o.persist&&(a.dirty=a.dirty||!a.isEqual(h[i],r)),h[i]=r;if(e&&(a.commit(),a.phantom=u),a.data.depth!==s)for(l={depth:a.data.depth+1},n=0;c>n;n++)d[n].updateInfo(e,l)},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var e=this;return e.get("expandable")?!(e.isLeaf()||e.isLoaded()&&!e.hasChildNodes()):!1},triggerUIUpdate:function(){this.afterEdit([])},appendChild:function(e,t,n){var i,r,o,a,s,l=this,d={isLast:!0,parentId:l.getId(),depth:(l.data.depth||0)+1};if(!Ext.isArray(e)){if(e=l.createNode(e),t!==!0&&l.fireEventArgs("beforeappend",[l,e])===!1)return!1;if(o=l.childNodes.length,a=e.parentNode){if(t!==!0&&e.fireEventArgs("beforemove",[e,a,l,o])===!1)return!1;a.removeChild(e,!1,!1,!0)}return Ext.suspendLayouts(),o=l.childNodes.length,0===o&&l.setFirstChild(e),l.childNodes[o]=e,e.parentNode=l,e.nextSibling=null,l.setLastChild(e),s=l.childNodes[o-1],s?(e.previousSibling=s,s.nextSibling=e,s.updateInfo(n,{isLast:!1}),s.triggerUIUpdate()):e.previousSibling=null,d.isFirst=0===o,d.index=o,e.updateInfo(n,d),l.isLoaded()?1===l.childNodes.length&&l.triggerUIUpdate():l.set("loaded",!0),o&&l.childNodes[o-1].isExpanded()&&l.childNodes[o-1].cascadeBy(l.triggerUIUpdate),!e.isLeaf()&&e.phantom&&e.set("loaded",!0),Ext.resumeLayouts(!0),t!==!0&&(l.fireEventArgs("append",[l,e,o]),a&&e.fireEventArgs("move",[e,a,l,o])),e}for(l.callStore("suspendAutoSync"),i=0,r=e.length-1;r>i;i++)l.appendChild(e[i],t,n);l.callStore("resumeAutoSync"),l.appendChild(e[r],t,n)},getOwnerTree:function(){for(var e,t=this;t.parentNode;)t=t.parentNode;return e=t.store,e&&(e.treeStore&&(e=e.treeStore),e.tree)?e.ownerTree:void 0},removeChild:function(e,t,n,i){var r,o,a,s=this,l=s.indexOf(e);if(-1===l||n!==!0&&s.fireEventArgs("beforeremove",[s,e,!!i])===!1)return!1;if(Ext.suspendLayouts(),Ext.Array.erase(s.childNodes,l,1),s.firstChild===e&&s.setFirstChild(e.nextSibling),s.lastChild===e&&s.setLastChild(e.previousSibling),(a=e.previousSibling)&&(e.previousSibling.nextSibling=e.nextSibling),e.nextSibling)for(e.nextSibling.previousSibling=e.previousSibling,0===l&&e.nextSibling.updateInfo(!1,{isFirst:!0}),r=l,o=s.childNodes.length;o>r;r++)s.childNodes[r].updateInfo(!1,{index:r});else a&&(a.updateInfo(!1,{isLast:!0}),a.isExpanded()?a.cascadeBy(s.triggerUIUpdate):a.triggerUIUpdate());return s.childNodes.length||s.triggerUIUpdate(),Ext.resumeLayouts(!0),n!==!0&&(e.removeContext={parentNode:e.parentNode,previousSibling:e.previousSibling,nextSibling:e.nextSibling},e.previousSibling=e.nextSibling=e.parentNode=null,s.fireEventArgs("remove",[s,e,!!i]),e.removeContext=null),t?e.destroy(!0):e.clear(),e},copy:function(e,t){var n,i=this,r=i.callParent(arguments),o=i.childNodes?i.childNodes.length:0;if(t)for(n=0;o>n;n++)r.appendChild(i.childNodes[n].copy(void 0,!0));return r},clear:function(e){var t=this;t.parentNode=t.previousSibling=t.nextSibling=null,e&&(t.firstChild=t.lastChild=null)},destroy:function(e){var t,n=this,i=n.destroyOptions,r=n.childNodes,o=r.length;if(e===!0){for(n.clear(!0),t=0;o>t;t++)r[t].destroy(!0);n.childNodes=null,delete n.destroyOptions,n.callParent([i])}else n.destroyOptions=e,n.remove(!0)},insertBefore:function(e,t,n){var i,r,o,a=this,s=a.indexOf(t),l=e.parentNode,d=s;if(!t)return a.appendChild(e);if(e===t)return!1;if(e=a.createNode(e),n!==!0&&a.fireEventArgs("beforeinsert",[a,e,t])===!1)return!1;if(l===a&&a.indexOf(e)<s&&d--,l){if(n!==!0&&e.fireEventArgs("beforemove",[e,l,a,s,t])===!1)return!1;l.removeChild(e,!1,!1,!0)}for(0===d&&a.setFirstChild(e),Ext.Array.splice(a.childNodes,d,0,e),e.parentNode=a,e.nextSibling=t,t.previousSibling=e,r=a.childNodes[d-1],r?(e.previousSibling=r,r.nextSibling=e):e.previousSibling=null,e.updateInfo(!1,{parentId:a.getId(),index:d,isFirst:0===d,isLast:!1,depth:(a.data.depth||0)+1}),o=d+1,i=a.childNodes.length;i>o;o++)a.childNodes[o].updateInfo(!1,{index:o});return a.isLoaded()?1===a.childNodes.length&&a.triggerUIUpdate():a.set("loaded",!0),!e.isLeaf()&&e.phantom&&e.set("loaded",!0),n!==!0&&(a.fireEventArgs("insert",[a,e,t]),l&&e.fireEventArgs("move",[e,l,a,d,t])),e},insertChild:function(e,t){var n=this.childNodes[e];return n?this.insertBefore(t,n):this.appendChild(t)},remove:function(e,t){var n=this,i=n.parentNode;return i?i.removeChild(n,e,t):e&&n.destroy(!0),n},removeAll:function(e,t,n){var i,r=this,o=r.childNodes,a=0,s=o.length;if(s){for(r.fireEventArgs("bulkremove",[r,o,!1]);s>a;++a)i=o[a],i.removeContext={parentNode:i.parentNode,previousSibling:i.previousSibling,nextSibling:i.nextSibling},i.previousSibling=i.nextSibling=i.parentNode=null,r.fireEventArgs("remove",[r,i,!1]),i.removeContext=null,e?i.destroy(!0):i.removeAll(!1,t,!0);return r.firstChild=r.lastChild=null,n?r.childNodes=null:(r.childNodes.length=0,r.triggerUIUpdate()),r}},getChildAt:function(e){return this.childNodes[e]},replaceChild:function(e,t,n){var i=t?t.nextSibling:null;return this.removeChild(t,!1,n),this.insertBefore(e,i,n),t},indexOf:function(e){return Ext.Array.indexOf(this.childNodes,e)},indexOfId:function(e){for(var t=this.childNodes,n=t.length,i=0;n>i;++i)if(t[i].getId()===e)return i;return-1},getPath:function(e,t){e=e||this.idProperty,t=t||"/";for(var n=[this.get(e)],i=this.parentNode;i;)n.unshift(i.get(e)),i=i.parentNode;return t+n.join(t)},getDepth:function(){return this.get("depth")},bubble:function(e,t,n){for(var i=this;i&&e.apply(t||i,n||[i])!==!1;)i=i.parentNode},cascade:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead."),this.cascadeBy.apply(this,arguments)},cascadeBy:function(e,t,n){if(e.apply(t||this,n||[this])!==!1){var i,r=this.childNodes,o=r.length;for(i=0;o>i;i++)r[i].cascadeBy(e,t,n)}},eachChild:function(e,t,n){var i,r=this.childNodes,o=r.length;for(i=0;o>i&&e.apply(t||this,n||[r[i]])!==!1;i++);},findChild:function(e,t,n){return this.findChildBy(function(){return this.get(e)==t},null,n)},findChildBy:function(e,t,n){for(var i,r,o=this.childNodes,a=o.length,s=0;a>s;s++){if(i=o[s],e.call(t||i,i)===!0)return i;if(n&&(r=i.findChildBy(e,t,n),null!==r))return r}return null},contains:function(e){return e.isAncestor(this)},isAncestor:function(e){for(var t=this.parentNode;t;){if(t===e)return!0;t=t.parentNode}return!1},sort:function(e,t,n){var i,r,o=this.childNodes,a=o.length,s={isFirst:!0};if(a>0){for(Ext.Array.sort(o,e),this.setFirstChild(o[0]),this.setLastChild(o[a-1]),i=0;a>i;i++)r=o[i],r.previousSibling=o[i-1],r.nextSibling=o[i+1],s.isLast=i===a-1,s.index=i,r.updateInfo(!1,s),s.isFirst=!1,t&&!r.isLeaf()&&r.sort(e,!0,!0);n!==!0&&this.fireEventArgs("sort",[this,o])}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var e=this.parentNode;e;){if(!e.isExpanded())return!1;e=e.parentNode}return!0},expand:function(e,t,n){var i,r=this;r.isLeaf()?Ext.callback(t,n||r):r.isLoading()?r.on("expand",function(){r.expand(e,t,n)},r,{single:!0}):r.isExpanded()?e?(i=r.getOwnerTree(),r.expandChildren(!0,i?i.singleExpand:!1,t,n)):Ext.callback(t,n||r,[r.childNodes]):r.fireEventArgs("beforeexpand",[r,r.onChildNodesAvailable,r,[e,t,n]])},onChildNodesAvailable:function(e,t,n,i){var r,o=this;Ext.suspendLayouts(),o.set("expanded",!0),o.fireEventArgs("expand",[o,o.childNodes,!1]),t?(r=o.getOwnerTree(),o.expandChildren(!0,r?r.singleExpand:!1,n,i)):Ext.callback(n,i||o,[o.childNodes]),Ext.resumeLayouts(!0)},expandChildren:function(e,t,n,i){var r,o,a=this,s=a.childNodes,l=[],d=t?Math.min(s.length,1):s.length;for(r=0;d>r;++r)o=s[r],o.isLeaf()||(l[l.length]=o);for(d=l.length,r=0;d>r;++r)l[r].expand(e);n&&Ext.callback(n,i||a,[a.childNodes])},collapse:function(e,t,n){var i,r,o=this,a=o.isExpanded(),s=o.childNodes.length;if(!o.isLeaf()&&(!a&&e||o.fireEventArgs("beforecollapse",[o])!==!1)){if(Ext.suspendLayouts(),o.isExpanded())e&&(r=function(){for(i=0;s>i;i++)o.childNodes[i].setCollapsed(!0)},t=t?Ext.Function.createSequence(r,t):r),o.set("expanded",!1),o.fireEventArgs("collapse",[o,o.childNodes,!1,t?Ext.Function.bind(t,n,[o.childNodes]):null,null]),t=null;else if(e)for(i=0;s>i;i++)o.childNodes[i].setCollapsed(!0);Ext.resumeLayouts(!0)}Ext.callback(t,n||o,[o.childNodes])},setCollapsed:function(e){var t,n=this,i=n.childNodes.length;if(!n.isLeaf()&&n.fireEventArgs("beforecollapse",[n,Ext.emptyFn])!==!1&&(n.data.expanded=!1,n.fireEventArgs("collapse",[n,n.childNodes,!1,null,null]),e))for(t=0;i>t;t++)n.childNodes[t].setCollapsed(!0)},collapseChildren:function(e,t,n){var i,r,o=this,a=o.childNodes,s=a.length,l=[];for(i=0;s>i;++i)r=a[i],!r.isLeaf()&&r.isLoaded()&&r.isExpanded()&&l.push(r);for(s=l.length,i=0;s>i;++i)r=l[i],i===s-1?r.collapse(e,t,n):r.collapse(e)},fireEventArgs:function(t,n){var i,r,o,a,s,l=Ext.data.Model.prototype.fireEventArgs;if(e[t]){for(r=this;i!==!1&&r;r=(s=r).parentNode)r.hasListeners[t]&&(i=l.call(r,t,n));return o=s.rootOf,i!==!1&&o&&(a=o.treeStore,a&&a.hasListeners[t]&&(i=a.fireEventArgs.call(a,t,n)),i!==!1&&o.hasListeners[t]&&(i=o.fireEventArgs.call(o,t,n))),i}return l.apply(this,arguments)},serialize:function(){var e,t,n=Ext.data.writer.Json.prototype.getRecordData(this),i=this.childNodes,r=i.length;if(r>0){for(e=[],t=0;r>t;t++)e.push(i[t].serialize());n.children=e}return n}}}}}),Ext.define("Ext.data.NodeStore",{extend:Ext.data.Store,alias:"store.node",isNodeStore:!0,node:null,recursive:!1,rootVisible:!1,isExpandingOrCollapsing:0,constructor:function(e){var t,n=this;e=e||{},Ext.apply(n,e),e.proxy={type:"proxy"},n.callParent([e]),t=n.node,t&&(n.node=null,n.setNode(t))},getTotalCount:function(){return this.getCount()},setNode:function(e){var t=this;t.node&&t.node!=e&&(t.mun(t.node,{expand:t.onNodeExpand,collapse:t.onNodeCollapse,append:t.onNodeAppend,insert:t.onNodeInsert,bulkremove:t.onBulkRemove,remove:t.onNodeRemove,sort:t.onNodeSort,scope:t}),t.node=null),e&&(Ext.data.NodeInterface.decorate(e.self),t.removeAll(),t.rootVisible?t.add(e):e.isExpanded()||t.treeStore.autoLoad===!1||e.expand(),t.mon(e,{expand:t.onNodeExpand,collapse:t.onNodeCollapse,append:t.onNodeAppend,insert:t.onNodeInsert,bulkremove:t.onBulkRemove,remove:t.onNodeRemove,sort:t.onNodeSort,scope:t}),t.node=e,e.isExpanded()&&e.isLoaded()&&t.onNodeExpand(e,e.childNodes,!0))},onNodeSort:function(e,t){var n=this;(-1!==n.indexOf(e)||e===n.node&&!n.rootVisible&&e.isExpanded())&&(Ext.suspendLayouts(),n.onNodeCollapse(e,t,!0),n.onNodeExpand(e,t,!0),Ext.resumeLayouts(!0))},onNodeExpand:function(e,t,n){var i=this,r=i.indexOf(e)+1,o=[];n||i.fireEvent("beforeexpand",e,t,r),i.handleNodeExpand(e,t,o),i.insert(r,o),n||i.fireEvent("expand",e,t)},handleNodeExpand:function(e,t,n){var i,r,o=this,a=t?t.length:0;if((o.recursive||e===o.node)&&(e===this.node||o.isVisible(e))&&a)for(i=0;a>i;i++)r=t[i],n.push(r),r.isExpanded()&&(r.isLoaded()?o.handleNodeExpand(r,r.childNodes,n):(r.set("expanded",!1),r.expand()))},onBulkRemove:function(e,t){this.onNodeCollapse(e,t,!0)},onNodeCollapse:function(e,t,n,i,r){var o,a,s,l,d=this,c=d.indexOf(e)+1;if(d.recursive||e===d.node){if(n||d.fireEvent("beforecollapse",e,t,c,i,r),t.length&&d.data.contains(t[0])){for(o=e;o.parentNode;){if(s=o.nextSibling){l=!0,a=d.indexOf(s);break}o=o.parentNode}l||(a=d.getCount()),d.removeAt(c,a-c)}n||d.fireEvent("collapse",e,t,c)}},onNodeAppend:function(e,t,n){var i,r,o=this;if(o.isVisible(t)){if(0===n)i=e;else{for(r=t.previousSibling;r.isExpanded()&&r.lastChild;)r=r.lastChild;i=r}o.insert(o.indexOf(i)+1,t),!t.isLeaf()&&t.isExpanded()&&(t.isLoaded()?o.onNodeExpand(t,t.childNodes,!0):o.treeStore.fillCount||(t.set("expanded",!1),t.expand()))}},onNodeInsert:function(e,t,n){var i=this,r=this.indexOf(n);-1!=r&&i.isVisible(t)&&(i.insert(r,t),!t.isLeaf()&&t.isExpanded()&&(t.isLoaded()?i.onNodeExpand(t,t.childNodes,!0):(t.set("expanded",!1),t.expand())))},onNodeRemove:function(e,t){var n=this;-1!=n.indexOf(t)&&(!t.isLeaf()&&t.isExpanded()&&(t.parentNode=t.removeContext.parentNode,t.nextSibling=t.removeContext.nextSibling,n.onNodeCollapse(t,t.childNodes,!0),t.parentNode=t.nextSibling=null),n.remove(t))},isVisible:function(e){for(var t=e.parentNode;t;){if(t===this.node&&t.data.expanded)return!0;if(!t.data.expanded)return!1;t=t.parentNode}return!1}}),Ext.define("Ext.data.Request",{action:void 0,params:void 0,method:"GET",url:void 0,constructor:function(e){Ext.apply(this,e)}}),Ext.define("Ext.data.SequentialIdGenerator",{extend:Ext.data.IdGenerator,alias:"idgen.sequential",constructor:function(){var e=this;e.callParent(arguments),e.parts=[e.prefix,""]},prefix:"",seed:1,generate:function(){var e=this,t=e.parts;return t[1]=e.seed++,t.join("")}}),Ext.define("Ext.data.Tree",{alias:"data.tree",mixins:{observable:Ext.util.Observable},root:null,constructor:function(e){var t=this;t.mixins.observable.constructor.call(t),e&&t.setRootNode(e),t.on({scope:t,idchanged:t.onNodeIdChanged,insert:t.onNodeInsert,append:t.onNodeAppend,remove:t.onNodeRemove})},getRootNode:function(){return this.root},setRootNode:function(e){var t=this;return t.root=e,e.rootOf?e.rootOf.removeRootNode():e.parentNode&&e.parentNode.removeChild(e),e.rootOf=t,e.fireEventArgs("beforeappend",[null,e])!==!1&&(e.set("root",!0),e.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null}),t.nodeHash={},e.fireEvent("append",null,e),e.fireEvent("rootchange",e)),e},removeRootNode:function(){var e=this,t=e.root;return t.set("root",!1),t.fireEvent("remove",null,t,!1),t.fireEvent("rootchange",null),t.rootOf=e.root=null,t},flatten:function(){return Ext.Object.getValues(this.nodeHash)},onNodeInsert:function(e,t){this.registerNode(t,!0)},onNodeAppend:function(e,t){this.registerNode(t,!0)},onNodeRemove:function(e,t){this.unregisterNode(t,!0)},onNodeIdChanged:function(e,t,n,i){var r=this.nodeHash;r[e.internalId]=e,delete r[i]},getNodeById:function(e){return this.nodeHash[e]},registerNode:function(e,t){var n,i,r,o=this;if(o.nodeHash[e.internalId]=e,t===!0)for(n=e.childNodes,i=n.length,r=0;i>r;r++)o.registerNode(n[r],!0)},unregisterNode:function(e,t){var n,i,r,o=this;if(delete o.nodeHash[e.internalId],t===!0)for(n=e.childNodes,i=n.length,r=0;i>r;r++)o.unregisterNode(n[r],!0)},sort:function(e,t){this.getRootNode().sort(e,t)},filter:function(e,t){this.getRootNode().filter(e,t)}}),Ext.define("Ext.data.TreeModel",{extend:Ext.data.Model},function(){Ext.data.NodeInterface.decorate(this)}),Ext.define("Ext.data.TreeStore",{extend:Ext.data.AbstractStore,alias:"store.tree",clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",defaultRootProperty:"children",rootProperty:"children",fillCount:0,folderSort:!1,constructor:function(e){var t,n,i,r=this;e=Ext.apply({},e),n=e.fields||r.fields,n||(e.fields=[{name:"text",type:"string"}],i=e.defaultRootProperty||r.defaultRootProperty,i!==r.defaultRootProperty&&e.fields.push({name:i,type:"auto",defaultValue:null,persist:!1})),r.callParent([e]),r.tree=new Ext.data.Tree,r.tree.treeStore=r,r.tree.on({scope:r,remove:r.onNodeRemove,beforeexpand:r.onBeforeNodeExpand,append:r.onNodeAdded,insert:r.onNodeAdded,sort:r.onNodeSort}),r.onBeforeSort(),t=r.root,t&&(delete r.root,r.setRootNode(t)),Ext.isDefined(r.nodeParameter)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead."),r.nodeParam=r.nodeParameter,delete r.nodeParameter)},setProxy:function(e){var t,n;return e instanceof Ext.data.proxy.Proxy?n=Ext.isEmpty(e.getReader().root):Ext.isString(e)?n=!0:(t=e.reader,n=!(t&&!Ext.isEmpty(t.root))),e=this.callParent(arguments),e.idParam=this.nodeParam,n&&(t=e.getReader(),t.root=this.defaultRootProperty,t.buildExtractors(!0)),e},onBeforeSort:function(){this.folderSort&&this.sort({property:"leaf",direction:"ASC"},"prepend",!1)},onBeforeNodeExpand:function(e,t,n,i){var r,o,a,s,l=this;e.isLoaded()?(s=[e.childNodes],i&&s.push.apply(s,i),Ext.callback(t,n||e,s)):(o=a=(e.raw||e[e.persistenceProperty])[(r=l.getProxy().getReader()).root])?(l.fillNode(e,r.extractData(o)),delete a[r.root],s=[e.childNodes],i&&s.push.apply(s,i),Ext.callback(t,n||e,s)):e.isLoading()?l.on("load",function(){s=[e.childNodes],i&&s.push.apply(s,i),Ext.callback(t,n||e,s)},l,{single:!0}):l.read({node:e,callback:function(){delete l.lastOptions.callback,s=[e.childNodes],i&&s.push.apply(s,i),Ext.callback(t,n||e,s)}})},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated)},onNodeRemove:function(e,t,n){var i=this;t.unjoin(i),t.phantom||n||Ext.Array.include(i.removed,t),!i.autoSync||i.autoSyncSuspended||n||i.sync()},onNodeAdded:function(e,t){var n,i=this,r=i.getProxy(),o=r.getReader(),a=t.raw||t[t.persistenceProperty];Ext.Array.remove(i.removed,t),t.join(i),t.isLeaf()||i.lazyFill||(n=o.getRoot(a),n&&(i.fillNode(t,o.extractData(n)),delete a[o.root])),i.autoSync&&!i.autoSyncSuspended&&(t.phantom||t.dirty)&&i.sync()},onNodeSort:function(){this.autoSync&&!this.autoSyncSuspended&&this.sync()},setRootNode:function(e,t){var n=this,i=n.model,r=i.prototype.idProperty;return e=e||{},e.isModel?e.isModel&&!e.isNode&&Ext.data.NodeInterface.decorate(i):(e=Ext.apply({},e),Ext.applyIf(e,{id:n.defaultRootId,text:n.defaultRootText,allowDrag:!1}),void 0===e[r]&&(e[r]=n.defaultRootId),Ext.data.NodeInterface.decorate(i),e=Ext.ModelManager.create(e,i)),n.getProxy().getReader().buildExtractors(!0),n.tree.setRootNode(e),t===!0||e.isLoaded()||n.autoLoad!==!0&&!e.isExpanded()||(e.data.expanded=!1,e.expand()),e},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(e){return this.tree.getNodeById(e)},getById:function(e){return this.getNodeById(e)},load:function(e){e=e||{},e.params=e.params||{};var t=this,n=e.node||t.tree.getRootNode();return n||(n=t.setRootNode({expanded:!0},!0)),e.id=n.getId(),t.clearOnLoad&&(t.clearRemovedOnLoad&&t.clearRemoved(n),t.tree.un("remove",t.onNodeRemove,t),n.removeAll(!1),t.tree.on("remove",t.onNodeRemove,t)),Ext.applyIf(e,{node:n}),t.callParent([e]),t.loading&&n&&n.set("loading",!0),t},clearRemoved:function(e){var t,n,i,r=this,o=r.removed,a=e.getId(),s=o.length,l=s,d={},c=[],u={};if(e===r.getRootNode())return r.removed=[],void 0;for(;l--;)t=o[l],u[t.getId()]=t;for(l=s;l--;){for(t=o[l],n=t;n&&n.getId()!==a;)i=n.get("parentId"),n=n.parentNode||r.getNodeById(i)||u[i];n&&(d[t.getId()]=t)}for(l=0;s>l;l++)t=o[l],d[t.getId()]||c.push(t);r.removed=c},fillNode:function(e,t){var n,i,r,o,a,s=this,l=t?t.length:0,d=s.sorters,c=!1,u=l&&s.sortOnLoad&&!s.remoteSort&&d&&d.items&&d.items.length;for(n=1;l>n&&(r=t[n],o=t[n-1],!(c=r[r.persistenceProperty].index!=o[o.persistenceProperty].index));n++);return u?(c&&s.sorters.insert(0,s.indexSorter),i=new Ext.util.MixedCollection,i.addAll(t),i.sort(s.sorters.items),t=i.items,s.sorters.remove(s.indexSorter)):c&&Ext.Array.sort(t,s.sortByIndex),e.set("loaded",!0),a=0===s.fillCount,a&&s.fireEvent("beforefill",s,e,t),++s.fillCount,t.length&&e.appendChild(t,void 0,!0),a&&s.fireEvent("fillcomplete",s,e,t),--s.fillCount,t},sortByIndex:function(e,t){return e[e.persistenceProperty].index-t[t.persistenceProperty].index},onIdChanged:function(e,t,n,i){this.tree.onNodeIdChanged(e,t,n,i),this.callParent(arguments)},onProxyLoad:function(e){var t=this,n=e.wasSuccessful(),i=e.getRecords(),r=e.node;t.loading=!1,r.set("loading",!1),n&&(t.clearOnLoad||(i=t.cleanRecords(r,i)),i=t.fillNode(r,i)),t.fireEvent("read",t,e.node,i,n),t.fireEvent("load",t,e.node,i,n),Ext.callback(e.callback,e.scope||t,[i,e,n])},cleanRecords:function(e,t){for(var n,i={},r=e.childNodes,o=0,a=r.length,s=[];a>o;++o)i[r[o].getId()]=!0;for(o=0,a=t.length;a>o;++o)n=t[o],i[n.getId()]||s.push(n);return s},removeAll:function(){var e=this.getRootNode();e&&e.destroy(!0),this.fireEvent("clear",this)},doSort:function(e){var t=this;t.remoteSort?t.load():(t.tree.sort(e,!0),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),t.fireEvent("sort",t,t.sorters.getRange())}},function(){var e=this.prototype;e.indexSorter=new Ext.util.Sorter({sorterFn:e.sortByIndex})}),Ext.define("Ext.data.UuidGenerator",function(){function e(e,t){var n=e.toString(16);return n.length>t?n=n.substring(n.length-t):n.length<t&&(n=Ext.String.leftPad(n,t,"0")),n}function t(e,t){var n=Math.random()*(t-e+1);return Math.floor(n)+e}function n(e){if("number"==typeof e){var t=Math.floor(e/a);return{lo:Math.floor(e-t*a),hi:t}}return e}var i=Math.pow(2,14),r=Math.pow(2,16),o=Math.pow(2,28),a=Math.pow(2,32);return{extend:Ext.data.IdGenerator,alias:"idgen.uuid",id:"uuid",version:4,constructor:function(){var e=this;e.callParent(arguments),e.parts=[],e.init()},generate:function(){var t=this,n=t.parts,i=t.timestamp;return n[0]=e(i.lo,8),n[1]=e(65535&i.hi,4),n[2]=e(4095&i.hi>>>16|t.version<<12,4),n[3]=e(128|63&t.clockSeq>>>8,2)+e(255&t.clockSeq,2),n[4]=e(t.salt.hi,4)+e(t.salt.lo,8),4==t.version?t.init():(++i.lo,i.lo>=a&&(i.lo=0,++i.hi)),n.join("-").toLowerCase()},getRecId:function(e){return e.getId()},init:function(){var e,s,l=this;4==l.version?(l.clockSeq=t(0,i-1),e=l.salt||(l.salt={}),s=l.timestamp||(l.timestamp={}),e.lo=t(0,a-1),e.hi=t(0,r-1),s.lo=t(0,a-1),s.hi=t(0,o-1)):(l.salt=n(l.salt),l.timestamp=n(l.timestamp),l.salt.hi|=256)},reconfigure:function(e){Ext.apply(this,e),this.init()}}}()),Ext.define("Ext.data.reader.Xml",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",createAccessor:function(e){var t=this;return Ext.isEmpty(e)?Ext.emptyFn:Ext.isFunction(e)?e:function(n){return t.getNodeValue(Ext.DomQuery.selectNode(e,n))}},getNodeValue:function(e){return e&&("function"==typeof e.normalize&&e.normalize(),e=e.firstChild)?e.nodeValue:void 0},getResponseData:function(e){var t,n,i=e.responseXML;return i?this.readRecords(i):(n="XML data not found in the response",t=new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:n}),this.fireEvent("exception",this,e,t),Ext.Logger.warn(n),t)},getData:function(e){return e.documentElement||e},getRoot:function(e){var t=e.nodeName,n=this.root;return!n||t&&t==n?e:Ext.DomQuery.isXml(e)?Ext.DomQuery.selectNode(n,e):void 0},extractData:function(e){var t=this.record;return e=t!=e.nodeName?Ext.DomQuery.select(t,e):[e],this.callParent([e])},getAssociatedDataRoot:function(e,t){return Ext.DomQuery.select(t,e)[0]},readRecords:function(e){return Ext.isArray(e)&&(e=e[0]),this.xmlData=e,this.callParent([e])},createFieldAccessExpression:function(e,t,n){var i,r,o=this.namespace;return i=e.mapping||(o?o+"|":"")+e.name,r="function"==typeof i?t+".mapping("+n+", this)":'me.getNodeValue(Ext.DomQuery.selectNode("'+i+'", '+n+"))"}}),Ext.define("Ext.data.writer.Xml",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record",writeRecords:function(e,t){var n,i,r=this,o=[],a=0,s=t.length,l=r.documentRoot,d=r.record,c=1!==t.length;for(o.push(r.header||""),!l&&c&&(l=r.defaultDocumentRoot),l&&o.push("<",l,">");s>a;++a){n=t[a],o.push("<",d,">");for(i in n)n.hasOwnProperty(i)&&o.push("<",i,">",n[i],"</",i,">");o.push("</",d,">")}return l&&o.push("</",l,">"),e.xmlData=o.join(""),e}}),Ext.define("Ext.data.XmlStore",{extend:Ext.data.Store,alias:"store.xml",constructor:function(e){e=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},e),this.callParent([e])}}),Ext.define("Ext.data.association.BelongsTo",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.BelongsToAssociation",alias:"association.belongsto",constructor:function(){this.callParent(arguments);var e=this,t=e.ownerModel.prototype,n=e.associatedName,i=e.getterName||"get"+n,r=e.setterName||"set"+n;Ext.applyIf(e,{name:n,foreignKey:n.toLowerCase()+"_id",instanceName:n+"BelongsToInstance",associationKey:n.toLowerCase()}),t[i]=e.createGetter(),t[r]=e.createSetter()},createSetter:function(){var e=this,t=e.foreignKey,n=e.instanceName;return function(e,i,r){var o=e&&e.isModel,a=o?e.getId():e;return o?this[n]=e:this[n]instanceof Ext.data.Model&&!this.isEqual(this.get(t),a)&&delete this[n],this.set(t,a),Ext.isFunction(i)&&(i={callback:i,scope:r||this}),Ext.isObject(i)?this.save(i):void 0}},createGetter:function(){var e=this,t=e.associatedName,n=e.associatedModel,i=e.foreignKey,r=e.primaryKey,o=e.instanceName;return function(e,a){e=e||{};var s,l,d,c=this,u=c.get(i);return e.reload===!0||void 0===c[o]?(l=Ext.ModelManager.create({},t),l.set(r,u),"function"==typeof e&&(e={callback:e,scope:a||c}),s=e.success,e.success=function(e){c[o]=e,s&&s.apply(this,arguments)},n.load(u,e),c[o]=l,l):(l=c[o],d=[l],a=a||e.scope||c,Ext.callback(e,a,d),Ext.callback(e.success,a,d),Ext.callback(e.failure,a,d),Ext.callback(e.callback,a,d),l)}},read:function(e,t,n){e[this.instanceName]=t.read([n]).records[0]}}),Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^person$/,"people"],[/^man$/,"men"],[/^(child)$/,"$1ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/people$/i,"person"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(e,t){this.singulars.unshift([e,t])},plural:function(e,t){this.plurals.unshift([e,t])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(e){return-1!=Ext.Array.indexOf(this.uncountable,e)},pluralize:function(e){if(this.isTransnumeral(e))return e;var t,n,i,r=this.plurals,o=r.length;for(i=0;o>i;i++)if(t=r[i],n=t[0],n==e||n.test&&n.test(e))return e.replace(n,t[1]);return e},singularize:function(e){if(this.isTransnumeral(e))return e;var t,n,i,r=this.singulars,o=r.length;for(i=0;o>i;i++)if(t=r[i],n=t[0],n==e||n.test&&n.test(e))return e.replace(n,t[1]);return e},classify:function(e){return Ext.String.capitalize(this.singularize(e))},ordinalize:function(e){var t=parseInt(e,10),n=t%10,i=t%100;if(i>=11&&13>=i)return e+"th";switch(n){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}},function(){var e,t={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"};
for(e in t)this.plural(e,t[e]),this.singular(t[e],e)}),Ext.define("Ext.data.association.HasMany",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.HasManyAssociation",alias:"association.hasmany",constructor:function(){var e,t,n=this;n.callParent(arguments),n.name=n.name||Ext.util.Inflector.pluralize(n.associatedName.toLowerCase()),e=n.ownerModel.prototype,t=n.name,Ext.applyIf(n,{storeName:t+"Store",foreignKey:n.ownerName.toLowerCase()+"_id"}),e[t]=n.createStore()},createStore:function(){var e=this,t=e.associatedModel,n=e.storeName,i=e.foreignKey,r=e.primaryKey,o=e.filterProperty,a=e.autoLoad,s=e.storeConfig||{};return function(){var e,l,d=this,c={};return void 0===d[n]&&(l=o?{property:o,value:d.get(o),exactMatch:!0}:{property:i,value:d.get(r),exactMatch:!0},c[i]=d.get(r),e=Ext.apply({},s,{model:t,filters:[l],remoteFilter:!1,modelDefaults:c,disableMetaChangeEvent:!0}),d[n]=Ext.data.AbstractStore.create(e),a&&d[n].load()),d[n]}},read:function(e,t,n){var i,r,o,a,s=e[this.name]();if(s.add(t.read(n).records),i=this.associatedModel.prototype.associations.findBy(function(t){return"belongsTo"===t.type&&t.associatedName===e.$className}))for(r=s.data.items,o=r.length,a=0;o>a;a++)r[a][i.instanceName]=e}}),Ext.define("Ext.data.association.HasOne",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.HasOneAssociation",alias:"association.hasone",constructor:function(){this.callParent(arguments);var e=this,t=e.ownerModel.prototype,n=e.associatedName,i=e.getterName||"get"+n,r=e.setterName||"set"+n;Ext.applyIf(e,{name:n,foreignKey:n.toLowerCase()+"_id",instanceName:n+"HasOneInstance",associationKey:n.toLowerCase()}),t[i]=e.createGetter(),t[r]=e.createSetter()},createSetter:function(){var e=this,t=e.foreignKey,n=e.instanceName;return function(e,i,r){var o=e&&e.isModel,a=o?e.getId():e;return o?this[n]=e:this[n]instanceof Ext.data.Model&&!this.isEqual(this.get(t),a)&&delete this[n],this.set(t,a),Ext.isFunction(i)&&(i={callback:i,scope:r||this}),Ext.isObject(i)?this.save(i):void 0}},createGetter:function(){var e=this,t=(e.ownerModel,e.associatedName),n=e.associatedModel,i=e.foreignKey,r=e.primaryKey,o=e.instanceName;return function(e,a){e=e||{};var s,l,d,c=this,u=c.get(i);return e.reload===!0||void 0===c[o]?(l=Ext.ModelManager.create({},t),l.set(r,u),"function"==typeof e&&(e={callback:e,scope:a||c}),s=e.success,e.success=function(e){c[o]=e,s&&s.apply(this,arguments)},n.load(u,e),c[o]=l,l):(l=c[o],d=[l],a=a||e.scope||c,Ext.callback(e,a,d),Ext.callback(e.success,a,d),Ext.callback(e.failure,a,d),Ext.callback(e.callback,a,d),l)}},read:function(e,t,n){var i=this.associatedModel.prototype.associations.findBy(function(t){return"belongsTo"===t.type&&t.associatedName===e.$className}),r=t.read([n]).records[0];e[this.instanceName]=r,i&&(r[i.instanceName]=e)}}),Ext.define("Ext.data.proxy.WebStorage",{extend:Ext.data.proxy.Client,alternateClassName:"Ext.data.WebStorageProxy",id:void 0,constructor:function(){this.callParent(arguments),this.cache={},this.id=this.id||(this.store?this.store.storeId:void 0),this.initialize()},create:function(e,t,n){var i,r,o,a=this,s=e.records,l=s.length,d=a.getIds();for(e.setStarted(),void 0===a.isHierarchical&&(a.isHierarchical=!!s[0].isNode,a.isHierarchical&&a.getStorageObject().setItem(a.getTreeKey(),!0)),o=0;l>o;o++)r=s[o],r.phantom?(r.phantom=!1,i=a.getNextId()):i=r.getId(),a.setRecord(r,i),r.commit(),d.push(i);a.setIds(d),e.setCompleted(),e.setSuccessful(),"function"==typeof t&&t.call(n||a,e)},read:function(e,t,n){var i,r,o,a,s,l=this,d=[],c=0,u=!0,h=l.model;if(e.setStarted(),l.isHierarchical)d=l.getTreeData();else if(i=l.getIds(),r=i.length,s=e.id)a=l.getRecord(s),null!==a&&(o=new h(a,s,a)),o?d.push(o):u=!1;else for(;r>c;c++)s=i[c],a=l.getRecord(s),d.push(new h(a,s,a));u&&e.setSuccessful(),e.setCompleted(),e.resultSet=Ext.create("Ext.data.ResultSet",{records:d,total:d.length,loaded:!0}),"function"==typeof t&&t.call(n||l,e)},update:function(e,t,n){var i,r,o,a=e.records,s=a.length,l=this.getIds();for(e.setStarted(),o=0;s>o;o++)i=a[o],this.setRecord(i),i.commit(),r=i.getId(),void 0!==r&&-1==Ext.Array.indexOf(l,r)&&l.push(r);this.setIds(l),e.setCompleted(),e.setSuccessful(),"function"==typeof t&&t.call(n||this,e)},destroy:function(e,t,n){var i,r=this,o=e.records,a=r.getIds(),s=a.length,l=[],d={},c=o.length;for(e.setStarted();c--;)Ext.apply(d,r.removeRecord(o[c]));for(c=0;s>c;c++)i=a[c],d[i]||l.push(i);r.setIds(l),e.setCompleted(),e.setSuccessful(),"function"==typeof t&&t.call(n||r,e)},getRecord:function(e){var t=this,n=t.cache,i=n[e]?n[e]:Ext.decode(t.getStorageObject().getItem(t.getRecordKey(e)));return i?(n[e]=i,i[t.model.prototype.idProperty]=e,i):null},setRecord:function(e,t){t?e.setId(t):t=e.getId();for(var n,i,r,o,a=this,s=e.data,l={},d=a.model,c=d.prototype.fields.items,u=c.length,h=0;u>h;h++)n=c[h],i=n.name,n.persist&&(l[i]=s[i]);delete l[a.model.prototype.idProperty],e.isNode&&1===e.get("depth")&&delete l.parentId,r=a.getStorageObject(),o=a.getRecordKey(t),a.cache[t]=l,r.removeItem(o),r.setItem(o,Ext.encode(l))},removeRecord:function(e){var t,n,i=this,r=e.getId(),o={};if(o[r]=e,i.getStorageObject().removeItem(i.getRecordKey(r)),delete i.cache[r],e.childNodes)for(n=e.childNodes,t=n.length;t--;)Ext.apply(o,i.removeRecord(n[t]));return o},getRecordKey:function(e){return e.isModel&&(e=e.getId()),Ext.String.format("{0}-{1}",this.id,e)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.id)},getTreeKey:function(){return Ext.String.format("{0}-tree",this.id)},getIds:function(){var e,t=this,n=(t.getStorageObject().getItem(t.id)||"").split(","),i=t.model,r=n.length,o="string"===i.prototype.fields.get(i.prototype.idProperty).type.type;if(1==r&&""===n[0])n=[];else for(e=0;r>e;e++)n[e]=o?n[e]:+n[e];return n},setIds:function(e){var t=this.getStorageObject(),n=e.join(",");t.removeItem(this.id),Ext.isEmpty(n)||t.setItem(this.id,n)},getNextId:function(){var e,t=this,n=t.getStorageObject(),i=t.getRecordCounterKey(),r=t.model,o="string"===r.prototype.fields.get(r.prototype.idProperty).type.type;return e=t.idGenerator.generate(),n.setItem(i,e),o||(e=+e),e},getTreeData:function(){for(var e,t,n,i,r,o,a=this,s=a.getIds(),l=s.length,d=[],c={},u=[],h=0,f=a.model,g=f.prototype.idProperty;l>h;h++)o=s[h],t=a.getRecord(o),d.push(t),c[o]=t,t.parentId||u.push(t);for(e=u.length,Ext.Array.sort(d,a.sortByParentId),h=e;l>h;h++)t=d[h],i=t.parentId,n&&n[g]===i||(n=c[i],n.children=r=[]),r.push(t);for(h=l;h--;)t=d[h],t.children||t.leaf||(t.loaded=!0);for(h=e;h--;)t=u[h],u[h]=new f(t,t[g],t);return u},sortByParentId:function(e,t){return(e.parentId||0)-(t.parentId||0)},initialize:function(){var e=this,t=e.getStorageObject(),n=+t.getItem(e.getRecordCounterKey());t.setItem(e.id,t.getItem(e.id)||""),t.getItem(e.getTreeKey())&&(e.isHierarchical=!0),e.idGenerator=new Ext.data.SequentialIdGenerator({seed:n?n+1:1})},clear:function(){var e,t=this,n=t.getStorageObject(),i=t.getIds(),r=i.length;for(e=0;r>e;e++)n.removeItem(t.getRecordKey(i[e]));n.removeItem(t.getRecordCounterKey()),n.removeItem(t.getTreeKey()),n.removeItem(t.id),t.cache={}},getStorageObject:function(){}}),Ext.define("Ext.data.proxy.LocalStorage",{extend:Ext.data.proxy.WebStorage,alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}}),Ext.define("Ext.data.proxy.Rest",{extend:Ext.data.proxy.Ajax,alternateClassName:"Ext.data.RestProxy",alias:"proxy.rest",actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},appendId:!0,batchActions:!1,buildUrl:function(e){var t=this,n=e.operation,i=n.records||[],r=i[0],o=t.format,a=t.getUrl(e),s=r?r.getId():n.id;return t.appendId&&t.isValidId(s)&&(a.match(/\/$/)||(a+="/"),a+=s),o&&(a.match(/\.$/)||(a+="."),a+=o),e.url=a,t.callParent(arguments)},isValidId:function(e){return e||0===e}}),Ext.define("Ext.data.proxy.SessionStorage",{extend:Ext.data.proxy.WebStorage,alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}}),Ext.define("Ext.dd.DDTarget",{extend:Ext.dd.DragDrop,constructor:function(e,t,n){e&&this.initTarget(e,t,n)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}}),Ext.define("Ext.dd.DragTracker",{mixins:{observable:Ext.util.Observable},active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(e){var t=this;Ext.apply(t,e),t.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag"),t.dragRegion=new Ext.util.Region(0,0,0,0),t.el&&t.initEl(t.el),t.mixins.observable.constructor.call(t),t.disabled&&t.disable()},initEl:function(e){var t=this;t.el=Ext.get(e),t.handle=Ext.get(t.delegate),t.delegate=t.handle?void 0:t.delegate,t.handle||(t.handle=t.el),t.handleListeners={scope:t,delegate:t.delegate,mousedown:t.onMouseDown},(t.trackOver||t.overCls)&&Ext.apply(t.handleListeners,{mouseover:t.onMouseOver,mouseout:t.onMouseOut}),t.mon(t.handle,t.handleListeners)},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){var e=this;e.active&&e.endDrag({}),e.clearListeners(),e.mun(e.handle,e.handleListeners),e.el=e.handle=null},onMouseOver:function(e,t){var n=this;n.disabled||(Ext.EventManager.contains(e)||n.delegate)&&(n.mouseIsOut=!1,n.overCls&&n.el.addCls(n.overCls),n.fireEvent("mouseover",n,e,n.delegate?e.getTarget(n.delegate,t):n.handle))},onMouseOut:function(e){var t=this;t.mouseIsDown?t.mouseIsOut=!0:(t.overCls&&t.el.removeCls(t.overCls),t.fireEvent("mouseout",t,e))},onMouseDown:function(e,t){var n,i=this;i.disabled||e.dragTracked||(i.dragTarget=i.delegate?t:i.handle.dom,i.startXY=i.lastXY=e.getXY(),i.startRegion=Ext.fly(i.dragTarget).getRegion(),i.fireEvent("mousedown",i,e)!==!1&&i.fireEvent("beforedragstart",i,e)!==!1&&i.onBeforeStart(e)!==!1&&(i.mouseIsDown=!0,e.dragTracked=!0,n=i.el.dom,Ext.isIE&&n.setCapture&&n.setCapture(),i.preventDefault!==!1&&e.preventDefault(),Ext.getDoc().on({scope:i,mouseup:i.onMouseUp,mousemove:i.onMouseMove,selectstart:i.stopSelect}),i.autoStart&&(i.timer=Ext.defer(i.triggerStart,i.autoStart===!0?1e3:i.autoStart,i,[e]))))},onMouseMove:function(e){var t=this,n=e.getXY(),i=t.startXY;if(e.preventDefault(),t.lastXY=n,!t.active){if(!(Math.max(Math.abs(i[0]-n[0]),Math.abs(i[1]-n[1]))>t.tolerance))return;t.triggerStart(e)}t.fireEvent("mousemove",t,e)===!1?t.onMouseUp(e):(t.onDrag(e),t.fireEvent("drag",t,e))},onMouseUp:function(e){var t=this;t.mouseIsDown=!1,t.mouseIsOut&&(t.mouseIsOut=!1,t.onMouseOut(e)),e.preventDefault(),Ext.isIE&&document.releaseCapture&&document.releaseCapture(),t.fireEvent("mouseup",t,e),t.endDrag(e)},endDrag:function(e){var t=this,n=t.active;Ext.getDoc().un({mousemove:t.onMouseMove,mouseup:t.onMouseUp,selectstart:t.stopSelect,scope:t}),t.clearStart(),t.active=!1,n&&(t.onEnd(e),t.fireEvent("dragend",t,e)),t._constrainRegion=Ext.EventObject.dragTracked=null},triggerStart:function(e){var t=this;t.clearStart(),t.active=!0,t.onStart(e),t.fireEvent("dragstart",t,e)},clearStart:function(){var e=this.timer;e&&(clearTimeout(e),this.timer=null)},stopSelect:function(e){return e.stopEvent(),!1},onBeforeStart:function(){},onStart:function(){},onDrag:function(){},onEnd:function(){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var e=this;if(e.constrainTo){if(e.constrainTo instanceof Ext.util.Region)return e.constrainTo;e._constrainRegion||(e._constrainRegion=Ext.fly(e.constrainTo).getViewRegion())}else e._constrainRegion||(e._constrainRegion=e.getDragCt().getViewRegion());return e._constrainRegion},getXY:function(e){return e?this.constrainModes[e](this,this.lastXY):this.lastXY},getOffset:function(e){var t=this.getXY(e),n=this.startXY;return[t[0]-n[0],t[1]-n[1]]},constrainModes:{point:function(e,t){var n=e.dragRegion,i=e.getConstrainRegion();return i?(n.x=n.left=n[0]=n.right=t[0],n.y=n.top=n[1]=n.bottom=t[1],n.constrainTo(i),[n.left,n.top]):t},dragTarget:function(e,t){var n,i=e.startXY,r=e.startRegion.copy(),o=e.getConstrainRegion();return o?(r.translateBy(t[0]-i[0],t[1]-i[1]),r.right>o.right&&(t[0]+=n=o.right-r.right,r.left+=n),r.left<o.left&&(t[0]+=o.left-r.left),r.bottom>o.bottom&&(t[1]+=n=o.bottom-r.bottom,r.top+=n),r.top<o.top&&(t[1]+=o.top-r.top),t):t}}}),Ext.define("Ext.dd.DragZone",{extend:Ext.dd.DragSource,constructor:function(e,t){var n=this,i=n.containerScroll;n.callParent([e,t]),i&&(e=n.scrollEl||e,e=Ext.get(e),Ext.isObject(i)&&(e.ddScrollConfig=i),Ext.dd.ScrollManager.register(e))},getDragData:function(e){return Ext.dd.Registry.getHandleFromEvent(e)},onInitDrag:function(e,t){return this.proxy.update(this.dragData.ddel.cloneNode(!0)),this.onStartDrag(e,t),!0},getRepairXY:function(){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}}),Ext.define("Ext.dd.ScrollManager",{singleton:!0,constructor:function(){var e=Ext.dd.DragDropManager;e.fireEvents=Ext.Function.createSequence(e.fireEvents,this.onFire,this),e.stopDrag=Ext.Function.createSequence(e.stopDrag,this.onStop,this),this.doScroll=Ext.Function.bind(this.doScroll,this),this.ddmInstance=e,this.els={},this.dragEl=null,this.proc={}},onStop:function(){var e=Ext.dd.ScrollManager;e.dragEl=null,e.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){if(this.ddmInstance.dragCurrent){var e=this.proc,t=e.el,n=e.el.ddScrollConfig,i=n?n.increment:this.increment;this.animate?t.scroll(e.dir,i,!0,this.animDuration,this.triggerRefresh):t.scroll(e.dir,i)&&this.triggerRefresh()}},clearProc:function(){var e=this.proc;e.id&&clearInterval(e.id),e.id=0,e.el=null,e.dir=""},startProc:function(e,t){this.clearProc(),this.proc.el=e,this.proc.dir=t;var n=e.ddScrollConfig?e.ddScrollConfig.ddGroup:void 0,i=e.ddScrollConfig&&e.ddScrollConfig.frequency?e.ddScrollConfig.frequency:this.frequency;(void 0===n||this.ddmInstance.dragCurrent.ddGroup==n)&&(this.proc.id=setInterval(this.doScroll,i))},onFire:function(e,t){if(!t&&this.ddmInstance.dragCurrent){this.dragEl&&this.dragEl==this.ddmInstance.dragCurrent||(this.dragEl=this.ddmInstance.dragCurrent,this.refreshCache());var n,i,r,o,a=(e.getXY(),e.getPoint()),s=this.proc,l=this.els;for(n in l)if(i=l[n],r=i._region,o=i.ddScrollConfig?i.ddScrollConfig:this,r&&r.contains(a)&&i.isScrollable()){if(r.bottom-a.y<=o.vthresh)return s.el!=i&&this.startProc(i,"down"),void 0;if(r.right-a.x<=o.hthresh)return s.el!=i&&this.startProc(i,"left"),void 0;if(a.y-r.top<=o.vthresh)return s.el!=i&&this.startProc(i,"up"),void 0;if(a.x-r.left<=o.hthresh)return s.el!=i&&this.startProc(i,"right"),void 0}this.clearProc()}},register:function(e){if(Ext.isArray(e))for(var t=0,n=e.length;n>t;t++)this.register(e[t]);else e=Ext.get(e),this.els[e.id]=e},unregister:function(e){if(Ext.isArray(e))for(var t=0,n=e.length;n>t;t++)this.unregister(e[t]);else e=Ext.get(e),delete this.els[e.id]},vthresh:25,hthresh:25,increment:100,frequency:500,animate:!0,animDuration:.4,ddGroup:void 0,refreshCache:function(){var e,t=this.els;for(e in t)"object"==typeof t[e]&&(t[e]._region=t[e].getRegion())}}),Ext.define("Ext.dd.DropTarget",{extend:Ext.dd.DDTarget,constructor:function(e,t){this.el=Ext.get(e),Ext.apply(this,t),this.containerScroll&&Ext.dd.ScrollManager.register(this.el),this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:!0}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(){return this.overClass&&this.el.addCls(this.overClass),this.dropAllowed},notifyOver:function(){return this.dropAllowed},notifyOut:function(){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(){return!1},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}}),Ext.define("Ext.dd.Registry",{singleton:!0,constructor:function(){this.elements={},this.handles={},this.autoIdSeed=0},getId:function(e,t){if("string"==typeof e)return e;var n=e.id;return n||t===!1||(n="extdd-"+ ++this.autoIdSeed,e.id=n),n},register:function(e,t){if(t=t||{},"string"==typeof e&&(e=document.getElementById(e)),t.ddel=e,this.elements[this.getId(e)]=t,t.isHandle!==!1&&(this.handles[t.ddel.id]=t),t.handles){var n,i,r=t.handles;for(n=0,i=r.length;i>n;n++)this.handles[this.getId(r[n])]=t}},unregister:function(e){var t,n,i,r=this.getId(e,!1),o=this.elements[r];if(o&&(delete this.elements[r],o.handles))for(t=o.handles,n=0,i=t.length;i>n;n++)delete this.handles[this.getId(t[n],!1)]},getHandle:function(e){return"string"!=typeof e&&(e=e.id),this.handles[e]},getHandleFromEvent:function(e){var t=e.getTarget();return t?this.handles[t.id]:null},getTarget:function(e){return"string"!=typeof e&&(e=e.id),this.elements[e]},getTargetFromEvent:function(e){var t=e.getTarget();return t?this.elements[t.id]||this.handles[t.id]:null}}),Ext.define("Ext.dd.DropZone",{extend:Ext.dd.DropTarget,getTargetFromEvent:function(e){return Ext.dd.Registry.getTargetFromEvent(e)},onNodeEnter:function(){},onNodeOver:function(){return this.dropAllowed},onNodeOut:function(){},onNodeDrop:function(){return!1},onContainerOver:function(){return this.dropNotAllowed},onContainerDrop:function(){return!1},notifyEnter:function(){return this.dropNotAllowed},notifyOver:function(e,t,n){var i=this.getTargetFromEvent(t);return i?(this.lastOverNode!=i&&(this.lastOverNode&&this.onNodeOut(this.lastOverNode,e,t,n),this.onNodeEnter(i,e,t,n),this.lastOverNode=i),this.onNodeOver(i,e,t,n)):(this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,n),this.lastOverNode=null),this.onContainerOver(e,t,n))},notifyOut:function(e,t,n){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,n),this.lastOverNode=null)},notifyDrop:function(e,t,n){var i=this,r=i.getTargetFromEvent(t),o=r?i.onNodeDrop(r,e,t,n):i.onContainerDrop(e,t,n);return i.lastOverNode&&(i.onNodeOut(i.lastOverNode,e,t,n),i.lastOverNode=null),o},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}}),Ext.define("Ext.direct.Event",{alias:"direct.event",status:!0,constructor:function(e){Ext.apply(this,e)},getName:function(){return this.name},getData:function(){return this.data}}),Ext.define("Ext.direct.RemotingEvent",{extend:Ext.direct.Event,alias:"direct.rpc",getTransaction:function(){var e=this;return e.transaction||Ext.direct.Manager.getTransaction(e.tid)}}),Ext.define("Ext.direct.ExceptionEvent",{extend:Ext.direct.RemotingEvent,alias:"direct.exception",status:!1}),Ext.define("Ext.direct.JsonProvider",{extend:Ext.direct.Provider,alias:"direct.jsonprovider",parseResponse:function(e){return Ext.isEmpty(e.responseText)?null:Ext.isObject(e.responseText)?e.responseText:Ext.decode(e.responseText)},createEvents:function(e){var t,n,i,r=this,o=null,a=[];try{o=r.parseResponse(e)}catch(s){return t=new Ext.direct.ExceptionEvent({data:s,xhr:e,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+s}),[t]}if(Ext.isArray(o))for(n=0,i=o.length;i>n;++n)a.push(r.createEvent(o[n]));else Ext.isObject(o)&&a.push(r.createEvent(o));return a},createEvent:function(e){return"object"==typeof e&&"type"in e?Ext.create("direct."+e.type,e):new Ext.direct.ExceptionEvent({data:e,code:Ext.direct.Manager.exceptions.DATA,message:"Invalid data: event type is not specified"})}}),Ext.define("Ext.direct.PollingProvider",{extend:Ext.direct.JsonProvider,alias:"direct.pollingprovider",interval:3e3,constructor:function(){var e=this;e.callParent(arguments),e.addEvents("beforepoll","poll")},isConnected:function(){return!!this.pollTask},connect:function(){var e=this,t=e.url;t&&!e.pollTask&&(e.pollTask=Ext.TaskManager.start({run:e.runPoll,interval:e.interval,scope:e}),e.fireEvent("connect",e))},disconnect:function(){var e=this;e.pollTask&&(Ext.TaskManager.stop(e.pollTask),delete e.pollTask,e.fireEvent("disconnect",e))},runPoll:function(){var e=this,t=e.url;e.fireEvent("beforepoll",e)!==!1&&(Ext.isFunction(t)?t(e.baseParams):Ext.Ajax.request({url:t,callback:e.onData,scope:e,params:e.baseParams}),e.fireEvent("poll",e))},onData:function(e,t,n){var i,r,o,a=this;if(t)for(o=a.createEvents(n),i=0,r=o.length;r>i;++i)a.fireEvent("data",a,o[i]);else o=new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:n}),a.fireEvent("data",a,o)}}),Ext.define("Ext.direct.RemotingMethod",{constructor:function(e){var t,n,i,r,o=this,a=Ext.isDefined(e.params)?e.params:e.len;if(o.name=e.name,o.formHandler=e.formHandler,Ext.isNumeric(a))o.len=a,o.ordered=!0;else for(o.params={},n=a.length,i=0;n>i;i++)r=a[i],t=Ext.isObject(r)?r.name:r,o.params[t]=!0},getArgs:function(e,t,n){var i,r,o=this,a=[];if(o.ordered){if(o.len>0)if(t)for(i=0,r=t.length;r>i;i++)a.push(e[t[i]]);else n&&a.push(e)}else a.push(e);return a},getCallData:function(e){var t,n,i,r,o=this,a=null,s=o.len,l=o.params;if(o.ordered)t=e[s],n=e[s+1],r=e[s+2],0!==s&&(a=e.slice(0,s));else{a=Ext.apply({},e[0]),t=e[1],n=e[2],r=e[3];for(i in a)a.hasOwnProperty(i)&&!l[i]&&delete a[i]}return{data:a,callback:t,scope:n,options:r}}}),Ext.define("Ext.direct.Transaction",{alias:"direct.transaction",alternateClassName:"Ext.Direct.Transaction",statics:{TRANSACTION_ID:0},constructor:function(e){var t=this;Ext.apply(t,e),t.id=t.tid=++t.self.TRANSACTION_ID,t.retryCount=0},send:function(){var e=this;e.provider.queueTransaction(e)},retry:function(){var e=this;e.retryCount++,e.send()},getProvider:function(){return this.provider}}),Ext.define("Ext.direct.RemotingProvider",{extend:Ext.direct.JsonProvider,alias:"direct.remotingprovider",enableBuffer:10,maxRetries:1,constructor:function(){var e=this;e.callParent(arguments),e.addEvents("beforecall","call","beforecallback"),e.namespace=Ext.isString(e.namespace)?Ext.ns(e.namespace):e.namespace||Ext.global,e.transactions=new Ext.util.MixedCollection,e.callBuffer=[]},getNamespace:function(e,t){var n,i,r,o;for(e=e||Ext.global,n=t.toString().split("."),r=0,o=n.length;o>r;r++)if(i=n[r],e=e[i],"undefined"==typeof e)return e;return e},createNamespaces:function(e,t){var n,i;e=e||Ext.global,n=t.toString().split(".");for(var r=0,o=n.length;o>r;r++)i=n[r],e[i]=e[i]||{},e=e[i];return e},initAPI:function(){var e,t,n,i,r,o,a=this,s=a.actions,l=a.namespace;for(e in s)if(s.hasOwnProperty(e))for(a.disableNestedActions?(t=l[e],t||(t=l[e]={})):(t=a.getNamespace(l,e),t||(t=a.createNamespaces(l,e))),n=s[e],i=0,r=n.length;r>i;++i)o=new Ext.direct.RemotingMethod(n[i]),t[o.name]=a.createHandler(e,o)},createHandler:function(e,t){var n,i=this,r=Array.prototype.slice;return n=t.formHandler?function(n,r,o){i.configureFormRequest(e,t,n,r,o)}:function(){i.configureRequest(e,t,r.call(arguments,0))},n.directCfg={action:e,method:t},n},isConnected:function(){return!!this.connected},connect:function(){var e=this;e.url&&(e.initAPI(),e.connected=!0,e.fireEvent("connect",e))},disconnect:function(){var e=this;e.connected&&(e.connected=!1,e.fireEvent("disconnect",e))},runCallback:function(e,t){var n,i,r,o=!!t.status,a=o?"success":"failure";e&&e.callback&&(n=e.callback,i=e.callbackOptions,r="undefined"!=typeof t.result?t.result:t.data,Ext.isFunction(n)?n(r,t,o,i):(Ext.callback(n[a],n.scope,[r,t,o,i]),Ext.callback(n.callback,n.scope,[r,t,o,i])))},onData:function(e,t,n){var i,r,o,a,s,l,d=this;if(t)for(o=d.createEvents(n),i=0,r=o.length;r>i;++i)a=o[i],s=d.getTransaction(a),d.fireEvent("data",d,a),s&&d.fireEvent("beforecallback",d,a,s)!==!1&&(d.runCallback(s,a,!0),Ext.direct.Manager.removeTransaction(s));else for(l=[].concat(e.transaction),i=0,r=l.length;r>i;++i)s=d.getTransaction(l[i]),s&&s.retryCount<d.maxRetries?s.retry():(a=new Ext.direct.ExceptionEvent({data:null,transaction:s,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:n}),d.fireEvent("data",d,a),s&&d.fireEvent("beforecallback",d,s)!==!1&&(d.runCallback(s,a,!1),Ext.direct.Manager.removeTransaction(s)))},getTransaction:function(e){return e&&e.tid?Ext.direct.Manager.getTransaction(e.tid):null},configureRequest:function(e,t,n){var i,r,o,a,s,l,d,c=this;i=t.getCallData(n),r=i.data,o=i.callback,a=i.scope,s=i.options||{},d=Ext.apply({},{provider:c,args:n,action:e,method:t.name,data:r,callbackOptions:s,callback:a&&Ext.isFunction(o)?Ext.Function.bind(o,a):o}),s.timeout&&Ext.applyIf(d,{timeout:s.timeout}),l=new Ext.direct.Transaction(d),c.fireEvent("beforecall",c,l,t)!==!1&&(Ext.direct.Manager.addTransaction(l),c.queueTransaction(l),c.fireEvent("call",c,l,t))},getCallData:function(e){return{action:e.action,method:e.method,data:e.data,type:"rpc",tid:e.id}},sendRequest:function(e){var t,n,i,r,o,a=this,s=a.enableUrlEncode;if(t={url:a.url,callback:a.onData,scope:a,transaction:e,timeout:a.timeout},e.timeout&&(t.timeout=e.timeout),Ext.isArray(e))for(n=[],r=0,o=e.length;o>r;++r)n.push(a.getCallData(e[r]));else n=a.getCallData(e);s?(i={},i[Ext.isString(s)?s:"data"]=Ext.encode(n),t.params=i):t.jsonData=n,Ext.Ajax.request(t)},queueTransaction:function(e){var t=this,n=t.enableBuffer;return e.form?(t.sendFormRequest(e),void 0):n===!1||"undefined"!=typeof e.timeout?(t.sendRequest(e),void 0):(t.callBuffer.push(e),n?(t.callTask||(t.callTask=new Ext.util.DelayedTask(t.combineAndSend,t)),t.callTask.delay(Ext.isNumber(n)?n:10)):t.combineAndSend(),void 0)},combineAndSend:function(){var e=this,t=e.callBuffer,n=t.length;n>0&&(e.sendRequest(1==n?t[0]:t),e.callBuffer=[])},configureFormRequest:function(e,t,n,i,r){var o,a,s,l=this;o=new Ext.direct.Transaction({provider:l,action:e,method:t.name,args:[n,i,r],callback:r&&Ext.isFunction(i)?Ext.Function.bind(i,r):i,isForm:!0}),l.fireEvent("beforecall",l,o,t)!==!1&&(Ext.direct.Manager.addTransaction(o),a="multipart/form-data"==String(n.getAttribute("enctype")).toLowerCase(),s={extTID:o.id,extAction:e,extMethod:t.name,extType:"rpc",extUpload:String(a)},Ext.apply(o,{form:Ext.getDom(n),isUpload:a,params:i&&Ext.isObject(i.params)?Ext.apply(s,i.params):s}),l.fireEvent("call",l,o,t),l.sendFormRequest(o))},sendFormRequest:function(e){var t=this;Ext.Ajax.request({url:t.url,params:e.params,callback:t.onData,scope:t,form:e.form,isUpload:e.isUpload,transaction:e})}}),Ext.define("Ext.dom.Layer",{extend:Ext.Element,alternateClassName:"Ext.Layer",statics:{shims:[]},isLayer:!0,localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(e,t){e=e||{};var n=this,i=Ext.DomHelper,r=e.parentEl,o=r?Ext.getDom(r):document.body,a=e.hideMode,s=Ext.baseCSSPrefix+(!e.fixed||Ext.isIE6||Ext.isIEQuirks?"layer":"fixed-layer");n.el=n,t&&(n.dom=Ext.getDom(t)),n.dom?(n.addCls(s),n.dom.parentNode||o.appendChild(n.dom)):n.dom=i.append(o,e.dh||{tag:"div",cls:s}),e.preventSync&&(n.preventSync=!0),n.id=e.id?n.dom.id=e.id:Ext.id(n.dom),Ext.Element.addToCache(n),e.cls&&n.addCls(e.cls),n.constrain=e.constrain!==!1,a?(n.setVisibilityMode(Ext.Element[a.toUpperCase()]),n.visibilityMode==Ext.Element.ASCLASS&&(n.visibilityCls=e.visibilityCls)):e.useDisplay?n.setVisibilityMode(Ext.Element.DISPLAY):n.setVisibilityMode(Ext.Element.VISIBILITY),e.shadow?(n.shadowOffset=e.shadowOffset||4,n.shadow=new Ext.Shadow({offset:n.shadowOffset,mode:e.shadow,fixed:e.fixed}),n.disableShadow()):n.shadowOffset=0,n.useShim=e.shim!==!1&&Ext.useShims,e.hidden===!0?n.hide():n.show()},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var e,t,n=this;return n.useShim?(n.shim||(e=n.self.shims.shift(),e||(e=n.createShim(),e.enableDisplayMode("block"),e.hide()),t=n.dom.parentNode,e.dom.parentNode!=t&&t.insertBefore(e.dom,n.dom),n.shim=e),n.shim):null},hideShim:function(){var e=this;e.shim&&(e.shim.setDisplayed(!1),e.self.shims.push(e.shim),delete e.shim)},disableShadow:function(){var e=this;e.shadow&&!e.shadowDisabled&&(e.shadowDisabled=!0,e.shadow.hide(),e.lastShadowOffset=e.shadowOffset,e.shadowOffset=0)},enableShadow:function(e){var t=this;t.shadow&&t.shadowDisabled&&(t.shadowDisabled=!1,t.shadowOffset=t.lastShadowOffset,delete t.lastShadowOffset,e&&t.sync(!0))},sync:function(e){var t,n,i,r,o,a,s,l,d,c,u=this,h=u.shadow;if(!u.preventSync)return!u.updating&&u.isVisible()&&(h||u.useShim)&&(r=u.getShim(),o=u[u.localXYNames.get](),a=o[0],s=o[1],l=u.dom.offsetWidth,d=u.dom.offsetHeight,h&&!u.shadowDisabled?(e&&!h.isVisible()?h.show(u):h.realign(a,s,l,d),r&&(c=r.getStyle("z-index"),c>u.zindex&&u.shim.setStyle("z-index",u.zindex-2),r.show(),h.isVisible()?(t=h.el.getXY(),n=r.dom.style,i=h.el.getSize(),Ext.supports.CSS3BoxShadow&&(i.height+=6,i.width+=4,t[0]-=2,t[1]-=4),n.left=t[0]+"px",n.top=t[1]+"px",n.width=i.width+"px",n.height=i.height+"px"):(r.setSize(l,d),r[u.localXYNames.set](a,s)))):r&&(c=r.getStyle("z-index"),c>u.zindex&&u.shim.setStyle("z-index",u.zindex-2),r.show(),r.setSize(l,d),r[u.localXYNames.set](a,s))),u},remove:function(){this.hideUnders(),this.callParent()},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1,this.sync(!0)},hideUnders:function(){this.shadow&&this.shadow.hide(),this.hideShim()},constrainXY:function(){if(this.constrain){var e=Ext.Element.getViewWidth(),t=Ext.Element.getViewHeight(),n=Ext.getDoc().getScroll(),i=this.getXY(),r=i[0],o=i[1],a=this.shadowOffset,s=this.dom.offsetWidth+a,l=this.dom.offsetHeight+a,d=!1;r+s>e+n.left&&(r=e-s-a,d=!0),o+l>t+n.top&&(o=t-l-a,d=!0),r<n.left&&(r=n.left,d=!0),o<n.top&&(o=n.top,d=!0),d&&(Ext.Layer.superclass.setXY.call(this,[r,o]),this.sync())}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(e,t,n,i,r){var o,a=this;return o=function(){e&&a.sync(!0),i&&i()},e||a.hideUnders(!0),a.callParent([e,t,n,i,r]),t||o(),a},beforeFx:function(){return this.beforeAction(),this.callParent(arguments)},afterFx:function(){this.callParent(arguments),this.sync(this.isVisible())},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},setLeft:function(){return this.callParent(arguments),this.sync()},setTop:function(){return this.callParent(arguments),this.sync()},setLeftTop:function(){return this.callParent(arguments),this.sync()},setLocalX:function(){return this.callParent(arguments),this.sync()},setLocalXY:function(){return this.callParent(arguments),this.sync()},setLocalY:function(){return this.callParent(arguments),this.sync()},setXY:function(e,t,n,i,r){var o=this;return i=o.createCB(i),o.fixDisplay(),o.beforeAction(),o.callParent([e,t,n,i,r]),t||i(),o},createCB:function(e){var t=this,n=t.shadow&&t.shadow.isVisible();return function(){t.constrainXY(),t.sync(n),e&&e()}},setX:function(e,t,n,i,r){return this.setXY([e,this.getY()],t,n,i,r),this},setY:function(e,t,n,i,r){return this.setXY([this.getX(),e],t,n,i,r),this},setSize:function(e,t,n,i,r,o){var a=this;return r=a.createCB(r),a.beforeAction(),a.callParent([e,t,n,i,r,o]),n||r(),a},setWidth:function(e,t,n,i,r){var o=this;return i=o.createCB(i),o.beforeAction(),o.callParent([e,t,n,i,r]),t||i(),o},setHeight:function(e,t,n,i,r){var o=this;return i=o.createCB(i),o.beforeAction(),o.callParent([e,t,n,i,r]),t||i(),o},setBounds:function(e,t,n,i,r,o,a,s){var l=this;return a=l.createCB(a),l.beforeAction(),r?l.callParent([e,t,n,i,r,o,a,s]):(Ext.Layer.superclass.setXY.call(l,[e,t]),Ext.Layer.superclass.setSize.call(l,n,i),a()),l},setZIndex:function(e){var t=this;return t.zindex=e,t.getShim()&&t.shim.setStyle("z-index",e++),t.shadow&&t.shadow.setZIndex(e++),t.setStyle("z-index",e)
},onOpacitySet:function(e){var t=this.shadow;t&&t.setOpacity(e)}}),Ext.define("Ext.draw.Matrix",{constructor:function(e,t,n,i,r,o){this.matrix=null!=e?[[e,n,r],[t,i,o],[0,0,1]]:[[1,0,0],[0,1,0],[0,0,1]]},add:function(e,t,n,i,r,o){var a,s,l,d,c=this,u=[[],[],[]],h=[[e,n,r],[t,i,o],[0,0,1]];for(a=0;3>a;a++)for(s=0;3>s;s++){for(d=0,l=0;3>l;l++)d+=c.matrix[a][l]*h[l][s];u[a][s]=d}c.matrix=u},prepend:function(e,t,n,i,r,o){var a,s,l,d,c=this,u=[[],[],[]],h=[[e,n,r],[t,i,o],[0,0,1]];for(a=0;3>a;a++)for(s=0;3>s;s++){for(d=0,l=0;3>l;l++)d+=h[a][l]*c.matrix[l][s];u[a][s]=d}c.matrix=u},invert:function(){var e=this.matrix,t=e[0][0],n=e[1][0],i=e[0][1],r=e[1][1],o=e[0][2],a=e[1][2],s=t*r-n*i;return new Ext.draw.Matrix(r/s,-n/s,-i/s,t/s,(i*a-r*o)/s,(n*o-t*a)/s)},clone:function(){var e=this.matrix,t=e[0][0],n=e[1][0],i=e[0][1],r=e[1][1],o=e[0][2],a=e[1][2];return new Ext.draw.Matrix(t,n,i,r,o,a)},translate:function(e,t){this.prepend(1,0,0,1,e,t)},scale:function(e,t,n,i){var r=this;null==t&&(t=e),r.add(e,0,0,t,n*(1-e),i*(1-t))},rotate:function(e,t,n){e=Ext.draw.Draw.rad(e);var i=this,r=+Math.cos(e).toFixed(9),o=+Math.sin(e).toFixed(9);i.add(r,o,-o,r,t-r*t+o*n,-(o*t)+n-r*n)},x:function(e,t){var n=this.matrix;return e*n[0][0]+t*n[0][1]+n[0][2]},y:function(e,t){var n=this.matrix;return e*n[1][0]+t*n[1][1]+n[1][2]},get:function(e,t){return+this.matrix[e][t].toFixed(4)},toString:function(){var e=this;return[e.get(0,0),e.get(0,1),e.get(1,0),e.get(1,1),0,0].join()},toSvg:function(){var e=this;return"matrix("+[e.get(0,0),e.get(1,0),e.get(0,1),e.get(1,1),e.get(0,2),e.get(1,2)].join()+")"},toFilter:function(e,t){var n=this;return e=e||0,t=t||0,"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', filterType='bilinear', M11="+n.get(0,0)+", M12="+n.get(0,1)+", M21="+n.get(1,0)+", M22="+n.get(1,1)+", Dx="+(n.get(0,2)+e)+", Dy="+(n.get(1,2)+t)+")"},offset:function(){var e=this.matrix;return[(e[0][2]||0).toFixed(4),(e[1][2]||0).toFixed(4)]},split:function(){function e(e){return e[0]*e[0]+e[1]*e[1]}function t(t){var n=Math.sqrt(e(t));t[0]/=n,t[1]/=n}var n,i=this.matrix,r={translateX:i[0][2],translateY:i[1][2]};return n=[[i[0][0],i[0][1]],[i[1][1],i[1][1]]],r.scaleX=Math.sqrt(e(n[0])),t(n[0]),r.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*r.shear,n[1][1]-n[0][1]*r.shear],r.scaleY=Math.sqrt(e(n[1])),t(n[1]),r.shear/=r.scaleY,r.rotate=Math.asin(-n[0][1]),r.isSimple=!(+r.shear.toFixed(9)||r.scaleX.toFixed(9)!=r.scaleY.toFixed(9)&&r.rotate),r}}),Ext.define("Ext.draw.SpriteDD",{extend:Ext.dd.DragSource,constructor:function(e,t){var n=this,i=e.el;n.sprite=e,n.el=i,n.dragData={el:i,sprite:e},n.callParent([i,t]),n.sprite.setStyle("cursor","move")},showFrame:Ext.emptyFn,createFrame:Ext.emptyFn,getDragEl:function(){return this.el},getRegion:function(){var e,t,n,i,r,o,a,s=this,l=s.el;a=s.sprite,o=a.getBBox();try{e=Ext.Element.getXY(l)}catch(d){}return e?(t=e[0],n=t+o.width,i=e[1],r=i+o.height,new Ext.util.Region(i,n,r,t)):null},startDrag:function(e,t){var n=this;n.sprite.attr,n.prev=n.sprite.surface.transformToViewBox(e,t)},onDrag:function(e){var t,n,i=e.getXY(),r=this,o=r.sprite,a=o.attr;i=r.sprite.surface.transformToViewBox(i[0],i[1]),t=i[0]-r.prev[0],n=i[1]-r.prev[1],o.setAttributes({translate:{x:a.translation.x+t,y:a.translation.y+n}},!0),r.prev=i},setDragElPos:function(){return!1}}),Ext.define("Ext.draw.Sprite",{mixins:{observable:Ext.util.Observable,animate:Ext.util.Animate},dirty:!1,dirtyHidden:!1,dirtyTransform:!1,dirtyPath:!0,dirtyFont:!0,zIndexDirty:!0,isSprite:!0,zIndex:0,fontProperties:["font","font-size","font-weight","font-style","font-family","text-anchor","text"],pathProperties:["x","y","d","path","height","width","radius","r","rx","ry","cx","cy"],constructor:function(e){var t=this;e=Ext.merge({},e||{}),t.id=Ext.id(null,"ext-sprite-"),t.transformations=[],Ext.copyTo(this,e,"surface,group,type,draggable"),t.bbox={},t.attr={zIndex:0,translation:{x:null,y:null},rotation:{degrees:null,x:null,y:null},scaling:{x:null,y:null,cx:null,cy:null}},delete e.surface,delete e.group,delete e.type,delete e.draggable,t.setAttributes(e),t.addEvents("beforedestroy","destroy","render","mousedown","mouseup","mouseover","mouseout","mousemove","click"),t.mixins.observable.constructor.apply(this,arguments)},initDraggable:function(){var e=this;e.el||e.surface.createSpriteElement(e),e.dd=new Ext.draw.SpriteDD(e,Ext.isBoolean(e.draggable)?null:e.draggable),e.on("beforedestroy",e.dd.destroy,e.dd)},setAttributes:function(e,t){var n,i,r,o,a,s,l,d,c=this,u=c.fontProperties,h=u.length,f=c.pathProperties,g=f.length,p=!!c.surface,m=p&&c.surface.customAttributes||{},x=c.attr,y=!1;e=Ext.apply({},e);for(n in m)e.hasOwnProperty(n)&&"function"==typeof m[n]&&Ext.apply(e,m[n].apply(c,[].concat(e[n])));for(!!e.hidden!=!!x.hidden&&(c.dirtyHidden=!0),i=0;g>i;i++)if(n=f[i],n in e&&e[n]!==x[n]){c.dirtyPath=!0,y=!0;break}"zIndex"in e&&(c.zIndexDirty=!0),"text"in e&&(c.dirtyFont=!0,y=!0);for(i=0;h>i;i++)if(n=u[i],n in e&&e[n]!==x[n]){c.dirtyFont=!0,y=!0;break}return r=e.translation||e.translate,delete e.translate,delete e.translation,o=x.translation,r&&("x"in r&&r.x!==o.x||"y"in r&&r.y!==o.y)&&(c.dirtyTransform=!0,o.x=r.x,o.y=r.y),a=e.rotation||e.rotate,s=x.rotation,delete e.rotate,delete e.rotation,a&&("x"in a&&a.x!==s.x||"y"in a&&a.y!==s.y||"degrees"in a&&a.degrees!==s.degrees)&&(c.dirtyTransform=!0,s.x=a.x,s.y=a.y,s.degrees=a.degrees),l=e.scaling||e.scale,d=x.scaling,delete e.scale,delete e.scaling,l&&("x"in l&&l.x!==d.x||"y"in l&&l.y!==d.y||"cx"in l&&l.cx!==d.cx||"cy"in l&&l.cy!==d.cy)&&(c.dirtyTransform=!0,d.x=l.x,d.y=l.y,d.cx=l.cx,d.cy=l.cy),!c.dirtyTransform&&y&&(null===x.scaling.x||null===x.scaling.y||null===x.rotation.y||null===x.rotation.y)&&(c.dirtyTransform=!0),Ext.apply(x,e),c.dirty=!0,t===!0&&p&&c.redraw(),this},getBBox:function(){return this.surface.getBBox(this)},setText:function(e){return this.surface.setText(this,e)},hide:function(e){return this.setAttributes({hidden:!0},e),this},show:function(e){return this.setAttributes({hidden:!1},e),this},remove:function(){return this.surface?(this.surface.remove(this),!0):!1},onRemove:function(){this.surface.onRemove(this)},destroy:function(){var e=this;e.fireEvent("beforedestroy",e)!==!1&&(e.remove(),e.surface.onDestroy(e),e.clearListeners(),e.fireEvent("destroy"))},redraw:function(){return this.surface.renderItem(this),this},setStyle:function(){return this.el.setStyle.apply(this.el,arguments),this},addCls:function(e){return this.surface.addCls(this,e),this},removeCls:function(e){return this.surface.removeCls(this,e),this}}),Ext.define("Ext.draw.Text",{extend:Ext.draw.Component,alias:"widget.text",text:"",focusable:!1,viewBox:!1,autoSize:!0,baseCls:Ext.baseCSSPrefix+"surface "+Ext.baseCSSPrefix+"draw-text",initComponent:function(){var e=this;e.textConfig=Ext.apply({type:"text",text:e.text,rotate:{degrees:e.degrees||0}},e.textStyle),Ext.apply(e.textConfig,e.getStyles(e.styleSelectors||e.styleSelector)),e.initialConfig.items=[e.textConfig],e.callParent(arguments)},getStyles:function(e){e=Ext.Array.from(e);for(var t,n,i=0,r=e.length,o={};r>i;i++)t=Ext.util.CSS.getRule(e[i]),t&&(n=t.style,n&&Ext.apply(o,{"font-family":n.fontFamily,"font-weight":n.fontWeight,"line-height":n.lineHeight,"font-size":n.fontSize,fill:n.color}));return o},setAngle:function(e){var t,n,i=this;i.rendered?(t=i.surface,n=t.items.items[0],i.degrees=e,n.setAttributes({rotate:{degrees:e}},!0),(i.autoSize||i.viewBox)&&i.updateLayout()):i.degrees=e},setText:function(e){var t,n,i=this;i.rendered?(t=i.surface,n=t.items.items[0],i.text=e||"",t.remove(n),i.textConfig.type="text",i.textConfig.text=i.text,n=t.add(i.textConfig),n.setAttributes({rotate:{degrees:i.degrees}},!0),(i.autoSize||i.viewBox)&&i.updateLayout()):i.on({render:function(){i.setText(e)},single:!0})}}),Ext.define("Ext.draw.engine.ImageExporter",{singleton:!0,defaultUrl:"http://svg.sencha.io",supportedTypes:["image/png","image/jpeg"],widthParam:"width",heightParam:"height",typeParam:"type",svgParam:"svg",formCls:Ext.baseCSSPrefix+"hide-display",generate:function(e,t){t=t||{};var n,i=this,r=t.type;return-1===Ext.Array.indexOf(i.supportedTypes,r)?!1:(n=Ext.getBody().createChild({tag:"form",method:"POST",action:t.url||i.defaultUrl,cls:i.formCls,children:[{tag:"input",type:"hidden",name:t.widthParam||i.widthParam,value:t.width||e.width},{tag:"input",type:"hidden",name:t.heightParam||i.heightParam,value:t.height||e.height},{tag:"input",type:"hidden",name:t.typeParam||i.typeParam,value:r},{tag:"input",type:"hidden",name:t.svgParam||i.svgParam}]}),n.last(null,!0).value=Ext.draw.engine.SvgExporter.generate(e),n.dom.submit(),n.remove(),!0)}}),Ext.define("Ext.draw.engine.Svg",{extend:Ext.draw.Surface,engine:"Svg",trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,xlink:"http://www.w3.org/1999/xlink",translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",path:"d",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},parsers:{},minDefaults:{circle:{cx:0,cy:0,r:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start","font-family":null,"font-size":null,"font-weight":null,"font-style":null,fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},createSvgElement:function(e,t){var n,i=this.domRef.createElementNS("http://www.w3.org/2000/svg",e);if(t)for(n in t)i.setAttribute(n,String(t[n]));return i},createSpriteElement:function(e){var t=this.createSvgElement(e.type);return t.id=e.id,t.style&&(t.style.webkitTapHighlightColor="rgba(0,0,0,0)"),e.el=Ext.get(t),this.applyZIndex(e),e.matrix=new Ext.draw.Matrix,e.bbox={plain:0,transform:0},this.applyAttrs(e),this.applyTransformations(e),e.fireEvent("render",e),t},getBBoxText:function(e){var t,n,i,r,o,a,s={};if(e&&e.el){a=e.el.dom;try{return s=a.getBBox()}catch(l){}for(s={x:s.x,y:1/0,width:0,height:0},o=a.getNumberOfChars(),r=0;o>r;r++)t=a.getExtentOfChar(r),s.y=Math.min(t.y,s.y),n=t.y+t.height-s.y,s.height=Math.max(s.height,n),i=t.x+t.width-s.x,s.width=Math.max(s.width,i);return s}},hide:function(){Ext.get(this.el).hide()},show:function(){Ext.get(this.el).show()},hidePrim:function(e){this.addCls(e,Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(e){this.removeCls(e,Ext.baseCSSPrefix+"hide-visibility")},getDefs:function(){return this._defs||(this._defs=this.createSvgElement("defs"))},transform:function(e,t){for(var n,i,r=new Ext.draw.Matrix,o=e.transformations,a=o.length,s=0;a>s;s++)n=o[s],i=n.type,"translate"==i?r.translate(n.x,n.y):"rotate"==i?r.rotate(n.degrees,n.x,n.y):"scale"==i&&r.scale(n.x,n.y,n.centerX,n.centerY);e.matrix=r,t||e.el.set({transform:r.toSvg()})},setSize:function(e,t){var n=this,i=n.el;e=+e||n.width,t=+t||n.height,n.width=e,n.height=t,i.setSize(e,t),i.set({width:e,height:t}),n.callParent([e,t])},getRegion:function(){var e=this.el.getXY(),t=this.bgRect.getXY(),n=Math.max,i=n(e[0],t[0]),r=n(e[1],t[1]);return{left:i,top:r,right:i+this.width,bottom:r+this.height}},onRemove:function(e){e.el&&(e.el.destroy(),delete e.el),this.callParent(arguments)},setViewBox:function(e,t,n,i){isFinite(e)&&isFinite(t)&&isFinite(n)&&isFinite(i)&&(this.callParent(arguments),this.el.dom.setAttribute("viewBox",[e,t,n,i].join(" ")))},render:function(e){var t,n,i,r,o,a,s=this;s.el||(t=s.width||0,n=s.height||0,i=s.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:t,height:n}),r=s.getDefs(),o=s.createSvgElement("rect",{width:"100%",height:"100%",fill:"#000",stroke:"none",opacity:0}),Ext.isSafari3&&(a=s.createSvgElement("rect",{x:-10,y:-10,width:"110%",height:"110%",fill:"none",stroke:"#000"})),i.appendChild(r),Ext.isSafari3&&i.appendChild(a),i.appendChild(o),e.appendChild(i),s.el=Ext.get(i),s.bgRect=Ext.get(o),Ext.isSafari3&&(s.webkitRect=Ext.get(a),s.webkitRect.hide()),s.el.on({scope:s,mouseup:s.onMouseUp,mousedown:s.onMouseDown,mouseover:s.onMouseOver,mouseout:s.onMouseOut,mousemove:s.onMouseMove,mouseenter:s.onMouseEnter,mouseleave:s.onMouseLeave,click:s.onClick,dblclick:s.onDblClick})),s.renderAll()},onMouseEnter:function(e){this.el.parent().getRegion().contains(e.getPoint())&&this.fireEvent("mouseenter",e)},onMouseLeave:function(e){this.el.parent().getRegion().contains(e.getPoint())||this.fireEvent("mouseleave",e)},processEvent:function(e,t){var n,i=t.getTarget();this.surface,this.fireEvent(e,t),"tspan"==i.nodeName&&i.parentNode&&(i=i.parentNode),n=this.items.get(i.id),n&&n.fireEvent(e,n,t)},tuneText:function(e,t){var n,i,r,o,a,s,l=(e.el.dom,[]);if(t.hasOwnProperty("text")&&(i=e.tspans&&Ext.Array.map(e.tspans,function(e){return e.textContent}).join(""),e.tspans&&t.text==i?l=e.tspans||[]:(l=this.setText(e,t.text),e.tspans=l)),l.length){for(n=this.getBBoxText(e).height,s=e.el.dom.getAttribute("x"),r=0,o=l.length;o>r;r++)a=Ext.isFF3_0||Ext.isFF3_5?2:4,l[r].setAttribute("x",s),l[r].setAttribute("dy",r?1.2*n:n/a);e.dirty=!0}},setText:function(e,t){for(var n,i,r,o,a,s=this,l=e.el.dom,d=[];l.firstChild;)l.removeChild(l.firstChild);for(a=String(t).split("\n"),r=0,o=a.length;o>r;r++)i=a[r],i&&(n=s.createSvgElement("tspan"),n.appendChild(document.createTextNode(Ext.htmlDecode(i))),l.appendChild(n),d[r]=n);return d},renderAll:function(){this.items.each(this.renderItem,this)},renderItem:function(e){this.el&&(e.el||this.createSpriteElement(e),e.zIndexDirty&&this.applyZIndex(e),e.dirty&&(this.applyAttrs(e),e.dirtyTransform&&this.applyTransformations(e)))},redraw:function(e){e.dirty=e.zIndexDirty=!0,this.renderItem(e)},applyAttrs:function(e){var t,n,i,r,o,a,s=this,l=e.el,d=e.group,c=e.attr,u=s.parsers,h=s.gradientsMap||{},f=Ext.isSafari&&!Ext.isStrict;if(d){for(t=[].concat(d),i=t.length,n=0;i>n;n++)d=t[n],s.getGroup(d).add(e);delete e.group}r=s.scrubAttrs(e)||{},e.bbox.plain=0,e.bbox.transform=0,"circle"==e.type||"ellipse"==e.type?(r.cx=r.cx||r.x,r.cy=r.cy||r.y):"rect"==e.type?r.rx=r.ry=r.r:"path"==e.type&&r.d&&(r.d=Ext.draw.Draw.pathToString(Ext.draw.Draw.pathToAbsolute(r.d))),e.dirtyPath=!1,r["clip-rect"]&&(s.setClip(e,r),delete r["clip-rect"]),"text"==e.type&&r.font&&e.dirtyFont&&l.set({style:"font: "+r.font}),"image"==e.type&&l.dom.setAttributeNS(s.xlink,"href",r.src),Ext.applyIf(r,s.minDefaults[e.type]),e.dirtyHidden&&(c.hidden?s.hidePrim(e):s.showPrim(e),e.dirtyHidden=!1);for(o in r)if(r.hasOwnProperty(o)&&null!=r[o]){if(f&&"color|stroke|fill".indexOf(o)>-1&&r[o]in h&&(r[o]=h[r[o]]),"hidden"==o&&"text"==e.type)continue;o in u?l.dom.setAttribute(o,u[o](r[o],e,s)):l.dom.setAttribute(o,r[o])}"text"==e.type&&s.tuneText(e,r),e.dirtyFont=!1,a=c.style,a&&l.setStyle(a),e.dirty=!1,Ext.isSafari3&&(s.webkitRect.show(),setTimeout(function(){s.webkitRect.hide()}))},setClip:function(e,t){var n,i,r=this,o=t["clip-rect"];o&&(e.clip&&e.clip.parentNode.parentNode.removeChild(e.clip.parentNode),n=r.createSvgElement("clipPath"),i=r.createSvgElement("rect"),n.id=Ext.id(null,"ext-clip-"),i.setAttribute("x",o.x),i.setAttribute("y",o.y),i.setAttribute("width",o.width),i.setAttribute("height",o.height),n.appendChild(i),r.getDefs().appendChild(n),e.el.dom.setAttribute("clip-path","url(#"+n.id+")"),e.clip=i)},applyZIndex:function(e){var t,n=this,i=n.items,r=i.indexOf(e),o=e.el;if(n.el.dom.childNodes[r+2]!==o.dom){if(r>0)do t=i.getAt(--r).el;while(!t&&r>0);o.insertAfter(t||n.bgRect)}e.zIndexDirty=!1},createItem:function(e){var t=new Ext.draw.Sprite(e);return t.surface=this,t},addGradient:function(e){e=Ext.draw.Draw.parseGradient(e);var t,n,i,r,o,a=this,s=e.stops.length,l=e.vector,d=Ext.isSafari&&!Ext.isStrict;if(o=a.gradientsMap||{},d)o["url(#"+e.id+")"]=e.stops[0].color;else for("linear"==e.type?(t=a.createSvgElement("linearGradient"),t.setAttribute("x1",l[0]),t.setAttribute("y1",l[1]),t.setAttribute("x2",l[2]),t.setAttribute("y2",l[3])):(t=a.createSvgElement("radialGradient"),t.setAttribute("cx",e.centerX),t.setAttribute("cy",e.centerY),t.setAttribute("r",e.radius),Ext.isNumber(e.focalX)&&Ext.isNumber(e.focalY)&&(t.setAttribute("fx",e.focalX),t.setAttribute("fy",e.focalY))),t.id=e.id,a.getDefs().appendChild(t),r=0;s>r;r++)n=e.stops[r],i=a.createSvgElement("stop"),i.setAttribute("offset",n.offset+"%"),i.setAttribute("stop-color",n.color),i.setAttribute("stop-opacity",n.opacity),t.appendChild(i);a.gradientsMap=o},hasCls:function(e,t){return t&&-1!=(" "+(e.el.dom.getAttribute("class")||"")+" ").indexOf(" "+t+" ")},addCls:function(e,t){var n,i,r,o=e.el,a=[],s=o.getAttribute("class")||"";if(Ext.isArray(t)){for(n=0,i=t.length;i>n;n++)r=t[n],"string"==typeof r&&-1==(" "+s+" ").indexOf(" "+r+" ")&&a.push(r);a.length&&o.set({"class":" "+a.join(" ")})}else"string"!=typeof t||this.hasCls(e,t)||o.set({"class":s+" "+t})},removeCls:function(e,t){var n,i,r,o,a,s=this,l=e.el,d=l.getAttribute("class")||"";if(Ext.isArray(t)||(t=[t]),d){for(a=d.replace(s.trimRe," ").split(s.spacesRe),n=0,r=t.length;r>n;n++)o=t[n],"string"==typeof o&&(o=o.replace(s.trimRe,""),i=Ext.Array.indexOf(a,o),-1!=i&&Ext.Array.erase(a,i,1));l.set({"class":a.join(" ")})}},destroy:function(){var e=this;e.callParent(),e.el&&e.el.remove(),e._defs&&Ext.get(e._defs).destroy(),e.bgRect&&Ext.get(e.bgRect).destroy(),e.webkitRect&&Ext.get(e.webkitRect).destroy(),delete e.el}}),Ext.define("Ext.draw.engine.SvgExporter",function(){var e,t,n,i,r=/,/g,o=/(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)\s('*.*'*)/,a=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,s=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,([\d\.]+)\)/g,l=function(r){e=r,t=e.length,n=e.width,i=e.height},d={path:function(e){var t,n,i,o=e.attr,a=o.path,s="";if(Ext.isArray(a[0]))for(i=a.length,n=0;i>n;n++)s+=a[n].join(" ");else s=Ext.isArray(a)?a.join(" "):a.replace(r," ");return t=h({d:s,fill:o.fill||"none",stroke:o.stroke,"fill-opacity":o.opacity,"stroke-width":o["stroke-width"],"stroke-opacity":o["stroke-opacity"],"z-index":o.zIndex,transform:e.matrix.toSvg()}),"<path "+t+"/>"},text:function(e){var t,n=e.attr,i=o.exec(n.font),r=i&&i[1]||"12",a=i&&i[3]||"Arial",s=n.text,l=Ext.isFF3_0||Ext.isFF3_5?2:4,d="";return e.getBBox(),d+='<tspan x="'+(n.x||"")+'" dy="',d+=r/l+'">',d+=Ext.htmlEncode(s)+"</tspan>",t=h({x:n.x,y:n.y,"font-size":r,"font-family":a,"font-weight":n["font-weight"],"text-anchor":n["text-anchor"],fill:n.fill||"#000","fill-opacity":n.opacity,transform:e.matrix.toSvg()}),"<text "+t+">"+d+"</text>"},rect:function(e){var t=e.attr,n=h({x:t.x,y:t.y,rx:t.rx,ry:t.ry,width:t.width,height:t.height,fill:t.fill||"none","fill-opacity":t.opacity,stroke:t.stroke,"stroke-opacity":t["stroke-opacity"],"stroke-width":t["stroke-width"],transform:e.matrix&&e.matrix.toSvg()});return"<rect "+n+"/>"},circle:function(e){var t=e.attr,n=h({cx:t.x,cy:t.y,r:t.radius,fill:t.translation.fill||t.fill||"none","fill-opacity":t.opacity,stroke:t.stroke,"stroke-opacity":t["stroke-opacity"],"stroke-width":t["stroke-width"],transform:e.matrix.toSvg()});return"<circle "+n+" />"},image:function(e){var t=e.attr,n=h({x:t.x-(t.width/2>>0),y:t.y-(t.height/2>>0),width:t.width,height:t.height,"xlink:href":t.src,transform:e.matrix.toSvg()});return"<image "+n+" />"}},c=function(){var e='<?xml version="1.0" standalone="yes"?>';return e+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'},u=function(){var t,r,o,l,c,u,h,f,g,p,m,x,y,E,v,b,C,w,S,P='<svg width="'+n+'px" height="'+i+'px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',k="";if(o=e.items.items,r=o.length,c=function(e){for(var t,n,i,r,o,a,s=e.childNodes,l=s.length,d=0,u="";l>d;d++){for(i=s[d],r=i.attributes,o=i.tagName,u+="<"+o,n=0,t=r.length;t>n;n++)a=r.item(n),u+=" "+a.name+'="'+a.value+'"';u+=">",i.childNodes.length>0&&(u+=c(i)),u+="</"+o+">"}return u},e.getDefs)k=c(e.getDefs());else for(f=e.gradientsColl,f&&(g=f.keys,p=f.items,m=0,x=g.length);x>m;m++){y=g[m],E=p[m],l=e.gradientsColl.getByKey(y),k+='<linearGradient id="'+y+'" x1="0" y1="0" x2="1" y2="1">';var T=l.colors.replace(a,"rgb($1|$2|$3)");for(T=T.replace(s,"rgba($1|$2|$3|$4)"),u=T.split(","),v=0,b=u.length;b>v;v++)h=u[v].split(" "),T=Ext.draw.Color.fromString(h[1].replace(/\|/g,",")),k+='<stop offset="'+h[0]+'" stop-color="'+T.toString()+'" stop-opacity="1"></stop>';k+="</linearGradient>"}for(P+="<defs>"+k+"</defs>",P+=d.rect({attr:{width:"100%",height:"100%",fill:"#fff",stroke:"none",opacity:"0"}}),C=new Array(r),v=0;r>v;v++)C[v]=v;for(C.sort(function(e,t){return w=o[e].attr.zIndex||0,S=o[t].attr.zIndex||0,w==S?e-t:w-S}),v=0;r>v;v++)t=o[C[v]],t.attr.hidden||(P+=d[t.type](t));return P+="</svg>"},h=function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(n+=t+'="'+e[t]+'" ');return n};return{singleton:!0,generate:function(e,t){return t=t||{},l(e),c()+u()}}}),Ext.define("Ext.draw.engine.Vml",{extend:Ext.draw.Surface,engine:"Vml",map:{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bitesRe:/([clmz]),?([^clmz]*)/gi,valRe:/-?[^,\s\-]+/g,fillUrlRe:/^url\(\s*['"]?([^\)]+?)['"]?\s*\)$/i,pathlike:/^(path|rect)$/,NonVmlPathRe:/[ahqstv]/gi,partialPathRe:/[clmz]/g,fontFamilyRe:/^['"]+|['"]+$/g,baseVmlCls:Ext.baseCSSPrefix+"vml-base",vmlGroupCls:Ext.baseCSSPrefix+"vml-group",spriteCls:Ext.baseCSSPrefix+"vml-sprite",measureSpanCls:Ext.baseCSSPrefix+"vml-measure-span",zoom:21600,coordsize:1e3,coordorigin:"0 0",zIndexShift:0,orderSpritesByZIndex:!1,path2vml:function(e){var t,n,i,r,o,a,s,l,d=this,c=d.NonVmlPathRe,u=d.map,h=d.valRe,f=d.zoom,g=d.bitesRe,p=Ext.Function.bind(Ext.draw.Draw.pathToAbsolute,Ext.draw.Draw);if(String(e).match(c))p=Ext.Function.bind(Ext.draw.Draw.path2curve,Ext.draw.Draw);else if(!String(e).match(d.partialPathRe))return t=String(e).replace(g,function(e,t,n){var i=[],r="m"==t.toLowerCase(),o=u[t];return n.replace(h,function(e){r&&2===i.length&&(o+=i+u["m"==t?"l":"L"],i=[]),i.push(Math.round(e*f))}),o+i});for(n=p(e),t=[],o=0,a=n.length;a>o;o++){for(i=n[o],r=n[o][0].toLowerCase(),"z"==r&&(r="x"),s=1,l=i.length;l>s;s++)r+=Math.round(i[s]*d.zoom)+(s!=l-1?",":"");t.push(r)}return t.join(" ")},translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},minDefaults:{circle:{fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start",font:'10px "Arial"',fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},onMouseEnter:function(e){this.fireEvent("mouseenter",e)},onMouseLeave:function(e){this.fireEvent("mouseleave",e)},processEvent:function(e,t){var n,i=t.getTarget();this.surface,this.fireEvent(e,t),n=this.items.get(i.id),n&&n.fireEvent(e,n,t)},createSpriteElement:function(e){var t,n,i,r=this,o=e.attr,a=e.type,s=r.zoom,l=e.vml||(e.vml={}),d=(Math.round,"image"===a?r.createNode("image"):r.createNode("shape"));return d.coordsize=s+" "+s,d.coordorigin=o.coordorigin||"0 0",Ext.get(d).addCls(r.spriteCls),"text"==a&&(l.path=t=r.createNode("path"),t.textpathok=!0,l.textpath=i=r.createNode("textpath"),i.on=!0,d.appendChild(i),d.appendChild(t)),d.id=e.id,e.el=Ext.get(d),e.el.setStyle("zIndex",-r.zIndexShift),r.el.appendChild(d),"image"!==a&&(n=r.createNode("skew"),n.on=!0,d.appendChild(n),e.skew=n),e.matrix=new Ext.draw.Matrix,e.bbox={plain:null,transform:null},this.applyAttrs(e),this.applyTransformations(e),e.fireEvent("render",e),e.el},getBBoxText:function(e){var t=e.vml;return{x:t.X+(t.bbx||0)-t.W/2,y:t.Y-t.H/2,width:t.W,height:t.H}},applyAttrs:function(e){var t,n,i,r,o,a,s,l,d,c=this,u=(e.vml,e.group),h=e.attr,f=e.el,g=f.dom;if(u){for(n=[].concat(u),r=n.length,i=0;r>i;i++)u=n[i],c.getGroup(u).add(e);delete e.group}o=c.scrubAttrs(e)||{},e.zIndexDirty&&c.setZIndex(e),Ext.applyIf(o,c.minDefaults[e.type]),"image"==e.type&&(Ext.apply(e.attr,{x:o.x,y:o.y,width:o.width,height:o.height}),f.setStyle({width:o.width+"px",height:o.height+"px"}),g.src=o.src),g.href&&(g.href=o.href),g.title&&(g.title=o.title),g.target&&(g.target=o.target),g.cursor&&(g.cursor=o.cursor),e.dirtyHidden&&(o.hidden?c.hidePrim(e):c.showPrim(e),e.dirtyHidden=!1),e.dirtyPath&&("circle"==e.type||"ellipse"==e.type?(a=o.x,s=o.y,l=o.rx||o.r||0,d=o.ry||o.r||0,g.path=Ext.String.format("ar{0},{1},{2},{3},{4},{1},{4},{1}",Math.round((a-l)*c.zoom),Math.round((s-d)*c.zoom),Math.round((a+l)*c.zoom),Math.round((s+d)*c.zoom),Math.round(a*c.zoom)),e.dirtyPath=!1):"text"!==e.type&&"image"!==e.type&&(e.attr.path=o.path=c.setPaths(e,o)||o.path,g.path=c.path2vml(o.path),e.dirtyPath=!1)),"clip-rect"in o&&c.setClip(e,o),"text"==e.type&&c.setTextAttributes(e,o),(o.opacity||o["stroke-opacity"]||o.fill)&&c.setFill(e,o),(o.stroke||o["stroke-opacity"]||o.fill)&&c.setStroke(e,o),t=h.style,t&&f.setStyle(t),e.dirty=!1},setZIndex:function(e){var t,n,i,r,o=this,a=e.attr.zIndex,s=o.zIndexShift;if(s>a){for(t=o.items.items,n=t.length,r=0;n>r;r++)(a=t[r].attr.zIndex)&&s>a&&(s=a);for(o.zIndexShift=s,r=0;n>r;r++)i=t[r],i.el&&i.el.setStyle("zIndex",i.attr.zIndex-s),i.zIndexDirty=!1}else e.el&&(e.el.setStyle("zIndex",a-s),e.zIndexDirty=!1)},setPaths:function(e,t){var n=e.attr;return e.attr["stroke-width"]||1,e.bbox.plain=null,e.bbox.transform=null,"circle"==e.type?(n.rx=n.ry=t.r,Ext.draw.Draw.ellipsePath(e)):"ellipse"==e.type?(n.rx=t.rx,n.ry=t.ry,Ext.draw.Draw.ellipsePath(e)):"rect"==e.type?(n.rx=n.ry=t.r,Ext.draw.Draw.rectPath(e)):"path"==e.type&&n.path?Ext.draw.Draw.pathToAbsolute(n.path):!1},setFill:function(e,t){var n,i,r,o,a=this,s=e.el.dom,l=s.fill,d=!1;l||(l=s.fill=a.createNode("fill"),d=!0),Ext.isArray(t.fill)&&(t.fill=t.fill[0]),"none"==t.fill?l.on=!1:("number"==typeof t.opacity&&(l.opacity=t.opacity),"number"==typeof t["fill-opacity"]&&(l.opacity=t["fill-opacity"]),l.on=!0,"string"==typeof t.fill&&(i=t.fill.match(a.fillUrlRe),i?(i=i[1],"#"==i.charAt(0)&&(n=a.gradientsColl.getByKey(i.substring(1))),n?(r=t.rotation,o=-(n.angle+270+(r?r.degrees:0))%360,0===o&&(o=180),l.angle=o,l.type="gradient",l.method="sigma",l.colors?l.colors.value=n.colors:l.colors=n.colors):(l.src=i,l.type="tile")):(l.color=Ext.draw.Color.toHex(t.fill),l.src="",l.type="solid"))),d&&s.appendChild(l)},setStroke:function(e,t){var n,i,r=this,o=e.el.dom,a=e.strokeEl,s=!1;a||(a=e.strokeEl=r.createNode("stroke"),s=!0),Ext.isArray(t.stroke)&&(t.stroke=t.stroke[0]),t.stroke&&"none"!=t.stroke&&0!=t.stroke&&0!=t["stroke-width"]?(a.on=!0,t.stroke&&!t.stroke.match(r.fillUrlRe)&&(a.color=Ext.draw.Color.toHex(t.stroke)),a.dashstyle=t["stroke-dasharray"]?"dash":"solid",a.joinstyle=t["stroke-linejoin"],a.endcap=t["stroke-linecap"]||"round",a.miterlimit=t["stroke-miterlimit"]||8,n=.75*parseFloat(t["stroke-width"]||1),i=t["stroke-opacity"]||1,Ext.isNumber(n)&&1>n?(a.weight=1,a.opacity=i*n):(a.weight=n,a.opacity=i)):a.on=!1,s&&o.appendChild(a)},setClip:function(e,t){var n=this,i=(e.el,e.clipEl),r=String(t["clip-rect"]).split(n.separatorRe);i||(i=e.clipEl=n.el.insertFirst(Ext.getDoc().dom.createElement("div")),i.addCls(Ext.baseCSSPrefix+"vml-sprite")),4==r.length?(r[2]=+r[2]+ +r[0],r[3]=+r[3]+ +r[1],i.setStyle("clip",Ext.String.format("rect({1}px {2}px {3}px {0}px)",r[0],r[1],r[2],r[3])),i.setSize(n.el.width,n.el.height)):i.setStyle("clip","")},setTextAttributes:function(e,t){var n,i,r=this,o=e.vml,a=o.textpath.style,s=r.span.style,l=r.zoom,d=(Math.round,{fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"});if(e.dirtyFont){t.font&&(a.font=s.font=t.font),t["font-family"]&&(a.fontFamily='"'+t["font-family"].split(",")[0].replace(r.fontFamilyRe,"")+'"',s.fontFamily=t["font-family"]);for(n in d)i=t[d[n]],i&&(a[n]=s[n]=i);r.setText(e,t.text),o.textpath.string&&(r.span.innerHTML=String(o.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br/>")),o.W=r.span.offsetWidth,o.H=r.span.offsetHeight+2,"middle"==t["text-anchor"]?a["v-text-align"]="center":"end"==t["text-anchor"]?(a["v-text-align"]="right",o.bbx=-Math.round(o.W/2)):(a["v-text-align"]="left",o.bbx=Math.round(o.W/2))}o.X=t.x,o.Y=t.y,o.path.v=Ext.String.format("m{0},{1}l{2},{1}",Math.round(o.X*l),Math.round(o.Y*l),Math.round(o.X*l)+1),e.bbox.plain=null,e.bbox.transform=null,e.dirtyFont=!1},setText:function(e,t){e.vml.textpath.string=Ext.htmlDecode(t)},hide:function(){this.el.hide()},show:function(){this.el.show()},hidePrim:function(e){e.el.addCls(Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(e){e.el.removeCls(Ext.baseCSSPrefix+"hide-visibility")},setSize:function(e,t){var n=this;e=e||n.width,t=t||n.height,n.width=e,n.height=t,n.el&&(void 0!=e&&n.el.setWidth(e),void 0!=t&&n.el.setHeight(t)),n.callParent(arguments)},applyViewBox:function(){var e,t,n,i=this,r=i.viewBox,o=i.width,a=i.height;if(i.callParent(),r&&(o||a))for(e=i.items.items,t=e.length,n=0;t>n;n++)i.applyTransformations(e[n])},onAdd:function(e){this.callParent(arguments),this.el&&this.renderItem(e)},onRemove:function(e){e.el&&(e.el.remove(),delete e.el),this.callParent(arguments)},render:function(e){var t,n=this,i=Ext.getDoc().dom;if(!n.createNode)try{i.namespaces.rvml||i.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),n.createNode=function(e){return i.createElement("<rvml:"+e+' class="rvml">')}}catch(r){n.createNode=function(e){return i.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}n.el||(t=i.createElement("div"),n.el=Ext.get(t),n.el.addCls(n.baseVmlCls),n.span=i.createElement("span"),Ext.get(n.span).addCls(n.measureSpanCls),t.appendChild(n.span),n.el.setSize(n.width||0,n.height||0),e.appendChild(t),n.el.on({scope:n,mouseup:n.onMouseUp,mousedown:n.onMouseDown,mouseover:n.onMouseOver,mouseout:n.onMouseOut,mousemove:n.onMouseMove,mouseenter:n.onMouseEnter,mouseleave:n.onMouseLeave,click:n.onClick,dblclick:n.onDblClick})),n.renderAll()},renderAll:function(){this.items.each(this.renderItem,this)},redraw:function(e){e.dirty=!0,this.renderItem(e)},renderItem:function(e){this.el&&(e.el||this.createSpriteElement(e),e.dirty&&(this.applyAttrs(e),e.dirtyTransform&&this.applyTransformations(e)))},rotationCompensation:function(e,t,n){var i=new Ext.draw.Matrix;return i.rotate(-e,.5,.5),{x:i.x(t,n),y:i.y(t,n)}},transform:function(e,t){for(var n,i,r,o=this,a=o.getBBox(e,!0),s=(a.x+.5*a.width,a.y+.5*a.height,new Ext.draw.Matrix),l=e.transformations,d=l.length,c=0,u=0,h=1,f=1,g=e.el,p=g.dom,m=p.style,x=(o.zoom,e.skew),y=o.viewBoxShift;d>c;c++)n=l[c],i=n.type,"translate"==i?s.translate(n.x,n.y):"rotate"==i?(s.rotate(n.degrees,n.x,n.y),u+=n.degrees):"scale"==i&&(s.scale(n.x,n.y,n.centerX,n.centerY),h*=n.x,f*=n.y);e.matrix=s.clone(),t||(y&&s.prepend(y.scale,0,0,y.scale,y.dx*y.scale,y.dy*y.scale),"image"!=e.type&&x?(x.origin="0,0",x.matrix=s.toString(),r=s.offset(),r[0]>32767?r[0]=32767:r[0]<-32768&&(r[0]=-32768),r[1]>32767?r[1]=32767:r[1]<-32768&&(r[1]=-32768),x.offset=r):(m.filter=s.toFilter(),m.left=Math.min(s.x(a.x,a.y),s.x(a.x+a.width,a.y),s.x(a.x,a.y+a.height),s.x(a.x+a.width,a.y+a.height))+"px",m.top=Math.min(s.y(a.x,a.y),s.y(a.x+a.width,a.y),s.y(a.x,a.y+a.height),s.y(a.x+a.width,a.y+a.height))+"px"))},createItem:function(e){return Ext.create("Ext.draw.Sprite",e)},getRegion:function(){return this.el.getRegion()},addCls:function(e,t){e&&e.el&&e.el.addCls(t)},removeCls:function(e,t){e&&e.el&&e.el.removeCls(t)
},addGradient:function(e){var t,n,i,r,o,a,s=this.gradientsColl||(this.gradientsColl=Ext.create("Ext.util.MixedCollection")),l=[],d=Ext.create("Ext.util.MixedCollection");for(d.addAll(e.stops),d.sortByKey("ASC",function(e,t){return e=parseInt(e,10),t=parseInt(t,10),e>t?1:t>e?-1:0}),t=d.keys,n=d.items,i=t.length,a=0;i>a;a++)r=t[a],o=n[a],l.push(r+"% "+o.color);s.add(e.id,{colors:l.join(","),angle:e.angle})},destroy:function(){var e=this;e.callParent(arguments),e.el&&e.el.remove(),delete e.el}}),Ext.define("Ext.flash.Component",{extend:Ext.Component,alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:!1,renderTpl:['<div id="{swfId}"></div>'],initComponent:function(){this.callParent(),this.addEvents("success","failure")},beforeRender:function(){this.callParent(),Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var e=this,t=Ext.apply({},e.flashParams),n=Ext.apply({},e.flashVars);e.callParent(),t=Ext.apply({allowScriptAccess:"always",bgcolor:e.backgroundColor,wmode:e.wmode},t),n=Ext.apply({allowedDomain:document.location.hostname},n),new swfobject.embedSWF(e.url,e.getSwfId(),e.swfWidth,e.swfHeight,e.flashVersion,e.expressInstall?e.statics.EXPRESS_INSTALL_URL:void 0,n,t,e.flashAttributes,Ext.bind(e.swfCallback,e))},swfCallback:function(e){var t=this;e.success?(t.swf=Ext.get(e.ref),t.onSuccess(),t.fireEvent("success",t)):(t.onFailure(),t.fireEvent("failure",t))},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var e=this,t=e.swf;t&&(swfobject.removeSWF(e.getSwfId()),Ext.destroy(t),delete e.swf),e.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}}),Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:!0,constructor:function(e){e&&Ext.apply(this,e);var t=e.params;Ext.isString(t)&&(this.params=Ext.Object.fromQueryString(t))},run:Ext.emptyFn,onFailure:function(e){this.response=e,this.failureType=Ext.form.action.Action.CONNECT_FAILURE,this.form.afterAction(this,!1)},processResponse:function(e){return this.response=e,e.responseText||e.responseXML?this.result=this.handleResponse(e):!0},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var e,t=this,n=t.form;return{success:t.onSuccess,failure:t.onFailure,scope:t,timeout:1e3*this.timeout||1e3*n.timeout,upload:n.fileUpload?t.onSuccess:e}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}}),Ext.define("Ext.form.action.Load",{extend:Ext.form.action.Action,alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(e){var t=this.processResponse(e),n=this.form;return t!==!0&&t.success&&t.data?(n.clearInvalid(),n.setValues(t.data),n.afterAction(this,!0),void 0):(this.failureType=Ext.form.action.Action.LOAD_FAILURE,n.afterAction(this,!1),void 0)},handleResponse:function(e){var t,n,i=this.form.reader;return i?(t=i.read(e),n=t.records&&t.records[0]?t.records[0].data:null,{success:t.success,data:n}):Ext.decode(e.responseText)}}),Ext.define("Ext.form.action.Submit",{extend:Ext.form.action.Action,alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var e=this,t=e.form;e.clientValidation===!1||t.isValid()?e.doSubmit():(e.failureType=Ext.form.action.Action.CLIENT_INVALID,t.afterAction(e,!1))},doSubmit:function(){var e,t=this,n=Ext.apply(t.createCallback(),{url:t.getUrl(),method:t.getMethod(),headers:t.headers}),i=t.form,r=t.jsonSubmit||i.jsonSubmit,o=r?"jsonData":"params";i.hasUpload()?(e=t.buildForm(),n.form=e.formEl,n.isUpload=!0):n[o]=t.getParams(r),Ext.Ajax.request(n),e&&t.cleanup(e)},cleanup:function(e){var t,n,i=e.formEl,r=e.uploadEls,o=e.uploadFields,a=o.length;for(t=0;a>t;++t)n=o[t],n.clearOnSubmit||n.restoreInput(r[t]);i&&Ext.removeNode(i)},getParams:function(e){var t=!1,n=this.callParent(),i=this.form.getValues(t,t,this.submitEmptyText!==t,e);return Ext.apply({},i,n)},buildForm:function(){var e,t,n,i,r,o,a,s,l,d=this,c=[],u=d.form,h=d.getParams(),f=[],g=[],p=u.getFields().items,m=p.length;for(n=0;m>n;++n)i=p[n],i.rendered&&i.isFileUpload()&&f.push(i);for(r in h)if(h.hasOwnProperty(r))if(o=h[r],Ext.isArray(o))for(s=o.length,a=0;s>a;a++)c.push(d.getFieldConfig(r,o[a]));else c.push(d.getFieldConfig(r,o));for(e={tag:"form",action:d.getUrl(),method:d.getMethod(),target:d.target||"_self",style:"display:none",cn:c},f.length&&(e.encoding=e.enctype="multipart/form-data"),t=Ext.DomHelper.append(Ext.getBody(),e),m=f.length,n=0;m>n;++n)l=f[n].extractFileInput(),t.appendChild(l),g.push(l);return{formEl:t,uploadFields:f,uploadEls:g}},getFieldConfig:function(e,t){return{tag:"input",type:"hidden",name:e,value:Ext.String.htmlEncode(t)}},onSuccess:function(e){var t=this.form,n=!0,i=this.processResponse(e);i===!0||i.success||(i.errors&&t.markInvalid(i.errors),this.failureType=Ext.form.action.Action.SERVER_INVALID,n=!1),t.afterAction(this,n)},handleResponse:function(e){var t,n,i,r,o,a,s=this.form,l=s.errorReader;if(l){if(t=l.read(e),o=t.records,n=[],o)for(i=0,r=o.length;r>i;i++)n[i]=o[i].data;n.length<1&&(n=null),a={success:t.success,errors:n}}else try{a=Ext.decode(e.responseText)}catch(d){a={success:!1,errors:[]}}return a}}),Ext.define("Ext.util.ComponentDragger",{extend:Ext.dd.DragTracker,autoStart:500,constructor:function(e,t){this.comp=e,this.initialConstrainTo=t.constrainTo,this.callParent([t])},onStart:function(){var e=this,t=e.comp;e.startPosition=t.getXY(),t.ghost&&!t.liveDrag&&(e.proxy=t.ghost(),e.dragTarget=e.proxy.header.el),(e.constrain||e.constrainDelegate)&&(e.constrainTo=e.calculateConstrainRegion()),t.beginDrag&&t.beginDrag()},calculateConstrainRegion:function(){var e,t,n,i=this,r=i.comp,o=i.initialConstrainTo,a=r.constraintInsets,s=i.proxy?i.proxy.el:r.el,l=!i.constrainDelegate&&s.shadow&&r.constrainShadow&&!s.shadowDisabled?s.shadow.getShadowSize():0;return o instanceof Ext.util.Region?o=o.copy():(e=Ext.fly(o),o=e.getViewRegion(),o.right=o.left+e.dom.clientWidth),a&&(a=Ext.isObject(a)?a:Ext.Element.parseBox(a),o.adjust(a.top,a.right,a.bottom,a.length)),l&&o.adjust(l[0],-l[1],-l[2],l[3]),i.constrainDelegate||(t=Ext.fly(i.dragTarget).getRegion(),n=s.getRegion(),o.adjust(t.top-n.top,t.right-n.right,t.bottom-n.bottom,t.left-n.left)),o},onDrag:function(){var e=this,t=e.proxy&&!e.comp.liveDrag?e.proxy:e.comp,n=e.getOffset(e.constrain||e.constrainDelegate?"dragTarget":null);t.setPagePosition(e.startPosition[0]+n[0],e.startPosition[1]+n[1])},onEnd:function(){var e=this.comp;e.isDestroyed||e.destroying||(this.proxy&&!e.liveDrag&&e.unghost(),e.endDrag&&e.endDrag())}}),Ext.define("Ext.window.Window",{extend:Ext.panel.Panel,alternateClassName:"Ext.Window",alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},isWindow:!0,initComponent:function(){var e=this;e.frame=!1,e.callParent(),e.addEvents("resize","maximize","minimize","restore"),e.plain&&e.addClsWithUI("plain"),e.modal&&(e.ariaRole="dialog"),e.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var e,t=this;return e=t.callParent(),e.tabIndex=-1,e},getState:function(){var e,t=this,n=t.callParent()||{},i=!!t.maximized,r=t.ghostBox;return n.maximized=i,e=i?t.restorePos:r?[r.x,r.y]:t.getPosition(),Ext.apply(n,{size:i?t.restoreSize:t.getSize(),pos:e}),n},applyState:function(e){var t=this;e&&(t.maximized=e.maximized,t.maximized?(t.hasSavedRestore=!0,t.restoreSize=e.size,t.restorePos=e.pos):Ext.apply(t,{width:e.size.width,height:e.size.height,x:e.pos[0],y:e.pos[1]}))},onRender:function(){var e=this;e.callParent(arguments),e.focusEl=e.el,e.maximizable&&e.header.on({scope:e,dblclick:e.toggleMaximize})},afterRender:function(){var e,t=this,n=t.header;t.callParent(),t.maximized&&(t.maximized=!1,t.maximize(),n&&n.removeCls(n.indicateDragCls)),t.closable?(e=t.getKeyMap(),e.on(27,t.onEsc,t)):e=t.keyMap,e&&t.hidden&&e.disable()},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){this.callParent(arguments),this.maximized&&this.resizer.disable()},onEsc:function(e,t){Ext.FocusManager&&Ext.FocusManager.enabled&&Ext.FocusManager.focusedCmp!==this||(t.stopEvent(),this.close())},beforeDestroy:function(){var e=this;e.rendered&&(delete this.animateTarget,e.hide(),Ext.destroy(e.keyMap)),e.callParent()},addTools:function(){var e=this;e.callParent(),e.minimizable&&e.addTool({type:"minimize",handler:Ext.Function.bind(e.minimize,e,[])}),e.maximizable&&(e.addTool({type:"maximize",handler:Ext.Function.bind(e.maximize,e,[])}),e.addTool({type:"restore",handler:Ext.Function.bind(e.restore,e,[]),hidden:!0}))},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var e,t,n=this,i=n.defaultButton||n.defaultFocus;return void 0!==i&&(Ext.isNumber(i)?e=n.query("button")[i]:Ext.isString(i)?(t=i,t.match(n.initialAlphaNum)&&(e=n.down("#"+t)),e||(e=n.down(t))):i.focus&&(e=i)),e||n.el},onFocus:function(){var e,t=this;Ext.FocusManager&&Ext.FocusManager.enabled||(e=t.getDefaultFocus())===t?t.callParent(arguments):e.focus()},onShow:function(){var e=this;e.callParent(arguments),e.expandOnShow&&e.expand(!1),e.syncMonitorWindowResize(),e.keyMap&&e.keyMap.enable()},doClose:function(){var e=this;e.hidden?(e.fireEvent("close",e),"destroy"==e.closeAction&&this.destroy()):e.hide(e.animateTarget,e.doClose,e)},afterHide:function(){var e=this;e.syncMonitorWindowResize(),e.keyMap&&e.keyMap.disable(),e.callParent(arguments)},onWindowResize:function(){var e,t=this;t.maximized?t.fitContainer():(e=t.getSizeModel(),(e.width.natural||e.height.natural)&&t.updateLayout(),t.doConstrain())},minimize:function(){return this.fireEvent("minimize",this),this},resumeHeaderLayout:function(e){this.header.resumeLayouts(e?this.isRootCfg:null)},afterCollapse:function(){var e=this,t=e.header,n=e.tools;t&&e.maximizable&&(t.suspendLayouts(),n.maximize.hide(),n.restore.hide(),this.resumeHeaderLayout(!0)),e.resizer&&e.resizer.disable(),e.callParent(arguments)},afterExpand:function(){var e,t=this,n=t.header,i=t.tools;n&&(n.suspendLayouts(),t.maximized?(i.restore.show(),e=!0):t.maximizable&&(i.maximize.show(),e=!0),this.resumeHeaderLayout(e)),t.resizer&&t.resizer.enable(),t.callParent(arguments)},maximize:function(e){var t,n=this,i=n.header,r=n.tools;return n.maximized||(n.expand(!1),n.hasSavedRestore||(n.restoreSize=n.getSize(),n.restorePos=n.getPosition(!0)),i&&(i.suspendLayouts(),r.maximize&&(r.maximize.hide(),t=!0),r.restore&&(r.restore.show(),t=!0),n.collapseTool&&(n.collapseTool.hide(),t=!0),n.resumeHeaderLayout(t)),n.maximized=!0,n.el.disableShadow(),n.dd&&(n.dd.disable(),i&&i.removeCls(i.indicateDragCls)),n.resizer&&n.resizer.disable(),n.el.addCls(Ext.baseCSSPrefix+"window-maximized"),n.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct"),n.syncMonitorWindowResize(),n.fitContainer(e=e||n.animateTarget?{callback:function(){n.fireEvent("maximize",n)}}:null),e||n.fireEvent("maximize",n)),n},restore:function(e){var t,n=this,i=n.tools,r=n.header,o=n.restoreSize;return n.maximized&&(n.hasSavedRestore=null,n.removeCls(Ext.baseCSSPrefix+"window-maximized"),r&&(r.suspendLayouts(),i.restore&&(i.restore.hide(),t=!0),i.maximize&&(i.maximize.show(),t=!0),n.collapseTool&&(n.collapseTool.show(),t=!0),n.resumeHeaderLayout(t)),n.maximized=!1,o.x=n.restorePos[0],o.y=n.restorePos[1],n.setBox(o,e=e||n.animateTarget?{callback:function(){n.el.enableShadow(!0),n.fireEvent("restore",n)}}:null),n.restorePos=n.restoreSize=null,n.dd&&(n.dd.enable(),r&&r.addCls(r.indicateDragCls)),n.resizer&&n.resizer.enable(),n.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct"),n.syncMonitorWindowResize(),e||(n.el.enableShadow(!0),n.fireEvent("restore",n))),n},syncMonitorWindowResize:function(){var e=this,t=e._monitoringResize,n=e.monitorResize||e.constrain||e.constrainHeader||e.maximized,i=e.hidden||e.destroying||e.isDestroyed;n&&!i?t||(Ext.EventManager.onWindowResize(e.onWindowResize,e,{delay:1}),e._monitoringResize=!0):t&&(Ext.EventManager.removeResizeListener(e.onWindowResize,e),e._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}}),Ext.define("Ext.form.Labelable",{autoEl:{tag:"table",cellpadding:0},childEls:["labelCell","labelEl","bodyEl","sideErrorCell","errorEl","inputRow"],labelableRenderTpl:['<tr role="presentation" id="{id}-inputRow" <tpl if="inFormLayout">id="{id}"</tpl> class="{inputRowCls}">','<tpl if="labelOnLeft">','<td role="presentation" id="{id}-labelCell" style="{labelCellStyle}" {labelCellAttrs}>',"{beforeLabelTpl}",'<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","{afterLabelTpl}","</td>","</tpl>",'<td role="presentation" class="{baseBodyCls} {fieldBodyCls} {extraFieldBodyCls}" id="{id}-bodyEl" colspan="{bodyColspan}" role="presentation">',"{beforeBodyEl}","<tpl if=\"labelAlign=='top'\">","{beforeLabelTpl}",'<div role="presentation" id="{id}-labelCell" style="{labelCellStyle}">','<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","</div>","{afterLabelTpl}","</tpl>","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","<tpl if=\"msgTarget==='side'\">","{afterBodyEl}","</td>","<td role=\"presentation\" id=\"{id}-sideErrorCell\" vAlign=\"{[values.labelAlign==='top' && !values.hideLabel ? 'bottom' : 'middle']}\" style=\"{[values.autoFitErrors ? 'display:none' : '']}\" width=\"{errorIconWidth}\">",'<div role="presentation" id="{id}-errorEl" class="{errorMsgCls}" style="display:none"></div>',"</td>","<tpl elseif=\"msgTarget=='under'\">",'<div role="presentation" id="{id}-errorEl" class="{errorMsgClass}" colspan="2" style="display:none"></div>',"{afterBodyEl}","</td>","</tpl>","</tr>",{disableFormats:!0}],activeErrorsTpl:void 0,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}"><tpl for="errors"><li role="alert">{.}</li></tpl></ul>',"</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],isFieldLabelable:!0,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",inputRowCls:Ext.baseCSSPrefix+"form-item-input-row",fieldBodyCls:"",clearCls:Ext.baseCSSPrefix+"clear",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:void 0,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:"qtip",noWrap:!0,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],labelableRenderProps:["allowBlank","id","labelAlign","fieldBodyCls","extraFieldBodyCls","baseBodyCls","clearCls","labelSeparator","msgTarget","inputRowCls"],initLabelable:function(){var e=this,t=e.padding;t&&(e.padding=void 0,e.extraMargins=Ext.Element.parseBox(t)),e.activeErrorsTpl||(e.activeErrorsTpl="title"==e.msgTarget?e.plaintextActiveErrorsTpl:e.htmlActiveErrorsTpl),e.addCls(Ext.plainTableCls),e.addCls(e.formItemCls),e.lastActiveError="",e.addEvents("errorchange"),e.enableBubble("errorchange")},trimLabelSeparator:function(){var e=this,t=e.labelSeparator,n=e.fieldLabel||"",i=n.substr(n.length-1);return i===t?n.slice(0,-1):n},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(e){e=e||"";var t=this,n=t.labelSeparator,i=t.labelEl;t.fieldLabel=e,t.rendered&&(Ext.isEmpty(e)&&t.hideEmptyLabel?i.parent().setDisplayed("none"):(n&&(e=t.trimLabelSeparator()+n),i.update(e),i.parent().setDisplayed("")),t.updateLayout())},getInsertionRenderData:function(e,t){for(var n,i,r=t.length;r--;)n=t[r],i=this[n],i&&"string"!=typeof i&&(i.isTemplate||(i=Ext.XTemplate.getTpl(this,n)),i=i.apply(e)),e[n]=i||"";return e},getLabelableRenderData:function(){var e,t,n=this,i="top"===n.labelAlign;return Ext.form.Labelable.errorIconWidth||(t=Ext.getBody().createChild({style:"position:absolute",cls:Ext.baseCSSPrefix+"form-invalid-icon"}),Ext.form.Labelable.errorIconWidth=t.getWidth()+t.getMargin("l"),t.remove()),e=Ext.copyTo({inFormLayout:n.ownerLayout&&"form"===n.ownerLayout.type,inputId:n.getInputId(),labelOnLeft:!i,hideLabel:!n.hasVisibleLabel(),fieldLabel:n.getFieldLabel(),labelCellStyle:n.getLabelCellStyle(),labelCellAttrs:n.getLabelCellAttrs(),labelCls:n.getLabelCls(),labelStyle:n.getLabelStyle(),bodyColspan:n.getBodyColspan(),externalError:!n.autoFitErrors,errorMsgCls:n.getErrorMsgCls(),errorIconWidth:Ext.form.Labelable.errorIconWidth},n,n.labelableRenderProps,!0),n.getInsertionRenderData(e,n.labelableInsertions),e},xhooks:{beforeRender:function(){var e=this;e.setFieldDefaults(e.getHierarchyState().fieldDefaults),e.ownerLayout&&e.addCls(Ext.baseCSSPrefix+e.ownerLayout.type+"-form-item")},onRender:function(){var e,t,n=this,i={};if(n.extraMargins){e=n.el.getMargin();for(t in e)e.hasOwnProperty(t)&&(i["margin-"+t]=e[t]+n.extraMargins[t]+"px");n.el.setStyle(i)}}},hasVisibleLabel:function(){return this.hideLabel?!1:!(this.hideEmptyLabel&&!this.getFieldLabel())},getLabelWidth:function(){var e=this;return e.hasVisibleLabel()?e.labelWidth+e.labelPad:0},getBodyColspan:function(){var e,t=this;return e="side"!==t.msgTarget||t.autoFitErrors&&!t.hasActiveError()?2:1,"top"===t.labelAlign||t.hasVisibleLabel()||e++,e},getLabelCls:function(){var e=this.labelCls+" "+Ext.dom.Element.unselectableCls,t=this.labelClsExtra;return t?e+" "+t:e},getLabelCellStyle:function(){var e=this,t=e.hideLabel||!e.getFieldLabel()&&e.hideEmptyLabel;return t?"display:none;":""},getErrorMsgCls:function(){var e=this,t=e.hideLabel||!e.fieldLabel&&e.hideEmptyLabel;return e.errorMsgCls+(t||"top"!==e.labelAlign?"":" "+Ext.baseCSSPrefix+"lbl-top-err-icon")},getLabelCellAttrs:function(){var e=this,t=e.labelAlign,n="";return"top"!==t&&(n='valign="top" halign="'+t+'" width="'+(e.labelWidth+e.labelPad)+'"'),n+' class="'+Ext.baseCSSPrefix+'field-label-cell"'},getLabelStyle:function(){var e=this,t=e.labelPad,n="";return"top"!==e.labelAlign&&(e.labelWidth&&(n="width:"+e.labelWidth+"px;"),t&&(n+="margin-right:"+t+"px;")),n+(e.labelStyle||"")},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(e){this.setActiveErrors(e)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(e){e=Ext.Array.from(e),this.activeError=e[0],this.activeErrors=e,this.activeError=this.getTpl("activeErrorsTpl").apply({errors:e,listCls:Ext.plainListCls}),this.renderActiveError()},unsetActiveError:function(){delete this.activeError,delete this.activeErrors,this.renderActiveError()},renderActiveError:function(){var e=this,t=e.getActiveError(),n=!!t;t!==e.lastActiveError&&(e.fireEvent("errorchange",e,t),e.lastActiveError=t),!e.rendered||e.isDestroyed||e.preventMark||(e.el[n?"addCls":"removeCls"](e.invalidCls),e.getActionEl().dom.setAttribute("aria-invalid",n),e.errorEl&&(e.errorEl.dom.innerHTML=t))},setFieldDefaults:function(e){var t;for(t in e)this.hasOwnProperty(t)||(this[t]=e[t])}}),Ext.define("Ext.form.field.Field",{isFormField:!0,disabled:!1,submitValue:!0,validateOnChange:!0,suspendCheckChange:0,initField:function(){this.addEvents("change","validitychange","dirtychange"),this.initValue()},initValue:function(){var e=this;e.value=e.transformOriginalValue(e.value),e.originalValue=e.lastValue=e.value,e.suspendCheckChange++,e.setValue(e.value),e.suspendCheckChange--},transformOriginalValue:Ext.identityFn,getName:function(){return this.name},getValue:function(){return this.value},setValue:function(e){var t=this;return t.value=e,t.checkChange(),t},isEqual:function(e,t){return String(e)===String(t)},isEqualAsString:function(e,t){return String(Ext.value(e,""))===String(Ext.value(t,""))},getSubmitData:function(){var e=this,t=null;return e.disabled||!e.submitValue||e.isFileUpload()||(t={},t[e.getName()]=""+e.getValue()),t},getModelData:function(){var e=this,t=null;return e.disabled||e.isFileUpload()||(t={},t[e.getName()]=e.getValue()),t},reset:function(){var e=this;e.beforeReset(),e.setValue(e.originalValue),e.clearInvalid(),delete e.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue(),this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange){var e=this,t=e.getValue(),n=e.lastValue;e.isEqual(t,n)||e.isDestroyed||(e.lastValue=t,e.fireEvent("change",e,t,n),e.onChange(t,n))}},onChange:function(){this.validateOnChange&&this.validate(),this.checkDirty()},isDirty:function(){var e=this;return!e.disabled&&!e.isEqual(e.getValue(),e.originalValue)},checkDirty:function(){var e=this,t=e.isDirty();t!==e.wasDirty&&(e.fireEvent("dirtychange",e,t),e.onDirtyChange(t),e.wasDirty=t)},onDirtyChange:Ext.emptyFn,getErrors:function(){return[]},isValid:function(){var e=this;return e.disabled||Ext.isEmpty(e.getErrors())},validate:function(){var e=this,t=e.isValid();return t!==e.wasValid&&(e.wasValid=t,e.fireEvent("validitychange",e,t)),t},batchChanges:function(e){try{this.suspendCheckChange++,e()}catch(t){throw t}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return!1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.define("Ext.layout.component.field.Field",{extend:Ext.layout.component.Auto,alias:"layout.field",type:"field",naturalSizingProp:"size",beginLayout:function(e){var t=this,n=t.owner;t.callParent(arguments),e.labelStrategy=t.getLabelStrategy(),e.errorStrategy=t.getErrorStrategy(),e.labelContext=e.getEl("labelEl"),e.bodyCellContext=e.getEl("bodyEl"),e.inputContext=e.getEl("inputEl"),e.errorContext=e.getEl("errorEl"),Ext.isIE7m&&Ext.isStrict&&e.inputContext&&(t.ieInputWidthAdjustment=e.inputContext.getPaddingInfo().width+e.inputContext.getBorderInfo().width),e.labelStrategy.prepare(e,n),e.errorStrategy.prepare(e,n)},beginLayoutCycle:function(e){var t,n=this,i=n.owner,r=e.widthModel,o=i[n.naturalSizingProp];n.callParent(arguments),r.shrinkWrap?n.beginLayoutShrinkWrap(e):r.natural?("number"!=typeof o||i.inputWidth?n.beginLayoutShrinkWrap(e):n.beginLayoutFixed(e,t=6.5*o+20,"px"),e.setWidth(t,!1)):n.beginLayoutFixed(e,"100","%")},beginLayoutFixed:function(e,t,n){var i=e.target,r=i.inputEl,o=i.inputWidth;i.el.setStyle("table-layout","fixed"),i.bodyEl.setStyle("width",t+n),r&&(o?r.setStyle("width",o+"px"):r.setStyle("width",i.stretchInputElFixed?"100%":"")),e.isFixed=!0},beginLayoutShrinkWrap:function(e){var t=e.target,n=t.inputEl,i=t.inputWidth;n&&n.dom&&(n.dom.removeAttribute("size"),i?n.setStyle("width",i+"px"):n.setStyle("width","")),t.el.setStyle("table-layout","auto"),t.bodyEl.setStyle("width","")},finishedLayout:function(e){var t=this.owner;this.callParent(arguments),e.labelStrategy.finishedLayout(e,t),e.errorStrategy.finishedLayout(e,t)},calculateOwnerHeightFromContentHeight:function(e,t){return t},measureContentHeight:function(e){return e.el.getHeight()},measureContentWidth:function(e){return e.el.getWidth()},measureLabelErrorHeight:function(e){return e.labelStrategy.getHeight(e)+e.errorStrategy.getHeight(e)},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},getLabelStrategy:function(){var e=this,t=e.labelStrategies,n=e.owner.labelAlign;return t[n]||t.base},getErrorStrategy:function(){var e=this,t=e.owner,n=e.errorStrategies,i=t.msgTarget;return!t.preventMark&&Ext.isString(i)?n[i]||n.elementId:n.none},labelStrategies:function(){var e={prepare:function(e,t){var n=t.labelCls+"-"+t.labelAlign,i=t.labelEl;i&&i.addCls(n)},getHeight:function(){return 0},finishedLayout:Ext.emptyFn};return{base:e,top:Ext.applyIf({getHeight:function(e){var t=e.labelContext,n=t.props,i=n.height;return void 0===i&&(n.height=i=t.el.getHeight()),i}},e),left:e,right:e}}(),errorStrategies:function(){function e(e){var t,n=Ext.layout.component.field.Field.tip;n&&n.isVisible()&&(t=n.activeTarget,t&&t.el===e.getActionEl().dom&&n.toFront(!0))}var t,n=Ext.applyIf,i=Ext.emptyFn,r=Ext.baseCSSPrefix+"form-invalid-icon",o={prepare:function(e,t){var n=t.errorEl;n&&n.setDisplayed(!1)},getHeight:function(){return 0},onFocus:i,finishedLayout:i};return{none:o,side:n({prepare:function(e,n){var i,o=n.errorEl,a=n.sideErrorCell,s=n.hasActiveError();t||(t=(i=Ext.getBody().createChild({style:"position:absolute",cls:r})).getWidth(),i.remove()),o.addCls(r),o.set({"data-errorqtip":n.getActiveError()||""}),n.autoFitErrors?o.setDisplayed(s):o.setVisible(s),a&&n.autoFitErrors&&a.setDisplayed(s),n.bodyEl.dom.colSpan=n.getBodyColspan(),Ext.layout.component.field.Field.initTip()},onFocus:e},o),under:n({prepare:function(e,t){var n=t.errorEl,i=Ext.baseCSSPrefix+"form-invalid-under";n.addCls(i),n.setDisplayed(t.hasActiveError())},getHeight:function(e){var t,n,i=0;return e.target.hasActiveError()&&(t=e.errorContext,n=t.props,i=n.height,void 0===i&&(n.height=i=t.el.getHeight())),i}},o),qtip:n({prepare:function(e,t){Ext.layout.component.field.Field.initTip(),t.getActionEl().dom.setAttribute("data-errorqtip",t.getActiveError()||"")},onFocus:e},o),title:n({prepare:function(e,t){t.getActionEl().dom.setAttribute("title",t.getActiveError()||"")}},o),elementId:n({prepare:function(e,t){var n=Ext.fly(t.msgTarget);n&&(n.dom.innerHTML=t.getActiveError()||"",n.setDisplayed(t.hasActiveError()))}},o)}}(),statics:{initTip:function(){var e=this.tip;e||(e=this.tip=Ext.create("Ext.tip.QuickTip",{ui:"form-invalid"}),e.tagConfig=Ext.apply({},{attribute:"errorqtip"},e.tagConfig))},destroyTip:function(){var e=this.tip;e&&(e.destroy(),delete this.tip)}}}),Ext.define("Ext.form.field.Base",{extend:Ext.Component,mixins:{labelable:Ext.form.Labelable,field:Ext.form.field.Field},alias:"widget.field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],fieldSubTpl:['<input id="{id}" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:!0}],subTplInsertions:["inputAttrTpl"],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",readOnly:!1,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:!0,hasFocus:!1,baseCls:Ext.baseCSSPrefix+"field",maskOnDisable:!1,stretchInputElFixed:!0,initComponent:function(){var e=this;e.callParent(),e.subTplData=e.subTplData||{},e.addEvents("specialkey","writeablechange"),e.initLabelable(),e.initField(),e.name||(e.name=e.getInputId()),e.readOnly&&e.addCls(e.readOnlyCls),e.addCls(Ext.baseCSSPrefix+"form-type-"+e.inputType)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(){var e,t=this,n=t.inputType,i=t.getInputId();return e=Ext.apply({id:i,cmpId:t.id,name:t.name||i,disabled:t.disabled,readOnly:t.readOnly,value:t.getRawValue(),type:n,fieldCls:t.fieldCls,fieldStyle:t.getFieldStyle(),tabIdx:t.tabIndex,inputCls:t.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+("password"===n?"text":n)},t.subTplData),t.getInsertionRenderData(e,t.subTplInsertions),e},applyRenderSelectors:function(){var e=this;e.callParent(),e.addChildEls("inputEl"),e.inputEl=e.el.getById(e.getInputId())},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initRenderTpl:function(){var e=this;return e.hasOwnProperty("renderTpl")||(e.renderTpl=e.getTpl("labelableRenderTpl")),e.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(e){var t=this,n=t.inputEl;n&&n.applyStyles(e),t.fieldStyle=e},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},onRender:function(){this.callParent(arguments),this.renderActiveError()},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return"file"===this.inputType},getSubmitData:function(){var e,t=this,n=null;return t.disabled||!t.submitValue||t.isFileUpload()||(e=t.getSubmitValue(),null!==e&&(n={},n[t.getName()]=e)),n},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var e=this,t=e.inputEl?e.inputEl.getValue():Ext.value(e.rawValue,"");return e.rawValue=t,t},setRawValue:function(e){var t=this;return e=Ext.value(t.transformRawValue(e),""),t.rawValue=e,t.inputEl&&(t.inputEl.dom.value=e),e},transformRawValue:Ext.identityFn,valueToRaw:function(e){return""+Ext.value(e,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var e=this,t=e.rawToValue(e.processRawValue(e.getRawValue()));return e.value=t,t},setValue:function(e){var t=this;return t.setRawValue(t.valueToRaw(e)),t.mixins.field.setValue.call(t,e)},onBoxReady:function(){var e=this;e.callParent(),e.setReadOnlyOnBoxReady&&e.setReadOnly(e.readOnly)},onDisable:function(){var e=this,t=e.inputEl;e.callParent(),t&&(t.dom.disabled=!0,e.hasActiveError()&&(e.clearInvalid(),e.needsValidateOnEnable=!0))},onEnable:function(){var e=this,t=e.inputEl;e.callParent(),t&&(t.dom.disabled=!1,e.needsValidateOnEnable&&(delete e.needsValidateOnEnable,e.forceValidation=!0,e.isValid(),delete e.forceValidation))},setReadOnly:function(e){var t=this,n=t.inputEl;e=!!e,t[e?"addCls":"removeCls"](t.readOnlyCls),t.readOnly=e,n?n.dom.readOnly=e:t.rendering&&(t.setReadOnlyOnBoxReady=!0),t.fireEvent("writeablechange",t,e)},fireKey:function(e){e.isSpecialKey()&&this.fireEvent("specialkey",this,new Ext.EventObjectImpl(e))},initEvents:function(){var e,t,n,i,r=this,o=r.inputEl,a=r.checkChangeEvents,s=a.length;if(o)for(r.mon(o,Ext.EventManager.getKeyEvent(),r.fireKey,r),e=new Ext.util.DelayedTask(r.checkChange,r),r.onChangeEvent=t=function(){e.delay(r.checkChangeBuffer)},n=0;s>n;n++)i=a[n],"propertychange"===i&&(r.usesPropertychange=!0),r.mon(o,i,t);r.callParent()},doComponentLayout:function(){var e=this,t=e.inputEl,n=e.usesPropertychange,i="propertychange",r=e.onChangeEvent;n&&e.mun(t,i,r),e.callParent(arguments),n&&e.mon(t,i,r)},onDirtyChange:function(e){this[e?"addCls":"removeCls"](this.dirtyCls)
},isValid:function(){var e=this,t=e.disabled,n=e.forceValidation||!t;return n?e.validateValue(e.processRawValue(e.getRawValue())):t},validateValue:function(e){var t=this,n=t.getErrors(e),i=Ext.isEmpty(n);return t.preventMark||(i?t.clearInvalid():t.markInvalid(n)),i},markInvalid:function(e){var t,n=this,i=n.getActiveError();n.setActiveErrors(Ext.Array.from(e)),t=n.getActiveError(),i!==t&&n.setError(t)},clearInvalid:function(){var e=this,t=e.hasActiveError();delete e.needsValidateOnEnable,e.unsetActiveError(),t&&e.setError("")},setError:function(e){var t,n=this,i=n.msgTarget;n.rendered&&("title"==i||"qtip"==i?(n.rendered&&(t="qtip"==i?"data-errorqtip":"title"),n.getActionEl().dom.setAttribute(t,e||"")):n.updateLayout())},renderActiveError:function(){var e=this,t=e.hasActiveError();e.inputEl&&e.inputEl[t?"addCls":"removeCls"](e.invalidCls+"-field"),e.mixins.labelable.renderActiveError.call(e)},getActionEl:function(){return this.inputEl||this.el}}),Ext.define("Ext.form.field.VTypes",function(){var e=/^[a-zA-Z_]+$/,t=/^[a-zA-Z0-9_]+$/,n=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,i=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:!0,alternateClassName:"Ext.form.VTypes",email:function(e){return n.test(e)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(e){return i.test(e)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(t){return e.test(t)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(e){return t.test(e)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}()),Ext.define("Ext.layout.component.field.Text",{extend:Ext.layout.component.field.Field,alias:"layout.textfield",type:"textfield",canGrowWidth:!0,beginLayoutCycle:function(e){this.callParent(arguments),e.heightModel.shrinkWrap&&e.inputContext.el.setStyle("height","")},measureContentWidth:function(e){var t,n,i,r,o,a=this,s=a.owner,l=a.callParent(arguments),d=e.inputContext;return s.grow&&a.canGrowWidth&&!e.state.growHandled&&(t=s.inputEl,n=Ext.util.Format.htmlEncode(t.dom.value||(s.hasFocus?"":s.emptyText)||""),n+=s.growAppend,i=t.getTextWidth(n)+d.getFrameInfo().width,r=s.growMax,o=Math.min(r,l),r=Math.max(s.growMin,r,o),i=Ext.Number.constrain(i,s.growMin,r),d.setWidth(i),e.state.growHandled=!0,d.domBlock(a,"width"),l=0/0),l},publishInnerHeight:function(e,t){e.inputContext.setHeight(t-this.measureLabelErrorHeight(e))},beginLayoutFixed:function(e,t,n){var i=this,r=i.ieInputWidthAdjustment;r&&(i.adjustIEInputPadding(e),"px"===n&&(t-=r)),i.callParent(arguments)},adjustIEInputPadding:function(){this.owner.bodyEl.setStyle("padding-right",this.ieInputWidthAdjustment+"px")}}),Ext.define("Ext.form.field.Text",{extend:Ext.form.field.Base,alias:"widget.textfield",alternateClassName:["Ext.form.TextField","Ext.form.Text"],size:20,growMin:30,growMax:800,growAppend:"W",allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",componentLayout:"textfield",valueContainsPlaceholder:!1,initComponent:function(){var e=this;e.allowOnlyWhitespace===!1&&(e.allowBlank=!1),e.callParent(),e.addEvents("autosize","keydown","keyup","keypress"),e.addStateEvents("change"),e.setGrowSizePolicy()},setGrowSizePolicy:function(){this.grow&&(this.shrinkWrap|=1)},initEvents:function(){var e=this,t=e.inputEl;e.callParent(),(e.selectOnFocus||e.emptyText)&&e.mon(t,"mousedown",e.onMouseDown,e),(e.maskRe||e.vtype&&e.disableKeyFilter!==!0&&(e.maskRe=Ext.form.field.VTypes[e.vtype+"Mask"]))&&e.mon(t,"keypress",e.filterKeys,e),e.enableKeyEvents&&e.mon(t,{scope:e,keyup:e.onKeyUp,keydown:e.onKeyDown,keypress:e.onKeyPress})},isEqual:function(e,t){return this.isEqualAsString(e,t)},onChange:function(){this.callParent(arguments),this.autoSize()},getSubTplData:function(){var e,t=this,n=t.getRawValue(),i=t.emptyText&&n.length<1,r=t.maxLength;return t.enforceMaxLength?r===Number.MAX_VALUE&&(r=void 0):r=void 0,i&&(Ext.supports.Placeholder?e=t.emptyText:(n=t.emptyText,t.valueContainsPlaceholder=!0)),Ext.apply(t.callParent(),{maxLength:r,readOnly:t.readOnly,placeholder:e,value:n,fieldCls:t.fieldCls+(i&&(e||n)?" "+t.emptyCls:"")+(t.allowBlank?"":" "+t.requiredCls)})},afterRender:function(){this.autoSize(),this.callParent()},onMouseDown:function(){var e=this;e.hasFocus||e.mon(e.inputEl,"mouseup",Ext.emptyFn,e,{single:!0,preventDefault:!0})},processRawValue:function(e){var t,n=this,i=n.stripCharsRe;return i&&(t=e.replace(i,""),t!==e&&(n.setRawValue(t),e=t)),e},onDisable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="on")},onEnable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="")},onKeyDown:function(e){this.fireEvent("keydown",this,e)},onKeyUp:function(e){this.fireEvent("keyup",this,e)},onKeyPress:function(e){this.fireEvent("keypress",this,e)},reset:function(){this.callParent(),this.applyEmptyText()},applyEmptyText:function(){var e,t=this,n=t.emptyText;t.rendered&&n&&(e=t.getRawValue().length<1&&!t.hasFocus,Ext.supports.Placeholder?t.inputEl.dom.placeholder=n:e&&(t.setRawValue(n),t.valueContainsPlaceholder=!0),e&&t.inputEl.addCls(t.emptyCls),t.autoSize())},afterFirstLayout:function(){if(this.callParent(),Ext.isIE&&this.disabled){var e=this.inputEl;e&&(e.dom.unselectable="on")}},beforeFocus:function(){var e,t=this,n=t.inputEl,i=t.emptyText;t.callParent(arguments),i&&!Ext.supports.Placeholder&&n.dom.value===t.emptyText&&t.valueContainsPlaceholder?(t.setRawValue(""),e=!0,n.removeCls(t.emptyCls),t.valueContainsPlaceholder=!1):Ext.supports.Placeholder&&t.inputEl.removeCls(t.emptyCls),(t.selectOnFocus||e)&&(Ext.isWebKit?(t.inputFocusTask||(t.inputFocusTask=new Ext.util.DelayedTask(t.focusInput,t)),t.inputFocusTask.delay(1)):n.dom.select())},focusInput:function(){var e=this.inputEl;e&&(e=e.dom,e&&e.select())},onFocus:function(){var e=this;e.callParent(arguments),e.emptyText&&e.autoSize()},postBlur:function(){this.callParent(arguments),this.applyEmptyText()},filterKeys:function(e){if(!e.ctrlKey||e.altKey){var t=e.getKey(),n=String.fromCharCode(e.getCharCode());(Ext.isGecko||Ext.isOpera)&&(e.isNavKeyPress()||t===e.BACKSPACE||t===e.DELETE&&-1===e.button)||(Ext.isGecko||Ext.isOpera||!e.isSpecialKey()||n)&&(this.maskRe.test(n)||e.stopEvent())}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(e){this.callParent(arguments),e.hasOwnProperty("value")&&this.setValue(e.value)},getRawValue:function(){var e=this,t=e.callParent();return t===e.emptyText&&e.valueContainsPlaceholder&&(t=""),t},setValue:function(e){var t=this,n=t.inputEl;return n&&t.emptyText&&!Ext.isEmpty(e)&&(n.removeCls(t.emptyCls),t.valueContainsPlaceholder=!1),t.callParent(arguments),t.applyEmptyText(),t},getErrors:function(e){var t,n,i,r=this,o=r.callParent(arguments),a=r.validator,s=r.vtype,l=Ext.form.field.VTypes,d=r.regex,c=Ext.String.format;if(e=e||r.processRawValue(r.getRawValue()),Ext.isFunction(a)&&(t=a.call(r,e),t!==!0&&o.push(t)),n=r.allowOnlyWhitespace?e:Ext.String.trim(e),n.length<1||e===r.emptyText&&r.valueContainsPlaceholder){if(r.allowBlank||o.push(r.blankText),!r.validateBlank)return o;i=!0}return!i&&e.length<r.minLength&&o.push(c(r.minLengthText,r.minLength)),e.length>r.maxLength&&o.push(c(r.maxLengthText,r.maxLength)),s&&(l[s](e,r)||o.push(r.vtypeText||l[s+"Text"])),d&&!d.test(e)&&o.push(r.regexText||r.invalidText),o},selectText:function(e,t){var n,i,r=this,o=r.getRawValue(),a=!0,s=r.inputEl.dom;o.length>0&&(e=e===n?0:e,t=t===n?o.length:t,s.setSelectionRange?s.setSelectionRange(e,t):s.createTextRange&&(i=s.createTextRange(),i.moveStart("character",e),i.moveEnd("character",t-o.length),i.select()),a=Ext.isGecko||Ext.isOpera),a&&r.focus()},autoSize:function(){var e=this;e.grow&&e.rendered&&(e.autoSizing=!0,e.updateLayout())},afterComponentLayout:function(){var e,t=this;t.callParent(arguments),t.autoSizing&&(e=t.inputEl.getWidth(),e!==t.lastInputWidth&&(t.fireEvent("autosize",t,e),t.lastInputWidth=e,delete t.autoSizing))},onDestroy:function(){var e=this;e.callParent(),e.inputFocusTask&&(e.inputFocusTask.cancel(),e.inputFocusTask=null)}}),Ext.define("Ext.layout.component.field.TextArea",{extend:Ext.layout.component.field.Text,alias:"layout.textareafield",type:"textareafield",canGrowWidth:!1,naturalSizingProp:"cols",beginLayout:function(e){this.callParent(arguments),e.target.inputEl.setStyle("height","")},measureContentHeight:function(e){var t,n,i,r,o,a=this,s=a.owner,l=a.callParent(arguments);return s.grow&&!e.state.growHandled&&(t=e.inputContext,n=s.inputEl,r=n.getWidth(!0),i=Ext.util.Format.htmlEncode(n.dom.value)||"&#160;",i+=s.growAppend,i=i.replace(/\n/g,"<br/>"),o=Ext.util.TextMetrics.measure(n,i,r).height+t.getBorderInfo().height+t.getPaddingInfo().height,o=Ext.Number.constrain(o,s.growMin,s.growMax),t.setHeight(o),e.state.growHandled=!0,t.domBlock(a,"height"),l=0/0),l}}),Ext.define("Ext.form.field.TextArea",{extend:Ext.form.field.Text,alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="rows"> rows="{rows}" </tpl>','<tpl if="cols"> cols="{cols}" </tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:!0}],growMin:60,growMax:1e3,growAppend:"\n-",cols:20,rows:4,enterIsSpecial:!1,preventScrollbars:!1,componentLayout:"textareafield",setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",getSubTplData:function(){var e=this,t=e.getFieldStyle(),n=e.callParent();return e.grow&&e.preventScrollbars&&(n.fieldStyle=(t||"")+";overflow:hidden;height:"+e.growMin+"px"),Ext.applyIf(n,{cols:e.cols,rows:e.rows}),n},afterRender:function(){var e=this;e.callParent(arguments),e.needsMaxCheck=e.enforceMaxLength&&e.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength,e.needsMaxCheck&&e.inputEl.on("paste",e.onPaste,e)},transformRawValue:function(e){return this.stripReturns(e)},transformOriginalValue:function(e){return this.stripReturns(e)},getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(e){return e=this.stripReturns(e),this.callParent([e])},stripReturns:function(e){return e&&"string"==typeof e&&(e=e.replace(this.returnRe,"")),e},onPaste:function(){var e=this;e.pasteTask||(e.pasteTask=new Ext.util.DelayedTask(e.pasteCheck,e)),e.pasteTask.delay(1)},pasteCheck:function(){var e=this,t=e.getValue(),n=e.maxLength;t.length>n&&(t=t.substr(0,n),e.setValue(t))},fireKey:function(e){var t,n=this,i=e.getKey();e.isSpecialKey()&&(n.enterIsSpecial||i!==e.ENTER||e.hasModifier())&&n.fireEvent("specialkey",n,e),!n.needsMaxCheck||i===e.BACKSPACE||i===e.DELETE||e.isNavKeyPress()||n.isCutCopyPasteSelectAll(e,i)||(t=n.getValue(),t.length>=n.maxLength&&e.stopEvent())},isCutCopyPasteSelectAll:function(e,t){return e.ctrlKey?t===e.A||t===e.C||t===e.V||t===e.X:!1},autoSize:function(){var e,t=this;t.grow&&t.rendered&&(t.updateLayout(),e=t.inputEl.getHeight(),e!==t.lastInputHeight&&(t.fireEvent("autosize",t,e),t.lastInputHeight=e))},initAria:function(){this.callParent(arguments),this.getActionEl().dom.setAttribute("aria-multiline",!0)},beforeDestroy:function(){var e=this.pasteTask;e&&(e.cancel(),this.pasteTask=null),this.callParent()}}),Ext.define("Ext.form.field.Display",{extend:Ext.form.field.Base,alias:"widget.displayfield",alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}" role="input" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls}">{value}</div>',{compiled:!0,disableFormats:!0}],readOnly:!0,fieldCls:Ext.baseCSSPrefix+"form-display-field",fieldBodyCls:Ext.baseCSSPrefix+"form-display-field-body",htmlEncode:!1,noWrap:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,isDirty:function(){return!1},isValid:function(){return!0},validate:function(){return!0},getRawValue:function(){return this.rawValue},setRawValue:function(e){var t=this;return e=Ext.value(e,""),t.rawValue=e,t.rendered&&(t.inputEl.dom.innerHTML=t.getDisplayValue(),t.updateLayout()),e},getDisplayValue:function(){var e,t=this,n=this.getRawValue();return e=t.renderer?t.renderer.call(t.scope||t,n,t):t.htmlEncode?Ext.util.Format.htmlEncode(n):n},getSubTplData:function(){var e=this.callParent(arguments);return e.value=this.getDisplayValue(),e}}),Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:Ext.layout.container.Auto,alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,beginLayoutCycle:function(e){var t,n,i,r,o,a=this,s=0;for(a.callParent(arguments),i=e.childItems,o=i.length,r=0;o>r&&(n=i[r],t=n.target.anchorSpec,!t||(n.widthModel.calculated&&t.right&&(s|=1),n.heightModel.calculated&&t.bottom&&(s|=2),3!=s));++r);e.anchorDimensions=s},calculateItems:function(e,t){var n,i,r,o,a,s,l=this,d=e.childItems,c=d.length,u=t.gotHeight,h=t.gotWidth,f=t.height,g=t.width,p=(h?1:0)|(u?2:0),m=e.anchorDimensions;if(!m)return!0;for(a=0;c>a;a++)i=d[a],r=i.getMarginInfo(),n=i.target.anchorSpec,h&&i.widthModel.calculated&&(s=n.right(g)-r.width,s=l.adjustWidthAnchor(s,i),i.setWidth(s)),u&&i.heightModel.calculated&&(o=n.bottom(f)-r.height,o=l.adjustHeightAnchor(o,i),i.setHeight(o));return(p&m)===m},anchorFactory:{offset:function(e){return function(t){return t+e}},ratio:function(e){return function(t){return Math.floor(t*e)}},standard:function(e){return function(t){return t-e}}},parseAnchor:function(e,t,n){if(e&&"none"!=e){var i,r=this.anchorFactory;if(this.parseAnchorRE.test(e))return r.standard(n-t);if(-1!=e.indexOf("%"))return r.ratio(.01*parseFloat(e.replace("%","")));if(i=parseInt(e,10),!isNaN(i))return r.offset(i)}return null},adjustWidthAnchor:function(e){return e},adjustHeightAnchor:function(e){return e},configureItem:function(e){var t,n,i,r=this,o=r.owner,a=e.anchor;r.callParent(arguments),e.anchor||!e.items||Ext.isNumber(e.width)||Ext.isIE6&&Ext.isStrict||(e.anchor=a=r.defaultAnchor),o.anchorSize?"number"==typeof o.anchorSize?n=o.anchorSize:(n=o.anchorSize.width,i=o.anchorSize.height):(n=o.initialConfig.width,i=o.initialConfig.height),a&&(t=a.split(" "),e.anchorSpec={right:r.parseAnchor(t[0],e.initialConfig.width,n),bottom:r.parseAnchor(t[1],e.initialConfig.height,i)})},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var t,n=e.anchorSpec,i="$",r=this.sizePolicy;return n&&(t=this.owner.getSizeModel(),n.right&&!t.width.shrinkWrap&&(r=r.r),n.bottom&&!t.height.shrinkWrap&&(i="b")),r[i]}}),Ext.define("Ext.window.MessageBox",{extend:Ext.window.Window,alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:!1,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:!0,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hide-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},iconHeight:35,iconWidth:50,makeButton:function(e){var t=this.buttonIds[e];return new Ext.button.Button({handler:this.btnCallback,itemId:t,scope:this,text:this.buttonText[t],minWidth:75})},btnCallback:function(e){var t,n,i=this;(i.cfg.prompt||i.cfg.multiline)&&(n=i.cfg.multiline?i.textArea:i.textField,t=n.getValue(),n.reset()),i.hide(),i.userCallback(e.itemId,t,i.cfg)},hide:function(){var e=this,t=e.cfg.cls;e.dd.endDrag(),e.progressBar.reset(),t&&e.removeCls(t),e.callParent(arguments)},constructor:function(){var e=this;e.callParent(arguments),e.minWidth=e.defaultMinWidth=e.minWidth||e.defaultMinWidth,e.maxWidth=e.defaultMaxWidth=e.maxWidth||e.defaultMaxWidth,e.minHeight=e.defaultMinHeight=e.minHeight||e.defaultMinHeight,e.maxHeight=e.defaultMaxHeight=e.maxHeight||e.defaultMaxHeight},initComponent:function(){var e,t,n=this,i=n.id;for(n.title="&#160;",n.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[n.iconComponent=new Ext.Component({width:n.iconWidth,height:n.iconHeight}),n.promptContainer=new Ext.container.Container({flex:1,layout:"anchor",items:[n.msg=new Ext.form.field.Display({id:i+"-displayfield",cls:n.baseCls+"-text"}),n.textField=new Ext.form.field.Text({id:i+"-textfield",anchor:"100%",enableKeyEvents:!0,listeners:{keydown:n.onPromptKey,scope:n}}),n.textArea=new Ext.form.field.TextArea({id:i+"-textarea",anchor:"100%",height:75})]})]}),n.progressBar=new Ext.ProgressBar({id:i+"-progressbar",margins:"0 10 10 10"}),n.items=[n.topContainer,n.progressBar],n.msgButtons=[],e=0;4>e;e++)t=n.makeButton(e),n.msgButtons[t.itemId]=t,n.msgButtons.push(t);n.bottomTb=new Ext.toolbar.Toolbar({id:i+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[n.msgButtons[0],n.msgButtons[1],n.msgButtons[2],n.msgButtons[3]]}),n.dockedItems=[n.bottomTb],n.on("close",n.onClose,n),n.callParent()},onClose:function(){var e=this.header.child("[type=close]");e.itemId="cancel",this.btnCallback(e),delete e.itemId},onPromptKey:function(e,t){var n=this;(t.keyCode===t.RETURN||10===t.keyCode)&&(n.msgButtons.ok.isVisible()?n.msgButtons.ok.handler.call(n,n.msgButtons.ok):n.msgButtons.yes.isVisible()&&n.msgButtons.yes.handler.call(n,n.msgButtons.yes))},reconfigure:function(e){var t,n,i,r,o,a,s,l,d,c=this,u=0,h=!0,f=c.buttonText,g=c.resizer;for(c.updateButtonText(),e=e||{},c.cfg=e,e.width&&(n=e.width),e.height&&(i=e.height),c.minWidth=e.minWidth||c.defaultMinWidth,c.maxWidth=e.maxWidth||c.defaultMaxWidth,c.minHeight=e.minHeight||c.defaultMinHeight,c.maxHeight=e.maxHeight||c.defaultMaxHeight,g&&(t=g.resizeTracker,g.minWidth=t.minWidth=c.minWidth,g.maxWidth=t.maxWidth=c.maxWidth,g.minHeight=t.minHeight=c.minHeight,g.maxHeight=t.maxHeight=c.maxHeight),delete c.defaultFocus,e.defaultFocus&&(c.defaultFocus=e.defaultFocus),c.animateTarget=e.animateTarget||void 0,c.modal=e.modal!==!1,c.setTitle(e.title||""),c.setIconCls(e.iconCls||""),Ext.isObject(e.buttons)?(c.buttonText=e.buttons,u=0):(c.buttonText=e.buttonText||c.buttonText,u=Ext.isNumber(e.buttons)?e.buttons:0),u|=c.updateButtonText(),c.buttonText=f,Ext.suspendLayouts(),delete c.width,delete c.height,(n||i)&&(n&&c.setWidth(n),i&&c.setHeight(i)),c.hidden=!1,c.rendered||c.render(Ext.getBody()),c.closable=e.closable!==!1&&!e.wait,c.header.child("[type=close]").setVisible(c.closable),e.title||c.closable||e.iconCls?c.header.show():c.header.hide(),c.liveDrag=!e.proxyDrag,c.userCallback=Ext.Function.bind(e.callback||e.fn||Ext.emptyFn,e.scope||Ext.global),c.setIcon(e.icon,e.iconWidth,e.iconHeight),s=c.msg,e.msg?(s.setValue(e.msg),s.show()):s.hide(),o=c.textArea,a=c.textField,e.prompt||e.multiline?(c.multiline=e.multiline,e.multiline?(o.setValue(e.value),o.setHeight(e.defaultTextHeight||c.defaultTextHeight),o.show(),a.hide(),c.defaultFocus=o):(a.setValue(e.value),o.hide(),a.show(),c.defaultFocus=a)):(o.hide(),a.hide()),l=c.progressBar,e.progress||e.wait?(l.show(),c.updateProgress(0,e.progressText),e.wait===!0&&l.wait(e.waitConfig)):l.hide(),d=c.msgButtons,r=0;4>r;r++)u&Math.pow(2,r)?(c.defaultFocus||(c.defaultFocus=d[r]),d[r].show(),h=!1):d[r].hide();h?c.bottomTb.hide():c.bottomTb.show(),Ext.resumeLayouts(!0)},updateButtonText:function(){var e,t,n=this,i=n.buttonText,r=0;for(e in i)i.hasOwnProperty(e)&&(t=n.msgButtons[e],t&&(n.cfg&&n.cfg.buttonText&&(r|=Math.pow(2,Ext.Array.indexOf(n.buttonIds,e))),t.text!=i[e]&&t.setText(i[e])));return r},show:function(e){var t,n=this;return Ext.AbstractComponent.layoutSuspendCount?(Ext.on({resumelayouts:function(){n.show(e)},single:!0}),n):(n.reconfigure(e),e.cls&&n.addCls(e.cls),t=n.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])"),n.preventFocusOnActivate=!t.length,n.hidden=!0,n.callParent(),n)},onShow:function(){this.callParent(arguments),this.center()},updateText:function(e){this.msg.setValue(e)},setIcon:function(e,t,n){var i=this,r=i.iconComponent,o=i.messageIconCls;return o&&r.removeCls(o),e?(r.show(),r.setSize(t||i.iconWidth,n||i.iconHeight),r.addCls(Ext.baseCSSPrefix+"dlg-icon"),r.addCls(i.messageIconCls=e)):(r.removeCls(Ext.baseCSSPrefix+"dlg-icon"),r.hide()),i},updateProgress:function(e,t,n){return this.progressBar.updateProgress(e,t),n&&this.updateText(n),this},onEsc:function(){this.closable!==!1&&this.callParent(arguments)},confirm:function(e,t,n,i){return Ext.isString(e)&&(e={title:e,icon:this.QUESTION,msg:t,buttons:this.YESNO,callback:n,scope:i}),this.show(e)},prompt:function(e,t,n,i,r,o){return Ext.isString(e)&&(e={prompt:!0,title:e,minWidth:this.minPromptWidth,msg:t,buttons:this.OKCANCEL,callback:n,scope:i,multiline:r,value:o}),this.show(e)},wait:function(e,t,n){return Ext.isString(e)&&(e={title:t,msg:e,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:n}),this.show(e)},alert:function(e,t,n,i){return Ext.isString(e)&&(e={title:e,msg:t,buttons:this.OK,fn:n,scope:i,minWidth:this.minWidth}),this.show(e)},progress:function(e,t,n){return Ext.isString(e)&&(e={title:e,msg:t,progress:!0,progressText:n}),this.show(e)}},function(){Ext.MessageBox=Ext.Msg=new this}),Ext.define("Ext.form.Basic",{extend:Ext.util.Observable,alternateClassName:"Ext.form.BasicForm",constructor:function(e,t){var n,i=this;i.owner=e,i.checkValidityTask=new Ext.util.DelayedTask(i.checkValidity,i),i.checkDirtyTask=new Ext.util.DelayedTask(i.checkDirty,i),i.monitor=new Ext.container.Monitor({selector:"[isFormField]",scope:i,addHandler:i.onFieldAdd,removeHandler:i.onFieldRemove}),i.monitor.bind(e),Ext.apply(i,t),Ext.isString(i.paramOrder)&&(i.paramOrder=i.paramOrder.split(/[\s,|]/)),n=i.reader,n&&!n.isReader&&("string"==typeof n&&(n={type:n}),i.reader=Ext.createByAlias("reader."+n.type,n)),n=i.errorReader,n&&!n.isReader&&("string"==typeof n&&(n={type:n}),i.errorReader=Ext.createByAlias("reader."+n.type,n)),i.addEvents("beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"),i.callParent()},initialize:function(){this.initialized=!0,this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:!1,waitTitle:"Please Wait...",trackResetOnLoad:!1,wasDirty:!1,destroy:function(){var e=this,t=e.monitor;t&&(t.unbind(),e.monitor=null),e.clearListeners(),e.checkValidityTask.cancel(),e.checkDirtyTask.cancel()},onFieldAdd:function(e){var t=this;t.mon(e,"validitychange",t.checkValidityDelay,t),t.mon(e,"dirtychange",t.checkDirtyDelay,t),t.initialized&&t.checkValidityDelay()},onFieldRemove:function(e){var t=this;t.mun(e,"validitychange",t.checkValidityDelay,t),t.mun(e,"dirtychange",t.checkDirtyDelay,t),t.initialized&&t.checkValidityDelay()},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var e=this._boundItems;return e&&0!==e.getCount()||(e=this._boundItems=new Ext.util.MixedCollection,e.addAll(this.owner.query("[formBind]"))),e},hasInvalidField:function(){return!!this.getFields().findBy(function(e){var t,n=e.preventMark;return e.preventMark=!0,t=e.isValid(),e.preventMark=n,!t})},isValid:function(){var e,t=this;return Ext.suspendLayouts(),e=t.getFields().filterBy(function(e){return!e.validate()}),Ext.resumeLayouts(!0),e.length<1},checkValidity:function(){var e=this,t=!e.hasInvalidField();t!==e.wasValid&&(e.onValidityChange(t),e.fireEvent("validitychange",e,t),e.wasValid=t)},checkValidityDelay:function(){this.checkValidityTask.delay(10)},onValidityChange:function(e){var t,n,i,r,o=this.getBoundItems();if(o)for(t=o.items,i=t.length,n=0;i>n;n++)r=t[n],r.disabled===e&&r.setDisabled(!e)},isDirty:function(){return!!this.getFields().findBy(function(e){return e.isDirty()})},checkDirtyDelay:function(){this.checkDirtyTask.delay(10)},checkDirty:function(){var e=this.isDirty();e!==this.wasDirty&&(this.fireEvent("dirtychange",this,e),this.wasDirty=e)},hasUpload:function(){return!!this.getFields().findBy(function(e){return e.isFileUpload()})},doAction:function(e,t){return Ext.isString(e)&&(e=Ext.ClassManager.instantiateByAlias("formaction."+e,Ext.apply({},t,{form:this}))),this.fireEvent("beforeaction",this,e)!==!1&&(this.beforeAction(e),Ext.defer(e.run,100,e)),this},submit:function(e){e=e||{};var t,n=this;return t=e.standardSubmit||n.standardSubmit?"standardsubmit":n.api?"directsubmit":"submit",n.doAction(t,e)},load:function(e){return this.doAction(this.api?"directload":"load",e)},updateRecord:function(e){if(e=e||this._record,!e)return this;for(var t,n=e.fields.items,i=this.getFieldValues(),r={},o=0,a=n.length;a>o;++o)t=n[o].name,i.hasOwnProperty(t)&&(r[t]=i[t]);return e.beginEdit(),e.set(r),e.endEdit(),this},loadRecord:function(e){return this._record=e,this.setValues(e.getData())},getRecord:function(){return this._record},beforeAction:function(e){var t,n,i,r=this,o=e.waitMsg,a=Ext.baseCSSPrefix+"mask-loading",s=r.getFields().items,l=s.length;for(t=0;l>t;t++)n=s[t],n.isFormField&&n.syncValue&&n.syncValue();o&&(i=r.waitMsgTarget,i===!0?r.owner.el.mask(o,a):i?(i=r.waitMsgTarget=Ext.get(i),i.mask(o,a)):(r.floatingAncestor=r.owner.up("[floating]"),r.floatingAncestor&&(r.savePreventFocusOnActivate=r.floatingAncestor.preventFocusOnActivate,r.floatingAncestor.preventFocusOnActivate=!0),Ext.MessageBox.wait(o,e.waitTitle||r.waitTitle)))},afterAction:function(e,t){var n=this;if(e.waitMsg){var i=Ext.MessageBox,r=n.waitMsgTarget;r===!0?n.owner.el.unmask():r?r.unmask():i.hide()}n.floatingAncestor&&(n.floatingAncestor.preventFocusOnActivate=n.savePreventFocusOnActivate),t?(e.reset&&n.reset(),Ext.callback(e.success,e.scope||e,[n,e]),n.fireEvent("actioncomplete",n,e)):(Ext.callback(e.failure,e.scope||e,[n,e]),n.fireEvent("actionfailed",n,e))},findField:function(e){return this.getFields().findBy(function(t){return t.id===e||t.getName()===e})},markInvalid:function(e){function t(e,t){var n=s.findField(e);n&&n.markInvalid(t)}var n,i,r,o,a,s=this;if(Ext.isArray(e))for(i=e.length,n=0;i>n;n++)r=e[n],t(r.id,r.msg);else if(e instanceof Ext.data.Errors)for(i=e.items.length,n=0;i>n;n++)r=e.items[n],t(r.field,r.message);else for(a in e)e.hasOwnProperty(a)&&(o=e[a],t(a,o,e));return this},setValues:function(e){function t(e,t){var n=o.findField(e);n&&(n.setValue(t),o.trackResetOnLoad&&n.resetOriginalValue())}var n,i,r,o=this;if(Ext.suspendLayouts(),Ext.isArray(e))for(i=e.length,n=0;i>n;n++)r=e[n],t(r.id,r.value);else Ext.iterate(e,t);return Ext.resumeLayouts(!0),this},getValues:function(e,t,n,i){var r,o,a,s,l,d,c={},u=this.getFields().items,h=u.length,f=Ext.isArray;for(r=0;h>r;r++)if(o=u[r],(!t||o.isDirty())&&(a=o[i?"getModelData":"getSubmitData"](n),Ext.isObject(a)))for(d in a)a.hasOwnProperty(d)&&(s=a[d],n&&""===s&&(s=o.emptyText||""),c.hasOwnProperty(d)?(l=c[d],f(l)||(l=c[d]=[l]),f(s)?c[d]=l.concat(s):l.push(s)):c[d]=s);return e&&(c=Ext.Object.toQueryString(c)),c},getFieldValues:function(e){return this.getValues(!1,e,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();var e,t=this,n=t.getFields().items,i=n.length;for(e=0;i>e;e++)n[e].clearInvalid();return Ext.resumeLayouts(!0),t},reset:function(e){Ext.suspendLayouts();var t,n=this,i=n.getFields().items,r=i.length;for(t=0;r>t;t++)i[t].reset();return Ext.resumeLayouts(!0),e===!0&&delete n._record,n},applyToFields:function(e){var t,n=this.getFields().items,i=n.length;for(t=0;i>t;t++)Ext.apply(n[t],e);return this},applyIfToFields:function(e){var t,n=this.getFields().items,i=n.length;for(t=0;i>t;t++)Ext.applyIf(n[t],e);return this}}),Ext.define("Ext.form.FieldAncestor",{xhooks:{initHierarchyState:function(e){this.fieldDefaults&&(e.fieldDefaults=e.fieldDefaults?Ext.apply(Ext.Object.chain(e.fieldDefaults),this.fieldDefaults):this.fieldDefaults)}},initFieldAncestor:function(){var e=this;e.addEvents("fieldvaliditychange","fielderrorchange"),e.monitor=new Ext.container.Monitor({scope:e,selector:"[isFormField]",addHandler:e.onChildFieldAdd,removeHandler:e.onChildFieldRemove}),e.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},onChildFieldAdd:function(e){var t=this;t.mon(e,"errorchange",t.handleFieldErrorChange,t),t.mon(e,"validitychange",t.handleFieldValidityChange,t)},onChildFieldRemove:function(e){var t=this;t.mun(e,"errorchange",t.handleFieldErrorChange,t),t.mun(e,"validitychange",t.handleFieldValidityChange,t)},initFieldDefaults:function(){this.fieldDefaults||(this.fieldDefaults={})},handleFieldValidityChange:function(e,t){var n=this;e!==n&&(n.fireEvent("fieldvaliditychange",n,e,t),n.onFieldValidityChange(e,t))},handleFieldErrorChange:function(e,t){var n=this;e!==n&&(n.fireEvent("fielderrorchange",n,e,t),n.onFieldErrorChange(e,t))},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,beforeDestroy:function(){this.monitor.unbind(),this.callParent()}}),Ext.define("Ext.layout.component.field.FieldContainer",{extend:Ext.layout.component.field.Field,alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:!0,waitForOuterWidthInDom:!0,beginLayout:function(e){var t=this.owner;this.callParent(arguments),e.hasRawContent=!0,t.bodyEl.setStyle("height",""),t.containerEl.setStyle("height",""),e.containerElContext=e.getEl("containerEl")},measureContentHeight:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent(arguments):0/0},measureContentWidth:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent(arguments):0/0},publishInnerWidth:function(e){var t=e.bodyCellContext,n=t.el.getWidth();t.setWidth(n,!1),e.containerElContext.setWidth(n,!1)},publishInnerHeight:function(e,t){var n=e.bodyCellContext,i=e.containerElContext;t-=this.measureLabelErrorHeight(e),n.setHeight(t),i.setHeight(t)}}),Ext.define("Ext.form.FieldContainer",{extend:Ext.container.Container,mixins:{labelable:Ext.form.Labelable,fieldAncestor:Ext.form.FieldAncestor},alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",customOverflowEl:"containerEl",childEls:["containerEl"],combineLabels:!1,labelConnector:", ",combineErrors:!1,maskOnDisable:!1,invalidCls:"",fieldSubTpl:'<div id="{id}-containerEl" class="{containerElCls}">{%this.renderContainer(out,values)%}</div>',initComponent:function(){var e=this;e.initLabelable(),e.initFieldAncestor(),e.callParent(),e.initMonitor()},getOverflowEl:function(){return this.containerEl},onAdd:function(e){var t=this;Ext.isGecko&&"absolute"===t.layout.type&&!t.hideLabel&&"top"!==t.labelAlign&&(e.x+=t.labelWidth+t.labelPad),t.callParent(arguments),t.combineLabels&&(e.oldHideLabel=e.hideLabel,e.hideLabel=!0),t.updateLabel()},onRemove:function(e,t){var n=this;n.callParent(arguments),t||(n.combineLabels&&(e.hideLabel=e.oldHideLabel),n.updateLabel())
},initRenderTpl:function(){var e=this;return e.hasOwnProperty("renderTpl")||(e.renderTpl=e.getTpl("labelableRenderTpl")),e.callParent()},initRenderData:function(){var e=this,t=e.callParent();return t.containerElCls=e.containerElCls,Ext.applyIf(t,e.getLabelableRenderData())},getFieldLabel:function(){var e=this.fieldLabel||"";return!e&&this.combineLabels&&(e=Ext.Array.map(this.query("[isFieldLabelable]"),function(e){return e.getFieldLabel()}).join(this.labelConnector)),e},getSubTplData:function(){var e=this.initRenderData();return Ext.apply(e,this.subTplData),e},getSubTplMarkup:function(){var e,t=this,n=t.getTpl("fieldSubTpl");return n.renderContent||t.setupRenderTpl(n),e=n.apply(t.getSubTplData())},updateLabel:function(){var e=this,t=e.labelEl;t&&e.setFieldLabel(e.getFieldLabel())},onFieldErrorChange:function(){if(this.combineErrors){var e=this,t=e.getActiveError(),n=Ext.Array.filter(e.query("[isFormField]"),function(e){return e.hasActiveError()}),i=e.getCombinedErrors(n);i?e.setActiveErrors(i):e.unsetActiveError(),t!==e.getActiveError()&&e.doComponentLayout()}},getCombinedErrors:function(e){var t,n,i,r,o,a,s,l=[],d=e.length;for(t=0;d>t;t++)for(n=e[t],i=n.getActiveErrors(),o=i.length,r=0;o>r;r++)a=i[r],s=n.getFieldLabel(),l.push((s?s+": ":"")+a);return l},getTargetEl:function(){return this.containerEl},applyTargetCls:function(e){var t=this.containerElCls;this.containerElCls=t?t+" "+e:e}}),Ext.define("Ext.layout.container.CheckboxGroup",{extend:Ext.layout.container.Container,alias:["layout.checkboxgroup"],autoFlex:!0,type:"checkboxgroup",createsInnerCt:!0,childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" class="'+Ext.plainTableCls+'" cellpadding="0"','role="presentation" style="{tableStyle}"><tbody><tr>','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></tbody></table>"],lastOwnerItemsGeneration:null,beginLayout:function(e){var t,n,i,r,o,a=this,s=0,l=0,d=a.autoFlex,c=a.innerCt.dom.style;if(a.callParent(arguments),t=a.columnNodes,e.innerCtContext=e.getEl("innerCt",a),e.widthModel.shrinkWrap)c.tableLayout="auto",c.width="";else{if(n=t.length,a.columnsArray){for(i=0;n>i;i++)r=a.owner.columns[i],1>r&&(s+=r,l++);for(i=0;n>i;i++)r=a.owner.columns[i],o=1>r?100*(r/s)+"%":r+"px",t[i].style.width=o}else for(i=0;n>i;i++)o=d?100*(1/n)+"%":"",t[i].style.width=o,l++;l?n>l?(c.tableLayout="fixed",c.width="100%"):(c.tableLayout="auto",c.width=d?"100%":""):(c.tableLayout="fixed",c.width="")}},cacheElements:function(){var e=this;e.callParent(),e.rowEl=e.innerCt.down("tr"),e.columnNodes=e.rowEl.dom.childNodes},calculate:function(e){var t,n,i,r,o,a,s=this;e.getDomProp("containerChildrenSizeDone")?(t=e.innerCtContext,n=e.widthModel.shrinkWrap,i=e.heightModel.shrinkWrap,r=i||n,o=t.el.dom,a=r&&t.getPaddingInfo(),n&&e.setContentWidth(o.offsetWidth+a.width,!0),i&&e.setContentHeight(o.offsetHeight+a.height,!0)):s.done=!1},doRenderColumn:function(e,t,n){var i,r,o,a,s,l=t.$layout,d=l.owner,c=t.columnCount,u=d.items.items,h=u.length;for(d.vertical?(o=Math.ceil(h/c),r=n*o,h=Math.min(h,r+o),a=1):(r=n,a=c);h>r;r+=a)i=u[r],l.configureItem(i),s=i.getRenderTree(),Ext.DomHelper.generateMarkup(s,e)},getColumnCount:function(){var e=this,t=e.owner,n=t.columns;return e.columnsArray?n.length:Ext.isNumber(n)?n:t.items.length},getItemSizePolicy:function(){return this.autoSizePolicy},getRenderData:function(){var e,t,n,i,r=this,o=r.callParent(),a=r.owner,s=r.getColumnCount(),l=r.autoFlex,d=0,c=0;if(r.columnsArray)for(e=0;s>e;e++)t=r.owner.columns[e],1>t&&(d+=t,c++);for(o.colCls=a.groupCls,o.columnCount=s,o.columns=[],e=0;s>e;e++)n=o.columns[e]={},r.columnsArray?(t=r.owner.columns[e],i=1>t?100*(t/d)+"%":t+"px",n.style="width:"+i):(n.style="width:"+100*(1/s)+"%",c++);return o.tableStyle=c?s>c?"table-layout:fixed;width:100%":l?"table-layout:auto;width:100%":"table-layout:auto;":"table-layout:fixed;",o},initLayout:function(){var e=this,t=e.owner;e.columnsArray=Ext.isArray(t.columns),e.autoColumns=!t.columns||"auto"===t.columns,e.vertical=t.vertical,e.callParent()},isValidParent:function(){return!0},setupRenderTpl:function(e){this.callParent(arguments),e.renderColumn=this.doRenderColumn},renderChildren:function(){var e=this,t=e.owner.items.generation;e.lastOwnerItemsGeneration!==t&&(e.lastOwnerItemsGeneration=t,e.renderItems(e.getLayoutItems()))},renderItems:function(e){var t,n,i,r,o,a,s=this,l=e.length;if(l){for(Ext.suspendLayouts(),s.autoColumns&&s.addMissingColumns(l),r=s.columnNodes.length,i=Math.ceil(l/r),t=0;l>t;t++)n=e[t],o=s.getRenderRowIndex(t,i,r),a=s.getRenderColumnIndex(t,i,r),n.rendered?s.isItemAtPosition(n,o,a)||s.moveItem(n,o,a):s.renderItem(n,o,a);s.autoColumns&&s.removeExceedingColumns(l),Ext.resumeLayouts(!0)}},isItemAtPosition:function(e,t,n){return e.el.dom===this.getNodeAt(t,n)},getRenderColumnIndex:function(e,t,n){return this.vertical?Math.floor(e/t):e%n},getRenderRowIndex:function(e,t,n){var i=this;return i.vertical?e%t:Math.floor(e/n)},getNodeAt:function(e,t){return this.columnNodes[t].childNodes[e]},addMissingColumns:function(e){var t,n,i,r,o=this,a=o.columnNodes.length;if(e>a)for(t=e-a,n=o.rowEl,i=o.owner.groupCls,r=0;t>r;r++)n.createChild({cls:i,tag:"td",vAlign:"top"})},removeExceedingColumns:function(e){var t,n,i,r=this,o=r.columnNodes.length;if(o>e)for(t=o-e,n=r.rowEl,i=0;t>i;i++)n.last().remove()},renderItem:function(e,t,n){var i=this;i.configureItem(e),e.render(Ext.get(i.columnNodes[n]),t),i.afterRenderItem(e)},moveItem:function(e,t,n){var i=this,r=i.columnNodes[n],o=r.childNodes[t];r.insertBefore(e.el.dom,o||null)}}),Ext.define("Ext.form.CheckboxManager",{extend:Ext.util.MixedCollection,singleton:!0,getByName:function(e,t){return this.filterBy(function(n){return n.name==e&&n.getFormId()==t})}}),Ext.define("Ext.form.field.Checkbox",{extend:Ext.form.field.Base,alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",componentLayout:"field",stretchInputElFixed:!1,childEls:["boxLabelEl"],fieldSubTpl:["<tpl if=\"boxLabel && boxLabelAlign == 'before'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="{inputTypeAttr}" id="{id}" {inputAttrTpl}','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl if="ariaAttrs"> {ariaAttrs}</tpl>',' class="{fieldCls} {typeCls} {inputCls} {childElCls}" autocomplete="off" hidefocus="true" />',"<tpl if=\"boxLabel && boxLabelAlign == 'after'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",{disableFormats:!0,compiled:!0}],subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:!0,focusCls:"form-checkbox-focus",extraFieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:!1,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",inputTypeAttr:"button",onRe:/^on$/i,inputCls:Ext.baseCSSPrefix+"form-cb",initComponent:function(){this.callParent(arguments),this.getManager().add(this)},initValue:function(){var e=this,t=!!e.checked;e.originalValue=e.lastValue=t,e.setValue(t)},getElConfig:function(){var e=this;return e.isChecked(e.rawValue,e.inputValue)&&e.addCls(e.checkedCls),e.callParent()},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},getSubTplData:function(){var e=this;return Ext.apply(e.callParent(),{disabled:e.readOnly||e.disabled,boxLabel:e.boxLabel,boxLabelCls:e.boxLabelCls,boxLabelAlign:e.boxLabelAlign,inputTypeAttr:e.inputTypeAttr})},initEvents:function(){var e=this;e.callParent(),e.mon(e.inputEl,"click",e.onBoxClick,e)},setBoxLabel:function(e){var t=this;t.boxLabel=e,t.rendered&&t.boxLabelEl.update(e)},onBoxClick:function(){var e=this;e.disabled||e.readOnly||this.setValue(!this.checked)},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var e=this.uncheckedValue,t=Ext.isDefined(e)?e:null;return this.checked?this.inputValue:t},isChecked:function(e,t){return e===!0||"true"===e||"1"===e||1===e||((Ext.isString(e)||Ext.isNumber(e))&&t?e==t:this.onRe.test(e))},setRawValue:function(e){var t=this,n=t.inputEl,i=t.isChecked(e,t.inputValue);return n&&t[i?"addCls":"removeCls"](t.checkedCls),t.checked=t.rawValue=i,i},setValue:function(e){var t,n,i,r,o=this;if(Ext.isArray(e))for(t=o.getManager().getByName(o.name,o.getFormId()).items,i=t.length,n=0;i>n;++n)r=t[n],r.setValue(Ext.Array.contains(e,r.inputValue));else o.callParent(arguments);return o},valueToRaw:function(e){return e},onChange:function(e){var t=this,n=t.handler;n&&n.call(t.scope||t,t,e),t.callParent(arguments)},resetOriginalValue:function(e){var t,n,i,r,o=this;if(!e)for(t=o.getManager().getByName(o.name,o.getFormId()).items,i=t.length,r=0;i>r;++r)n=t[r],n!==o&&t[r].resetOriginalValue(!0);o.callParent()},beforeDestroy:function(){this.callParent(),this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var e=this,t=e.inputEl;e.callParent(),t&&(t.dom.disabled=e.readOnly)},setReadOnly:function(e){var t=this,n=t.inputEl;n&&(n.dom.disabled=!!e||t.disabled),t.callParent(arguments)},getFormId:function(){var e,t=this;return t.formId||(e=t.up("form"),e&&(t.formId=e.id)),t.formId}}),Ext.define("Ext.form.CheckboxGroup",{extend:Ext.form.FieldContainer,mixins:{field:Ext.form.field.Field},alias:"widget.checkboxgroup",columns:"auto",vertical:!1,allowBlank:!0,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:Ext.baseCSSPrefix+"form-check-group",extraFieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",componentCls:Ext.baseCSSPrefix+"form-checkboxgroup",initComponent:function(){var e=this;e.callParent(),e.initField()},initValue:function(){var e=this,t=e.value;e.originalValue=e.lastValue=t||e.getValue(),t&&e.setValue(t)},onAdd:function(e){var t,n,i,r=this;if(e.isCheckbox)r.mon(e,"change",r.checkChange,r);else if(e.isContainer)for(t=e.items.items,i=0,n=t.length;n>i;i++)r.onAdd(t[i]);r.callParent(arguments)},onRemove:function(e){var t,n,i,r=this;if(e.isCheckbox)r.mun(e,"change",r.checkChange,r);else if(e.isContainer)for(t=e.items.items,i=0,n=t.length;n>i;i++)r.onRemove(t[i]);r.callParent(arguments)},isEqual:function(e,t){var n=Ext.Object.toQueryString;return n(e)===n(t)},getErrors:function(){var e=[];return!this.allowBlank&&Ext.isEmpty(this.getChecked())&&e.push(this.blankText),e},getBoxes:function(e){return this.query("[isCheckbox]"+(e||""))},eachBox:function(e,t){Ext.Array.forEach(this.getBoxes(),e,t||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var e,t=this.getBoxes(),n=t.length;for(e=0;n>e;e++)if(t[e].isDirty())return!0},setReadOnly:function(e){var t,n=this.getBoxes(),i=n.length;for(t=0;i>t;t++)n[t].setReadOnly(e);this.readOnly=e},reset:function(){var e=this,t=e.hasActiveError(),n=e.preventMark;e.preventMark=!0,e.batchChanges(function(){var t,n=e.getBoxes(),i=n.length;for(t=0;i>t;t++)n[t].reset()}),e.preventMark=n,e.unsetActiveError(),t&&e.updateLayout()},resetOriginalValue:function(){var e,t=this,n=t.getBoxes(),i=n.length;for(e=0;i>e;e++)n[e].resetOriginalValue();t.originalValue=t.getValue(),t.checkDirty()},setValue:function(e){var t,n,i,r,o=this,a=o.getBoxes(),s=a.length;return o.batchChanges(function(){for(t=0;s>t;t++)n=a[t],i=n.getName(),r=!1,e&&e.hasOwnProperty(i)&&(r=Ext.isArray(e[i])?Ext.Array.contains(e[i],n.inputValue):e[i]),n.setValue(r)}),o},getValue:function(){var e,t,n,i,r,o={},a=this.getBoxes(),s=a.length;for(e=0;s>e;e++)t=a[e],n=t.getName(),i=t.inputValue,t.getValue()&&(o.hasOwnProperty(n)?(r=o[n],Ext.isArray(r)||(r=o[n]=[r]),r.push(i)):o[n]=i);return o},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var e,t,n,i=this;return i.disabled?t=!0:(e=i.getErrors(),t=Ext.isEmpty(e),n=i.wasValid,t?i.unsetActiveError():i.setActiveError(e)),t!==n&&(i.wasValid=t,i.fireEvent("validitychange",i,t),i.updateLayout()),t}},function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])}),Ext.define("Ext.form.FieldSet",{extend:Ext.container.Container,mixins:{fieldAncestor:Ext.form.FieldAncestor},alias:"widget.fieldset",collapsed:!1,toggleOnTitleClick:!0,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",componentLayout:"fieldset",autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" class="{baseCls}-body {bodyTargetCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:!1,beforeDestroy:function(){var e=this,t=e.legend;t&&(delete t.ownerCt,t.destroy(),e.legend=null),e.callParent()},initComponent:function(){var e=this,t=e.baseCls;e.initFieldAncestor(),e.callParent(),e.layout.managePadding=e.layout.manageOverflow=!1,e.addEvents("beforeexpand","beforecollapse","expand","collapse"),e.collapsed&&(e.addCls(t+"-collapsed"),e.collapse()),(e.title||e.checkboxToggle||e.collapsible)&&(e.addTitleClasses(),e.legend=Ext.widget(e.createLegendCt())),e.initMonitor()},initPadding:function(e){var t,n=this,i=n.getProtoBody(),r=n.padding;void 0!==r&&((Ext.isIEQuirks||Ext.isIE8m)&&(r=n.parseBox(r),t=Ext.Element.parseBox(0),t.top=r.top,r.top=0,i.setStyle("padding",n.unitizeBox(t))),e.setStyle("padding",n.unitizeBox(r)))},getProtoBody:function(){var e=this,t=e.protoBody;return t||(e.protoBody=t=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:!0})),t},initRenderData:function(){var e=this,t=e.callParent();return t.bodyTargetCls=e.bodyTargetCls,e.protoBody.writeTo(t),delete e.protoBody,t},getState:function(){var e=this.callParent();return e=this.addPropertyToState(e,"collapsed")},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return!0},collapsedVertical:function(){return!0},createLegendCt:function(){var e=this,t=[],n={xtype:"container",baseCls:e.baseCls+"-header",id:e.id+"-legend",autoEl:"legend",items:t,ownerCt:e,shrinkWrap:!0,ownerLayout:e.componentLayout};return e.checkboxToggle?t.push(e.createCheckboxCmp()):e.collapsible&&t.push(e.createToggleCmp()),t.push(e.createTitleCmp()),n},createTitleCmp:function(){var e=this,t={xtype:"component",html:e.title,cls:e.baseCls+"-header-text",id:e.id+"-legendTitle"};return e.collapsible&&e.toggleOnTitleClick&&(t.listeners={click:{element:"el",scope:e,fn:e.toggle}},t.cls+=" "+e.baseCls+"-header-text-collapsible"),e.titleCmp=Ext.widget(t)},createCheckboxCmp:function(){var e=this,t="-checkbox";return e.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:!0,name:e.checkboxName||e.id+t,cls:e.baseCls+"-header"+t,id:e.id+"-legendChk",checked:!e.collapsed,listeners:{change:e.onCheckChange,scope:e}}),e.checkboxCmp},createToggleCmp:function(){var e=this;return e.toggleCmp=Ext.widget({xtype:"tool",height:15,width:15,type:"toggle",handler:e.toggle,id:e.id+"-legendToggle",scope:e}),e.toggleCmp},doRenderLegend:function(e,t){var n,i=t.$comp,r=i.legend;r&&(r.ownerLayout.configureItem(r),n=r.getRenderTree(),Ext.DomHelper.generateMarkup(n,e))},finishRender:function(){var e=this.legend;this.callParent(),e&&e.finishRender()},getCollapsed:function(){return this.collapsed?"top":!1},getCollapsedDockedItems:function(){var e=this.legend;return e?[e]:[]},setTitle:function(e){var t=this,n=t.legend;return t.baseCls,t.title=e,t.rendered?(n||(t.legend=n=Ext.widget(t.createLegendCt()),t.addTitleClasses(),n.ownerLayout.configureItem(n),n.render(t.el,0)),t.titleCmp.update(e)):n?t.titleCmp.update(e):(t.addTitleClasses(),t.legend=Ext.widget(t.createLegendCt())),t},addTitleClasses:function(){var e=this,t=e.title,n=e.baseCls;t&&e.addCls(n+"-with-title"),(t||e.checkboxToggle||e.collapsible)&&e.addCls(n+"-with-header")},applyTargetCls:function(e){this.bodyTargetCls=e},getTargetEl:function(){return this.body||this.frameBody||this.el},getDefaultContentTarget:function(){return this.body},expand:function(){return this.setExpanded(!0)},collapse:function(){return this.setExpanded(!1)},setExpanded:function(e){var t=this,n=t.checkboxCmp,i=e?"expand":"collapse";return t.rendered&&t.fireEvent("before"+i,t)===!1||(e=!!e,n&&n.setValue(e),e?t.removeCls(t.baseCls+"-collapsed"):t.addCls(t.baseCls+"-collapsed"),t.collapsed=!e,e?delete t.getHierarchyState().collapsed:t.getHierarchyState().collapsed=!0,t.rendered&&(t.updateLayout({isRoot:!1}),t.fireEvent(i,t))),t},getRefItems:function(e){var t=this.callParent(arguments),n=this.legend;return n&&(t.unshift(n),e&&t.unshift.apply(t,n.getRefItems(!0))),t},toggle:function(){this.setExpanded(!!this.collapsed)},onCheckChange:function(e,t){this.setExpanded(t)},setupRenderTpl:function(e){this.callParent(arguments),e.renderLegend=this.doRenderLegend}}),Ext.define("Ext.form.Label",{extend:Ext.Component,alias:"widget.label",autoEl:"label",maskOnDisable:!1,getElConfig:function(){var e=this;return e.html=e.text?Ext.util.Format.htmlEncode(e.text):e.html||"",Ext.apply(e.callParent(),{htmlFor:e.forId||""})},setText:function(e,t){var n=this;return t=t!==!1,t?(n.text=e,delete n.html):(n.html=e,delete n.text),n.rendered&&(n.el.dom.innerHTML=t!==!1?Ext.util.Format.htmlEncode(e):e,n.updateLayout()),n}}),Ext.define("Ext.form.Panel",{extend:Ext.panel.Panel,mixins:{fieldAncestor:Ext.form.FieldAncestor},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",ariaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var e=this;e.frame&&(e.border=!1),e.initFieldAncestor(),e.callParent(),e.relayEvents(e.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]),e.pollForChanges&&e.startPolling(e.pollInterval||500)},initItems:function(){this.callParent(),this.initMonitor(),this.form=this.createForm()},afterFirstLayout:function(){this.callParent(arguments),this.form.initialize()},createForm:function(){for(var e,t={},n=this.basicFormConfigs,i=n.length,r=0;i>r;++r)e=n[r],t[e]=this[e];return new Ext.form.Basic(this,t)},getForm:function(){return this.form},loadRecord:function(e){return this.getForm().loadRecord(e)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(e){return this.getForm().updateRecord(e)},getValues:function(e,t,n,i){return this.getForm().getValues(e,t,n,i)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling(),this.form.destroy(),this.callParent()},load:function(e){this.form.load(e)},submit:function(e){this.form.submit(e)},startPolling:function(e){this.stopPolling();var t=new Ext.util.TaskRunner(e);t.start({interval:0,run:this.checkChange,scope:this}),this.pollTask=t},stopPolling:function(){var e=this.pollTask;e&&(e.stopAll(),delete this.pollTask)},checkChange:function(){var e,t=this.form.getFields().items,n=t.length;for(e=0;n>e;e++)t[e].checkChange()}}),Ext.define("Ext.form.RadioManager",{extend:Ext.util.MixedCollection,singleton:!0,getByName:function(e,t){return this.filterBy(function(n){return n.name==e&&n.getFormId()==t})},getWithValue:function(e,t,n){return this.filterBy(function(i){return i.name==e&&i.inputValue==t&&i.getFormId()==n})},getChecked:function(e,t){return this.findBy(function(n){return n.name==e&&n.checked&&n.getFormId()==t})}}),Ext.define("Ext.form.field.Radio",{extend:Ext.form.field.Checkbox,alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",isRadio:!0,focusCls:"form-radio-focus",inputType:"radio",ariaRole:"radio",formId:null,getGroupValue:function(){var e=this.getManager().getChecked(this.name,this.getFormId());return e?e.inputValue:null},onBoxClick:function(){var e=this;e.disabled||e.readOnly||this.setValue(!0)},onRemoved:function(){this.callParent(arguments),this.formId=null},setValue:function(e){var t,n=this;return Ext.isBoolean(e)?n.callParent(arguments):(t=n.getManager().getWithValue(n.name,e,n.getFormId()).getAt(0),t&&t.setValue(!0)),n},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){return this.getSubmitData()},onChange:function(e){var t,n,i,r,o=this;if(o.callParent(arguments),e)for(r=o.getManager().getByName(o.name,o.getFormId()).items,n=r.length,t=0;n>t;t++)i=r[t],i!==o&&i.setValue(!1)},getManager:function(){return Ext.form.RadioManager}}),Ext.define("Ext.form.RadioGroup",{extend:Ext.form.CheckboxGroup,alias:"widget.radiogroup",allowBlank:!0,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:Ext.baseCSSPrefix+"form-radio-group",getBoxes:function(e){return this.query("[isRadio]"+(e||""))},checkChange:function(){var e=this.getValue(),t=Ext.Object.getKeys(e)[0];Ext.isArray(e[t])||this.callParent(arguments)},setValue:function(e){var t,n,i,r,o,a,s;if(Ext.isObject(e))for(s in e)if(e.hasOwnProperty(s))for(t=e[s],n=this.items.first(),i=n?n.getFormId():null,r=Ext.form.RadioManager.getWithValue(s,t,i).items,a=r.length,o=0;a>o;++o)r[o].setValue(!0);return this}}),Ext.define("Ext.form.action.DirectLoad",{extend:Ext.form.action.Load,alternateClassName:"Ext.form.Action.DirectLoad",alias:"formaction.directload",type:"directload",run:function(){var e,t,n=this,i=n.form,r=i.api,o=r.load;"function"!=typeof o&&(r.load=o=Ext.direct.Manager.parseMethod(o)),e=o.directCfg.method,t=e.getArgs(n.getParams(),i.paramOrder,i.paramsAsHash),t.push(n.onComplete,n),o.apply(window,t)},processResponse:function(e){return this.result=e},onComplete:function(e){e?this.onSuccess(e):this.onFailure(null)}}),Ext.define("Ext.form.action.DirectSubmit",{extend:Ext.form.action.Submit,alternateClassName:"Ext.form.Action.DirectSubmit",alias:"formaction.directsubmit",type:"directsubmit",doSubmit:function(){var e,t=this,n=t.form,i=n.api,r=i.submit,o=Ext.Function.bind(t.onComplete,t),a=t.buildForm();"function"!=typeof r&&(i.submit=r=Ext.direct.Manager.parseMethod(r)),(t.timeout||n.timeout)&&(e={timeout:1e3*t.timeout||1e3*n.timeout}),r.call(window,a.formEl,o,t,e),t.cleanup(a)},processResponse:function(e){return this.result=e},onComplete:function(e){e?this.onSuccess(e):this.onFailure(null)}}),Ext.define("Ext.form.action.StandardSubmit",{extend:Ext.form.action.Submit,alias:"formaction.standardsubmit",doSubmit:function(){var e=this.buildForm();e.formEl.submit(),this.cleanup(e)}}),Ext.define("Ext.layout.component.field.Trigger",{alias:"layout.triggerfield",extend:Ext.layout.component.field.Field,type:"triggerfield",borderWidths:{},beginLayout:function(e){var t,n=this,i=n.owner;e.triggerWrap=e.getEl("triggerWrap"),n.callParent(arguments),t=i.getTriggerStateFlags(),t!=i.lastTriggerStateFlags&&(i.lastTriggerStateFlags=t,n.updateEditState())},beginLayoutCycle:function(e){this.callParent(arguments),e.widthModel.shrinkWrap&&!this.owner.inputWidth&&e.inputContext.el.setStyle("width","")},beginLayoutFixed:function(e,t,n){var i=this,r=e.target,o=i.ieInputWidthAdjustment||0,a="100%",s=r.triggerWrap;i.callParent(arguments),r.inputCell.setStyle("width","100%"),o&&(i.adjustIEInputPadding(e),"px"===n&&(a=r.inputWidth?r.inputWidth-i.getExtraWidth(e):t-o-i.getExtraWidth(e),a+="px")),r.inputEl.setStyle("width",a),a=r.inputWidth,a?s.setStyle("width",a+o+"px"):s.setStyle("width",t+n),s.setStyle("table-layout","fixed")},adjustIEInputPadding:function(){this.owner.inputCell.setStyle("padding-right",this.ieInputWidthAdjustment+"px")},getExtraWidth:function(e){var t=this,n=t.owner,i=t.borderWidths,r=n.ui+n.triggerEl.getCount();return r in i||(i[r]=e.triggerWrap.getBorderInfo().width),i[r]+n.getTriggerWidth()},beginLayoutShrinkWrap:function(e){var t=e.target,n="",i=t.inputWidth,r=t.triggerWrap;this.callParent(arguments),i?(r.setStyle("width",i+"px"),i=i-this.getExtraWidth(e)+"px",t.inputEl.setStyle("width",i),t.inputCell.setStyle("width",i)):(t.inputCell.setStyle("width",n),t.inputEl.setStyle("width",n),r.setStyle("width",n),r.setStyle("table-layout","auto"))},getTextWidth:function(){var e,t=this,n=t.owner,i=n.inputEl;return e=(i.dom.value||(n.hasFocus?"":n.emptyText)||"")+n.growAppend,i.getTextWidth(e)},publishOwnerWidth:function(e,t){var n=this.owner;this.callParent(arguments),n.grow||n.inputWidth||(t-=this.getExtraWidth(e),"top"!=n.labelAlign&&(t-=n.getLabelWidth()),e.inputContext.setWidth(t))},publishInnerHeight:function(e,t){e.inputContext.setHeight(t-this.measureLabelErrorHeight(e))},measureContentWidth:function(e){var t,n,i,r=this,o=r.owner,a=r.callParent(arguments),s=e.inputContext;return o.grow&&!e.state.growHandled?(t=r.getTextWidth()+e.inputContext.getFrameInfo().width,n=o.growMax,i=Math.min(n,a),n=Math.max(o.growMin,n,i),t=Ext.Number.constrain(t,o.growMin,n),s.setWidth(t),e.state.growHandled=!0,s.domBlock(r,"width"),a=0/0):o.inputWidth||(a-=r.getExtraWidth(e)),a},updateEditState:function(){var e,t,n=this,i=n.owner,r=i.inputEl,o=Ext.baseCSSPrefix+"trigger-noedit";n.owner.readOnly?(r.addCls(o),t=!0,e=!1):(n.owner.editable?(r.removeCls(o),t=!1):(r.addCls(o),t=!0),e=!n.owner.hideTrigger),i.triggerCell.setDisplayed(e),r.dom.readOnly=t}}),Ext.define("Ext.form.field.Trigger",{extend:Ext.form.field.Text,alias:["widget.triggerfield","widget.trigger"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],childEls:[{name:"triggerCell",select:"."+Ext.baseCSSPrefix+"trigger-cell"},{name:"triggerEl",select:"."+Ext.baseCSSPrefix+"form-trigger"},"triggerWrap","inputCell"],triggerBaseCls:Ext.baseCSSPrefix+"form-trigger",triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerNoEditCls:Ext.baseCSSPrefix+"trigger-noedit",hideTrigger:!1,editable:!0,readOnly:!1,repeatTriggerClick:!1,autoSize:Ext.emptyFn,monitorTab:!0,mimicing:!1,triggerIndexRe:/trigger-index-(\d+)/,extraTriggerCls:"",componentLayout:"triggerfield",initComponent:function(){this.wrapFocusCls=this.triggerWrapCls+"-focus",this.callParent(arguments)},getSubTplMarkup:function(e){var t=this,n=e.childElCls,i=t.callParent(arguments);return'<table id="'+t.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+n+'" cellpadding="0" cellspacing="0"><tbody><tr>'+'<td id="'+t.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+n+'">'+i+"</td>"+t.getTriggerMarkup()+"</tr></tbody></table>"},getSubTplData:function(){var e=this,t=e.callParent(),n=e.readOnly===!0,i=e.editable!==!1;return Ext.apply(t,{editableCls:n||!i?" "+e.triggerNoEditCls:"",readOnly:!i||n})},getLabelableRenderData:function(){var e=this,t=e.triggerWrapCls,n=e.callParent(arguments);return Ext.applyIf(n,{triggerWrapCls:t,triggerMarkup:e.getTriggerMarkup()})},getTriggerMarkup:function(){var e,t=this,n=0,i=t.readOnly||t.hideTrigger,r=t.triggerBaseCls,o=[],a=Ext.dom.Element.unselectableCls,s="width:"+t.triggerWidth+"px;"+(i?"display:none;":""),l=t.extraTriggerCls+" "+Ext.baseCSSPrefix+"trigger-cell "+a;for(t.trigger1Cls||(t.trigger1Cls=t.triggerCls),n=0;(e=t["trigger"+(n+1)+"Cls"])||1>n;n++)o.push({tag:"td",valign:"top",cls:l,style:s,cn:{cls:[Ext.baseCSSPrefix+"trigger-index-"+n,r,e].join(" "),role:"button"}});return o[0].cn.cls+=" "+r+"-first",Ext.DomHelper.markup(o)},disableCheck:function(){return!this.disabled},beforeRender:function(){var e,t=this,n=t.triggerBaseCls;t.triggerWidth||(e=Ext.getBody().createChild({style:"position: absolute;",cls:Ext.baseCSSPrefix+"form-trigger"}),Ext.form.field.Trigger.prototype.triggerWidth=e.getWidth(),e.remove()),t.callParent(),n!=Ext.baseCSSPrefix+"form-trigger"&&t.addChildEls({name:"triggerEl",select:"."+n}),t.lastTriggerStateFlags=t.getTriggerStateFlags()},onRender:function(){var e=this;e.callParent(arguments),e.doc=Ext.getDoc(),e.initTrigger()},getTriggerWidth:function(){var e=this,t=0;return!e.triggerWrap||e.hideTrigger||e.readOnly||(t=e.triggerEl.getCount()*e.triggerWidth),t},setHideTrigger:function(e){e!=this.hideTrigger&&(this.hideTrigger=e,this.updateLayout())},setEditable:function(e){e!=this.editable&&(this.editable=e,this.updateLayout())},setReadOnly:function(e){var t=this,n=t.readOnly;t.callParent(arguments),e!=n&&t.updateLayout()},initTrigger:function(){var e,t,n,i,r,o=this,a=o.triggerWrap,s=o.triggerEl,l=o.disableCheck;for(o.repeatTriggerClick?o.triggerRepeater=new Ext.util.ClickRepeater(a,{preventDefault:!0,handler:o.onTriggerWrapClick,listeners:{mouseup:o.onTriggerWrapMouseup,scope:o},scope:o}):o.mon(a,{click:o.onTriggerWrapClick,mouseup:o.onTriggerWrapMouseup,scope:o}),s.setVisibilityMode(Ext.Element.DISPLAY),s.addClsOnOver(o.triggerBaseCls+"-over",l,o),e=s.elements,t=e.length,i=0;t>i;i++)n=e[i],r=i+1,n.addClsOnOver(o["trigger"+r+"Cls"]+"-over",l,o),n.addClsOnClick(o["trigger"+r+"Cls"]+"-click",l,o);s.addClsOnClick(o.triggerBaseCls+"-click",l,o)},onDestroy:function(){var e=this;Ext.destroyMembers(e,"triggerRepeater","triggerWrap","triggerEl"),delete e.doc,e.callParent()},onFocus:function(){var e=this;e.callParent(arguments),e.mimicing||(e.bodyEl.addCls(e.wrapFocusCls),e.mimicing=!0,e.mon(e.doc,"mousedown",e.mimicBlur,e,{delay:10}),e.monitorTab&&e.on("specialkey",e.checkTab,e))},checkTab:function(e,t){this.ignoreMonitorTab||t.getKey()!=t.TAB||this.triggerBlur()},getTriggerStateFlags:function(){var e=this,t=0;return e.readOnly&&(t+=1),e.editable&&(t+=2),e.hideTrigger&&(t+=4),t},onBlur:Ext.emptyFn,mimicBlur:function(e){this.isDestroyed||this.bodyEl.contains(e.target)||!this.validateBlur(e)||this.triggerBlur(e)},triggerBlur:function(e){var t=this;t.mimicing=!1,t.mun(t.doc,"mousedown",t.mimicBlur,t),t.monitorTab&&t.inputEl&&t.un("specialkey",t.checkTab,t),Ext.form.field.Trigger.superclass.onBlur.call(t,e),t.bodyEl&&t.bodyEl.removeCls(t.wrapFocusCls)},validateBlur:function(){return!0},onTriggerWrapClick:function(){var e,t,n,i,r=this;i=arguments[r.triggerRepeater?1:0],!i||r.readOnly||r.disabled||(e=i.getTarget("."+r.triggerBaseCls,null),t=e&&e.className.match(r.triggerIndexRe),t&&(n=r["onTrigger"+(parseInt(t[1],10)+1)+"Click"]||r.onTriggerClick,n&&n.call(r,i)))},onTriggerWrapMouseup:Ext.emptyFn,onTriggerClick:Ext.emptyFn}),Ext.define("Ext.form.field.Picker",{extend:Ext.form.field.Trigger,alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",matchFieldWidth:!0,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:!0,initComponent:function(){this.callParent(),this.addEvents("expand","collapse","select")},initEvents:function(){var e=this;e.callParent(),e.keyNav=new Ext.util.KeyNav(e.inputEl,{down:e.onDownArrow,esc:{handler:e.onEsc,scope:e,defaultEventAction:!1},scope:e,forceKeyDown:!0}),e.editable||e.mon(e.inputEl,"click",e.onTriggerClick,e),Ext.isGecko&&e.inputEl.dom.setAttribute("autocomplete","off")},onEsc:function(e){Ext.isIE&&e.preventDefault(),this.isExpanded&&(this.collapse(),e.stopEvent())},onDownArrow:function(){this.isExpanded||this.onTriggerClick()},expand:function(){var e,t,n,i=this;!i.rendered||i.isExpanded||i.isDestroyed||(i.expanding=!0,e=i.bodyEl,t=i.getPicker(),n=i.collapseIf,t.show(),i.isExpanded=!0,i.alignPicker(),e.addCls(i.openCls),i.mon(Ext.getDoc(),{mousewheel:n,mousedown:n,scope:i}),Ext.EventManager.onWindowResize(i.alignPicker,i),i.fireEvent("expand",i),i.onExpand(),delete i.expanding)},onExpand:Ext.emptyFn,alignPicker:function(){var e=this,t=e.getPicker();e.isExpanded&&(e.matchFieldWidth&&t.setWidth(e.bodyEl.getWidth()),t.isFloating()&&e.doAlign())},doAlign:function(){var e,t=this,n=t.picker,i="-above";t.picker.alignTo(t.triggerWrap,t.pickerAlign,t.pickerOffset),e=n.el.getY()<t.inputEl.getY(),t.bodyEl[e?"addCls":"removeCls"](t.openCls+i),n[e?"addCls":"removeCls"](n.baseCls+i)
},collapse:function(){if(this.isExpanded&&!this.isDestroyed){var e=this,t=e.openCls,n=e.picker,i=Ext.getDoc(),r=e.collapseIf,o="-above";n.hide(),e.isExpanded=!1,e.bodyEl.removeCls([t,t+o]),n.el.removeCls(n.baseCls+o),i.un("mousewheel",r,e),i.un("mousedown",r,e),Ext.EventManager.removeResizeListener(e.alignPicker,e),e.fireEvent("collapse",e),e.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(e){var t=this;t.isDestroyed||e.within(t.bodyEl,!1,!0)||e.within(t.picker.el,!1,!0)||t.isEventWithinPickerLoadMask(e)||t.collapse()},getPicker:function(){var e=this;return e.picker||(e.picker=e.createPicker())},createPicker:Ext.emptyFn,onTriggerClick:function(){var e=this;e.readOnly||e.disabled||(e.isExpanded?e.collapse():e.expand(),e.inputEl.focus())},triggerBlur:function(){var e=this.picker;this.callParent(arguments),e&&e.isVisible()&&e.hide()},mimicBlur:function(e){var t=this,n=t.picker;n&&(e.within(n.el,!1,!0)||t.isEventWithinPickerLoadMask(e))||t.callParent(arguments)},onDestroy:function(){var e=this,t=e.picker;Ext.EventManager.removeResizeListener(e.alignPicker,e),Ext.destroy(e.keyNav),t&&(delete t.pickerField,t.destroy()),e.callParent()},isEventWithinPickerLoadMask:function(e){var t=this.picker.loadMask;return t?e.within(t.maskEl,!1,!0)||e.within(t.el,!1,!0):!1}}),Ext.define("Ext.selection.Model",{extend:Ext.util.Observable,alternateClassName:"Ext.AbstractSelectionModel",mixins:{bindable:Ext.util.Bindable},allowDeselect:void 0,toggleOnClick:!0,selected:null,pruneRemoved:!0,suspendChange:0,constructor:function(e){var t=this;e=e||{},Ext.apply(t,e),t.addEvents("selectionchange","focuschange"),t.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0},t.setSelectionMode(e.mode||t.mode),t.selected=new Ext.util.MixedCollection(null,t.getSelectionId),t.callParent(arguments)},bindStore:function(e,t){var n=this;n.mixins.bindable.bindStore.apply(n,arguments),n.store&&!t&&n.refresh()},getStoreListeners:function(){var e=this;return{add:e.onStoreAdd,clear:e.onStoreClear,bulkremove:e.onStoreRemove,update:e.onStoreUpdate,load:e.onStoreLoad,idchanged:e.onModelIdChanged,refresh:e.onStoreRefresh}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){this.suspendChange&&--this.suspendChange},selectAll:function(e){var t=this,n=t.store.getRange(),i=0,r=n.length,o=t.getSelection().length;for(t.suspendChanges();r>i;i++)t.doSelect(n[i],!0,e);t.resumeChanges(),e||t.maybeFireSelectionChange(t.getSelection().length!==o)},deselectAll:function(e){var t,n,i,r=this,o=r.getSelection(),a={},s=r.store,l=o.length;for(t=0,n=o.length;n>t;t++)i=o[t],a[i.internalId]=s.indexOf(i);o=Ext.Array.sort(o,function(e,t){var n=a[e.internalId],i=a[t.internalId];return i>n?-1:1}),r.suspendChanges(),r.doDeselect(o,e),r.resumeChanges(),e||r.maybeFireSelectionChange(r.getSelection().length!==l)},selectWithEvent:function(e,t){var n,i,r,o=this,a=o.isSelected(e),s=t.shiftKey,l=t.ctrlKey,d=o.selectionStart,c=o.getSelection(),u=c.length,h=o.allowDeselect;switch(o.selectionMode){case"MULTI":if(s&&d)o.selectRange(d,e,l);else if(l&&a)o.doDeselect(e,!1);else if(l)o.doSelect(e,!0,!1);else if(a&&!s&&!l&&u>1){for(n=[],i=0;u>i;++i)r=c[i],r!==e&&n.push(r);o.doDeselect(n)}else a||o.doSelect(e,!1);break;case"SIMPLE":a?o.doDeselect(e):o.doSelect(e,!0);break;case"SINGLE":h&&!l&&(h=o.toggleOnClick),h&&a?o.doDeselect(e):o.doSelect(e,!1)}s||(o.selectionStart=o.isSelected(e)?e:null)},afterKeyNavigate:function(e,t){var n,i,r=this,o=r.isSelected(t),a=r.selectionStart&&r.isSelected(r.lastFocused)?r.selectionStart:r.selectionStart=r.lastFocused,s=e.getCharCode(),l=s===e.SPACE,d=s===e.UP||s===e.PAGE_UP?"up":s===e.DOWN||s===e.DOWN?"down":null;switch(r.selectionMode){case"MULTI":l?e.shiftKey?r.selectRange(a,t,e.ctrlKey):o?(r.doDeselect(t,e.ctrlKey),r.setLastFocused(null),r.setLastFocused(t)):r.doSelect(t,e.ctrlKey):e.shiftKey&&a?(i=r.store.indexOf(a),n=r.store.indexOf(t),"up"===d&&n>=i?r.deselectRange(r.lastFocused,n+1):"down"===d&&i>=n?r.deselectRange(r.lastFocused,n-1):a!==t&&r.selectRange(a,t,e.ctrlKey),r.lastSelected=t,r.setLastFocused(t)):e.ctrlKey&&o?r.setLastFocused(t):e.ctrlKey?r.setLastFocused(t):r.doSelect(t,!1);break;case"SIMPLE":o?r.doDeselect(t):r.doSelect(t,!0);break;case"SINGLE":l?o?(r.doDeselect(t),r.setLastFocused(t)):r.doSelect(t):e.ctrlKey?r.setLastFocused(t):r.allowDeselect&&o?r.doDeselect(t):r.doSelect(t,!1)}e.shiftKey||r.isSelected(t)&&(r.selectionStart=t)},selectRange:function(e,t,n){var i,r,o,a,s,l,d,c=this,u=c.store,h=c.selected.items;if(!c.isLocked()){for(i=c.normalizeRowRange(e,t),e=i[0],t=i[1],a=[],r=e;t>=r;r++)c.isSelected(u.getAt(r))||a.push(u.getAt(r));if(!n){for(s=[],c.suspendChanges(),r=0,o=h.length;o>r;++r)d=h[r],l=u.indexOf(d),(e>l||l>t)&&s.push(d);for(r=0,o=s.length;o>r;++r)c.doDeselect(s[r]);c.resumeChanges()}c.doMultiSelect(a,!0)}},deselectRange:function(e,t){var n,i,r,o,a=this,s=a.store;if(!a.isLocked()){for(n=a.normalizeRowRange(e,t),e=n[0],t=n[1],r=[],i=e;t>=i;i++)o=s.getAt(i),a.isSelected(o)&&r.push(o);a.doDeselect(r)}},normalizeRowRange:function(e,t){var n,i=this.store;return Ext.isNumber(e)||(e=i.indexOf(e)),e=Math.max(0,e),Ext.isNumber(t)||(t=i.indexOf(t)),t=Math.min(t,i.getCount()-1),e>t&&(n=t,t=e,e=n),[e,t]},onModelIdChanged:function(e,t,n,i,r){this.selected.updateKey(r,i)},select:function(e,t,n){Ext.isDefined(e)&&this.doSelect(e,t,n)},deselect:function(e,t){this.doDeselect(e,t)},doSelect:function(e,t,n){var i,r=this;if(!r.locked&&r.store){if("number"==typeof e){if(i=r.store.getAt(e),!i)return;e=[i]}"SINGLE"==r.selectionMode&&e?(i=e.length?e[0]:e,r.doSingleSelect(i,n)):r.doMultiSelect(e,t,n)}},doMultiSelect:function(e,t,n){var i,r,o,a,s,l=this,d=l.selected,c=!1;if(!l.locked){if(e=Ext.isArray(e)?e:[e],o=e.length,!t&&d.getCount()>0&&(i=l.deselectDuringSelect(e,d.getRange(),n),i[0]))return l.maybeFireSelectionChange(i[1]>0&&!n),void 0;for(s=function(){d.add(a),c=!0},r=0;o>r;r++)a=e[r],l.isSelected(a)||(l.lastSelected=a,l.onSelectChange(a,!0,n,s));l.preventFocus||l.setLastFocused(a,n),l.maybeFireSelectionChange(c&&!n)}},deselectDuringSelect:function(e,t,n){var i,r,o=this,a=t.length,s=0,l=!1;for(o.suspendChanges(),r=0;a>r;++r)i=t[r],Ext.Array.contains(e,i)||(o.doDeselect(i,n)?++s:l=!0);return o.resumeChanges(),[l,s]},doDeselect:function(e,t){var n,i,r,o=this,a=o.selected,s=0,l=0,d=0;if(o.locked||!o.store)return!1;if("number"==typeof e){if(i=o.store.getAt(e),!i)return!1;e=[i]}else Ext.isArray(e)||(e=[e]);for(r=function(){++d,a.remove(i)},n=e.length,o.suspendChanges();n>s;s++)i=e[s],o.isSelected(i)&&(o.lastSelected===i&&(o.lastSelected=a.last(),o.lastFocused===i&&o.setLastFocused(null)),++l,o.onSelectChange(i,!1,t,r));return o.resumeChanges(),o.maybeFireSelectionChange(d>0&&!t),d===l},doSingleSelect:function(e,t){var n,i=this,r=!1,o=i.selected;if(!i.locked&&!i.isSelected(e)){if(o.getCount()){if(i.suspendChanges(),!i.doDeselect(i.lastSelected,t))return i.resumeChanges(),void 0;i.resumeChanges()}n=function(){o.add(e),i.lastSelected=e,r=!0},i.onSelectChange(e,!0,t,n),r&&(t||i.preventFocus||i.setLastFocused(e),i.maybeFireSelectionChange(!t))}},setLastFocused:function(e,t){var n=this,i=n.lastFocused;e!==i&&(n.lastFocused=e,n.onLastFocusChanged(i,e,t))},isFocused:function(e){return e===this.getLastFocused()},maybeFireSelectionChange:function(e){var t=this;e&&!t.suspendChange&&t.fireEvent("selectionchange",t,t.getSelection())},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(e){e=e?e.toUpperCase():"SINGLE",this.selectionMode=this.modes[e]?e:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(e){this.locked=!!e},isRangeSelected:function(e,t){var n,i,r=this,o=r.store;for(i=r.normalizeRowRange(e,t),e=i[0],t=i[1],n=e;t>=n;n++)if(!r.isSelected(o.getAt(n)))return!1;return!0},isSelected:function(e){return e=Ext.isNumber(e)?this.store.getAt(e):e,this.selected.contains(e)},hasSelection:function(){return this.selected.getCount()>0},getSelectionId:function(e){return e.internalId},pruneIf:function(){var e,t,n=this,i=n.selected,r=[],o=i.length;if(n.pruneRemoved){for(e=0;o>e;e++)t=i.getAt(e),this.storeHasSelected(t)||r.push(t);if(r.length){for(e=0,o=r.length;o>e;e++)i.remove(r[e]);n.maybeFireSelectionChange(!0)}}},storeHasSelected:function(e){var t,n,i,r,o=this.store;if(e.hasId()&&o.getById(e))return!0;for(t=o.data.items,n=t.length,i=e.internalId,r=0;n>r;++r)if(i===t[r].internalId)return!0;return!1},refresh:function(){var e,t,n,i=this,r=i.store,o=[],a=[],s=i.getSelection(),l=s.length,d=0,c=i.getLastFocused();if(r){for(;l>d&&(t=s[d],-1!==r.indexOf(t)?o.push(t):i.pruneRemoved||(e=r.getById(t.getId()),e?o.push(e):a.push(t)),"SINGLE"!==i.mode||!a.length);d++);i.selected.getCount()!=o.length+a.length&&(n=!0),i.clearSelections(),-1!==r.indexOf(c)&&i.setLastFocused(c,!0),o.length&&i.doSelect(o,!1,!0),a.length&&(i.selected.addAll(a),i.lastSelected||(i.lastSelected=a[a.length-1])),i.maybeFireSelectionChange(n)}},clearSelections:function(){this.selected.clear(),this.lastSelected=null,this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){this.selected.getCount()>0&&(this.clearSelections(),this.maybeFireSelectionChange(!0))},onStoreRemove:function(e,t,n,i){var r=this;r.selectionStart&&Ext.Array.contains(t,r.selectionStart)&&(r.selectionStart=null),i||r.locked||!r.pruneRemoved||r.deselectDeletedRecords(t)},deselectDeletedRecords:function(e){var t,n,i=this,r=i.selected,o=e.length,a=0;for(t=0;o>t;t++)n=e[t],r.remove(n)&&(i.lastSelected==n&&(i.lastSelected=null),i.getLastFocused()==n&&i.setLastFocused(null),++a);a&&i.maybeFireSelectionChange(!0)},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearListeners()},onStoreUpdate:Ext.emptyFn,onStoreRefresh:Ext.emptyFn,onStoreLoad:Ext.emptyFn,onSelectChange:function(e,t,n,i){var r=this,o=t?"select":"deselect";(n||r.fireEvent("before"+o,r,e))!==!1&&i()!==!1&&(n||r.fireEvent(o,r,e))},onLastFocusChanged:function(e,t){this.fireEvent("focuschange",this,e,t)},onEditorKey:Ext.emptyFn,beforeViewRender:function(e){this.views=this.views||[],this.views.push(e),this.bindStore(e.getStore(),!0)},bindComponent:Ext.emptyFn}),Ext.define("Ext.selection.DataViewModel",{extend:Ext.selection.Model,deselectOnContainerClick:!0,enableKeyNav:!0,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select"),this.callParent(arguments)},bindComponent:function(e){var t=this,n={refresh:t.refresh,scope:t};t.view=e,t.bindStore(e.getStore()),n[e.triggerEvent]=t.onItemClick,n[e.triggerCtEvent]=t.onContainerClick,e.on(n),t.enableKeyNav&&t.initKeyNav(e)},onUpdate:function(e){var t=this.view;t&&this.isSelected(e)&&t.onItemSelect(e)},onItemClick:function(e,t,n,i,r){this.selectWithEvent(t,r)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},initKeyNav:function(e){var t=this;return e.rendered?(e.el.set({tabIndex:-1}),t.keyNav=new Ext.util.KeyNav({target:e.el,ignoreInputFields:!0,down:Ext.pass(t.onNavKey,[1],t),right:Ext.pass(t.onNavKey,[1],t),left:Ext.pass(t.onNavKey,[-1],t),up:Ext.pass(t.onNavKey,[-1],t),scope:t}),void 0):(e.on({render:Ext.Function.bind(t.initKeyNav,t,[e]),single:!0}),void 0)},onNavKey:function(e){e=e||1;var t,n=this,i=n.view,r=n.getSelection()[0],o=n.view.store.getCount();t=r?i.indexOf(i.getNode(r))+e:0,0>t?t=o-1:t>=o&&(t=0),n.select(t)},onSelectChange:function(e,t,n,i){var r=this,o=r.view,a=t?"select":"deselect";(n||r.fireEvent("before"+a,r,e))!==!1&&i()!==!1&&(o&&(t?o.onItemSelect(e):o.onItemDeselect(e)),n||r.fireEvent(a,r,e))},onLastFocusChanged:function(e,t,n){var i=this.view;i&&!n&&t&&(i.focusNode(t),this.fireEvent("focuschange",this,e,t))},destroy:function(){Ext.destroy(this.keyNav),this.callParent()}}),Ext.define("Ext.view.AbstractView",{extend:Ext.Component,mixins:{bindable:Ext.util.Bindable},inheritableStatics:{getRecord:function(e){return this.getBoundView(e).getRecord(e)},getBoundView:function(e){return Ext.getCmp(e.boundView)}},deferInitialRefresh:!0,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,last:!1,triggerEvent:"itemclick",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){var e=this,t=(Ext.isDefined,e.itemTpl),n={};t&&(Ext.isArray(t)?t=t.join(""):Ext.isObject(t)&&(n=Ext.apply(n,t.initialConfig),t=t.html),e.itemSelector||(e.itemSelector="."+e.itemCls),t=Ext.String.format('<tpl for="."><div class="{0}">{1}</div></tpl>',e.itemCls,t),e.tpl=new Ext.XTemplate(t,n)),e.callParent(),e.tpl=e.getTpl("tpl"),e.overItemCls&&(e.trackOver=!0),e.addEvents("beforerefresh","refresh","viewready","itemupdate","itemadd","itemremove"),e.addCmpEvents(),e.store=Ext.data.StoreManager.lookup(e.store||"ext-empty-store"),e.dataSource||(e.dataSource=e.store),e.bindStore(e.dataSource,!0,"dataSource"),e.all||(e.all=new Ext.CompositeElementLite),e.scrollState={top:0,left:0},e.on({scroll:e.onViewScroll,element:"el",scope:e})},onRender:function(){var e=this,t=e.loadMask,n=e.getMaskStore(),i={target:e,msg:e.loadingText,msgCls:e.loadingCls,useMsg:e.loadingUseMsg,store:n};e.callParent(arguments),t&&!n.proxy.isSynchronous&&(Ext.isObject(t)&&(i=Ext.apply(i,t)),e.loadMask=new Ext.LoadMask(i),e.loadMask.on({scope:e,beforeshow:e.onMaskBeforeShow,hide:e.onMaskHide}))},finishRender:function(){var e=this;e.callParent(arguments),e.up("[collapsed],[hidden]")||e.doFirstRefresh(e.dataSource)},onBoxReady:function(){var e=this;e.callParent(arguments),e.firstRefreshDone||e.doFirstRefresh(e.dataSource)},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var e=this,t=e.loadingHeight;t&&t>e.getHeight()&&(e.hasLoadingHeight=!0,e.oldMinHeight=e.minHeight,e.minHeight=t,e.updateLayout())},onMaskHide:function(){var e=this;!e.destroying&&e.hasLoadingHeight&&(e.minHeight=e.oldMinHeight,e.updateLayout(),delete e.hasLoadingHeight)},beforeRender:function(){this.callParent(arguments),this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments),this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var e=this,t="SINGLE";return e.simpleSelect?t="SIMPLE":e.multiSelect&&(t="MULTI"),e.selModel&&e.selModel.events||(e.selModel=new Ext.selection.DataViewModel(Ext.apply({allowDeselect:e.allowDeselect,mode:t},e.selModel))),e.selModel.hasRelaySetup||(e.relayEvents(e.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]),e.selModel.hasRelaySetup=!0),e.disableSelection&&(e.selModel.locked=!0),e.selModel},refresh:function(){var e,t,n,i,r,o,a=this;a.rendered&&!a.isDestroyed&&(a.hasListeners.beforerefresh&&a.fireEvent("beforerefresh",a)===!1||(e=a.getTargetEl(),o=a.getViewRange(),r=e.dom,a.preserveScrollOnRefresh||(t=r.parentNode,n=r.style.display,r.style.display="none",i=r.nextSibling,t.removeChild(r)),a.refreshCounter?a.clearViewEl():(a.fixedNodes=e.dom.childNodes.length,a.refreshCounter=1),a.tpl.append(e,a.collectData(o,a.all.startIndex)),o.length<1?(this.store.loading||a.deferEmptyText&&!a.hasFirstRefresh||Ext.core.DomHelper.insertHtml("beforeEnd",e.dom,a.emptyText),a.all.clear()):(a.collectNodes(e.dom),a.updateIndexes(0)),a.hasFirstRefresh&&(a.refreshSelmodelOnRefresh!==!1?a.selModel.refresh():a.selModel.pruneIf()),a.hasFirstRefresh=!0,a.preserveScrollOnRefresh||(t.insertBefore(r,i),r.style.display=n),this.refreshSize(),a.fireEvent("refresh",a),a.viewReady||(a.viewReady=!0,a.fireEvent("viewready",a))))},collectNodes:function(e){this.all.fill(Ext.query(this.getItemSelector(),Ext.getDom(e)),this.all.startIndex)},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(){var e=this.getSizeModel();(e.height.shrinkWrap||e.width.shrinkWrap)&&this.updateLayout()},clearViewEl:function(){var e=this,t=e.getTargetEl();if(e.fixedNodes)for(;t.dom.childNodes[e.fixedNodes];)t.dom.removeChild(t.dom.childNodes[e.fixedNodes]);else t.update("");e.refreshCounter++},onViewScroll:Ext.emptyFn,onIdChanged:Ext.emptyFn,saveScrollState:function(){if(this.rendered){var e=this.el.dom,t=this.scrollState;t.left=e.scrollLeft,t.top=e.scrollTop}},restoreScrollState:function(){if(this.rendered){var e=this.el.dom,t=this.scrollState;e.scrollLeft=t.left,e.scrollTop=t.top}},prepareData:function(e,t,n){var i,r,o;if(n){i=n.getAssociatedData();for(r in i)i.hasOwnProperty(r)&&(o||(e=Ext.Object.chain(e),o=!0),e[r]=i[r])}return e},collectData:function(e,t){for(var n,i=[],r=0,o=e.length;o>r;r++)n=e[r],i[r]=this.prepareData(n.data,t+r,n);return i},bufferRender:function(e,t){var n=this,i=n.renderBuffer||(n.renderBuffer=document.createElement("div"));return n.tpl.overwrite(i,n.collectData(e,t)),Ext.DomQuery.select(n.getItemSelector(),i)},getNodeContainer:function(){return this.getTargetEl()},onUpdate:function(e,t){var n,i,r=this;return r.viewReady&&(n=r.dataSource.indexOf(t),n>-1&&(i=r.bufferRender([t],n)[0],r.getNode(t)))?(r.all.replaceElement(n,i,!0),r.updateIndexes(n,n),r.selModel.onUpdate(t),r.hasListeners.itemupdate&&r.fireEvent("itemupdate",t,n,i),i):void 0},onAdd:function(e,t,n){var i,r=this;r.rendered&&(0===r.all.getCount()?(r.refresh(),i=r.all.slice()):(i=r.doAdd(t,n),r.refreshSelmodelOnRefresh!==!1&&r.selModel.refresh(),r.updateIndexes(n),r.refreshSize()),r.hasListeners.itemadd&&r.fireEvent("itemadd",t,n,i))},doAdd:function(e,t){var n,i,r=this,o=r.bufferRender(e,t,!0),a=r.all,s=a.getCount();if(0===s)for(n=0,i=o.length;i>n;n++)this.getNodeContainer().appendChild(o[n]);else s>t?0===t?a.item(t).insertSibling(o,"before",!0):a.item(t-1).insertSibling(o,"after",!0):a.last().insertSibling(o,"after",!0);return a.insert(t,o),o},onRemove:function(e,t,n){var i,r,o,a=this,s=a.hasListeners.itemremove;if(a.all.getCount()){if(0===a.dataSource.getCount()){if(s)for(i=n.length-1;i>=0;--i)a.fireEvent("itemremove",t[i],n[i]);a.refresh()}else{for(i=n.length-1;i>=0;--i)r=t[i],o=n[i],a.doRemove(r,o),s&&a.fireEvent("itemremove",r,o);a.updateIndexes(n[0])}this.refreshSize()}},doRemove:function(e,t){this.all.removeElement(t,!0)},refreshNode:function(e){this.onUpdate(this.dataSource,this.dataSource.getAt(e))},updateIndexes:function(e,t){var n,i=this.all.elements,r=this.getViewRange();for(e=e||0,t=t||(0===t?0:i.length-1),n=e;t>=n;n++)i[n].viewIndex=n,i[n].viewRecordId=r[n].internalId,i[n].boundView||(i[n].boundView=this.id)},getStore:function(){return this.store},bindStore:function(e,t){var n=this;n.mixins.bindable.bindStore.apply(n,arguments),t||n.getSelectionModel().bindStore(e),n.componentLayoutCounter&&n.doFirstRefresh(e)},doFirstRefresh:function(e){var t=this;t.firstRefreshDone=!0,e&&!e.loading&&(t.deferInitialRefresh?t.applyFirstRefresh():t.refresh())},applyFirstRefresh:function(){var e=this;e.isDestroyed||(e.up("[isCollapsingOrExpanding]")?Ext.Function.defer(e.applyFirstRefresh,100,e):Ext.Function.defer(function(){e.isDestroyed||e.refresh()},1))},onUnbindStore:function(){this.setMaskBind(null)},onBindStore:function(e,t,n){this.setMaskBind(e),t||"store"!==n||this.bindStore(e,!1,"dataSource")},setMaskBind:function(e){var t=this.loadMask;t&&t.bindStore&&t.bindStore(e)},getStoreListeners:function(){var e=this;return{idchanged:e.onIdChanged,refresh:e.onDataRefresh,add:e.onAdd,bulkremove:e.onRemove,update:e.onUpdate,clear:e.refresh}},onDataRefresh:function(){this.refreshView()},refreshView:function(){var e=this,t=!e.firstRefreshDone&&(!e.rendered||e.up("[collapsed],[isCollapsingOrExpanding],[hidden]"));t?e.deferInitialRefresh=!1:e.blockRefresh!==!0&&(e.firstRefreshDone=!0,e.refresh())},findItemByChild:function(e){return Ext.fly(e).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(e){return e.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var e=[],t=this.selModel.getSelection(),n=t.length,i=0;n>i;i++)e.push(this.getNode(t[i]));return e},getRecords:function(e){for(var t=[],n=0,i=e.length,r=this.dataSource.data;i>n;n++)t[t.length]=r.getByKey(e[n].viewRecordId);return t},getRecord:function(e){return this.dataSource.data.getByKey(Ext.getDom(e).viewRecordId)},isSelected:function(e){var t=this.getRecord(e);return this.selModel.isSelected(t)},select:function(e,t,n){this.selModel.select(e,t,n)},deselect:function(e,t){this.selModel.deselect(e,t)},getNode:function(e){return!e&&0!==e||!this.rendered?null:Ext.isString(e)?document.getElementById(e):Ext.isNumber(e)?this.all.elements[e]:e.isModel?this.getNodeByRecord(e):e},getNodeByRecord:function(e){for(var t=this.all.elements,n=t.length,i=0;n>i;i++)if(t[i].viewRecordId===e.internalId)return t[i];return null},getNodes:function(e,t){var n=this.all;return void 0===t?t=n.getCount():t++,n.slice(e||0,t)},indexOf:function(e){return e=this.getNode(e),e||0===e?Ext.isNumber(e.viewIndex)?e.viewIndex:this.all.indexOf(e):-1},onDestroy:function(){var e=this;e.all.clear(),e.callParent(),e.bindStore(null),e.selModel.destroy()},onItemSelect:function(e){var t=this.getNode(e);t&&Ext.fly(t).addCls(this.selectedItemCls)},onItemDeselect:function(e){var t=this.getNode(e);t&&Ext.fly(t).removeCls(this.selectedItemCls)},getItemSelector:function(){return this.itemSelector}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection().length},getSelectedRecords:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection()},select:function(){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var e=this.getSelectionModel();return e.select.apply(e,arguments)},clearSelections:function(){Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()");var e=this.getSelectionModel();return e.deselectAll()}})})}),Ext.define("Ext.view.View",{extend:Ext.view.AbstractView,alternateClassName:"Ext.DataView",alias:"widget.dataview",deferHighlight:Ext.isIE7m?100:0,mouseOverOutBuffer:20,inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"}},initComponent:function(){var e=this;e.callParent(),e.mouseOverOutBuffer?(e.handleMouseOverOrOut=Ext.Function.createBuffered(e.handleMouseOverOrOut,e.mouseOverOutBuffer,e),e.lastMouseOverOutEvent=new Ext.EventObjectImpl):e.deferHighlight&&(e.setHighlightedItem=Ext.Function.createBuffered(e.setHighlightedItem,e.deferHighlight,e))},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","beforedeselect","select","deselect","focuschange","highlightitem","unhighlightitem")},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){var e=this,t=e.mouseOverOutBuffer?e.onMouseOverOut:e.handleMouseOverOrOut;e.callParent(),e.mon(e.getTargetEl(),{scope:e,freezeEvent:!0,click:e.handleEvent,mousedown:e.handleEvent,mouseup:e.handleEvent,dblclick:e.handleEvent,contextmenu:e.handleEvent,keydown:e.handleEvent,mouseover:t,mouseout:t})},onMouseOverOut:function(e){var t=this;t.lastMouseOverOutEvent.setEvent(e.browserEvent,!0),t.handleMouseOverOrOut(t.lastMouseOverOutEvent)},handleMouseOverOrOut:function(e){var t=this,n="mouseout"===e.type,i=n?e.getRelatedTarget:e.getTarget,r=i.call(e,t.itemSelector)||i.call(e,t.dataRowSelector);t.mouseOverItem&&r===t.mouseOverItem||(t.mouseOverItem&&(e.item=t.mouseOverItem,e.newType="mouseleave",t.handleEvent(e)),t.mouseOverItem=r,t.mouseOverItem&&(e.item=t.mouseOverItem,e.newType="mouseenter",t.handleEvent(e)))},handleEvent:function(e){var t=this,n="keydown"==e.type&&e.getKey();t.processUIEvent(e)!==!1&&t.processSpecialEvent(e),n===e.SPACE&&(t.inputTagRe.test(e.getTarget().tagName)||e.stopEvent())},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(e){if(Ext.getBody().isAncestor(e.target)){var t,n,i,r=this,o=e.getTarget(r.getItemSelector(),r.getTargetEl()),a=this.statics().EventMap,s=e.type,l=e.type;if(e.newType&&(l=e.newType,o=e.item),o||"keydown"!=s||(i=r.getSelectionModel(),n=i.lastFocused||i.getLastSelected(),n&&(o=r.getNode(n,!0))),o){if(n||(n=r.getRecord(o)),t=r.indexInStore?r.indexInStore(n):r.indexOf(o),!n||r.processItemEvent(n,o,t,e)===!1)return!1;if(r["onBeforeItem"+a[l]](n,o,t,e)===!1||r.fireEvent("beforeitem"+l,r,n,o,t,e)===!1||r["onItem"+a[l]](n,o,t,e)===!1)return!1;r.fireEvent("item"+l,r,n,o,t,e)}else{if(r.processContainerEvent(e)===!1||r["onBeforeContainer"+a[s]](e)===!1||r.fireEvent("beforecontainer"+s,r,e)===!1||r["onContainer"+a[s]](e)===!1)return!1;r.fireEvent("container"+s,r,e)}return!0}},onItemMouseEnter:function(e,t){this.trackOver&&this.highlightItem(t)},onItemMouseLeave:function(){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(e){var t,n=this,i=n.highlightedItem,r=n.overItemCls,o=n.beforeOverItemCls;i!=e&&(i&&(Ext.fly(i).removeCls(r),t=i.previousSibling,o&&t&&Ext.fly(t).removeCls(o),n.fireEvent("unhighlightitem",n,i)),n.highlightedItem=e,e&&(Ext.fly(e).addCls(n.overItemCls),t=e.previousSibling,o&&t&&Ext.fly(t).addCls(o),n.fireEvent("highlightitem",n,e)))},highlightItem:function(e){this.setHighlightedItem(e)},clearHighlight:function(){this.setHighlightedItem(void 0)},onUpdate:function(e,t){var n,i,r,o=this;o.viewReady&&(n=o.getNode(t),i=o.callParent(arguments),r=o.highlightedItem,r&&r===n&&(delete o.highlightedItem,i&&o.highlightItem(i)))},refresh:function(){this.clearHighlight(),this.callParent(arguments)},focusNode:function(e){var t,n=this,i=n.getNode(e,!0),r=n.el,o=0,a=0,s=r.getRegion();s.bottom=s.top+r.dom.clientHeight,s.right=s.left+r.dom.clientWidth,i&&(t=Ext.fly(i).getRegion(),t.top<s.top?o=t.top-s.top:t.bottom>s.bottom&&(o=t.bottom-s.bottom),t.left<s.left?a=t.left-s.left:t.right>s.right&&(a=t.right-s.right),(a||o)&&n.scrollBy(a,o,!1),r.focus())}}),Ext.define("Ext.layout.component.BoundList",{extend:Ext.layout.component.Auto,alias:"layout.boundlist",type:"component",beginLayout:function(e){var t=this,n=t.owner,i=n.pagingToolbar;t.callParent(arguments),n.floating&&(e.savedXY=n.getXY(),n.setXY([0,-9999])),i&&(e.toolbarContext=e.context.getCmp(i)),e.listContext=e.getEl("listEl")},beginLayoutCycle:function(e){var t=this.owner;this.callParent(arguments),e.heightModel.auto&&(t.el.setHeight("auto"),t.listEl.setHeight("auto"))},getLayoutItems:function(){var e=this.owner.pagingToolbar;return e?[e]:[]},isValidParent:function(){return!0},finishedLayout:function(e){var t=e.savedXY;this.callParent(arguments),t&&this.owner.setXY(t)},measureContentWidth:function(){return this.owner.listEl.getWidth()},measureContentHeight:function(){return this.owner.listEl.getHeight()},publishInnerHeight:function(e,t){var n=e.toolbarContext,i=0;n&&(i=n.getProp("height")),void 0===i?this.done=!1:e.listContext.setHeight(t-e.getFrameInfo().height-i)},calculateOwnerHeightFromContentHeight:function(e){var t=this.callParent(arguments),n=e.toolbarContext;return n&&(t+=n.getProp("height")),t}}),Ext.define("Ext.toolbar.TextItem",{extend:Ext.toolbar.Item,alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",beforeRender:function(){var e=this;e.callParent(),Ext.apply(e.renderData,{text:e.text})},setText:function(e){var t=this;t.text=e,t.rendered&&(t.el.update(e),t.updateLayout())}}),Ext.define("Ext.form.field.Spinner",{extend:Ext.form.field.Trigger,alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",trigger1Cls:Ext.baseCSSPrefix+"form-spinner-up",trigger2Cls:Ext.baseCSSPrefix+"form-spinner-down",spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,triggerTpl:'<td style="{triggerStyle}" class="{triggerCls}"><div class="'+Ext.baseCSSPrefix+"trigger-index-0 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-up {spinnerUpCls} {childElCls}" role="button"></div>'+'<div class="'+Ext.baseCSSPrefix+"trigger-index-1 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-down {spinnerDownCls} {childElCls}" role="button"></div>'+"</td>"+"</tr>",initComponent:function(){this.callParent(),this.addEvents("spin","spinup","spindown")},onRender:function(){var e,t=this;t.callParent(arguments),e=t.triggerEl,t.spinUpEl=e.item(0),t.spinDownEl=e.item(1),t.triggerCell=t.spinUpEl.parent(),t.keyNavEnabled&&(t.spinnerKeyNav=new Ext.util.KeyNav(t.inputEl,{scope:t,up:t.spinUp,down:t.spinDown})),t.mouseWheelEnabled&&t.mon(t.bodyEl,"mousewheel",t.onMouseWheel,t)},getSubTplMarkup:function(e){var t=this,n=e.childElCls,i=Ext.form.field.Base.prototype.getSubTplMarkup.apply(t,arguments);return'<table id="'+t.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+n+'" cellpadding="0" cellspacing="0">'+"<tbody>"+'<tr><td id="'+t.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+n+'">'+i+"</td>"+t.getTriggerMarkup()+"</tbody></table>"},getTriggerMarkup:function(){return this.getTpl("triggerTpl").apply(this.getTriggerData())},getTriggerData:function(){var e=this,t=e.readOnly||e.hideTrigger;return{triggerCls:Ext.baseCSSPrefix+"trigger-cell",triggerStyle:t?"display:none":"",spinnerUpCls:e.spinUpEnabled?"":e.trigger1Cls+"-disabled",spinnerDownCls:e.spinDownEnabled?"":e.trigger2Cls+"-disabled"}},getTriggerWidth:function(){var e=this,t=0;return!e.triggerWrap||e.hideTrigger||e.readOnly||(t=e.triggerWidth),t},onTrigger1Click:function(){this.spinUp()},onTrigger2Click:function(){this.spinDown()},onTriggerWrapMouseup:function(){this.inputEl.focus()},spinUp:function(){var e=this;e.spinUpEnabled&&!e.disabled&&(e.fireEvent("spin",e,"up"),e.fireEvent("spinup",e),e.onSpinUp())},spinDown:function(){var e=this;
e.spinDownEnabled&&!e.disabled&&(e.fireEvent("spin",e,"down"),e.fireEvent("spindown",e),e.onSpinDown())},setSpinUpEnabled:function(e){var t=this,n=t.spinUpEnabled;t.spinUpEnabled=e,n!==e&&t.rendered&&t.spinUpEl[e?"removeCls":"addCls"](t.trigger1Cls+"-disabled")},setSpinDownEnabled:function(e){var t=this,n=t.spinDownEnabled;t.spinDownEnabled=e,n!==e&&t.rendered&&t.spinDownEl[e?"removeCls":"addCls"](t.trigger2Cls+"-disabled")},onMouseWheel:function(e){var t,n=this;n.hasFocus&&(t=e.getWheelDelta(),t>0?n.spinUp():0>t&&n.spinDown(),e.stopEvent())},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav","spinUpEl","spinDownEl"),this.callParent()}}),Ext.define("Ext.form.field.Number",{extend:Ext.form.field.Spinner,alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:!0,allowDecimals:!0,decimalSeparator:".",submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:!1,initComponent:function(){var e=this;e.callParent(),e.setMinValue(e.minValue),e.setMaxValue(e.maxValue)},getErrors:function(e){var t,n=this,i=n.callParent(arguments),r=Ext.String.format;return e=Ext.isDefined(e)?e:this.processRawValue(this.getRawValue()),e.length<1?i:(e=String(e).replace(n.decimalSeparator,"."),isNaN(e)&&i.push(r(n.nanText,e)),t=n.parseValue(e),0===n.minValue&&0>t?i.push(this.negativeText):t<n.minValue&&i.push(r(n.minText,n.minValue)),t>n.maxValue&&i.push(r(n.maxText,n.maxValue)),i)},rawToValue:function(e){var t=this.fixPrecision(this.parseValue(e));return null===t&&(t=e||null),t},valueToRaw:function(e){var t=this,n=t.decimalSeparator;return e=t.parseValue(e),e=t.fixPrecision(e),e=Ext.isNumber(e)?e:parseFloat(String(e).replace(n,".")),e=isNaN(e)?"":String(e).replace(".",n)},getSubmitValue:function(){var e=this,t=e.callParent();return e.submitLocaleSeparator||(t=t.replace(e.decimalSeparator,".")),t},onChange:function(){this.toggleSpinners(),this.callParent(arguments)},toggleSpinners:function(){var e,t=this,n=t.getValue(),i=null===n;(t.spinUpEnabled||t.spinUpDisabledByToggle)&&(e=i||n<t.maxValue,t.setSpinUpEnabled(e,!0)),(t.spinDownEnabled||t.spinDownDisabledByToggle)&&(e=i||n>t.minValue,t.setSpinDownEnabled(e,!0))},setMinValue:function(e){var t,n=this;n.minValue=Ext.Number.from(e,Number.NEGATIVE_INFINITY),n.toggleSpinners(),n.disableKeyFilter!==!0&&(t=n.baseChars+"",n.allowExponential?t+=n.decimalSeparator+"e+-":(n.allowDecimals&&(t+=n.decimalSeparator),n.minValue<0&&(t+="-")),t=Ext.String.escapeRegex(t),n.maskRe=new RegExp("["+t+"]"),n.autoStripChars&&(n.stripCharsRe=new RegExp("[^"+t+"]","gi")))},setMaxValue:function(e){this.maxValue=Ext.Number.from(e,Number.MAX_VALUE),this.toggleSpinners()},parseValue:function(e){return e=parseFloat(String(e).replace(this.decimalSeparator,".")),isNaN(e)?null:e},fixPrecision:function(e){var t=this,n=isNaN(e),i=t.decimalPrecision;return n||!e?n?"":e:((!t.allowDecimals||0>=i)&&(i=0),parseFloat(Ext.Number.toFixed(parseFloat(e),i)))},beforeBlur:function(){var e=this,t=e.parseValue(e.getRawValue());Ext.isEmpty(t)||e.setValue(t)},setSpinUpEnabled:function(e,t){this.callParent(arguments),t?this.spinUpDisabledByToggle=!e:delete this.spinUpDisabledByToggle},onSpinUp:function(){var e=this;e.readOnly||e.setSpinValue(Ext.Number.constrain(e.getValue()+e.step,e.minValue,e.maxValue))},setSpinDownEnabled:function(e,t){this.callParent(arguments),t?this.spinDownDisabledByToggle=!e:delete this.spinDownDisabledByToggle},onSpinDown:function(){var e=this;e.readOnly||e.setSpinValue(Ext.Number.constrain(e.getValue()-e.step,e.minValue,e.maxValue))},setSpinValue:function(e){var t=this;t.enforceMaxLength&&t.fixPrecision(e).toString().length>t.maxLength||t.setValue(e)}}),Ext.define("Ext.toolbar.Paging",{extend:Ext.toolbar.Toolbar,alias:"widget.pagingtoolbar",alternateClassName:"Ext.PagingToolbar",mixins:{bindable:Ext.util.Bindable},displayInfo:!1,prependButtons:!1,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var e=this;return[{itemId:"first",cls:"btn",tooltip:e.firstText,overflowText:e.firstText,text:'<i class="i-double-angle-left"></i>',disabled:!0,handler:e.moveFirst,scope:e},{itemId:"prev",tooltip:e.prevText,overflowText:e.prevText,text:'<i class="i-angle-left"></i>',disabled:!0,handler:e.movePrevious,scope:e}," ",e.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:!1,minValue:1,hideTrigger:!0,enableKeyEvents:!0,keyNavEnabled:!1,selectOnFocus:!0,submitValue:!1,isFormField:!1,width:e.inputItemWidth,margins:"-1 2 3 2",listeners:{scope:e,keydown:e.onPagingKeyDown,blur:e.onPagingBlur}},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(e.afterPageText,1)}," ",{itemId:"next",tooltip:e.nextText,overflowText:e.nextText,text:'<i class="i-angle-right"></i>',disabled:!0,handler:e.moveNext,scope:e},{itemId:"last",tooltip:e.lastText,overflowText:e.lastText,text:'<i class="i-double-angle-right"></i>',disabled:!0,handler:e.moveLast,scope:e}," ",{itemId:"refresh",tooltip:e.refreshText,overflowText:e.refreshText,text:'<i class="i-loop"></i>',handler:e.doRefresh,scope:e}]},initComponent:function(){var e=this,t=e.getPagingItems(),n=e.items||e.buttons||[];e.items=e.prependButtons?n.concat(t):t.concat(n),delete e.buttons,e.displayInfo&&(e.items.push("->"),e.items.push({xtype:"tbtext",itemId:"displayItem"})),e.callParent(),e.addEvents("change","beforechange"),e.on("beforerender",e.onLoad,e,{single:!0}),e.bindStore(e.store||"ext-empty-store",!0)},updateInfo:function(){var e,t,n=this,i=n.child("#displayItem"),r=n.store,o=n.getPageData();i&&(e=r.getCount(),t=0===e?n.emptyMsg:Ext.String.format(n.displayMsg,o.fromRecord,o.toRecord,o.total),i.setText(t))},onLoad:function(){var e,t,n,i,r,o,a,s=this;r=s.store.getCount(),o=0===r,o?(t=0,n=0,i=Ext.String.format(s.afterPageText,0)):(e=s.getPageData(),t=e.currentPage,n=e.pageCount,i=Ext.String.format(s.afterPageText,isNaN(n)?1:n)),Ext.suspendLayouts(),a=s.child("#afterTextItem"),a&&a.setText(i),a=s.getInputItem(),a&&a.setDisabled(o).setValue(t),s.setChildDisabled("#first",1===t||o),s.setChildDisabled("#prev",1===t||o),s.setChildDisabled("#next",t===n||o),s.setChildDisabled("#last",t===n||o),s.setChildDisabled("#refresh",!1),s.updateInfo(),Ext.resumeLayouts(!0),s.rendered&&s.fireEvent("change",s,e)},setChildDisabled:function(e,t){var n=this.child(e);n&&n.setDisabled(t)},getPageData:function(){var e=this.store,t=e.getTotalCount();return{total:t,currentPage:e.currentPage,pageCount:Math.ceil(t/e.pageSize),fromRecord:(e.currentPage-1)*e.pageSize+1,toRecord:Math.min(e.currentPage*e.pageSize,t)}},onLoadError:function(){this.rendered&&this.setChildDisabled("#refresh",!1)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(e){var t,n=this.getInputItem(),i=!1;return n&&(t=n.getValue(),i=parseInt(t,10),!t||isNaN(i))?(n.setValue(e.currentPage),!1):i},onPagingFocus:function(){var e=this.getInputItem();e&&e.select()},onPagingBlur:function(){var e,t=this.getInputItem();t&&(e=this.getPageData().currentPage,t.setValue(e))},onPagingKeyDown:function(e,t){var n,i=this,r=t.getKey(),o=i.getPageData(),a=t.shiftKey?10:1;r==t.RETURN?(t.stopEvent(),n=i.readPageFromInput(o),n!==!1&&(n=Math.min(Math.max(1,n),o.pageCount),i.fireEvent("beforechange",i,n)!==!1&&i.store.loadPage(n))):r==t.HOME||r==t.END?(t.stopEvent(),n=r==t.HOME?1:o.pageCount,e.setValue(n)):(r==t.UP||r==t.PAGE_UP||r==t.DOWN||r==t.PAGE_DOWN)&&(t.stopEvent(),n=i.readPageFromInput(o),n&&((r==t.DOWN||r==t.PAGE_DOWN)&&(a*=-1),n+=a,n>=1&&n<=o.pageCount&&e.setValue(n)))},beforeLoad:function(){this.rendered&&this.setChildDisabled("#refresh",!0)},moveFirst:function(){this.fireEvent("beforechange",this,1)!==!1&&this.store.loadPage(1)},movePrevious:function(){var e=this,t=e.store.currentPage-1;t>0&&e.fireEvent("beforechange",e,t)!==!1&&e.store.previousPage()},moveNext:function(){var e=this,t=e.getPageData().pageCount,n=e.store.currentPage+1;t>=n&&e.fireEvent("beforechange",e,n)!==!1&&e.store.nextPage()},moveLast:function(){var e=this,t=e.getPageData().pageCount;e.fireEvent("beforechange",e,t)!==!1&&e.store.loadPage(t)},doRefresh:function(){var e=this,t=e.store.currentPage;e.fireEvent("beforechange",e,t)!==!1&&e.store.loadPage(t)},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},unbind:function(){this.bindStore(null)},bind:function(e){this.bindStore(e)},onDestroy:function(){this.unbind(),this.callParent()}}),Ext.define("Ext.view.BoundList",{extend:Ext.view.View,alias:"widget.boundlist",alternateClassName:"Ext.BoundList",mixins:{queryable:Ext.Queryable},pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:!1,trackOver:!0,refreshed:0,deferInitialRefresh:!1,componentLayout:"boundlist",childEls:["listEl"],renderTpl:['<div id="{id}-listEl" class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'" style="overflow:auto"></div>',"{%","var me=values.$comp, pagingToolbar=me.pagingToolbar;","if (pagingToolbar) {","pagingToolbar.ownerLayout = me.componentLayout;","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:!0}],initComponent:function(){var e=this,t=e.baseCls,n=e.itemCls;e.selectedItemCls=t+"-selected",e.trackOver&&(e.overItemCls=t+"-item-over"),e.itemSelector="."+n,e.floating&&e.addCls(t+"-floating"),e.tpl?e.tpl.isTemplate||(e.tpl=new Ext.XTemplate(e.tpl)):e.tpl=new Ext.XTemplate('<ul class="'+Ext.plainListCls+'"><tpl for=".">','<li role="option" unselectable="on" class="'+n+'">'+e.getInnerTpl(e.displayField)+"</li>","</tpl></ul>"),e.pageSize&&(e.pagingToolbar=e.createPagingToolbar()),e.callParent()},beforeRender:function(){var e=this;e.callParent(arguments),e.up("menu")&&e.addCls(Ext.baseCSSPrefix+"menu")},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){return this.pagingToolbar?[this.pagingToolbar]:[]},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:!1,ownerCt:this,ownerLayout:this.getComponentLayout()})},finishRenderChildren:function(){var e=this.pagingToolbar;this.callParent(arguments),e&&e.finishRender()},refresh:function(){var e=this,t=e.tpl,n=e.pagingToolbar,i=e.rendered;t.field=e.pickerField,t.store=e.store,e.callParent(),t.field=t.store=null,i&&n&&n.rendered&&!e.preserveScrollOnRefresh&&e.el.appendChild(n.el),i&&Ext.isIE6&&Ext.isStrict&&e.listEl.repaint()},bindStore:function(e,t){var n=this.pagingToolbar;this.callParent(arguments),n&&n.bindStore(e,t)},getTargetEl:function(){return this.listEl||this.el},getInnerTpl:function(e){return"{"+e+"}"},onDestroy:function(){Ext.destroyMembers(this,"pagingToolbar","listEl"),this.callParent()}}),Ext.define("Ext.view.BoundListKeyNav",{extend:Ext.util.KeyNav,constructor:function(e,t){var n=this;n.boundList=t.boundList,n.callParent([e,Ext.apply({},t,n.defaultHandlers)])},defaultHandlers:{up:function(){var e=this,t=e.boundList,n=t.all,i=t.highlightedItem,r=i?t.indexOf(i):-1,o=r>0?r-1:n.getCount()-1;e.highlightAt(o)},down:function(){var e=this,t=e.boundList,n=t.all,i=t.highlightedItem,r=i?t.indexOf(i):-1,o=r<n.getCount()-1?r+1:0;e.highlightAt(o)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){var e=this;e.highlightAt(e.boundList.all.getCount()-1)},enter:function(e){this.selectHighlighted(e)}},highlightAt:function(e){var t=this.boundList,n=t.all.item(e);n&&(n=n.dom,t.highlightItem(n),t.getTargetEl().scrollChildIntoView(n,!1))},selectHighlighted:function(e){var t=this,n=t.boundList,i=n.highlightedItem,r=n.getSelectionModel();i&&r.selectWithEvent(n.getRecord(i),e)}}),Ext.define("Ext.layout.component.field.ComboBox",{extend:Ext.layout.component.field.Trigger,alias:"layout.combobox",type:"combobox",startingWidth:null,getTextWidth:function(){for(var e,t,n,i=this,r=i.owner,o=r.store,a=r.displayField,s=o.data.length,l="",d=0,c=0;s>d;d++)t=o.getAt(d).data[a],e=t.length,e>c&&(c=e,l=t);return n=Math.max(i.callParent(arguments),r.inputEl.getTextWidth(l+r.growAppend)),(!i.startingWidth||r.removingRecords)&&(i.startingWidth=n,n<r.growMin&&(r.defaultListConfig.minWidth=r.growMin),r.removingRecords=!1),n<i.startingWidth?i.startingWidth:n}}),Ext.define("Ext.form.field.ComboBox",{extend:Ext.form.field.Picker,alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:{bindable:Ext.util.Bindable},componentLayout:"combobox",triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hide-display "+Ext.baseCSSPrefix+"form-data-hidden",fieldSubTpl:['<div class="{hiddenDataCls}" role="presentation"></div>','<input id="{id}" type="{type}" {inputAttrTpl} class="{fieldCls} {typeCls} {editableCls}" autocomplete="off"','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"/>",{compiled:!0,disableFormats:!0}],getSubTplData:function(){var e=this;return Ext.applyIf(e.subTplData,{hiddenDataCls:e.hiddenDataCls}),e.callParent(arguments)},afterRender:function(){var e=this;e.callParent(arguments),e.setHiddenValue(e.value)},multiSelect:!1,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:!0,pageSize:0,anyMatch:!1,caseSensitive:!1,autoSelect:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){var e=this;return e.grow&&e.growToLongestValue},initComponent:function(){var e,t,n=this,i=Ext.isDefined,r=n.store,o=n.transform;Ext.applyIf(n.renderSelectors,{hiddenDataEl:"."+n.hiddenDataCls.split(" ").join(".")}),this.addEvents("beforequery","select","beforeselect","beforedeselect"),o&&(e=Ext.getDom(o),e&&(n.store||(r=Ext.Array.map(Ext.Array.from(e.options),function(e){return[e.value,e.text]})),n.name||(n.name=e.name),"value"in n||(n.value=e.value))),n.bindStore(r||"ext-empty-store",!0),r=n.store,r.autoCreated&&(n.queryMode="local",n.valueField=n.displayField="field1",r.expanded||(n.displayField="field2")),i(n.valueField)||(n.valueField=n.displayField),t="local"===n.queryMode,i(n.queryDelay)||(n.queryDelay=t?10:500),i(n.minChars)||(n.minChars=t?0:4),n.displayTpl?Ext.isString(n.displayTpl)&&(n.displayTpl=new Ext.XTemplate(n.displayTpl)):n.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+n.displayField+'"]]}'+'<tpl if="xindex < xcount">'+n.delimiter+"</tpl>"+"</tpl>"),n.callParent(),n.doQueryTask=new Ext.util.DelayedTask(n.doRawQuery,n),n.store.getCount()>0&&n.setValue(n.value),e&&(n.render(e.parentNode,e),Ext.removeNode(e),delete n.renderTo)},getStore:function(){return this.store},beforeBlur:function(){this.doQueryTask.cancel(),this.assertValue()},assertValue:function(){var e,t,n=this,i=n.getRawValue();n.forceSelection&&(n.multiSelect?i!==n.getDisplayValue()&&n.setValue(n.lastSelection):(e=n.findRecordByDisplay(i),e?(t=n.value,n.findRecordByValue(t)||n.select(e,!0)):n.setValue(n.lastSelection))),n.collapse()},onTypeAhead:function(){var e,t,n,i=this,r=i.displayField,o=i.store.findRecord(r,i.getRawValue()),a=i.getPicker();o&&(e=o.get(r),t=e.length,n=i.getRawValue().length,a.highlightItem(a.getNode(o)),0!==n&&n!==t&&(i.setRawValue(e),i.selectText(n,e.length)))},resetToDefault:Ext.emptyFn,beforeReset:function(){this.callParent(),this.queryFilter&&!this.queryFilter.disabled&&(this.queryFilter.disabled=!0,this.store.filter())},onUnbindStore:function(e){var t=this,n=t.picker;t.queryFilter&&t.store.removeFilter(t.queryFilter),!e&&n&&n.bindStore(null)},onBindStore:function(e,t){var n=this.picker;t||this.resetToDefault(),n&&n.bindStore(e)},getStoreListeners:function(){var e=this;return{beforeload:e.onBeforeLoad,clear:e.onClear,datachanged:e.onDataChanged,load:e.onLoad,exception:e.onException,remove:e.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){var e=this;e.resizeComboToGrow()&&e.updateLayout()},onClear:function(){var e=this;e.resizeComboToGrow()&&(e.removingRecords=!0,e.onDataChanged())},onRemove:function(){var e=this;e.resizeComboToGrow()&&(e.removingRecords=!0)},onException:function(){this.ignoreSelection>0&&--this.ignoreSelection,this.collapse()},onLoad:function(e,t,n){var i=this;i.ignoreSelection>0&&--i.ignoreSelection,n&&!e.lastOptions.rawQuery&&(null==i.value?i.store.getCount()?i.doAutoSelect():i.setValue(i.value):i.setValue(i.value))},doRawQuery:function(){this.doQuery(this.getRawValue(),!1,!0)},doQuery:function(e,t,n){var i=this,r=i.beforeQuery({query:e||"",rawQuery:n,forceAll:t,combo:i,cancel:!1});return r===!1||r.cancel?!1:(i.queryCaching&&r.query===i.lastQuery?i.expand():(i.lastQuery=r.query,"local"===i.queryMode?i.doLocalQuery(r):i.doRemoteQuery(r)),!0)},beforeQuery:function(e){var t=this;return t.fireEvent("beforequery",e)===!1?e.cancel=!0:e.cancel||e.query.length<t.minChars&&!e.forceAll&&(e.cancel=!0),e},doLocalQuery:function(e){var t=this,n=e.query;t.queryFilter||(t.queryFilter=new Ext.util.Filter({id:t.id+"-query-filter",anyMatch:t.anyMatch,caseSensitive:t.caseSensitive,root:"data",property:t.displayField}),t.store.addFilter(t.queryFilter,!1)),n||!e.forceAll?(t.queryFilter.disabled=!1,t.queryFilter.setValue(t.enableRegEx?new RegExp(n):n)):t.queryFilter.disabled=!0,t.store.filter(),t.store.getCount()?t.expand():t.collapse(),t.afterQuery(e)},doRemoteQuery:function(e){var t=this,n=function(){t.afterQuery(e)};t.expand(),t.pageSize?t.loadPage(1,{rawQuery:e.rawQuery,callback:n}):t.store.load({params:t.getParams(e.query),rawQuery:e.rawQuery,callback:n})},afterQuery:function(e){var t=this;t.store.getCount()&&(t.typeAhead&&t.doTypeAhead(),t.getRawValue()!==t.getDisplayValue()&&(t.ignoreSelection++,t.picker.getSelectionModel().deselectAll(),t.ignoreSelection--),e.rawQuery?(t.syncSelection(),t.picker&&!t.picker.getSelectionModel().hasSelection()&&t.doAutoSelect()):t.doAutoSelect())},loadPage:function(e,t){this.store.loadPage(e,Ext.apply({params:this.getParams(this.lastQuery)},t))},onPageChange:function(e,t){return this.loadPage(t),!1},getParams:function(e){var t={},n=this.queryParam;return n&&(t[n]=e),t},doAutoSelect:function(){var e,t,n=this,i=n.picker;i&&n.autoSelect&&n.store.getCount()>0&&(e=i.getSelectionModel().lastSelected,t=i.getNode(e||0),t&&(i.highlightItem(t),i.listEl.scrollChildIntoView(t,!1)))},doTypeAhead:function(){this.typeAheadTask||(this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this)),this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE&&this.typeAheadTask.delay(this.typeAheadDelay)},onTriggerClick:function(){var e=this;e.readOnly||e.disabled||(e.isExpanded?e.collapse():(e.onFocus({}),"all"===e.triggerAction?e.doQuery(e.allQuery,!0):"last"===e.triggerAction?e.doQuery(e.lastQuery,!0):e.doQuery(e.getRawValue(),!1,!0)),e.inputEl.focus())},onPaste:function(){var e=this;e.readOnly||e.disabled||!e.editable||e.doQueryTask.delay(e.queryDelay)},onKeyUp:function(e){var t=this,n=e.getKey();t.readOnly||t.disabled||!t.editable||(t.lastKey=n,e.isSpecialKey()&&n!=e.BACKSPACE&&n!=e.DELETE||t.doQueryTask.delay(t.queryDelay)),t.enableKeyEvents&&t.callParent(arguments)},initEvents:function(){var e=this;e.callParent(),e.enableKeyEvents||e.mon(e.inputEl,"keyup",e.onKeyUp,e),e.mon(e.inputEl,"paste",e.onPaste,e)},onDestroy:function(){Ext.destroy(this.listKeyNav),this.bindStore(null),this.callParent()},onAdded:function(){var e=this;e.callParent(arguments),e.picker&&(e.picker.ownerCt=e.up("[floating]"),e.picker.registerWithOwnerCt())},createPicker:function(){var e,t=this,n=Ext.apply({xtype:"boundlist",pickerField:t,selModel:{mode:t.multiSelect?"SIMPLE":"SINGLE"},floating:!0,hidden:!0,store:t.store,displayField:t.displayField,focusOnToFront:!1,pageSize:t.pageSize,tpl:t.tpl},t.listConfig,t.defaultListConfig);return e=t.picker=Ext.widget(n),t.pageSize&&e.pagingToolbar.on("beforechange",t.onPageChange,t),t.mon(e,{itemclick:t.onItemClick,refresh:t.onListRefresh,scope:t}),t.mon(e.getSelectionModel(),{beforeselect:t.onBeforeSelect,beforedeselect:t.onBeforeDeselect,selectionchange:t.onListSelectionChange,scope:t}),e},alignPicker:function(){var e=this,t=e.getPicker(),n=e.getPosition()[1]-Ext.getBody().getScroll().top,i=Ext.Element.getViewHeight()-n-e.getHeight(),r=Math.max(n,i);t.height&&(delete t.height,t.updateLayout()),t.getHeight()>r-5&&t.setHeight(r-5),e.callParent()},onListRefresh:function(){this.expanding||this.alignPicker(),this.syncSelection()},onItemClick:function(e,t){var n=this,i=n.picker.getSelectionModel().getSelection(),r=n.valueField;!n.multiSelect&&i.length&&t.get(r)===i[0].get(r)&&(n.displayTplData=[t.data],n.setRawValue(n.getDisplayValue()),n.collapse())},onBeforeSelect:function(e,t){return this.fireEvent("beforeselect",this,t,t.index)},onBeforeDeselect:function(e,t){return this.fireEvent("beforedeselect",this,t,t.index)},onListSelectionChange:function(e,t){var n=this,i=n.multiSelect,r=t.length>0;!n.ignoreSelection&&n.isExpanded&&(i||Ext.defer(n.collapse,1,n),(i||r)&&n.setValue(t,!1),r&&n.fireEvent("select",n,t),n.inputEl.focus())},onExpand:function(){var e=this,t=e.listKeyNav,n=e.selectOnTab,i=e.getPicker();t?t.enable():t=e.listKeyNav=new Ext.view.BoundListKeyNav(this.inputEl,{boundList:i,forceKeyDown:!0,tab:function(t){return n&&(this.selectHighlighted(t),e.triggerBlur()),!0},enter:function(t){var n=i.getSelectionModel(),r=n.getCount();this.selectHighlighted(t),e.multiSelect||r!==n.getCount()||e.collapse()}}),n&&(e.ignoreMonitorTab=!0),Ext.defer(t.enable,1,t),e.inputEl.focus()},onCollapse:function(){var e=this,t=e.listKeyNav;t&&(t.disable(),e.ignoreMonitorTab=!1)},select:function(e,t){var n,i=this,r=i.picker;e&&e.isModel&&t===!0&&r&&(n=!r.getSelectionModel().isSelected(e)),i.setValue(e,!0),n&&i.fireEvent("select",i,e)},findRecord:function(e,t){var n=this.store,i=n.findExact(e,t);return-1!==i?n.getAt(i):!1},findRecordByValue:function(e){return this.findRecord(this.valueField,e)},findRecordByDisplay:function(e){return this.findRecord(this.displayField,e)},setValue:function(e,t){var n,i,r,o,a=this,s=a.valueNotFoundText,l=a.inputEl,d=[],c=[],u=[];if(a.store.loading)return a.value=e,a.setHiddenValue(a.value),a;for(e=Ext.Array.from(e),n=0,i=e.length;i>n;n++)r=e[n],r&&r.isModel||(r=a.findRecordByValue(r)),r?(d.push(r),c.push(r.data),u.push(r.get(a.valueField))):a.forceSelection?Ext.isDefined(s)&&c.push(s):(u.push(e[n]),o={},o[a.displayField]=e[n],c.push(o));return a.setHiddenValue(u),a.value=a.multiSelect?u:u[0],Ext.isDefined(a.value)||(a.value=null),a.displayTplData=c,a.lastSelection=a.valueModels=d,l&&a.emptyText&&!Ext.isEmpty(e)&&l.removeCls(a.emptyCls),a.setRawValue(a.getDisplayValue()),a.checkChange(),t!==!1&&a.syncSelection(),a.applyEmptyText(),a},setHiddenValue:function(e){var t,n,i,r,o,a,s=this,l=s.hiddenName;if(s.hiddenDataEl&&l){for(e=Ext.Array.from(e),n=s.hiddenDataEl.dom,i=n.childNodes,r=i[0],o=e.length,a=i.length,!r&&o>0&&(s.hiddenDataEl.update(Ext.DomHelper.markup({tag:"input",type:"hidden",name:l})),a=1,r=n.firstChild);a>o;)n.removeChild(i[0]),--a;for(;o>a;)n.appendChild(r.cloneNode(!0)),++a;for(t=0;o>t;t++)i[t].value=e[t]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var e=this,t=e.picker,n=e.getRawValue(),i=e.value;return e.getDisplayValue()!==n&&(i=n,e.value=e.displayTplData=e.valueModels=null,t&&(e.ignoreSelection++,t.getSelectionModel().deselectAll(),e.ignoreSelection--)),i},getSubmitValue:function(){var e=this.getValue();return Ext.isEmpty(e)&&(e=""),e},isEqual:function(e,t){var n,i,r=Ext.Array.from;if(e=r(e),t=r(t),i=e.length,i!==t.length)return!1;for(n=0;i>n;n++)if(t[n]!==e[n])return!1;return!0},clearValue:function(){this.setValue([])},syncSelection:function(){var e,t,n,i,r=this,o=r.picker,a=r.valueModels||[],s=a.length;if(o){for(e=[],n=0;s>n;n++)i=a[n],i&&i.isModel&&r.store.indexOf(i)>=0&&e.push(i);r.ignoreSelection++,t=o.getSelectionModel(),t.deselectAll(),e.length&&t.select(e,void 0,!0),r.ignoreSelection--}},onEditorTab:function(e){var t=this.listKeyNav;this.selectOnTab&&t&&t.selectHighlighted(e)}}),Ext.define("Ext.picker.Month",{extend:Ext.Component,alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",childEls:["bodyEl","prevEl","nextEl","buttonsEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" href="#" hidefocus="on" ></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" href="#" hidefocus="on" ></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>',"</div>",'<tpl if="showButtons">','<div id="{id}-buttonsEl" class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:!0,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var e=this;e.selectedCls=e.baseCls+"-selected",e.addEvents("cancelclick","monthclick","monthdblclick","okclick","select","yearclick","yeardblclick"),e.small&&e.addCls(e.smallCls),e.setValue(e.value),e.activeYear=e.getYear((new Date).getFullYear()-4,-4),e.showButtons&&(e.okBtn=new Ext.button.Button({text:e.okText,handler:e.onOkClick,scope:e}),e.cancelBtn=new Ext.button.Button({text:e.cancelText,handler:e.onCancelClick,scope:e})),this.callParent()},beforeRender:function(){var e=this,t=0,n=[],i=Ext.Date.getShortMonthName,r=e.monthOffset,o=e.monthMargin,a="";for(e.callParent();r>t;++t)n.push(i(t),i(t+r));Ext.isDefined(o)&&(a="margin: 0 "+o+"px;"),Ext.apply(e.renderData,{months:n,years:e.getYears(),showButtons:e.showButtons,monthStyle:a})},afterRender:function(){var e=this,t=e.bodyEl;e.buttonsEl,e.callParent(),e.mon(t,"click",e.onBodyClick,e),e.mon(t,"dblclick",e.onBodyClick,e),e.years=t.select("."+e.baseCls+"-year a"),e.months=t.select("."+e.baseCls+"-month a"),e.backRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:Ext.Function.bind(e.adjustYear,e,[-e.totalYears])}),e.prevEl.addClsOnOver(e.baseCls+"-yearnav-prev-over"),e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:Ext.Function.bind(e.adjustYear,e,[e.totalYears])}),e.nextEl.addClsOnOver(e.baseCls+"-yearnav-next-over"),e.updateBody(),Ext.isDefined(e.monthMargin)||(Ext.picker.Month.prototype.monthMargin=e.calculateMonthMargin())},calculateMonthMargin:function(){for(var e=this,t=(e.monthEl,e.months),n=t.first(),i=n.getMargin("l");i&&e.getLargest()>e.measureMaxHeight;)--i,t.setStyle("margin","0 "+i+"px");return i},getLargest:function(){var e=0;return this.months.each(function(t){var n=t.getHeight();n>e&&(e=n)}),e},setValue:function(e){var t,n=this,i=n.activeYear;return n.monthOffset,n.value=e?Ext.isDate(e)?[e.getMonth(),e.getFullYear()]:[e[0],e[1]]:[null,null],n.rendered&&(t=n.value[1],null!==t&&(i>t||t>i+n.yearOffset)&&(n.activeYear=t-n.yearOffset+1),n.updateBody()),n},getValue:function(){return this.value},hasSelection:function(){var e=this.value;return null!==e[0]&&null!==e[1]},getYears:function(){for(var e=this,t=e.yearOffset,n=e.activeYear,i=n+t,r=n,o=[];i>r;++r)o.push(r,r+t);return o},updateBody:function(){var e,t,n,i,r,o=this,a=o.years,s=o.months,l=o.getYears(),d=o.selectedCls,c=o.getYear(null),u=o.value[0],h=o.monthOffset;if(o.rendered){for(a.removeCls(d),s.removeCls(d),t=a.elements,i=t.length,n=0;i>n;n++)r=Ext.fly(t[n]),e=l[n],r.dom.innerHTML=e,e==c&&r.addCls(d);null!==u&&(u=h>u?2*u:2*(u-h)+1,s.item(u).addCls(d))}},getYear:function(e,t){var n=this.value[1];return t=t||0,null===n?e:n+t},onBodyClick:function(e,t){var n=this,i="dblclick"==e.type;e.getTarget("."+n.baseCls+"-month")?(e.stopEvent(),n.onMonthClick(t,i)):e.getTarget("."+n.baseCls+"-year")&&(e.stopEvent(),n.onYearClick(t,i))},adjustYear:function(e){"number"!=typeof e&&(e=this.totalYears),this.activeYear+=e,this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(e,t){var n=this;n.value[0]=n.resolveOffset(n.months.indexOf(e),n.monthOffset),n.updateBody(),n.fireEvent("month"+(t?"dbl":"")+"click",n,n.value),n.fireEvent("select",n,n.value)},onYearClick:function(e,t){var n=this;n.value[1]=n.activeYear+n.resolveOffset(n.years.indexOf(e),n.yearOffset),n.updateBody(),n.fireEvent("year"+(t?"dbl":"")+"click",n,n.value),n.fireEvent("select",n,n.value)},resolveOffset:function(e,t){return 0===e%2?e/2:t+Math.floor(e/2)},beforeDestroy:function(){var e=this;e.years=e.months=null,Ext.destroyMembers(e,"backRepeater","nextRepeater","okBtn","cancelBtn"),e.callParent()},finishRenderChildren:function(){var e=this;this.callParent(arguments),this.showButtons&&(e.okBtn.finishRender(),e.cancelBtn.finishRender())},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn"),this.callParent()}}),Ext.define("Ext.picker.Date",{extend:Ext.Component,alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:!0,renderTpl:['<div id="{id}-innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<a id="{id}-prevEl" class="{baseCls}-prev {baseCls}-arrow" href="#" role="button" title="{prevText}" hidefocus="on" ></a>','<div class="{baseCls}-month" id="{id}-middleBtnEl">{%this.renderMonthBtn(values, out)%}</div>','<a id="{id}-nextEl" class="{baseCls}-next {baseCls}-arrow" href="#" role="button" title="{nextText}" hidefocus="on" ></a>',"</div>",'<table id="{id}-eventEl" class="{baseCls}-inner" cellspacing="0" role="grid">','<thead role="presentation"><tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" title="{.}">','<div class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a role="presentation" hidefocus="on" class="{parent.baseCls}-date" href="#"></a>',"</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(e){return Ext.picker.Date.prototype.getDayInitial(e)
},isEndOfWeek:function(e){e--;var t=0===e%7&&0!==e;return t?'</tr><tr role="row">':""},renderTodayBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.todayBtn.getRenderTree(),t)},renderMonthBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.monthBtn.getRenderTree(),t)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d, Y",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:!0,disableAnim:!1,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",focusOnShow:!1,focusOnSelect:!0,initHour:12,numDays:42,initComponent:function(){var e=this,t=Ext.Date.clearTime;e.selectedCls=e.baseCls+"-selected",e.disabledCellCls=e.baseCls+"-disabled",e.prevCls=e.baseCls+"-prevday",e.activeCls=e.baseCls+"-active",e.cellCls=e.baseCls+"-cell",e.nextCls=e.baseCls+"-prevday",e.todayCls=e.baseCls+"-today",e.format||(e.format=Ext.Date.defaultFormat),e.dayNames||(e.dayNames=Ext.Date.dayNames),e.dayNames=e.dayNames.slice(e.startDay).concat(e.dayNames.slice(0,e.startDay)),e.callParent(),e.value=e.value?t(e.value,!0):t(new Date),e.addEvents("select"),e.initDisabledDays()},beforeRender:function(){var e=this,t=new Array(e.numDays),n=Ext.Date.format(new Date,e.format);e.up("menu")&&e.addCls(Ext.baseCSSPrefix+"menu"),e.monthBtn=new Ext.button.Split({ownerCt:e,ownerLayout:e.getComponentLayout(),text:"",tooltip:e.monthYearText,listeners:{click:e.showMonthPicker,arrowclick:e.showMonthPicker,scope:e}}),e.showToday&&(e.todayBtn=new Ext.button.Button({ownerCt:e,ownerLayout:e.getComponentLayout(),text:Ext.String.format(e.todayText,n),tooltip:Ext.String.format(e.todayTip,n),tooltipType:"title",handler:e.selectToday,scope:e})),e.callParent(),Ext.applyIf(e,{renderData:{}}),Ext.apply(e.renderData,{dayNames:e.dayNames,showToday:e.showToday,prevText:e.prevText,nextText:e.nextText,days:t}),e.protoEl.unselectable()},finishRenderChildren:function(){var e=this;e.callParent(),e.monthBtn.finishRender(),e.showToday&&e.todayBtn.finishRender()},onRender:function(){var e=this;e.callParent(arguments),e.cells=e.eventEl.select("tbody td"),e.textNodes=e.eventEl.query("tbody td a"),e.mon(e.eventEl,{scope:e,mousewheel:e.handleMouseWheel,click:{fn:e.handleDateClick,delegate:"a."+e.baseCls+"-date"}})},initEvents:function(){var e=this,t=Ext.Date,n=t.DAY;e.callParent(),e.prevRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:e.showPrevMonth,scope:e,preventDefault:!0,stopDefault:!0}),e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:e.showNextMonth,scope:e,preventDefault:!0,stopDefault:!0}),e.keyNav=new Ext.util.KeyNav(e.eventEl,Ext.apply({scope:e,left:function(i){i.ctrlKey?e.showPrevMonth():e.update(t.add(e.activeDate,n,-1))},right:function(i){i.ctrlKey?e.showNextMonth():e.update(t.add(e.activeDate,n,1))},up:function(i){i.ctrlKey?e.showNextYear():e.update(t.add(e.activeDate,n,-7))},down:function(i){i.ctrlKey?e.showPrevYear():e.update(t.add(e.activeDate,n,7))},pageUp:function(t){t.altKey?e.showPrevYear():e.showPrevMonth()},pageDown:function(t){t.altKey?e.showNextYear():e.showNextMonth()},tab:function(t){return e.doCancelFieldFocus=!0,e.handleTabClick(t),delete e.doCancelFieldFocus,!0},enter:function(e){return e.stopPropagation(),!0},home:function(){e.update(t.getFirstDateOfMonth(e.activeDate))},end:function(){e.update(t.getLastDateOfMonth(e.activeDate))}},e.keyNavConfig)),e.showToday&&(e.todayKeyListener=e.eventEl.addKeyListener(Ext.EventObject.SPACE,e.selectToday,e)),e.update(e.value)},handleTabClick:function(){var e=this,t=e.getSelectedDate(e.activeDate),n=e.handler;e.disabled||!t.dateValue||Ext.fly(t.parentNode).hasCls(e.disabledCellCls)||(e.doCancelFocus=e.focusOnSelect===!1,e.setValue(new Date(t.dateValue)),delete e.doCancelFocus,e.fireEvent("select",e,e.value),n&&n.call(e.scope||e,e,e.value),e.onSelect())},getSelectedDate:function(e){var t,n,i=this,r=e.getTime(),o=i.cells,a=i.selectedCls,s=o.elements,l=s.length;for(o.removeCls(a),t=0;l>t;t++)if(n=Ext.fly(s[t]),n.dom.firstChild.dateValue==r)return n.dom.firstChild;return null},initDisabledDays:function(){var e,t,n,i,r=this,o=r.disabledDates,a="(?:";if(!r.disabledDatesRE&&o){for(e=o.length-1,n=o.length,t=0;n>t;t++)i=o[t],a+=Ext.isDate(i)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(i,r.format))+"$":i,t!=e&&(a+="|");r.disabledDatesRE=new RegExp(a+")")}},setDisabledDates:function(e){var t=this;return Ext.isArray(e)?(t.disabledDates=e,t.disabledDatesRE=null):t.disabledDatesRE=e,t.initDisabledDays(),t.update(t.value,!0),t},setDisabledDays:function(e){return this.disabledDays=e,this.update(this.value,!0)},setMinDate:function(e){return this.minDate=e,this.update(this.value,!0)},setMaxDate:function(e){return this.maxDate=e,this.update(this.value,!0)},setValue:function(e){return this.value=Ext.Date.clearTime(e,!0),this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(e){return e.substr(0,1)},focus:function(){this.update(this.activeDate)},onEnable:function(){this.callParent(),this.setDisabledStatus(!1),this.update(this.activeDate)},onDisable:function(){this.callParent(),this.setDisabledStatus(!0)},setDisabledStatus:function(e){var t=this;t.keyNav.setDisabled(e),t.prevRepeater.setDisabled(e),t.nextRepeater.setDisabled(e),t.showToday&&(t.todayKeyListener.setDisabled(e),t.todayBtn.setDisabled(e))},getActive:function(){return this.activeDate||this.value},runAnimation:function(e){var t=this.monthPicker,n={duration:200,callback:function(){e?t.hide():t.show()}};e?t.el.slideOut("t",n):t.el.slideIn("t",n)},hideMonthPicker:function(e){var t=this,n=t.monthPicker;return n&&(t.shouldAnimate(e)?t.runAnimation(!0):n.hide()),t},showMonthPicker:function(e){var t,n=this;return n.rendered&&!n.disabled&&(t=n.createMonthPicker(),t.setValue(n.getActive()),t.setSize(n.getSize()),t.setPosition(-1,-1),n.shouldAnimate(e)?n.runAnimation(!1):t.show()),n},shouldAnimate:function(e){return Ext.isDefined(e)?e:!this.disableAnim},createMonthPicker:function(){var e=this,t=e.monthPicker;return t||(e.monthPicker=t=new Ext.picker.Month({renderTo:e.el,floating:!0,shadow:!1,small:e.showToday===!1,listeners:{scope:e,cancelclick:e.onCancelClick,okclick:e.onOkClick,yeardblclick:e.onOkClick,monthdblclick:e.onOkClick}}),e.disableAnim||t.el.setStyle("display","none"),e.on("beforehide",Ext.Function.bind(e.hideMonthPicker,e,[!1]))),t},onOkClick:function(e,t){var n=this,i=t[0],r=t[1],o=new Date(r,i,n.getActive().getDate());o.getMonth()!==i&&(o=Ext.Date.getLastDateOfMonth(new Date(r,i,1))),n.setValue(o),n.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate),this.hideMonthPicker()},showPrevMonth:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(e){if(e.stopEvent(),!this.disabled){var t=e.getWheelDelta();t>0?this.showPrevMonth():0>t&&this.showNextMonth()}},handleDateClick:function(e,t){var n=this,i=n.handler;e.stopEvent(),n.disabled||!t.dateValue||Ext.fly(t.parentNode).hasCls(n.disabledCellCls)||(n.doCancelFocus=n.focusOnSelect===!1,n.setValue(new Date(t.dateValue)),delete n.doCancelFocus,n.fireEvent("select",n,n.value),i&&i.call(n.scope||n,n,n.value),n.onSelect())},onSelect:function(){this.hideOnSelect&&this.hide()},selectToday:function(){var e=this,t=e.todayBtn,n=e.handler;return t&&!t.disabled&&(e.setValue(Ext.Date.clearTime(new Date)),e.fireEvent("select",e,e.value),n&&n.call(e.scope||e,e,e.value),e.onSelect()),e},selectedUpdate:function(e){var t,n,i=this,r=e.getTime(),o=i.cells,a=i.selectedCls,s=o.elements,l=s.length;for(o.removeCls(a),t=0;l>t;t++)if(n=Ext.fly(s[t]),n.dom.firstChild.dateValue==r){i.fireEvent("highlightitem",i,n),n.addCls(a),i.isVisible()&&!i.doCancelFocus&&Ext.fly(n.dom.firstChild).focus(50);break}},fullUpdate:function(e){var t,n,i,r,o,a,s,l,d,c=this,u=c.cells.elements,h=c.textNodes,f=c.disabledCellCls,g=Ext.Date,p=0,m=0,x=c.isVisible(),y=+g.clearTime(e,!0),E=+g.clearTime(new Date),v=c.minDate?g.clearTime(c.minDate,!0):Number.NEGATIVE_INFINITY,b=c.maxDate?g.clearTime(c.maxDate,!0):Number.POSITIVE_INFINITY,C=c.disabledDatesRE,w=c.disabledDatesText,S=c.disabledDays?c.disabledDays.join(""):!1,P=c.disabledDaysText,k=c.format,T=g.getDaysInMonth(e),I=g.getFirstDateOfMonth(e),M=I.getDay()-c.startDay,D=g.add(e,g.MONTH,-1),A=c.longDayFormat;for(0>M&&(M+=7),T+=M,t=g.getDaysInMonth(D)-M,n=new Date(D.getFullYear(),D.getMonth(),t,c.initHour),c.showToday&&(r=g.clearTime(new Date),i=v>r||r>b||C&&k&&C.test(g.dateFormat(r,k))||S&&-1!=S.indexOf(r.getDay()),c.disabled||(c.todayBtn.setDisabled(i),c.todayKeyListener.setDisabled(i))),o=function(e,t){d=+g.clearTime(n,!0),e.title=g.format(n,A),e.firstChild.dateValue=d,d==E&&(t+=" "+c.todayCls,e.title=c.todayText,c.todayElSpan=Ext.DomHelper.append(e.firstChild,{tag:"span",cls:Ext.baseCSSPrefix+"hide-clip",html:c.todayText},!0)),d==y&&(t+=" "+c.selectedCls,c.fireEvent("highlightitem",c,e),x&&c.floating&&Ext.fly(e.firstChild).focus(50)),v>d?(t+=" "+f,e.title=c.minText):d>b?(t+=" "+f,e.title=c.maxText):S&&-1!==S.indexOf(n.getDay())?(e.title=P,t+=" "+f):C&&k&&(l=g.dateFormat(n,k),C.test(l)&&(e.title=w.replace("%0",l),t+=" "+f)),e.className=t+" "+c.cellCls};p<c.numDays;++p)M>p?(a=++t,s=c.prevCls):p>=T?(a=++m,s=c.nextCls):(a=p-M+1,s=c.activeCls),h[p].innerHTML=a,n.setDate(n.getDate()+1),o(u[p],s);c.monthBtn.setText(Ext.Date.format(e,c.monthYearFormat))},update:function(e,t){var n=this,i=n.activeDate;return n.rendered&&(n.activeDate=e,!t&&i&&n.el&&i.getMonth()==e.getMonth()&&i.getFullYear()==e.getFullYear()?n.selectedUpdate(e,i):n.fullUpdate(e,i)),n},beforeDestroy:function(){var e=this;e.rendered&&(Ext.destroy(e.todayKeyListener,e.keyNav,e.monthPicker,e.monthBtn,e.nextRepeater,e.prevRepeater,e.todayBtn),delete e.textNodes,delete e.cells.elements),e.callParent()},onShow:function(){this.callParent(arguments),this.focusOnShow&&this.focus()}}),Ext.define("Ext.form.field.Date",{extend:Ext.form.field.Picker,alias:"widget.datefield",alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:!0,useStrict:void 0,initTime:"12",initTimeFormat:"H",matchFieldWidth:!1,startDay:0,initComponent:function(){var e,t,n=this,i=Ext.isString;e=n.minValue,t=n.maxValue,i(e)&&(n.minValue=n.parseDate(e)),i(t)&&(n.maxValue=n.parseDate(t)),n.disabledDatesRE=null,n.initDisabledDays(),n.callParent()},initValue:function(){var e=this,t=e.value;Ext.isString(t)&&(e.value=e.rawToValue(t)),e.callParent()},initDisabledDays:function(){if(this.disabledDates){var e,t,n=this.disabledDates,i=n.length-1,r="(?:",o=n.length;for(e=0;o>e;e++)t=n[e],r+=Ext.isDate(t)?"^"+Ext.String.escapeRegex(t.dateFormat(this.format))+"$":t,e!==i&&(r+="|");this.disabledDatesRE=new RegExp(r+")")}},setDisabledDates:function(e){var t=this,n=t.picker;t.disabledDates=e,t.initDisabledDays(),n&&n.setDisabledDates(t.disabledDatesRE)},setDisabledDays:function(e){var t=this.picker;this.disabledDays=e,t&&t.setDisabledDays(e)},setMinValue:function(e){var t=this,n=t.picker,i=Ext.isString(e)?t.parseDate(e):e;t.minValue=i,n&&(n.minText=Ext.String.format(t.minText,t.formatDate(t.minValue)),n.setMinDate(i))},setMaxValue:function(e){var t=this,n=t.picker,i=Ext.isString(e)?t.parseDate(e):e;t.maxValue=i,n&&(n.maxText=Ext.String.format(t.maxText,t.formatDate(t.maxValue)),n.setMaxDate(i))},getErrors:function(e){var t,n,i,r,o=this,a=Ext.String.format,s=Ext.Date.clearTime,l=o.callParent(arguments),d=o.disabledDays,c=o.disabledDatesRE,u=o.minValue,h=o.maxValue,f=d?d.length:0,g=0;if(e=o.formatDate(e||o.processRawValue(o.getRawValue())),null===e||e.length<1)return l;if(t=e,e=o.parseDate(e),!e)return l.push(a(o.invalidText,t,Ext.Date.unescapeFormat(o.format))),l;if(r=e.getTime(),u&&r<s(u).getTime()&&l.push(a(o.minText,o.formatDate(u))),h&&r>s(h).getTime()&&l.push(a(o.maxText,o.formatDate(h))),d)for(i=e.getDay();f>g;g++)if(i===d[g]){l.push(o.disabledDaysText);break}return n=o.formatDate(e),c&&c.test(n)&&l.push(a(o.disabledDatesText,n)),l},rawToValue:function(e){return this.parseDate(e)||e||null},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},safeParse:function(e,t){var n,i=this,r=Ext.Date,o=null,a=i.useStrict;return r.formatContainsHourInfo(t)?o=r.parse(e,t,a):(n=r.parse(e+" "+i.initTime,t+" "+i.initTimeFormat,a),n&&(o=r.clearTime(n))),o},getSubmitValue:function(){var e=this.submitFormat||this.format,t=this.getValue();return t?Ext.Date.format(t,e):""},parseDate:function(e){if(!e||Ext.isDate(e))return e;var t,n=this,i=n.safeParse(e,n.format),r=n.altFormats,o=n.altFormatsArray,a=0;if(!i&&r)for(o=o||r.split("|"),t=o.length;t>a&&!i;++a)i=n.safeParse(e,o[a]);return i},formatDate:function(e){return Ext.isDate(e)?Ext.Date.dateFormat(e,this.format):e},createPicker:function(){var e=this,t=Ext.String.format;return new Ext.picker.Date({pickerField:e,ownerCt:e.ownerCt,renderTo:document.body,floating:!0,hidden:!0,focusOnShow:!0,minDate:e.minValue,maxDate:e.maxValue,disabledDatesRE:e.disabledDatesRE,disabledDatesText:e.disabledDatesText,disabledDays:e.disabledDays,disabledDaysText:e.disabledDaysText,format:e.format,showToday:e.showToday,startDay:e.startDay,minText:t(e.minText,e.formatDate(e.minValue)),maxText:t(e.maxText,e.formatDate(e.maxValue)),listeners:{scope:e,select:e.onSelect},keyNavConfig:{esc:function(){e.collapse()}}})},onDownArrow:function(){this.callParent(arguments),this.isExpanded&&this.getPicker().focus()},onSelect:function(e,t){var n=this;n.setValue(t),n.fireEvent("select",n,t),n.collapse()},onExpand:function(){var e=this.getValue();this.picker.setValue(Ext.isDate(e)?e:new Date)},onCollapse:function(){this.focus(!1,60)},beforeBlur:function(){var e=this,t=e.parseDate(e.getRawValue()),n=e.focusTask;n&&n.cancel(),t&&e.setValue(t)}}),Ext.define("Ext.form.field.FileButton",{extend:Ext.button.Button,alias:"widget.filebutton",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","fileInputEl"],inputCls:Ext.baseCSSPrefix+"form-file-input",cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:!1,renderTpl:['<span id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</span>","</span>",'<input id="{id}-fileInputEl" class="{childElCls} {inputCls}" type="file" size="1" name="{inputName}">'],getTemplateArgs:function(){var e=this.callParent();return e.inputCls=this.inputCls,e.inputName=this.inputName,e},afterRender:function(){var e=this;e.callParent(arguments),e.fileInputEl.on("change",e.fireChange,e)},fireChange:function(e){this.fireEvent("change",this,e,this.fileInputEl.dom.value)},createFileInput:function(e){var t=this;t.fileInputEl=t.el.createChild({name:t.inputName,id:e?void 0:t.id+"-fileInputEl",cls:t.inputCls,tag:"input",type:"file",size:1}),t.fileInputEl.on("change",t.fireChange,t)},reset:function(e){e&&this.fileInputEl.remove(),this.createFileInput(!e)},restoreInput:function(e){this.fileInputEl.remove(),e=Ext.get(e),this.el.appendChild(e),this.fileInputEl=e},onDisable:function(){this.callParent(),this.fileInputEl.dom.disabled=!0},onEnable:function(){this.callParent(),this.fileInputEl.dom.disabled=!1}}),Ext.define("Ext.form.field.File",{extend:Ext.form.field.Trigger,alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],buttonText:"Browse...",buttonOnly:!1,buttonMargin:3,clearOnSubmit:!0,extraFieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",readOnly:!0,triggerNoEditCls:"",componentLayout:"triggerfield",childEls:["browseButtonWrap"],onRender:function(){var e,t=this,n=t.id;t.callParent(arguments),e=t.inputEl,e.dom.name="",t.button=new Ext.form.field.FileButton(Ext.apply({renderTo:n+"-browseButtonWrap",ownerCt:t,ownerLayout:t.componentLayout,id:n+"-button",ui:t.ui,disabled:t.disabled,text:t.buttonText,style:t.buttonOnly?"":t.getButtonMarginProp()+t.buttonMargin+"px",inputName:t.getName(),listeners:{scope:t,change:t.onFileChange}},t.buttonConfig)),t.fileInputEl=t.button.fileInputEl,t.buttonOnly&&t.inputCell.setDisplayed(!1),t.browseButtonWrap.dom.style.width=t.browseButtonWrap.dom.lastChild.offsetWidth+t.button.getEl().getMargin("lr")+"px",Ext.isIE&&t.button.getEl().repaint()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"></td>'},onFileChange:function(e,t,n){this.lastValue=null,Ext.form.field.File.superclass.setValue.call(this,n)},setValue:Ext.emptyFn,reset:function(){var e=this,t=e.clearOnSubmit;e.rendered&&(e.button.reset(t),e.fileInputEl=e.button.fileInputEl,t&&(e.inputEl.dom.value="")),e.callParent()},onShow:function(){this.callParent(),this.button.updateLayout()},onDisable:function(){this.callParent(),this.button.disable()},onEnable:function(){this.callParent(),this.button.enable()},isFileUpload:function(){return!0},extractFileInput:function(){var e=this.button.fileInputEl.dom;return this.reset(),e},restoreInput:function(e){var t=this.button;t.restoreInput(e),this.fileInputEl=t.fileInputEl},onDestroy:function(){Ext.destroyMembers(this,"button"),delete this.fileInputEl,this.callParent()},getButtonMarginProp:function(){return"margin-left:"}}),Ext.define("Ext.form.field.Hidden",{extend:Ext.form.field.Base,alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",inputType:"hidden",hideLabel:!0,hidden:!0,initComponent:function(){this.formItemCls+="-hidden",this.callParent()},isEqual:function(e,t){return this.isEqualAsString(e,t)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.define("Ext.picker.Color",{extend:Ext.Component,alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){var e=this;e.callParent(arguments),e.addEvents("select"),e.handler&&e.on("select",e.handler,e.scope,!0)},initRenderData:function(){var e=this;return Ext.apply(e.callParent(),{itemCls:e.itemCls,colors:e.colors})},onRender:function(){var e=this,t=e.clickEvent;e.callParent(arguments),e.mon(e.el,t,e.handleClick,e,{delegate:"a"}),"click"!=t&&e.mon(e.el,"click",Ext.emptyFn,e,{delegate:"a",stopEvent:!0})},afterRender:function(){var e,t=this;t.callParent(arguments),t.value&&(e=t.value,t.value=null,t.select(e,!0))},handleClick:function(e,t){var n,i=this;e.stopEvent(),i.disabled||(n=t.className.match(i.colorRe)[1],i.select(n.toUpperCase()))},select:function(e,t){var n,i=this,r=i.selectedCls,o=i.value;return e=e.replace("#",""),i.rendered?((e!=o||i.allowReselect)&&(n=i.el,i.value&&n.down("a.color-"+o).removeCls(r),n.down("a.color-"+e).addCls(r),i.value=e,t!==!0&&i.fireEvent("select",i,e)),void 0):(i.value=e,void 0)},clear:function(){var e,t=this,n=t.value;n&&t.rendered&&(e=t.el.down("a.color-"+n),e.removeCls(t.selectedCls)),t.value=null},getValue:function(){return this.value||null}}),Ext.define("Ext.layout.component.field.HtmlEditor",{extend:Ext.layout.component.field.FieldContainer,alias:["layout.htmleditor"],type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(e){var t,n=this.owner;Ext.isGecko&&(t=n.textareaEl.dom,this.lastValue=t.value,t.value=""),this.callParent(arguments),e.toolbarContext=e.context.getCmp(n.toolbar),e.inputCmpContext=e.context.getCmp(n.inputCmp),e.textAreaContext=e.getEl("textareaEl"),e.iframeContext=e.getEl("iframeEl")},beginLayoutCycle:function(e){var t=this,n=e.widthModel,i=e.heightModel,r=t.owner,o=r.iframeEl,a=r.textareaEl;t.callParent(arguments),n.shrinkWrap?(o.setStyle("width",""),a.setStyle("width","")):n.natural&&e.bodyCellContext.setWidth(t.naturalWidth),(i.natural||i.shrinkWrap)&&(o.setHeight(t.naturalHeight),a.setHeight(t.naturalHeight))},finishedLayout:function(){var e=this.owner;this.callParent(arguments),Ext.isIE9m&&Ext.isIEQuirks&&e.el.repaint(),Ext.isGecko&&(e.textareaEl.dom.value=this.lastValue)},publishOwnerWidth:function(e,t){this.callParent(arguments),t-=e.inputCmpContext.getBorderInfo().width,e.textAreaContext.setWidth(t),e.iframeContext.setWidth(t)},publishInnerWidth:function(e,t){var n=e.inputCmpContext.getBorderInfo().width,i=Ext.isStrict&&Ext.isIE8m,r=e.widthModel.natural;this.callParent(arguments),t=e.bodyCellContext.props.width-n,r?(i&&(t-=2),e.textAreaContext.setWidth(t),e.iframeContext.setWidth(t)):i&&e.textAreaContext.setWidth(t)},publishInnerHeight:function(e,t){var n=e.toolbarContext.getProp("height");this.owner.sourceEditMode,this.callParent(arguments),t=e.bodyCellContext.props.height,void 0!==n?(t-=n+e.inputCmpContext.getFrameInfo().height,Ext.isIE8&&Ext.isStrict?t-=2:Ext.isIEQuirks&&(Ext.isIE8||Ext.isIE9)&&(t-=4),e.iframeContext.setHeight(t),e.textAreaContext.setHeight(t)):this.done=!1}}),Ext.define("Ext.form.field.HtmlEditor",{extend:Ext.form.FieldContainer,mixins:{field:Ext.form.field.Field},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",componentLayout:"htmleditor",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" name="{name}" tabIndex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:!0}],stretchInputElFixed:!0,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera||Ext.isIE6?"&#160;":"&#8203;",extraFieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",initialized:!1,activated:!1,sourceEditMode:!1,iframePad:3,hideMode:"offsets",maskOnDisable:!0,containerElCls:Ext.baseCSSPrefix+"html-editor-container",initComponent:function(){var e=this;e.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange"),e.items=[e.createToolbar(),e.createInputCmp()],e.layout={type:"vbox",align:"stretch"},e.callParent(arguments),e.initField()},createInputCmp:function(){return this.inputCmp=Ext.widget(this.getInputCmpCfg()),this.inputCmp},getInputCmpCfg:function(){var e=this,t=e.id+"-inputCmp",n={id:t,name:e.name,textareaCls:Ext.baseCSSPrefix+"hidden",value:e.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:Ext.baseCSSPrefix+"htmleditor-iframe"};return e.getInsertionRenderData(n,e.subTplInsertions),{flex:1,xtype:"component",tpl:e.getTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:t,cls:Ext.baseCSSPrefix+"html-editor-input",data:n}},createToolbar:function(){return this.toolbar=Ext.widget(this.getToolbarCfg()),this.toolbar},getToolbarCfg:function(){function e(e,t,n){return{itemId:e,cls:s+"btn-icon",iconCls:s+"edit-"+e,enableToggle:t!==!1,scope:r,handler:n||r.relayBtnCmd,clickEvent:"mousedown",tooltip:a?r.buttonTips[e]||i:i,overflowText:r.buttonTips[e].title||i,tabIndex:-1}}var t,n,i,r=this,o=[],a=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),s=Ext.baseCSSPrefix;for(r.enableFont&&!Ext.isSafari2&&(n=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" class="'+s+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){r.fontSelect=this.selectEl,Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var e=this.selectEl;e&&(e.dom.disabled=!0),Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var e=this.selectEl;e&&(e.dom.disabled=!1),Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){r.win.focus(),r.relayCmd("fontName",r.fontSelect.dom.value),r.deferFocus()},element:"selectEl"}}),o.push(n,"-")),r.enableFormat&&o.push(e("bold"),e("italic"),e("underline")),r.enableFontSize&&o.push("-",e("increasefontsize",!1,r.adjustFont),e("decreasefontsize",!1,r.adjustFont)),r.enableColors&&o.push("-",{itemId:"forecolor",cls:s+"btn-icon",iconCls:s+"edit-forecolor",overflowText:r.buttonTips.forecolor.title,tooltip:a?r.buttonTips.forecolor||i:i,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,clickEvent:"mousedown",handler:function(e,t){r.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+t:t),this.up("menu").hide()}}]})},{itemId:"backcolor",cls:s+"btn-icon",iconCls:s+"edit-backcolor",overflowText:r.buttonTips.backcolor.title,tooltip:a?r.buttonTips.backcolor||i:i,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,clickEvent:"mousedown",handler:function(e,t){Ext.isGecko?(r.execCmd("useCSS",!1),r.execCmd("hilitecolor","#"+t),r.execCmd("useCSS",!0),r.deferFocus()):r.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+t:t),this.up("menu").hide()}}]})}),r.enableAlignments&&o.push("-",e("justifyleft"),e("justifycenter"),e("justifyright")),Ext.isSafari2||(r.enableLinks&&o.push("-",e("createlink",!1,r.createLink)),r.enableLists&&o.push("-",e("insertorderedlist"),e("insertunorderedlist")),r.enableSourceEdit&&o.push("-",e("sourceedit",!0,function(){r.toggleSourceEdit(!r.sourceEditMode)}))),t=0;t<o.length;t++)"sourceedit"!==o[t].itemId&&(o[t].disabled=!0);return{xtype:"toolbar",defaultButtonUI:r.defaultButtonUI,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:!0,items:o,listeners:{click:function(e){e.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(e){var t,n=this,i=n.textareaEl,r=n.iframeEl;n.readOnly=e,i&&(i.dom.readOnly=e),n.initialized&&(t=n.getEditorBody(),Ext.isIE?(r.setDisplayed(!1),t.contentEditable=!e,r.setDisplayed(!0)):n.setDesignMode(!e),t&&(t.style.cursor=e?"default":"text"),n.disableItems(e))},getDocMarkup:function(){var e=this,t=e.iframeEl.getHeight()-2*e.iframePad,n=Ext.isIE8m;return Ext.String.format((n?"":"<!DOCTYPE html>")+'<html><head><style type="text/css">'+(Ext.isOpera?"p{margin:0}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(e.rtl?"rtl;":"ltr;")+(n?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",e.iframePad,t,e.defaultFont)},getEditorBody:function(){var e=this.getDoc();return e.body||e.documentElement},getDoc:function(){return!Ext.isIE&&this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return Ext.isIE?this.iframeEl.dom.contentWindow:window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var e,t,n,i,r,o,a,s=this,l=0;if(!s.defaultFont){for(t=s.textareaEl.getStyle("font-family"),t=Ext.String.capitalize(t.split(",")[0]),e=Ext.Array.clone(s.fontFamilies),Ext.Array.include(e,t),e.sort(),s.defaultFont=t,n=s.down("#fontSelect").selectEl.dom,r=0,o=e.length;o>r;++r)t=e[r],a=t.toLowerCase(),i=new Option(t,a),t==s.defaultFont&&(l=r),i.style.fontFamily=a,Ext.isIE?n.add(i):n.options.add(i);n.options[l].selected=!0}},isEqual:function(e,t){return this.isEqualAsString(e,t)},afterRender:function(){var e=this,t=e.inputCmp;e.callParent(arguments),e.iframeEl=t.iframeEl,e.textareaEl=t.textareaEl,e.inputEl=e.iframeEl,e.enableFont&&e.initDefaultFont(),e.monitorTask=Ext.TaskManager.start({run:e.checkDesignMode,scope:e,interval:100}),e.relayCmd("fontName",e.defaultFont)},initFrameDoc:function(){var e,t,n=this;Ext.TaskManager.stop(n.monitorTask),e=n.getDoc(),n.win=n.getWin(),e.open(),e.write(n.getDocMarkup()),e.close(),t={run:function(){var e=n.getDoc();(e.body||"complete"===e.readyState)&&(Ext.TaskManager.stop(t),n.setDesignMode(!0),Ext.defer(n.initEditor,10,n))},interval:10,duration:1e4,scope:n},Ext.TaskManager.start(t)},checkDesignMode:function(){var e=this,t=e.getDoc();!t||t.editorInitialized&&"on"===e.getDesignMode()||e.initFrameDoc()},setDesignMode:function(e){var t=this,n=t.getDoc();n&&(t.readOnly&&(e=!1),n.designMode=/on|true/i.test(String(e).toLowerCase())?"on":"off")},getDesignMode:function(){var e=this.getDoc();return e?String(e.designMode).toLowerCase():""},disableItems:function(e){var t,n,i=this.getToolbar().items.items,r=i.length;for(t=0;r>t;t++)n=i[t],"sourceedit"!==n.getItemId()&&n.setDisabled(e)},toggleSourceEdit:function(e){var t=this,n=t.iframeEl,i=t.textareaEl,r=Ext.baseCSSPrefix+"hidden",o=t.getToolbar().getComponent("sourceedit");Ext.isBoolean(e)||(e=!t.sourceEditMode),t.sourceEditMode=e,o.pressed!==e&&o.toggle(e),e?(t.disableItems(!0),t.syncValue(),n.addCls(r),i.removeCls(r),i.dom.removeAttribute("tabIndex"),i.focus(),t.inputEl=i):(t.initialized&&t.disableItems(t.readOnly),t.pushValue(),n.removeCls(r),i.addCls(r),i.dom.setAttribute("tabIndex",-1),t.deferFocus(),t.inputEl=n),t.fireEvent("editmodechange",t,e),t.updateLayout()},createLink:function(){var e=prompt(this.createLinkText,this.defaultLinkValue);e&&"http://"!==e&&this.relayCmd("createlink",e)},clearInvalid:Ext.emptyFn,setValue:function(e){var t=this,n=t.textareaEl;return t.inputCmp,t.mixins.field.setValue.call(t,e),(null===e||void 0===e)&&(e=""),n&&(n.dom.value=e),t.pushValue(),!t.rendered&&t.inputCmp&&(t.inputCmp.data.value=e),t},cleanHtml:function(e){return e=String(e),Ext.isWebKit&&(e=e.replace(/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,"")),e.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10)&&(e=e.substring(1)),e},syncValue:function(){var e,t,n,i,r,o,a=this;a.initialized&&(e=a.getEditorBody(),n=e.innerHTML,o=a.textareaEl.dom,Ext.isWebKit&&(i=e.getAttribute("style"),r=i.match(/text-align:(.*?);/i),r&&r[1]&&(n='<div style="'+r[0]+'">'+n+"</div>")),n=a.cleanHtml(n),a.fireEvent("beforesync",a,n)!==!1&&(Ext.isGecko&&""===o.value&&"<br>"===n&&(n=""),o.value!==n&&(o.value=n,t=!0),a.fireEvent("sync",a,n),t&&a.checkChange()))
},getValue:function(){var e,t=this;return t.sourceEditMode||t.syncValue(),e=t.rendered?t.textareaEl.dom.value:t.value,t.value=e,e},pushValue:function(){var e,t=this;t.initialized&&(e=t.textareaEl.dom.value||"",!t.activated&&e.length<1&&(e=t.defaultValue),t.fireEvent("beforepush",t,e)!==!1&&(t.getEditorBody().innerHTML=e,Ext.isGecko&&(t.setDesignMode(!1),t.setDesignMode(!0)),t.fireEvent("push",t,e)))},deferFocus:function(){this.focus(!1,!0)},getFocusEl:function(){var e=this,t=e.win;return t&&!e.sourceEditMode?t:e.textareaEl},focus:function(e,t){var n,i,r=this;return t?(r.focusTask||(r.focusTask=new Ext.util.DelayedTask(r.focus)),r.focusTask.delay(Ext.isNumber(t)?t:10,null,r,[e,!1])):(e&&(r.textareaEl&&r.textareaEl.dom&&(n=r.textareaEl.dom.value),n&&n.length&&r.execCmd("selectall",!0)),i=r.getFocusEl(),i&&i.focus&&i.focus()),r},initEditor:function(){try{var e,t,n=this,i=n.getEditorBody(),r=n.textareaEl.getStyles("font-size","font-family","background-image","background-repeat","background-color","color");if(r["background-attachment"]="fixed",i.bgProperties="fixed",Ext.DomHelper.applyStyles(i,r),e=n.getDoc())try{Ext.EventManager.removeAll(e)}catch(o){}t=Ext.Function.bind(n.onEditorEvent,n),Ext.EventManager.on(e,{mousedown:t,dblclick:t,click:t,keyup:t,buffer:100}),t=n.onRelayedEvent,Ext.EventManager.on(e,{mousedown:t,mousemove:t,mouseup:t,click:t,dblclick:t,scope:n}),Ext.isGecko&&Ext.EventManager.on(e,"keypress",n.applyCommand,n),n.fixKeys&&Ext.EventManager.on(e,"keydown",n.fixKeys,n),n.fixKeysAfter&&Ext.EventManager.on(e,"keyup",n.fixKeysAfter,n),Ext.isIE9&&Ext.isStrict&&Ext.EventManager.on(e.documentElement,"focus",n.focus,n),(Ext.isIE8m||Ext.isIE9&&!Ext.isStrict)&&(Ext.EventManager.on(e,"focusout",function(){n.savedSelection="None"!==e.selection.type?e.selection.createRange():null},n),Ext.EventManager.on(e,"focusin",function(){n.savedSelection&&n.savedSelection.select()},n)),Ext.EventManager.onWindowUnload(n.beforeDestroy,n),e.editorInitialized=!0,n.initialized=!0,n.pushValue(),n.setReadOnly(n.readOnly),n.fireEvent("initialize",n)}catch(a){}},beforeDestroy:function(){var e,t,n=this,i=n.monitorTask;if(i&&Ext.TaskManager.stop(i),n.rendered){Ext.EventManager.removeUnloadListener(n.beforeDestroy,n);try{if(e=n.getDoc()){Ext.EventManager.removeAll(Ext.fly(e));for(t in e)e.hasOwnProperty&&e.hasOwnProperty(t)&&delete e[t]}}catch(r){}delete n.iframeEl,delete n.textareaEl,delete n.toolbar,delete n.inputCmp}n.callParent()},onRelayedEvent:function(e){var t=this.iframeEl,n=Ext.Element.getTrueXY(t),i=e.getXY(),r=Ext.EventManager.getPageXY(e.browserEvent);e.xy=[n[0]+r[0],n[1]+r[1]],e.injectEvent(t),e.xy=i},onFirstFocus:function(){var e,t,n=this;if(n.activated=!0,n.disableItems(n.readOnly),Ext.isGecko){n.win.focus(),e=n.win.getSelection(),e.focusNode&&3===e.focusNode.nodeType||(t=e.getRangeAt(0),t.selectNodeContents(n.getEditorBody()),t.collapse(!0),n.deferFocus());try{n.execCmd("useCSS",!0),n.execCmd("styleWithCSS",!1)}catch(i){}}n.fireEvent("activate",n)},adjustFont:function(e){var t,n="increasefontsize"===e.getItemId()?1:-1,i=this.getDoc().queryCommandValue("FontSize")||"2",r=Ext.isString(i)&&-1!==i.indexOf("px");i=parseInt(i,10),r?(i=10>=i?1+n:13>=i?2+n:16>=i?3+n:18>=i?4+n:24>=i?5+n:6+n,i=Ext.Number.constrain(i,1,6)):(t=Ext.isSafari,t&&(n*=2),i=Math.max(1,i+n)+(t?"px":0)),this.relayCmd("FontSize",i)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){function e(){var e;for(t=0,n=arguments.length,o;n>t;t++){o=arguments[t];try{e=r.queryCommandState(o)}catch(a){e=!1}i[o].toggle(e)}}var t,n,i,r,o,a,s,l,d=this;if(!d.readOnly){if(!d.activated)return d.onFirstFocus(),void 0;for(i=d.getToolbar().items.map,r=d.getDoc(),d.enableFont&&!Ext.isSafari2&&(a=r.queryCommandValue("fontName"),o=(a?a.split(",")[0].replace(/^'/,"").replace(/'$/,""):d.defaultFont).toLowerCase(),s=d.fontSelect.dom,(o!==s.value||o!=a)&&(s.value=o)),d.enableFormat&&e("bold","italic","underline"),d.enableAlignments&&e("justifyleft","justifycenter","justifyright"),!Ext.isSafari2&&d.enableLists&&e("insertorderedlist","insertunorderedlist"),l=d.toolbar.query("menu"),t=0;t<l.length;t++)l[t].hide();d.syncValue()}},relayBtnCmd:function(e){this.relayCmd(e.getItemId())},relayCmd:function(e,t){Ext.defer(function(){var n=this;this.isDestroyed||(n.win.focus(),n.execCmd(e,t),n.updateToolbar())},10,this)},execCmd:function(e,t){var n=this,i=n.getDoc();i.execCommand(e,!1,void 0==t?null:t),n.syncValue()},applyCommand:function(e){if(e.ctrlKey){var t,n=this,i=e.getCharCode();if(i>0){switch(i=String.fromCharCode(i)){case"b":t="bold";break;case"i":t="italic";break;case"u":t="underline"}t&&(n.win.focus(),n.execCmd(t),n.deferFocus(),e.preventDefault())}}},insertAtCursor:function(e){var t,n=this;n.activated&&(n.win.focus(),Ext.isIE?(t=n.getDoc().selection.createRange(),t&&(t.pasteHTML(e),n.syncValue(),n.deferFocus())):(n.execCmd("InsertHTML",e),n.deferFocus()))},fixKeys:function(){return Ext.isIE?function(e){var t,n,i=this,r=e.getKey(),o=i.getDoc(),a=i.readOnly;r===e.TAB?(e.stopEvent(),a||(t=o.selection.createRange(),t&&(t.collapse&&(t.collapse(!0),t.pasteHTML("&#160;&#160;&#160;&#160;")),i.deferFocus()))):r===e.ENTER&&(a||(t=o.selection.createRange(),t&&(n=t.parentElement(),n&&"li"===n.tagName.toLowerCase()||(e.stopEvent(),t.pasteHTML("<br />"),t.collapse(!1),t.select()))))}:Ext.isOpera?function(e){var t=this,n=e.getKey(),i=t.readOnly;n===e.TAB&&(e.stopEvent(),i||(t.win.focus(),t.execCmd("InsertHTML","&#160;&#160;&#160;&#160;"),t.deferFocus()))}:null}(),fixKeysAfter:function(){return Ext.isIE?function(e){var t,n=this,i=e.getKey(),r=n.getDoc(),o=n.readOnly;o||i!==e.BACKSPACE&&i!==e.DELETE||(t=r.body.innerHTML,("<p>&nbsp;</p>"===t||"<P>&nbsp;</P>"===t)&&(r.body.innerHTML=""))}:null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}}}),Ext.define("Ext.picker.Time",{extend:Ext.view.BoundList,alias:"widget.timepicker",increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:!1,initComponent:function(){var e=this,t=Ext.Date,n=t.clearTime,i=e.initDate;e.absMin=n(new Date(i[0],i[1],i[2])),e.absMax=t.add(n(new Date(i[0],i[1],i[2])),"mi",1439),e.store=e.createStore(),e.store.addFilter(e.rangeFilter=new Ext.util.Filter({id:"time-picker-filter"}),!1),e.updateList(),e.callParent()},setMinValue:function(e){this.minValue=e,this.updateList()},setMaxValue:function(e){this.maxValue=e,this.updateList()},normalizeDate:function(e){var t=this.initDate;return e.setFullYear(t[0],t[1],t[2]),e},updateList:function(){var e=this,t=e.normalizeDate(e.minValue||e.absMin),n=e.normalizeDate(e.maxValue||e.absMax);e.rangeFilter.setFilterFn(function(e){var i=e.get("date");return i>=t&&n>=i}),e.store.filter()},createStore:function(){for(var e=this,t=Ext.Date,n=[],i=e.absMin,r=e.absMax;r>=i;)n.push({disp:t.dateFormat(i,e.format),date:i}),i=t.add(i,"mi",e.increment);return new Ext.data.Store({fields:["disp","date"],data:n})},focusNode:function(){return!1}}),Ext.define("Ext.form.field.Time",{extend:Ext.form.field.ComboBox,alias:"widget.timefield",alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:!0,snapToIncrement:!1,initDate:"1/1/2008",initDateFormat:"j/n/Y",ignoreSelection:0,queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var e=this,t=e.minValue,n=e.maxValue;t&&e.setMinValue(t),n&&e.setMaxValue(n),e.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+e.displayField+'"])]}'+'<tpl if="xindex < xcount">'+e.delimiter+"</tpl>"+"</tpl>",{formatDate:Ext.Function.bind(e.formatDate,e)}),this.callParent()},transformOriginalValue:function(e){return Ext.isString(e)?this.rawToValue(e):e},isEqual:function(e,t){return Ext.Date.isEqual(e,t)},setMinValue:function(e){var t=this,n=t.picker;t.setLimit(e,!0),n&&n.setMinValue(t.minValue)},setMaxValue:function(e){var t=this,n=t.picker;t.setLimit(e,!1),n&&n.setMaxValue(t.maxValue)},setLimit:function(e,t){var n,i,r=this;Ext.isString(e)?n=r.parseDate(e):Ext.isDate(e)&&(n=e),n?(i=Ext.Date.clearTime(new Date(r.initDate)),i.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())):i=null,r[t?"minValue":"maxValue"]=i},rawToValue:function(e){return this.parseDate(e)||e||null},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},getErrors:function(e){var t,n=this,i=Ext.String.format,r=n.callParent(arguments),o=n.minValue,a=n.maxValue;return e=n.formatDate(e||n.processRawValue(n.getRawValue())),null===e||e.length<1?r:(t=n.parseDate(e))?(o&&o>t&&r.push(i(n.minText,n.formatDate(o))),a&&t>a&&r.push(i(n.maxText,n.formatDate(a))),r):(r.push(i(n.invalidText,e,Ext.Date.unescapeFormat(n.format))),r)},formatDate:function(){return Ext.form.field.Date.prototype.formatDate.apply(this,arguments)},parseDate:function(e){var t,n=this,i=e,r=n.altFormats,o=n.altFormatsArray,a=0;if(e&&!Ext.isDate(e)&&(i=n.safeParse(e,n.format),!i&&r))for(o=o||r.split("|"),t=o.length;t>a&&!i;++a)i=n.safeParse(e,o[a]);return i&&n.snapToIncrement&&(i=new Date(Ext.Number.snap(i.getTime(),1e3*60*n.increment))),i},safeParse:function(e,t){var n,i=this,r=Ext.Date,o=null;return r.formatContainsDateInfo(t)?o=r.parse(e,t):(n=r.parse(i.initDate+" "+e,i.initDateFormat+" "+t),n&&(o=n)),o},getSubmitValue:function(){var e=this,t=e.submitFormat||e.format,n=e.getValue();return n?Ext.Date.format(n,t):null},createPicker:function(){var e,t=this;return t.listConfig=Ext.apply({xtype:"timepicker",selModel:{mode:"SINGLE"},cls:void 0,minValue:t.minValue,maxValue:t.maxValue,increment:t.increment,format:t.format,maxHeight:t.pickerMaxHeight},t.listConfig),e=t.callParent(),t.bindStore(e.store),e},onItemClick:function(e,t){var n=this,i=e.getSelectionModel().getSelection();i.length>0&&(i=i[0],i&&Ext.Date.isEqual(t.get("date"),i.get("date"))&&n.collapse())},onListSelectionChange:function(e,t){if(t.length){var n=this,i=t[0].get("date");n.ignoreSelection||(n.skipSync=!0,n.setValue(i),n.skipSync=!1,n.fireEvent("select",n,i),n.picker.clearHighlight(),n.collapse(),n.inputEl.focus())}},syncSelection:function(){var e,t,n,i,r,o,a,s=this,l=s.picker;if(l&&!s.skipSync){if(l.clearHighlight(),n=s.getValue(),t=l.getSelectionModel(),s.ignoreSelection++,null===n)t.deselectAll();else if(Ext.isDate(n)){for(i=l.store.data.items,o=i.length,r=0;o>r;r++)if(a=i[r],Ext.Date.isEqual(a.get("date"),n)){e=a;break}t.select(e)}s.ignoreSelection--}},postBlur:function(){var e=this,t=e.getValue();e.callParent(arguments),e.wasValid&&t&&e.setRawValue(e.formatDate(t))},setValue:function(){return this.getPicker(),this.callParent(arguments)},getValue:function(){return this.parseDate(this.callParent(arguments))}}),Ext.define("Ext.grid.CellContext",{isCellContext:!0,constructor:function(e){this.view=e},setPosition:function(e,t){var n=this;return 1===arguments.length&&(e.view&&(n.view=e.view),t=e.column,e=e.row),n.setRow(e),n.setColumn(t),n},setRow:function(e){var t=this;void 0!==e&&("number"==typeof e?(t.row=Math.max(Math.min(e,t.view.dataSource.getCount()-1),0),t.record=t.view.dataSource.getAt(e)):e.isModel?(t.record=e,t.row=t.view.indexOf(e)):e.tagName&&(t.record=t.view.getRecord(e),t.row=t.view.indexOf(t.record)))},setColumn:function(e){var t=this,n=t.view.ownerCt.columnManager;void 0!==e&&("number"==typeof e?(t.column=e,t.columnHeader=n.getHeaderAtIndex(e)):e.isHeader&&(t.columnHeader=e,t.column=n.getHeaderIndex(e)))}}),Ext.define("Ext.grid.CellEditor",{extend:Ext.Editor,constructor:function(e){e=Ext.apply({},e),e.field&&(e.field.monitorTab=!1),this.callParent([e])},onShow:function(){var e=this,t=e.boundEl.first();t&&(e.isForTree&&(t=t.child(e.treeNodeSelector)),t.hide()),e.callParent(arguments)},onHide:function(){var e=this,t=e.boundEl.first();t&&(e.isForTree&&(t=t.child(e.treeNodeSelector)),t.show()),e.callParent(arguments)},afterRender:function(){var e=this,t=e.field;e.callParent(arguments),t.isCheckbox&&t.mon(t.inputEl,{mousedown:e.onCheckBoxMouseDown,click:e.onCheckBoxClick,scope:e})},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit,this.field.focus(!1,10)},realign:function(e){var t,n=this,i=n.boundEl,r=i.first(),o=i.getWidth(),a=Ext.Array.clone(n.offsets),s=n.grid;n.isForTree&&(t=n.getTreeNodeOffset(r),o-=Math.abs(t),a[0]+=t),s.columnLines&&(o-=i.getBorderWidth("rl")),e===!0&&n.field.setWidth(o),n.alignTo(r,n.alignment,a)},getTreeNodeOffset:function(e){return e.child(this.treeNodeSelector).getOffsetsTo(e)[0]},onEditorTab:function(e){var t=this.field;t.onEditorTab&&t.onEditorTab(e)},alignment:"l-l",hideEl:!1,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-cell-editor",treeNodeSelector:"."+Ext.baseCSSPrefix+"tree-node-text",shim:!1,shadow:!1}),Ext.define("Ext.grid.ColumnComponentLayout",{extend:Ext.layout.component.Auto,alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:!0,beginLayout:function(e){var t=this;t.callParent(arguments),e.titleContext=e.getEl("titleEl"),e.triggerContext=e.getEl("triggerEl")},beginLayoutCycle:function(e){var t=this,n=t.owner;t.callParent(arguments),e.widthModel.shrinkWrap&&n.el.setWidth("");var i=n.isLast&&n.isSubHeader?"0":"";i!==t.lastBorderRightWidth&&(n.el.dom.style.borderRightWidth=t.lasBorderRightWidth=i),n.titleEl.setStyle({paddingTop:"",paddingBottom:""})},publishInnerHeight:function(e,t){if(t){var n,i,r,o,a=this,s=a.owner,l=t-e.getBorderInfo().height,d=l;if(!s.noWrap&&!e.hasDomProp("width"))return a.done=!1,void 0;e.hasRawContent?(i=d,n=s.textEl.getHeight(),n&&(d-=n,d>0&&(r=Math.floor(d/2),o=d-r,e.titleContext.setProp("padding-top",r),e.titleContext.setProp("padding-bottom",o)))):(i=s.titleEl.getHeight(),e.setProp("innerHeight",l-i,!1)),(Ext.isIE6||Ext.isIEQuirks)&&e.triggerContext&&e.triggerContext.setHeight(i)}},measureContentHeight:function(e){return e.el.dom.offsetHeight},publishOwnerHeight:function(e,t){this.callParent(arguments),(Ext.isIE6||Ext.isIEQuirks)&&e.triggerContext&&e.triggerContext.setHeight(t)},publishInnerWidth:function(e,t){e.hasRawContent||e.setProp("innerWidth",t-e.getBorderInfo().width,!1)},calculateOwnerHeightFromContentHeight:function(e,t){var n=this.callParent(arguments);return e.hasRawContent?n:this.owner.noWrap||e.hasDomProp("width")?t+this.owner.titleEl.getHeight()+e.getBorderInfo().height:null},calculateOwnerWidthFromContentWidth:function(e,t){var n=this.owner,i=Math.max(t,n.textEl.getWidth()+e.titleContext.getPaddingInfo().width),r=e.getPaddingInfo().width,o=this.getTriggerOffset(n,e);return i+r+o},getTriggerOffset:function(e,t){var n=0;return t.widthModel.shrinkWrap&&!e.menuDisabled&&0===e.query(">:not([hidden])").length&&(n=e.self.triggerElWidth),n}}),Ext.define("Ext.grid.ColumnLayout",{extend:Ext.layout.container.HBox,alias:"layout.gridcolumn",type:"gridcolumn",reserveOffset:!1,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){this.scrollbarWidth||(this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width),this.grid=this.owner.up("[scrollerOwner]"),this.callParent()},beginLayout:function(e){var t,n,i=this,r=i.owner,o=i.grid,a=o.view,s=i.getVisibleItems(),l=s.length,d=i.firstHeaderCls,c=i.lastHeaderCls;for(o.lockable&&(a=r.up("tablepanel")===a.normalGrid?a.normalGrid.getView():null),t=0;l>t;t++)n=s[t],n.isLast=!1,n.removeCls([d,c]),0===t&&n.addCls(d),t===l-1&&(n.addCls(c),n.isLast=!0);i.callParent(arguments),!r.isColumn&&Ext.getScrollbarSize().width&&!o.collapsed&&a&&a.rendered&&(e.viewTable=a.body.dom)&&(e.viewContext=e.context.getCmp(a))},roundFlex:function(e){return Math.floor(e)},calculate:function(e){this.callParent(arguments),!e.state.parallelDone||this.owner.forceFit&&!e.flexedItems.length||e.setProp("columnWidthsDone",!0),e.viewContext&&(e.state.tableHeight=e.viewTable.offsetHeight)},completeLayout:function(e){var t=this,n=t.owner,i=e.state;t.callParent(arguments),!e.flexedItems.length&&!i.flexesCalculated&&n.forceFit&&t.convertWidthsToFlexes(e)?(t.cacheFlexes(e),e.invalidate({state:{flexesCalculated:!0}})):e.setProp("columnWidthsDone",!0)},convertWidthsToFlexes:function(e){var t,n,i,r,o,a=this,s=0,l=a.sizeModels.calculated;for(t=e.childItems,n=t.length,i=0;n>i;i++)r=t[i],o=r.target,s+=r.props.width,o.fixed||o.resizable===!1||(o.flex=e.childItems[i].flex=r.props.width,o.width=null,r.widthModel=l);return s!==e.props.width},getContainerSize:function(e){var t,n,i=this,r=e.viewContext;return i.owner.isColumn?t=i.getColumnContainerSize(e):(t=i.callParent(arguments),r&&!r.heightModel.shrinkWrap&&r.target.componentLayout.ownerContext&&(n=r.getProp("height"),isNaN(n)?i.done=!1:e.state.tableHeight>n&&(t.width-=Ext.getScrollbarSize().width,e.state.parallelDone=!1,r.invalidate()))),t},getColumnContainerSize:function(e){var t,n,i,r,o=e.paddingContext.getPaddingInfo(),a=0,s=0;return e.widthModel.shrinkWrap||(++s,i=e.getProp("innerWidth"),t="number"==typeof i,t&&(++a,i-=o.width,0>i&&(i=0))),e.heightModel.shrinkWrap||(++s,r=e.getProp("innerHeight"),n="number"==typeof r,n&&(++a,r-=o.height,0>r&&(r=0))),{width:i,height:r,needed:s,got:a,gotAll:a==s,gotWidth:t,gotHeight:n}},publishInnerCtSize:function(e){var t,n=this,i=e.state.boxPlan.targetSize,r=e.peek("contentWidth");return n.owner.tooNarrow=e.state.boxPlan.tooNarrow,null==r||n.owner.isColumn||(i.width=r,t=n.owner.ownerCt.view,t.scrollFlags.y&&(i.width+=Ext.getScrollbarSize().width)),n.callParent(arguments)}}),Ext.define("Ext.grid.ColumnManager",{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(e,t){this.headerCt=e,t&&(this.secondHeaderCt=t)},getColumns:function(){return this.columns||this.cacheColumns(),this.columns},getHeaderIndex:function(e){return e.isGroupHeader&&(e=e.down(":not([isGroupHeader])")),Ext.Array.indexOf(this.getColumns(),e)},getHeaderAtIndex:function(e){var t=this.getColumns();return t.length?t[e]:null},getHeaderById:function(e){var t,n,i=this.getColumns(),r=i.length;for(t=0;r>t;++t)if(n=i[t],n.getItemId()===e)return n;return null},getVisibleHeaderClosestToIndex:function(e){var t=this.getHeaderAtIndex(e);return t&&t.hidden&&(t=t.next(":not([hidden])")||t.prev(":not([hidden])")),t},cacheColumns:function(){this.columns=this.headerCt.getVisibleGridColumns(),this.secondHeaderCt&&Ext.Array.push(this.columns,this.secondHeaderCt.getVisibleGridColumns())},invalidate:function(){this.columns=null,this.rootColumns&&this.rootColumns.invalidate()}},function(){this.createAlias("indexOf","getHeaderIndex")}),Ext.define("Ext.layout.container.Fit",{extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:!0,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e,t){var n=t||this.owner.getSizeModel(),i=(n.width.shrinkWrap?0:1)|(n.height.shrinkWrap?0:2);return this.sizePolicies[i]},beginLayoutCycle:function(e,t){var n,i,r,o,a,s,l,d,c,u,h=this,f=h.lastHeightModel&&h.lastHeightModel.calculated,g=h.lastWidthModel&&h.lastWidthModel.calculated,p=g||f,m=0,x=0;for(h.callParent(arguments),p&&"TD"!=e.targetContext.el.dom.tagName.toUpperCase()&&(p=g=f=!1),i=e.childItems,a=i.length,r=0;a>r;++r)o=i[r],t&&(n=o.target,l=n.minHeight,d=n.minWidth,(d||l)&&(s=o.marginInfo||o.getMarginInfo(),l+=s.height,d+=s.height,l>m&&(m=l),d>x&&(x=d))),p&&(c=o.el.dom.style,f&&(c.height=""),g&&(c.width=""));t&&(e.maxChildMinHeight=m,e.maxChildMinWidth=x),n=e.target,e.overflowX=!e.widthModel.shrinkWrap&&e.maxChildMinWidth&&n.scrollFlags.x||u,e.overflowY=!e.heightModel.shrinkWrap&&e.maxChildMinHeight&&n.scrollFlags.y||u},calculate:function(e){var t,n,i,r,o,a,s=this,l=e.childItems,d=l.length,c=s.getContainerSize(e),u={length:d,ownerContext:e,targetSize:c},h=e.widthModel.shrinkWrap,f=e.heightModel.shrinkWrap,g=e.overflowX,p=e.overflowY;for((g||p)&&(t=s.getScrollbarsNeeded(g&&c.width,p&&c.height,e.maxChildMinWidth,e.maxChildMinHeight),t&&(n=Ext.getScrollbarSize(),1&t&&(c.height-=n.height),2&t&&(c.width-=n.width))),r=0;d>r;++r)u.index=r,s.fitItem(l[r],u);(f||h)&&(i=e.targetContext.getPaddingInfo(),h&&(p&&!c.gotHeight?s.done=!1:(o=u.contentWidth+i.width,2&t&&(o+=n.width),e.setContentWidth(o)||(s.done=!1))),f&&(g&&!c.gotWidth?s.done=!1:(a=u.contentHeight+i.height,1&t&&(a+=n.height),e.setContentHeight(a)||(s.done=!1))))},fitItem:function(e,t){var n=this;return e.invalid?(n.done=!1,void 0):(t.margins=e.getMarginInfo(),t.needed=t.got=0,n.fitItemWidth(e,t),n.fitItemHeight(e,t),t.got!=t.needed&&(n.done=!1),void 0)},fitItemWidth:function(e,t){var n,i;t.ownerContext.widthModel.shrinkWrap?(i=e.getProp("width")+t.margins.width,n=t.contentWidth,t.contentWidth=void 0===n?i:Math.max(n,i)):e.widthModel.calculated&&(++t.needed,t.targetSize.gotWidth&&(++t.got,this.setItemWidth(e,t))),this.positionItemX(e,t)},fitItemHeight:function(e,t){var n,i;t.ownerContext.heightModel.shrinkWrap?(i=e.getProp("height")+t.margins.height,n=t.contentHeight,t.contentHeight=void 0===n?i:Math.max(n,i)):e.heightModel.calculated&&(++t.needed,t.targetSize.gotHeight&&(++t.got,this.setItemHeight(e,t))),this.positionItemY(e,t)},positionItemX:function(e,t){var n=t.margins;(t.index||n.left)&&e.setProp("x",n.left),n.width&&e.setProp("margin-right",n.width)},positionItemY:function(e,t){var n=t.margins;(t.index||n.top)&&e.setProp("y",n.top),n.height&&e.setProp("margin-bottom",n.height)},setItemHeight:function(e,t){e.setHeight(t.targetSize.height-t.margins.height)},setItemWidth:function(e,t){e.setWidth(t.targetSize.width-t.margins.width)}}),Ext.define("Ext.panel.Table",{extend:Ext.panel.Panel,alias:"widget.tablepanel",extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",layout:"fit",hasView:!1,viewType:null,selType:"rowmodel",scroll:!0,deferRowRender:!0,sortableColumns:!0,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,rowLines:!0,colLinesCls:Ext.baseCSSPrefix+"grid-with-col-lines",rowLinesCls:Ext.baseCSSPrefix+"grid-with-row-lines",noRowLinesCls:Ext.baseCSSPrefix+"grid-no-row-lines",hiddenHeaderCtCls:Ext.baseCSSPrefix+"grid-header-ct-hidden",hiddenHeaderCls:Ext.baseCSSPrefix+"grid-header-hidden",resizeMarkerCls:Ext.baseCSSPrefix+"grid-resize-marker",emptyCls:Ext.baseCSSPrefix+"grid-empty",initComponent:function(){var e,t,n,i,r=this,o=r.columns||r.colModel,a=r.store=Ext.data.StoreManager.lookup(r.store||"ext-empty-store");if(r.columnLines&&r.addCls(r.colLinesCls),r.addCls(r.rowLines?r.rowLinesCls:r.noRowLinesCls),o instanceof Ext.grid.header.Container?(o.isRootHeader=!0,r.headerCt=o):r.enableLocking||r.hasLockedColumns(o)?(r.self.mixin("lockable",Ext.grid.locking.Lockable),r.injectLockable()):(Ext.isArray(o)&&(o={items:o}),Ext.apply(o,{grid:r,forceFit:r.forceFit,sortable:r.sortableColumns,enableColumnMove:r.enableColumnMove,enableColumnResize:r.enableColumnResize,sealed:r.sealedColumns,isRootHeader:!0}),Ext.isDefined(r.enableColumnHide)&&(o.enableColumnHide=r.enableColumnHide),r.headerCt||(r.headerCt=new Ext.grid.header.Container(o))),r.columns=r.headerCt.getGridColumns(),r.scrollTask=new Ext.util.DelayedTask(r.syncHorizontalScroll,r),r.addEvents("reconfigure","viewready"),r.bodyCls=r.bodyCls||"",r.bodyCls+=" "+r.extraBodyCls,r.cls=r.cls||"",r.cls+=" "+r.extraBaseCls,delete r.autoScroll,!r.hasView){if(i=r.headerCt.getGridColumns(),a.buffered&&!a.remoteSort)for(t=0,n=i.length;n>t;t++)i[t].sortable=!1;r.hideHeaders&&(r.headerCt.height=0,r.headerCt.hiddenHeaders=!0,r.headerCt.addCls(r.hiddenHeaderCtCls),r.addCls(r.hiddenHeaderCls),Ext.isIEQuirks&&(r.headerCt.style={display:"none"})),r.relayHeaderCtEvents(r.headerCt),r.features=r.features||[],Ext.isArray(r.features)||(r.features=[r.features]),r.dockedItems=[].concat(r.dockedItems||[]),r.dockedItems.unshift(r.headerCt),r.viewConfig=r.viewConfig||{},e=r.getView(),r.items=[e],r.hasView=!0,r.hideHeaders||e.on({scroll:{fn:r.onHorizontalScroll,element:"el",scope:r}}),r.bindStore(a,!0),r.mon(e,{viewready:r.onViewReady,refresh:r.onRestoreHorzScroll,scope:r})}r.relayEvents(r.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","selectionchange","beforeselect","select","beforedeselect","deselect"]),r.callParent(arguments),r.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange"]),!r.lockable&&r.headerCt&&r.headerCt.on("afterlayout",r.onRestoreHorzScroll,r)},hasLockedColumns:function(e){var t,n,i;for(Ext.isObject(e)&&(e=e.items),t=0,n=e.length;n>t;t++)if(i=e[t],!i.processed&&i.locked)return!0},relayHeaderCtEvents:function(e){this.relayEvents(e,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var e=this,t=e.callParent(),n=e.store.getState();return t=e.addPropertyToState(t,"columns",e.headerCt.getColumnsState()),n&&(t.storeState=n),t},applyState:function(e){var t=this,n=e.sort,i=e.storeState,r=t.store,o=e.columns;delete e.columns,t.callParent(arguments),o&&t.headerCt.applyColumnsState(o),n?r.remoteSort?r.sort({property:n.property,direction:n.direction,root:n.root},null,!1):r.sort(n.property,n.direction):i&&r.applyState(i)},getStore:function(){return this.store},getView:function(){var e,t=this;return t.view||(e=t.getSelectionModel(),Ext.widget(Ext.apply({grid:t,deferInitialRefresh:t.deferRowRender!==!1,trackOver:t.trackMouseOver!==!1,scroll:t.scroll,xtype:t.viewType,store:t.store,headerCt:t.headerCt,columnLines:t.columnLines,rowLines:t.rowLines,selModel:e,features:t.features,panel:t,emptyText:t.emptyText||""},t.viewConfig)),t.view.emptyText&&(t.view.emptyText='<div class="'+t.emptyCls+'">'+t.view.emptyText+"</div>"),t.view.getComponentLayout().headerCt=t.headerCt,t.mon(t.view,{uievent:t.processEvent,scope:t}),e.view=t.view,t.headerCt.view=t.view),t.view},setAutoScroll:Ext.emptyFn,processEvent:function(e,t,n,i,r){var o,a=this;return-1!==r?(o=a.columnManager.getColumns()[r],o.processEvent.apply(o,arguments)):void 0},determineScrollbars:function(){},invalidateScroller:function(){},scrollByDeltaY:function(e,t){this.getView().scrollBy(0,e,t)},scrollByDeltaX:function(e,t){this.getView().scrollBy(e,0,t)},afterCollapse:function(){var e=this;e.saveScrollPos(),e.saveScrollPos(),e.callParent(arguments)},afterExpand:function(){var e=this;e.callParent(arguments),e.restoreScrollPos(),e.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.delayScroll()},onHeaderMove:function(e,t,n,i,r){var o=this;o.optimizedColumnMove===!1?o.view.refresh():o.view.moveColumn(i,r,n),o.delayScroll()},onHeaderHide:function(){this.view.refresh(),this.delayScroll()},onHeaderShow:function(){this.view.refresh(),this.delayScroll()},delayScroll:function(){var e=this.getScrollTarget().el;e&&this.scrollTask.delay(10,null,null,[e.dom.scrollLeft])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var e=this.scrollLeftPos;e&&this.syncHorizontalScroll(e,!0)},getScrollerOwner:function(){var e=this;return this.scrollerOwner||(e=this.up("[scrollerOwner]")),e},getLhsMarker:function(){var e=this;return e.lhsMarker||(e.lhsMarker=Ext.DomHelper.append(e.el,{cls:e.resizeMarkerCls},!0))},getRhsMarker:function(){var e=this;return e.rhsMarker||(e.rhsMarker=Ext.DomHelper.append(e.el,{cls:e.resizeMarkerCls},!0))},getSelectionModel:function(){var e,t,n,i=this,r=i.selModel;return r||(r={},e=!0),r.events||(n=r.selType||i.selType,e=!r.mode,r=i.selModel=Ext.create("selection."+n,r)),i.simpleSelect?t="SIMPLE":i.multiSelect&&(t="MULTI"),Ext.applyIf(r,{allowDeselect:i.allowDeselect}),t&&e&&r.setSelectionMode(t),r.hasRelaySetup||(i.relayEvents(r,["selectionchange","beforeselect","beforedeselect","select","deselect"]),r.hasRelaySetup=!0),i.disableSelection&&(r.locked=!0),r},getScrollTarget:function(){var e=this.getScrollerOwner(),t=e.query("tableview");return t[1]||t[0]},onHorizontalScroll:function(e,t){this.syncHorizontalScroll(t.scrollLeft)},syncHorizontalScroll:function(e,t){var n,i=this;t=t===!0,i.rendered&&(t||e!==i.scrollLeftPos)&&(t&&(n=i.getScrollTarget(),n.el.dom.scrollLeft=e),i.headerCt.el.dom.scrollLeft=e,i.scrollLeftPos=e)},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(e,t){var n,i=this,r=i.getView(),o=e&&e.buffered;i.store=e,n=i.findPlugin("bufferedrenderer"),n?(i.verticalScroller=n,n.store&&n.bindStore(e)):o&&(i.verticalScroller=n=i.addPlugin(Ext.apply({ptype:"bufferedrenderer"},i.initialConfig.verticalScroller))),r.store!==e&&(t?r.bindStore(e,!1,"dataSource"):r.bindStore(e,!1)),i.mon(e,{load:i.onStoreLoad,scope:i}),i.storeRelayers=i.relayEvents(e,["filterchange"]),n&&(i.invalidateScrollerOnRefresh=!1),void 0!==i.invalidateScrollerOnRefresh&&(r.preserveScrollOnRefresh=!i.invalidateScrollerOnRefresh)},unbindStore:function(){var e=this,t=e.store;t&&(e.store=null,e.mun(t,{load:e.onStoreLoad,scope:e}),Ext.destroy(e.storeRelayers))},reconfigure:function(e,t){var n,i=this,r=i.getView(),o=i.store,a=i.headerCt,s=a?a.items.getRange():i.columns;t&&(t=Ext.Array.slice(t)),i.fireEvent("beforereconfigure",i,e,t,o,s),i.lockable?i.reconfigureLockable(e,t):(Ext.suspendLayouts(),t&&(delete i.scrollLeftPos,a.removeAll(),a.add(t)),e&&(e=Ext.StoreManager.lookup(e))!==o?(i.store&&i.unbindStore(),n=r.deferInitialRefresh,r.deferInitialRefresh=!1,i.bindStore(e),r.deferInitialRefresh=n):i.getView().refresh(),a.setSortState(),Ext.resumeLayouts(!0)),i.fireEvent("reconfigure",i,e,t,o,s)
},beforeDestroy:function(){var e=this.scrollTask;e&&(e.cancel(),this.scrollTask=null),this.callParent()},onDestroy:function(){this.lockable&&this.destroyLockable(),this.callParent()}}),Ext.define("Ext.util.CSS",function(){var e,t=null,n=document,i=/(-[a-z])/gi,r=function(e,t){return t.charAt(1).toUpperCase()};return{singleton:!0,rules:t,initialized:!1,constructor:function(){e=this},createStyleSheet:function(t,i){var r,o=n.getElementsByTagName("head")[0],a=n.createElement("style");if(a.setAttribute("type","text/css"),i&&a.setAttribute("id",i),Ext.isIE)o.appendChild(a),r=a.styleSheet,r.cssText=t;else{try{a.appendChild(n.createTextNode(t))}catch(s){a.cssText=t}o.appendChild(a),r=a.styleSheet?a.styleSheet:a.sheet||n.styleSheets[n.styleSheets.length-1]}return e.cacheStyleSheet(r),r},removeStyleSheet:function(e){var t=n.getElementById(e);t&&t.parentNode.removeChild(t)},swapStyleSheet:function(t,i){var r;e.removeStyleSheet(t),r=n.createElement("link"),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("id",t),r.setAttribute("href",i),n.getElementsByTagName("head")[0].appendChild(r)},refreshCache:function(){return e.getRules(!0)},cacheStyleSheet:function(n){t||(t=e.rules={});try{var i,r,o=n.cssRules||n.rules,a=o.length-1,s=n.imports,l=s?s.length:0;for(r=0;l>r;++r)e.cacheStyleSheet(s[r]);for(;a>=0;--a)i=o[a],i.styleSheet&&e.cacheStyleSheet(i.styleSheet),e.cacheRule(i,n)}catch(d){}},cacheRule:function(n,i){if(n.styleSheet)return e.cacheStyleSheet(n.styleSheet);var r,o,a=n.selectorText;if(a)for(a=a.split(","),r=a.length,o=0;r>o;o++)t[Ext.String.trim(a[o]).toLowerCase()]={parentStyleSheet:i,cssRule:n}},getRules:function(n){var i,r={};(null===t||n)&&e.refreshCache();for(i in t)r[i]=t[i].cssRule;return r},refreshCache:function(){var i=n.styleSheets,r=0,o=i.length;for(t=e.rules={};o>r;r++)try{i[r].disabled||e.cacheStyleSheet(i[r])}catch(a){}},getRule:function(n,i,r){var o,a;if((!t||i)&&e.refreshCache(),!Ext.isArray(n))return a=t[n.toLowerCase()],a&&!r&&(a=a.cssRule),a||null;for(o=0;o<n.length;o++)if(t[n[o]])return r?t[n[o].toLowerCase()]:t[n[o].toLowerCase()].cssRule;return null},createRule:function(t,n,i){var r,o=t.cssRules||t.rules,a=o.length;return t.insertRule?t.insertRule(n+"{"+i+"}",a):t.addRule(n,i||" "),e.cacheRule(r=o[a],t),r},updateRule:function(t,n,o){var a,s,l;if(Ext.isArray(t)){for(s=0;s<t.length;s++)if(e.updateRule(t[s],n,o))return!0}else if(a=e.getRule(t)){if(2==arguments.length){l=Ext.Element.parseStyles(n);for(n in l)a.style[n.replace(i,r)]=l[n]}else a.style[n.replace(i,r)]=o;return!0}return!1},deleteRule:function(n){var i,r,o=e.getRule(n,!1,!0);o&&(i=o.parentStyleSheet,r=Ext.Array.indexOf(i.cssRules||i.rules,o.cssRule),i.deleteRule?i.deleteRule(r):i.removeRule(r),delete t[n])}}}),Ext.define("Ext.view.TableLayout",{extend:Ext.layout.component.Auto,alias:["layout.tableview"],type:"tableview",beginLayout:function(e){var t=this,n=t.owner.lockingPartner,i=t.owner;t.callParent(arguments),n&&(t.lockedGrid=t.owner.up("[lockable]"),t.lockedGrid.needsRowHeightSync=!0,e.lockingPartner||(e.lockingPartner=e.context.getItem(n,n.el),e.lockingPartner&&!e.lockingPartner.lockingPartner&&(e.lockingPartner.lockingPartner=e))),e.headerContext=e.context.getCmp(t.headerCt),t.owner.body.dom&&(e.bodyContext=e.getEl(t.owner.body)),Ext.isWebKit&&i.el.select(i.getBodySelector()).setStyle("table-layout","auto")},calculate:function(e){var t,n=this,i=n.lockingPartner,r=n.owner,o=0;if(e.headerContext.hasProp("columnWidthsDone")){if(!n.setColumnWidths(e))return n.done=!1,void 0;e.state.columnWidthsSynced=!0,e.bodyContext&&(t=n.owner.el.down("."+r.ownerCt.emptyCls,!0),t?o=t.offsetHeight:(o=e.bodyContext.el.dom.offsetHeight,e.bodyContext.setHeight(o,!1)),e.setProp("contentHeight",o)),i&&!i.state.columnWidthsSynced?n.done=!1:n.callParent(arguments)}else n.done=!1},measureContentHeight:function(e){var t=e.lockingPartner;return!e.bodyContext||e.state.columnWidthsSynced&&(!t||t.state.columnWidthsSynced)?this.callParent(arguments):void 0},setColumnWidths:function(e){var t,n,i,r=this,o=r.owner,a=e.context,s=r.headerCt.getVisibleGridColumns(),l=0,d=s.length,c=0,u=0,h=!Ext.isBorderBox;for(a&&(a.currentLayout=r),l=0;d>l;l++){if(t=s[l],n=a.getCmp(t),i=n.props.width,isNaN(i))return n.getProp("width"),!1;c+=i,h&&o.columnLines&&(u||(u=a.getCmp(t).borderInfo.width||1),i-=u),o.body.select(o.getColumnSizerSelector(t)).setWidth(i)}return o.el.select(o.getBodySelector()).setWidth(c),!0},finishedLayout:function(){var e=this,t=e.owner;e.callParent(arguments),Ext.isWebKit&&t.el.select(t.getBodySelector()).setStyle("table-layout",""),t.refreshCounter&&e.lockedGrid&&e.lockedGrid.syncRowHeight&&e.lockedGrid.needsRowHeightSync&&(e.lockedGrid.syncRowHeights(),e.lockedGrid.needsRowHeightSync=!1)}}),Ext.define("Ext.view.NodeCache",{constructor:function(e){this.view=e,this.clear(),this.el=new Ext.dom.AbstractElement.Fly},clear:function(e){var t,n,i=this,r=this.elements;if(e)for(t in r)n=r[t],n.parentNode.removeChild(n);i.elements={},i.count=i.startIndex=0,i.endIndex=-1},fill:function(e,t){var n,i=this,r=i.elements={},o=e.length;for(t||(t=0),n=0;o>n;n++)r[t+n]=e[n];return i.startIndex=t,i.endIndex=t+o-1,i.count=o,this},insert:function(e,t){var n,i=this,r=i.elements,o=t.length;if(i.count){if(e<i.count)for(n=i.endIndex+o;n>=e+o;n--)r[n]=r[n-o],r[n].setAttribute("data-recordIndex",n);i.endIndex=i.endIndex+o}else i.startIndex=e,i.endIndex=e+o-1;for(n=0;o>n;n++,e++)r[e]=t[n],r[e].setAttribute("data-recordIndex",e);i.count+=o},item:function(e,t){var n=this.elements[e],i=null;return n&&(i=t?this.elements[e]:this.el.attach(this.elements[e])),i},first:function(e){return this.item(this.startIndex,e)},last:function(e){return this.item(this.endIndex,e)},getCount:function(){return this.count},slice:function(e,t){var n,i=this.elements,r=[];for(t=arguments.length<2?this.endIndex:Math.min(this.endIndex,t-1),n=e||this.startIndex;t>=n;n++)r.push(i[n]);return r},replaceElement:function(e,t,n){var i=this.elements,r="number"==typeof e?e:this.indexOf(e);return r>-1&&(t=Ext.getDom(t),n&&(e=i[r],e.parentNode.insertBefore(t,e),Ext.removeNode(e),t.setAttribute("data-recordIndex",r)),this.elements[r]=t),this},indexOf:function(e){var t,n=this.elements;for(e=Ext.getDom(e),t=this.startIndex;t<=this.endIndex;t++)if(n[t]===e)return t;return-1},removeRange:function(e,t,n){var i,r,o,a,s=this,l=s.elements;for(t=void 0===t?s.count:Math.min(s.endIndex+1,t+1),e||(e=0),o=t-e,r=e,a=t;r<s.endIndex;r++,a++)n&&t>r&&Ext.removeNode(l[r]),a<=s.endIndex?(i=l[r]=l[a],i.setAttribute("data-recordIndex",r)):delete l[r];s.count-=o,s.endIndex-=o},removeElement:function(e,t){var n,i,r,o,a,s,l=this,d=l.elements,c=0;if(Ext.isArray(e)){for(n=e,e=[],o=n.length,c=0;o>c;c++)i=n[c],"number"!=typeof i&&(i=l.indexOf(i)),i>=l.startIndex&&i<=l.endIndex&&(e[e.length]=i);Ext.Array.sort(e),o=e.length}else{if(e<l.startIndex||e>l.endIndex)return;o=1,e=[e]}for(a=s=e[0],c=0;a<=l.endIndex;a++,s++)o>c&&a===e[c]&&(s++,c++,t&&Ext.removeNode(d[a])),s<=l.endIndex&&s>=l.startIndex?(r=d[a]=d[s],r.setAttribute("data-recordIndex",a)):delete d[a];l.endIndex-=o,l.count-=o},scroll:function(e,t,n){var i,r,o,a,s=this,l=s.elements,d=e.length,c=s.view.getNodeContainer(),u=document.createDocumentFragment();if(-1==t){for(i=s.endIndex-n+1;i<=s.endIndex;i++)r=l[i],delete l[i],r.parentNode.removeChild(r);for(s.endIndex-=n,a=s.view.bufferRender(e,s.startIndex-=d),i=0;d>i;i++)l[s.startIndex+i]=a[i],u.appendChild(a[i]);c.insertBefore(u,c.firstChild)}else{for(o=s.startIndex+n,i=s.startIndex;o>i;i++)r=l[i],delete l[i],r.parentNode.removeChild(r);for(s.startIndex=i,a=s.view.bufferRender(e,s.endIndex+1),i=0;d>i;i++)l[s.endIndex+=1]=a[i],u.appendChild(a[i]);c.appendChild(u)}s.count=s.endIndex-s.startIndex+1}}),Ext.define("Ext.view.Table",{extend:Ext.view.View,alias:"widget.tableview",componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",headerRowSelector:"tr."+Ext.baseCSSPrefix+"grid-header-row",selectedItemCls:Ext.baseCSSPrefix+"grid-row-selected",beforeSelectedItemCls:Ext.baseCSSPrefix+"grid-row-before-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-row-focused",beforeFocusedItemCls:Ext.baseCSSPrefix+"grid-row-before-focused",tableFocusedFirstCls:Ext.baseCSSPrefix+"grid-table-focused-first",tableSelectedFirstCls:Ext.baseCSSPrefix+"grid-table-selected-first",tableOverFirstCls:Ext.baseCSSPrefix+"grid-table-over-first",overItemCls:Ext.baseCSSPrefix+"grid-row-over",beforeOverItemCls:Ext.baseCSSPrefix+"grid-row-before-over",altRowCls:Ext.baseCSSPrefix+"grid-row-alt",dirtyCls:Ext.baseCSSPrefix+"grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+) ",""),positionBody:!0,trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,tpl:"{%values.view.tableTpl.applyOut(values, out)%}",tableTpl:["{%",'var view=values.view,tableCls=["'+Ext.baseCSSPrefix+'" + view.id + "-table '+Ext.baseCSSPrefix+'grid-table"];',"if (view.columnLines) tableCls[tableCls.length]=view.ownerCt.colLinesCls;","if (view.rowLines) tableCls[tableCls.length]=view.ownerCt.rowLinesCls;","%}",'<table role="presentation" id="{view.id}-table" class="{[tableCls.join(" ")]}" border="0" cellspacing="0" cellpadding="0" style="{tableStyle}" tabIndex="-1">',"{[view.renderColumnSizer(out)]}","{[view.renderTHead(values, out)]}","{[view.renderTFoot(values, out)]}",'<tbody id="{view.id}-body">',"{%","view.renderRows(values.rows, values.viewStartIndex, out);","%}","</tbody>","</table>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<tr role="row" {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','{rowAttr:attributes} tabIndex="-1">','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td role="gridcell" class="{tdCls}" {tdAttr} id="{[Ext.id()]}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}"','style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>',"</td>",{priority:0}],refreshSelmodelOnRefresh:!1,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:[Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-td"]},renderBuffer:document.createElement("div"),constructor:function(e){e.grid.isTree&&(e.baseCls=Ext.baseCSSPrefix+"tree-view"),this.callParent([e])},initComponent:function(){var e=this,t=e.scroll;this.addEvents("beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown"),e.body=new Ext.dom.Element.Fly,e.body.id=e.id+"gridBody",e.autoScroll=void 0,e.trackOver||(e.overItemCls=null,e.beforeOverItemCls=null),t===!0||"both"===t?e.autoScroll=!0:"horizontal"===t?e.overflowX="auto":"vertical"===t&&(e.overflowY="auto"),e.selModel.view=e,e.headerCt.view=e,e.grid.view=e,e.initFeatures(e.grid),delete e.grid,e.tpl=e.getTpl("tpl"),e.itemSelector=e.getItemSelector(),e.all=new Ext.view.NodeCache(e),e.callParent()},moveColumn:function(e,t,n){var i,r,o,a,s,l,d,c=this,u=n>1?document.createDocumentFragment():void 0,h=t,f=c.getGridColumns().length,g=f-1,p=(c.firstCls||c.lastCls)&&(0===t||t==f||0===e||e==g);if(c.rendered&&t!==e){for(o=c.el.query(c.getDataRowSelector()),t>e&&u&&(h-=n),i=0,a=o.length;a>i;i++){if(s=o[i],l=s.childNodes,p){if(1===l.length){Ext.fly(l[0]).addCls(c.firstCls),Ext.fly(l[0]).addCls(c.lastCls);continue}0===e?(Ext.fly(l[0]).removeCls(c.firstCls),Ext.fly(l[1]).addCls(c.firstCls)):e===g&&(Ext.fly(l[g]).removeCls(c.lastCls),Ext.fly(l[g-1]).addCls(c.lastCls)),0===t?(Ext.fly(l[0]).removeCls(c.firstCls),Ext.fly(l[e]).addCls(c.firstCls)):t===f&&(Ext.fly(l[g]).removeCls(c.lastCls),Ext.fly(l[e]).addCls(c.lastCls))}if(u){for(r=0;n>r;r++)u.appendChild(l[e]);s.insertBefore(u,l[h]||null)}else s.insertBefore(l[e],l[h]||null)}for(d=c.el.query(c.getBodySelector()),i=0,a=d.length;a>i;i++)if(s=d[i],u){for(r=0;n>r;r++)u.appendChild(s.childNodes[e]);s.insertBefore(u,s.childNodes[h]||null)}else s.insertBefore(s.childNodes[e],s.childNodes[h]||null)}},scrollToTop:Ext.emptyFn,addElListener:function(e,t,n){this.mon(this,e,t,n,{element:"el"})},getGridColumns:function(){return this.ownerCt.columnManager.getColumns()},getHeaderAtIndex:function(e){return this.ownerCt.columnManager.getHeaderAtIndex(e)},getCell:function(e,t){var n=this.getNode(e,!0);return Ext.fly(n).down(t.getCellSelector())},getFeature:function(e){var t=this.featuresMC;return t?t.get(e):void 0},findFeature:function(e){return this.features?Ext.Array.findBy(this.features,function(t){return t.ftype===e?!0:void 0}):void 0},initFeatures:function(e){var t,n,i,r,o=this;for(o.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl"),o.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl"),o.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl"),o.featuresMC=new Ext.util.MixedCollection,n=o.features=o.constructFeatures(),r=n?n.length:0,t=0;r>t;t++)i=n[t],i.view=o,i.grid=e,o.featuresMC.add(i),i.init(e)},renderTHead:function(e,t){var n,i,r=e.view.headerFns;if(r)for(i=0,n=r.length;n>i;++i)r[i].call(this,e,t)},addHeaderFn:function(){var e=this.headerFns;e||(e=this.headerFns=[]),e.push(fn)},renderTFoot:function(e,t){var n,i,r=e.view.footerFns;if(r)for(i=0,n=r.length;n>i;++i)r[i].call(this,e,t)},addFooterFn:function(e){var t=this.footerFns;t||(t=this.footerFns=[]),t.push(e)},addTableTpl:function(e){return this.addTpl("tableTpl",e)},addRowTpl:function(e){return this.addTpl("rowTpl",e)},addCellTpl:function(e){return this.addTpl("cellTpl",e)},addTpl:function(e,t){var n,i,r=this;for(t=Ext.Object.chain(t),t.isTemplate||(t.applyOut=r.tplApplyOut),n=r[e];t.priority<n.priority;n=n.nextTpl)i=n;return i?i.nextTpl=t:r[e]=t,t.nextTpl=n,t},tplApplyOut:function(e,t){this.before&&this.before(e,t)===!1||(this.nextTpl.applyOut(e,t),this.after&&this.after(e,t))},constructFeatures:function(){var e,t,n,i=this,r=i.features,o=0;if(r)for(t=[],n=r.length;n>o;o++)e=r[o],e.isFeature||(e=Ext.create("feature."+e.ftype,e)),t[o]=e;return t},beforeRender:function(){var e=this;e.callParent(),e.enableTextSelection||e.protoEl.unselectable()},onViewScroll:function(e,t){this.callParent(arguments),this.fireEvent("bodyscroll",e,t)},createRowElement:function(e,t){var n=this,i=n.renderBuffer;return n.tpl.overwrite(i,n.collectData([e],t)),Ext.fly(i).down(n.getNodeContainerSelector(),!0).firstChild},bufferRender:function(e,t){var n=this,i=n.renderBuffer;return n.tpl.overwrite(i,n.collectData(e,t)),Ext.Array.toArray(Ext.fly(i).down(n.getNodeContainerSelector(),!0).childNodes)},collectData:function(e,t){return this.rowValues.view=this,{view:this,rows:e,viewStartIndex:t,tableStyle:this.bufferedRenderer?"position:absolute;top:"+this.bufferedRenderer.bodyTop:""}},collectNodes:function(){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},refreshSize:function(){var e,t=this,n=t.getBodySelector();n&&t.body.attach(t.el.child(n,!0)),t.hasLoadingHeight||(e=t.up("tablepanel"),Ext.suspendLayouts(),t.callParent(),e.updateLayout(),Ext.resumeLayouts(!0))},statics:{getBoundView:function(e){return Ext.getCmp(e.getAttribute("data-boundView"))}},getRecord:function(e){if(e=this.getNode(e)){var t=e.getAttribute("data-recordIndex");return t&&(t=parseInt(t,10),t>-1)?this.store.data.getAt(t):this.dataSource.data.get(e.getAttribute("data-recordId"))}},indexOf:function(e){return e=this.getNode(e,!1),e||0===e?this.all.indexOf(e):-1},indexInStore:function(e){if(e=this.getNode(e,!0),!e&&0!==e)return-1;var t=e.getAttribute("data-recordIndex");return t?parseInt(t,10):this.dataSource.indexOf(this.getRecord(e))},renderRows:function(e,t,n){var i,r=this.rowValues,o=e.length;for(r.view=this,r.columns=this.ownerCt.columnManager.getColumns(),i=0;o>i;i++,t++)r.itemClasses.length=r.rowClasses.length=0,this.renderRow(e[i],t,n);r.view=r.columns=r.record=null},renderColumnSizer:function(e){var t,n,i,r=this.getGridColumns(),o=r.length;for(t=0;o>t;t++)n=r[t],i=n.hidden?0:n.lastBox?n.lastBox.width:Ext.grid.header.Container.prototype.defaultWidth,e.push('<colgroup><col class="',Ext.baseCSSPrefix,"grid-cell-",r[t].getItemId(),'" style="width:'+i+'px"></colgroup>')},renderRow:function(e,t,n){var i,r=this,o=-1===t,a=r.selModel,s=r.rowValues,l=s.itemClasses,d=s.rowClasses,c=r.rowTpl;return s.record=e,s.recordId=e.internalId,s.recordIndex=t,s.rowId=r.getRowId(e),s.itemCls=s.rowCls="",s.columns||(s.columns=r.ownerCt.columnManager.getColumns()),l.length=d.length=0,o||(l[0]=Ext.baseCSSPrefix+"grid-row",a&&a.isRowSelected&&(a.isRowSelected(t+1)&&l.push(r.beforeSelectedItemCls),a.isRowSelected(e)&&l.push(r.selectedItemCls)),r.stripeRows&&0!==t%2&&d.push(r.altRowCls),r.getRowClass&&(i=r.getRowClass(e,t,null,r.dataSource),i&&d.push(i))),n?(c.applyOut(s,n),void 0):c.apply(s)},renderCell:function(e,t,n,i,r){var o,a,s=this,l=s.selModel,d=s.cellValues,c=d.classes,u=t.data[e.dataIndex],h=s.cellTpl;d.record=t,d.column=e,d.recordIndex=n,d.columnIndex=i,d.cellIndex=i,d.align=e.align,d.tdCls=e.tdCls,d.innerCls=e.innerCls,d.style=d.tdAttr="",d.unselectableAttr=s.enableTextSelection?"":'unselectable="on"',e.renderer&&e.renderer.call?(o=e.renderer.call(e.scope||s.ownerCt,u,d,t,n,i,s.dataSource,s),d.css&&(t.cssWarning=!0,d.tdCls+=" "+d.css,delete d.css)):o=u,d.value=null==o||""===o?"&#160;":o,c[1]=Ext.baseCSSPrefix+"grid-cell-"+e.getItemId(),a=2,e.tdCls&&(c[a++]=e.tdCls),s.markDirty&&t.isModified(e.dataIndex)&&(c[a++]=s.dirtyCls),e.isFirstVisible&&(c[a++]=s.firstCls),e.isLastVisible&&(c[a++]=s.lastCls),s.enableTextSelection||(c[a++]=Ext.baseCSSPrefix+"unselectable"),c[a++]=d.tdCls,l&&l.isCellSelected&&l.isCellSelected(s,n,i)&&(c[a++]=s.selectedCellCls),c.length=a,d.tdCls=c.join(" "),h.applyOut(d,r),d.column=null},getNode:function(e,t){var n,i=this.callParent(arguments);if(i&&i.tagName)if(t){if(!(n=Ext.fly(i)).is(this.dataRowSelector))return n.down(this.dataRowSelector,!0)}else if(t===!1&&!(n=Ext.fly(i)).is(this.itemSelector))return n.up(this.itemSelector,null,!0);return i},getRowId:function(e){return this.id+"-record-"+e.internalId},constructRowId:function(e){return this.id+"-record-"+e},getNodeById:function(e,t){return e=this.constructRowId(e),this.retrieveNode(e,t)},getNodeByRecord:function(e,t){var n=this.getRowId(e);return this.retrieveNode(n,t)},retrieveNode:function(e,t){var n,i=this.el.getById(e,!0),r=this.itemSelector;return t===!1&&i&&!(n=Ext.fly(i)).is(r)?n.up(r,null,!0):i},updateIndexes:Ext.emptyFn,bodySelector:"table",nodeContainerSelector:"tbody",itemSelector:"tr."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"tr."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"col."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainer:function(){return this.el.down(this.nodeContainerSelector,!0)},getBodySelector:function(){return this.bodySelector+"."+Ext.baseCSSPrefix+this.id+"-table"},getNodeContainerSelector:function(){return this.nodeContainerSelector},getColumnSizerSelector:function(e){return this.sizerSelector+"-"+e.getItemId()},getItemSelector:function(){return this.itemSelector},getDataRowSelector:function(){return this.dataRowSelector},getCellSelector:function(e){var t=this.cellSelector;return e&&(t+="-"+e.getItemId()),t},getCellInnerSelector:function(e){return this.getCellSelector(e)+" "+this.innerSelector},addRowCls:function(e,t){var n=this.getNode(e,!1);n&&Ext.fly(n).addCls(t)},removeRowCls:function(e,t){var n=this.getNode(e,!1);n&&Ext.fly(n).removeCls(t)},setHighlightedItem:function(e){var t=this,n=t.highlightedItem;n&&t.el.isAncestor(n)&&t.isRowStyleFirst(n)&&t.getRowStyleTableEl(n).removeCls(t.tableOverFirstCls),e&&t.isRowStyleFirst(e)&&t.getRowStyleTableEl(e).addCls(t.tableOverFirstCls),t.callParent(arguments)},onRowSelect:function(e){var t=this;t.addRowCls(e,t.selectedItemCls),t.isRowStyleFirst(e)?t.getRowStyleTableEl(e).addCls(t.tableSelectedFirstCls):t.addRowCls(e-1,t.beforeSelectedItemCls)},onRowDeselect:function(e){var t=this;t.removeRowCls(e,[t.selectedItemCls,t.focusedItemCls]),t.isRowStyleFirst(e)?t.getRowStyleTableEl(e).removeCls([t.tableFocusedFirstCls,t.tableSelectedFirstCls]):t.removeRowCls(e-1,[t.beforeFocusedItemCls,t.beforeSelectedItemCls])},onCellSelect:function(e){var t=this.getCellByPosition(e);t&&(t.addCls(this.selectedCellCls),this.scrollCellIntoView(t))},onCellDeselect:function(e){var t=this.getCellByPosition(e,!0);t&&Ext.fly(t).removeCls(this.selectedCellCls)},getCellByPosition:function(e,t){if(e){var n=this.getNode(e.row,!0),i=this.ownerCt.columnManager.getHeaderAtIndex(e.column);if(i&&n)return Ext.fly(n).down(this.getCellSelector(i),t)}return!1},getFocusEl:function(){var e,t=this;return t.refreshCounter?(e=t.focusedRow,e&&t.el.contains(e)||(t.all.getCount()&&(e=t.getNode(t.all.item(0).dom,!0))?t.focusRow(e):e=t.body),Ext.get(e)):t.el},onRowFocus:function(e,t,n){var i=this;t?(i.addRowCls(e,i.focusedItemCls),i.isRowStyleFirst(e)?i.getRowStyleTableEl(e).addCls(i.tableFocusedFirstCls):i.addRowCls(e-1,i.beforeFocusedItemCls),n||i.focusRow(e)):(i.removeRowCls(e,i.focusedItemCls),i.isRowStyleFirst(e)?i.getRowStyleTableEl(e).removeCls(i.tableFocusedFirstCls):i.removeRowCls(e-1,i.beforeFocusedItemCls)),!Ext.isIE6&&!Ext.isIE7||i.ownerCt.rowLines||i.repaintRow(e)},focus:function(e,t){var n,i=this,r=Ext.isIE&&!t;r&&(n=i.el.dom.scrollLeft),this.callParent(arguments),r&&(i.el.dom.scrollLeft=n)},focusRow:function(e,t){var n,i,r=this,o=r.ownerCt&&r.ownerCt.collapsed;r.isVisible(!0)&&!o&&(e=r.getNode(e,!0))&&(r.scrollRowIntoView(e),i=r.getRecord(e),n=r.indexInStore(e),r.selModel.setLastFocused(i),r.focusedRow=e,r.focus(!1,t,function(){r.fireEvent("rowfocus",i,e,n)}))},scrollRowIntoView:function(e){e=this.getNode(e,!0),e&&Ext.fly(e).scrollIntoView(this.el,!1)},focusCell:function(e){var t=this,n=t.getCellByPosition(e),i=t.getRecord(e.row);t.focusRow(i),n&&(t.scrollCellIntoView(n),t.fireEvent("cellfocus",i,n,e))},scrollCellIntoView:function(e){null!=e.row&&null!=e.column&&(e=this.getCellByPosition(e)),e&&Ext.fly(e).scrollIntoView(this.el,!0)},scrollByDelta:function(e,t){t=t||"scrollTop";var n=this.el.dom;n[t]=n[t]+=e},isDataRow:function(e){return Ext.fly(e).hasCls(Ext.baseCSSPrefix+"grid-data-row")},syncRowHeights:function(e,t){e=Ext.get(e),t=Ext.get(t),e.dom.style.height=t.dom.style.height="";var n=this,i=n.rowTpl,r=e.dom.offsetHeight,o=t.dom.offsetHeight;if(r!==o){for(;i&&(!i.syncRowHeights||i.syncRowHeights(e,t)!==!1);)i=i.nextTpl;r=e.dom.offsetHeight,o=t.dom.offsetHeight,r!==o&&(e=e.down("[data-recordId]")||e,t=t.down("[data-recordId]")||t,e&&t&&(e.dom.style.height=t.dom.style.height="",r=e.dom.offsetHeight,o=t.dom.offsetHeight,r>o?(e.setHeight(r),t.setHeight(r)):o>r&&(e.setHeight(o),t.setHeight(o))))}},onIdChanged:function(e,t,n,i,r){var o,a=this;a.viewReady&&(o=a.getNodeById(r),o&&(o.setAttribute("data-recordId",t.internalId),o.id=a.getRowId(t)))},onUpdate:function(e,t,n,i){var r,o,a,s,l,d,c,u,h,f,g,p,m,x,y,E=this,v=E.rowTpl;if(E.viewReady&&(a=E.getNodeByRecord(t,!1))){if(h=E.overItemCls,f=E.overItemCls,g=E.focusedItemCls,p=E.beforeFocusedItemCls,m=E.selectedItemCls,x=E.beforeSelectedItemCls,r=E.indexInStore(t),o=Ext.fly(a,"_internal"),s=E.createRowElement(t,r),o.hasCls(h)&&Ext.fly(s).addCls(h),o.hasCls(f)&&Ext.fly(s).addCls(f),o.hasCls(g)&&Ext.fly(s).addCls(g),o.hasCls(p)&&Ext.fly(s).addCls(p),o.hasCls(m)&&Ext.fly(s).addCls(m),o.hasCls(x)&&Ext.fly(s).addCls(x),y=E.ownerCt.columnManager.getColumns(),Ext.isIE9m&&a.mergeAttributes)a.mergeAttributes(s,!0);else for(l=s.attributes,d=l.length,u=0;d>u;u++)c=l[u].name,"id"!==c&&a.setAttribute(c,l[u].value);for(y.length&&E.updateColumns(t,E.getNode(a,!0),E.getNode(s,!0),y,i);v&&(!v.syncContent||v.syncContent(a,s)!==!1);)v=v.nextTpl;E.fireEvent("itemupdate",t,r,a),E.refreshSize()}},updateColumns:function(e,t,n,i,r){var o,a,s,l,d,c,u,h,f,g=this,p=i.length,m=g.editingPlugin||g.lockingPartner&&g.ownerCt.ownerLockable.view.editingPlugin,x=m&&m.editing,y=g.getCellSelector();if(t.mergeAttributes)t.mergeAttributes(n,!0);else for(o=n.attributes,a=o.length,l=0;a>l;l++)s=o[l].name,"id"!==s&&t.setAttribute(s,o[l].value);for(d=0;p>d;d++)c=i[d],g.shouldUpdateCell(e,c,r)&&(y=g.getCellSelector(c),u=Ext.DomQuery.selectNode(y,t),h=Ext.DomQuery.selectNode(y,n),x?Ext.fly(u).syncContent(h):(f=u.parentNode,f.insertBefore(h,u),f.removeChild(u)))},shouldUpdateCell:function(e,t,n){if(t.hasCustomRenderer||!n)return!0;if(n){var i,r,o=n.length;for(i=0;o>i;++i)if(r=n[i],r===t.dataIndex||r===e.idProperty)return!0}return!1},refresh:function(){var e=this,t=e.el&&e.el.isAncestor(Ext.Element.getActiveElement());e.callParent(arguments),e.headerCt.setSortState(),e.el&&!e.all.getCount()&&e.headerCt&&e.headerCt.tooNarrow&&e.el.createChild({style:"position:absolute;height:1px;width:1px;left:"+(e.headerCt.getFullWidth()-1)+"px"}),t&&e.selModel.onLastFocusChanged(null,e.selModel.lastFocused)},processItemEvent:function(e,t,n,i){if(-1!==this.indexInStore(t)){var r,o,a,s,l,d=this,c=i.getTarget(d.getCellSelector(),t),u=d.statics().EventMap,h=d.getSelectionModel(),f=i.type,g=d.features,p=g.length;if("keydown"==f&&!c&&h.getCurrentPosition&&(c=d.getCellByPosition(h.getCurrentPosition(),!0)),c){if(!c.parentNode)return!1;l=d.getHeaderByCell(c),r=Ext.Array.indexOf(d.getGridColumns(),l)}else r=-1;if(a=d.fireEvent("uievent",f,d,c,n,r,i,e,t),a===!1||d.callParent(arguments)===!1)return d.selModel.onVetoUIEvent(f,d,c,n,r,i,e,t),!1;for(o=0;p>o;++o)if(s=g[o],s.wrapsItem&&s.vetoEvent(e,t,n,i)===!1)return d.processSpecialEvent(i),!1;return"mouseover"==f||"mouseout"==f?!0:c?!(d["onBeforeCell"+u[f]](c,r,e,t,n,i)===!1||d.fireEvent("beforecell"+f,d,c,r,e,t,n,i)===!1||d["onCell"+u[f]](c,r,e,t,n,i)===!1||d.fireEvent("cell"+f,d,c,r,e,t,n,i)===!1):!0}return this.processSpecialEvent(i),!1},processSpecialEvent:function(e){var t,n,i,r,o,a,s=this,l=s.features,d=l.length,c=e.type,u=s.ownerCt;if(s.callParent(arguments),"mouseover"!=c&&"mouseout"!=c){for(t=0;d>t;t++)if(n=l[t],n.hasFeatureEvent&&(r=e.getTarget(n.eventSelector,s.getTargetEl()),r&&(i=n.eventPrefix,o=n.getFireEventArgs("before"+i+c,s,r,e),a=n.getFireEventArgs(i+c,s,r,e),s.fireEvent.apply(s,o)===!1||u.fireEvent.apply(u,o)===!1||s.fireEvent.apply(s,a)===!1||u.fireEvent.apply(u,a)===!1)))return!1;return!0}},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(e){this.autoSizeColumn(e)},autoSizeColumn:function(e){if(Ext.isNumber(e)&&(e=this.getGridColumns[e]),e){if(e.isGroupHeader)return e.autoSize(),void 0;delete e.flex,e.setWidth(this.getMaxContentWidth(e))}},getMaxContentWidth:function(e){var t,n,i=this,r=i.el.query(e.getCellInnerSelector()),o=e.getWidth(),a=0,s=r.length,l=Ext.supports.ScrollWidthInlinePaddingBug,d=i.body.select(i.getColumnSizerSelector(e)),c=Math.max;for(l&&s>0&&(t=i.getCellPaddingAfter(r[0])),d.setWidth(1),n=e.textEl.dom.offsetWidth+e.titleEl.getPadding("lr");s>a;a++)n=c(n,r[a].scrollWidth);return l&&(n+=t),n=c(n,40),d.setWidth(o),n},getPositionByEvent:function(e){var t=this,n=e.getTarget(t.cellSelector),i=e.getTarget(t.itemSelector),r=t.getRecord(i),o=t.getHeaderByCell(n);return t.getPosition(r,o)},getHeaderByCell:function(e){if(e){var t=e.className.match(this.cellRe);if(t&&t[1])return this.ownerCt.columnManager.getHeaderById(t[1])}return!1},walkCells:function(e,t,n,i,r,o){if(!e)return!1;var a=this,s=e.row,l=e.column,d=a.dataSource.getCount(),c=a.ownerCt.columnManager.getColumns().length-1,u=s,h=l,f=a.ownerCt.columnManager.getHeaderAtIndex(l);if(!f||f.hidden||!d)return!1;switch(n=n||{},t=t.toLowerCase()){case"right":if(l===c){if(i||s===d-1)return!1;n.ctrlKey||(u=a.walkRows(s,1),u!==s&&(h=0))}else h=n.ctrlKey?c:l+1;break;case"left":if(0===l){if(i||0===s)return!1;n.ctrlKey||(u=a.walkRows(s,-1),u!==s&&(h=c))}else h=n.ctrlKey?0:l-1;break;case"up":if(0===s)return!1;u=n.ctrlKey?a.walkRows(-1,1):a.walkRows(s,-1);break;case"down":if(s===d-1)return!1;u=n.ctrlKey?a.walkRows(d,-1):a.walkRows(s,1)}return r&&r.call(o||a,{row:u,column:h})!==!0?!1:new Ext.grid.CellContext(a).setPosition(u,h)},walkRows:function(e,t){var n,i=this,r=0,o=e,a=(i.dataSource.buffered?i.dataSource.getTotalCount():i.dataSource.getCount())-1,s=0>t?0:a,l=s?1:-1,d=e;do{if(s?d>=s:0>=d)return o||s;d+=l,(n=Ext.fly(i.getNode(d,!0)))&&n.isVisible(!0)&&(r+=l,o=d)}while(r!==t);return d},walkRecs:function(e,t){var n,i,r=this,o=0,a=e,s=(r.store.buffered?r.store.getTotalCount():r.store.getCount())-1,l=0>t?0:s,d=l?1:-1,c=r.store.indexOf(e);do{if(l?c>=l:0>=c)return a;c+=d,i=r.store.getAt(c),(n=Ext.fly(r.getNodeByRecord(i,!0)))&&n.isVisible(!0)&&(o+=d,a=i)}while(o!==t);return a},getFirstVisibleRowIndex:function(){var e=this,t=e.dataSource.buffered?e.dataSource.getTotalCount():e.dataSource.getCount(),n=e.indexOf(e.all.first())-1;do if(n+=1,n===t)return;while(!Ext.fly(e.getNode(n,!0)).isVisible(!0));return n},getLastVisibleRowIndex:function(){var e=this,t=e.indexOf(e.all.last());do if(t-=1,-1===t)return;while(!Ext.fly(e.getNode(t,!0)).isVisible(!0));return t},getHeaderCt:function(){return this.headerCt},getPosition:function(e,t){return new Ext.grid.CellContext(this).setPosition(e,t)},beforeDestroy:function(){var e=this;e.rendered&&e.el.removeAllListeners(),e.callParent(arguments)},onDestroy:function(){var e,t,n=this,i=n.featuresMC;if(i)for(t=0,e=i.getCount();e>t;++t)i.getAt(t).destroy();n.featuresMC=null,this.callParent(arguments)},onAdd:function(e,t,n){this.callParent(arguments),this.doStripeRows(n)},onRemove:function(e,t,n){this.callParent(arguments),this.doStripeRows(n[0])},doStripeRows:function(e,t){var n,i,r,o,a=this;if(a.rendered&&a.stripeRows)for(n=a.getNodes(e,t),r=0,i=n.length;i>r;r++)o=n[r],o.className=o.className.replace(a.rowClsRe," "),e++,0===e%2&&(o.className+=" "+a.altRowCls)},repaintRow:function(e){for(var t=this.getNode(e),n=t.childNodes,i=n.length;i--;)n[i].className=n[i].className},getRowStyleTableEl:function(e){var t=this;return e.tagName||(e=this.getNode(e)),(t.isGrouping?Ext.fly(e):this.el).down("table.x-grid-table")},isRowStyleFirst:function(e){var t,n=this;return-1===e?!1:(e.tagName?t=n.indexOf(e):(t=e,e=this.getNode(e)),!t||n.isGrouping&&Ext.fly(e).hasCls(Ext.baseCSSPrefix+"grid-group-row"))},getCellPaddingAfter:function(e){return Ext.fly(e).getPadding("r")}}),Ext.define("Ext.grid.View",{extend:Ext.view.Table,alias:"widget.gridview",stripeRows:!0,autoScroll:!0}),Ext.define("Ext.grid.Panel",{extend:Ext.panel.Table,alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:!1,rowLines:!0}),Ext.define("Ext.grid.plugin.BufferedRendererTableView",{override:"Ext.view.Table",onAdd:function(e,t,n){var i=this,r=i.bufferedRenderer,o=i.all;i.rendered&&r&&o.getCount()+t.length>r.viewSize?n<o.startIndex+r.viewSize&&n+t.length>o.startIndex?i.refreshView():r.stretchView(i,r.getScrollHeight()):i.callParent([e,t,n])},onRemove:function(e,t,n){var i=this,r=i.bufferedRenderer;i.callParent([e,t,n]),i.rendered&&r&&(i.dataSource.getCount()>r.viewSize?i.refreshView():r.stretchView(i,r.getScrollHeight()))},onDataRefresh:function(){var e=this;e.bufferedRenderer&&(e.all.clear(),e.bufferedRenderer.onStoreClear()),e.callParent()}}),Ext.define("Ext.grid.RowEditorButtons",{extend:Ext.container.Container,alias:"widget.roweditorbuttons",frame:!0,shrinkWrap:!0,position:"bottom",constructor:function(e){var t=this,n=e.rowEditor,i=Ext.baseCSSPrefix,r=n.editingPlugin;
e=Ext.apply({baseCls:i+"grid-row-editor-buttons",defaults:{xtype:"button",ui:n.buttonUI,scope:r,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:i+"row-editor-update-button",itemId:"update",handler:r.completeEdit,text:n.saveBtnText,disabled:n.updateButtonDisabled},{cls:i+"row-editor-cancel-button",handler:r.cancelEdit,text:n.cancelBtnText}]},e),t.callParent([e]),t.addClsWithUI(t.position)},setButtonPosition:function(e){var t=this;t.removeClsWithUI(t.position),t.position=e,t.addClsWithUI(e)},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var e=this.callParent();return e.top=!0,e}}),Ext.define("Ext.grid.RowEditor",{extend:Ext.form.Panel,alias:"widget.roweditor",saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:!1,buttonUI:"default",hideMode:"offsets",initComponent:function(){var e=this,t=e.editingPlugin.grid,n=Ext.container.Container;e.cls=Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-row-editor",e.layout={type:"hbox",align:"middle"},e.lockable=t.lockable,e.lockable?e.items=[e.lockedColumnContainer=new n({id:t.id+"-locked-editor-cells",layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),e.normalColumnContainer=new n({flex:1,id:t.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})]:e.lockedColumnContainer=e.normalColumnContainer=e,e.callParent(arguments),e.fields&&(e.addFieldsForColumn(e.fields,!0),e.insertColumnEditor(e.fields),delete e.fields),e.mon(e.hierarchyEventSource,{scope:e,show:e.repositionIfVisible}),e.getForm().trackResetOnLoad=!0},onGridResize:function(){var e=this,t=e.getClientWidth(),n=e.editingPlugin.grid,i=n.body,r=e.getFloatingButtons();e.setLocalX(i.getOffsetsTo(n)[0]+i.getBorderWidth("l")-n.el.getBorderWidth("l")),e.setWidth(t),r.setLocalX((t-r.getWidth())/2)},onFieldRender:function(e){var t=this,n=e.column;n.isVisible()?t.syncFieldWidth(n):n.rendered||t.view.headerCt.on({afterlayout:Ext.Function.bind(t.syncFieldWidth,t,[n]),single:!0})},syncFieldWidth:function(e){var t,n=e.getEditor();n._marginWidth=n._marginWidth||n.el.getMargin("lr"),t=e.getWidth()-n._marginWidth,n.setWidth(t),"displayfield"===n.xtype&&(n.inputWidth=t)},onFieldChange:function(){var e=this,t=e.getForm(),n=t.isValid();e.errorSummary&&e.isVisible()&&e[n?"hideToolTip":"showToolTip"](),e.updateButton(n),e.isValid=n},updateButton:function(e){var t=this.floatingButtons;t?t.child("#update").setDisabled(!e):this.updateButtonDisabled=!e},afterRender:function(){var e=this,t=e.editingPlugin,n=t.grid,i=n.lockable?n.normalGrid.view:n.view;e.callParent(arguments),e.scrollingView=i,e.scrollingViewEl=i.el,i.mon(e.scrollingViewEl,"scroll",e.onViewScroll,e),e.mon(e.el,{click:Ext.emptyFn,stopPropagation:!0}),e.mon(n,{resize:e.onGridResize,scope:e}),e.el.swallowEvent(["keypress","keydown"]),e.fieldScroller=e.normalColumnContainer.layout.innerCt,e.fieldScroller.dom.style.overflow="hidden",e.fieldScroller.on({scroll:e.onFieldContainerScroll,scope:e}),e.keyNav=new Ext.util.KeyNav(e.el,{enter:t.completeEdit,esc:t.onEscKey,scope:t}),e.mon(t.view,{beforerefresh:e.onBeforeViewRefresh,refresh:e.onViewRefresh,itemremove:e.onViewItemRemove,scope:e}),e.preventReposition=!0,Ext.Array.each(e.query("[isFormField]"),function(t){t.column.isVisible()&&e.onColumnShow(t.column)},e),delete e.preventReposition},onBeforeViewRefresh:function(e){var t=this,n=e.el.dom;t.el.dom.parentNode===n&&n.removeChild(t.el.dom)},onViewRefresh:function(e){var t,n=this,i=n.context;i&&(t=e.getNode(i.record,!0))?(i.row=t,n.reposition(),n.tooltip&&n.tooltip.isVisible()&&n.tooltip.setTarget(i.row)):n.editingPlugin.cancelEdit()},onViewItemRemove:function(e){var t=this.context;t&&e===t.record&&this.editingPlugin.cancelEdit()},onViewScroll:function(){var e,t=this,n=t.editingPlugin.view.el,i=t.scrollingViewEl,r=i.dom.scrollTop,o=i.getScrollLeft(),a=o!==t.lastScrollLeft,s=r!==t.lastScrollTop;t.lastScrollTop=r,t.lastScrollLeft=o,t.isVisible()&&(e=Ext.getDom(t.context.row.id),e&&n.contains(e)?s&&(t.context.row=e,t.reposition(null,!0),(t.tooltip&&t.tooltip.isVisible()||t.hiddenTip)&&t.repositionTip(),t.syncEditorClip()):t.setLocalY(-400)),t.rendered&&a&&t.syncFieldsHorizontalScroll()},syncFieldsHorizontalScroll:function(){this.fieldScroller.setScrollLeft(this.lastScrollLeft)},onFieldContainerScroll:function(){this.scrollingViewEl.setScrollLeft(this.fieldScroller.getScrollLeft())},onColumnResize:function(e){var t=this;t.rendered&&(t.onGridResize(),t.onViewScroll(),e.isGroupHeader||(t.syncFieldWidth(e),t.repositionIfVisible()))},onColumnHide:function(e){e.isGroupHeader||(e.getEditor().hide(),this.repositionIfVisible())},onColumnShow:function(e){var t=this;t.rendered&&!e.isGroupHeader&&(e.getEditor().show(),t.syncFieldWidth(e),t.preventReposition||this.repositionIfVisible())},onColumnMove:function(e,t,n){var i,r,o,a,s=this,l=1,d=e.isLocked()?s.lockedColumnContainer:s.normalColumnContainer;if(e.isGroupHeader){for(Ext.suspendLayouts(),e=e.getGridColumns(),n>t&&(n--,l=0),this.addFieldsForColumn(e),i=0,r=e.length;r>i;i++,t+=l,n+=l)o=e[i].getEditor(),a=d.items.indexOf(o),-1===a?d.insert(n,o):a!=n&&d.move(t,n);Ext.resumeLayouts(!0)}else n>t&&n--,this.addFieldsForColumn(e),o=e.getEditor(),a=d.items.indexOf(o),-1===a?d.insert(n,o):a!=n&&d.move(t,n)},onColumnAdd:function(e){e.isGroupHeader&&(e=e.getGridColumns()),this.addFieldsForColumn(e),this.insertColumnEditor(e),this.preventReposition=!1},insertColumnEditor:function(e){var t,n,i,r=this;if(Ext.isArray(e))for(i=0,n=e.length;n>i;i++)r.insertColumnEditor(e[i]);else e.getEditor&&(t=e.isLocked()?r.lockedColumnContainer:r.normalColumnContainer,t.insert(e.getVisibleIndex(),e.getEditor()))},onColumnRemove:function(e,t){t=t.isGroupHeader?t.getGridColumns():t,this.removeColumnEditor(t)},removeColumnEditor:function(e){var t,n,i,r=this;if(Ext.isArray(e))for(i=0,n=e.length;n>i;i++)r.removeColumnEditor(e[i]);else e.hasEditor()&&(t=e.getEditor(),t&&t.ownerCt&&t.ownerCt.remove(t,!1))},onColumnReplace:function(e,t,n,i){this.onColumnRemove(i.ownerCt,i)},getFloatingButtons:function(){var e=this,t=e.floatingButtons;return t||(e.floatingButtons=t=new Ext.grid.RowEditorButtons({rowEditor:e})),t},repositionIfVisible:function(e){var t=this,n=t.view;(!e||e!=t&&e.el.isAncestor(n.el))&&t.isVisible()&&n.isVisible(!0)&&t.reposition()},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(){var e,t=this;return t.lockable?(e=t.lockedColumnContainer.getRefItems(),e.push.apply(e,t.normalColumnContainer.getRefItems())):e=t.callParent(),e.push.apply(e,t.getFloatingButtons().getRefItems()),e},reposition:function(e,t){var n,i,r,o,a=this,s=a.context,l=s&&Ext.get(s.row),d=0;l&&Ext.isElement(l.dom)&&(r=a.syncButtonPosition(a.getScrollDelta()),a.editingPlugin.grid.rowLines||(d=-parseInt(l.first().getStyle("border-bottom-width"))),n=a.calculateLocalRowTop(l),i=a.calculateEditorTop(n)+d,t||(o=function(){r&&a.scrollingViewEl.scrollBy(0,r,!0),a.focusContextCell()}),a.syncEditorClip(),e?a.animate(Ext.applyIf({to:{top:i},duration:e.duration||125,callback:o},e)):(a.setLocalY(i),o&&o()))},getScrollDelta:function(){var e=this,t=e.scrollingViewEl.dom,n=e.context,i=e.body,r=0;return n&&(r=Ext.fly(n.row).getOffsetsTo(t)[1]-i.getBorderPadding().beforeY,r>0&&(r=Math.max(r+e.getHeight()+e.floatingButtons.getHeight()-t.clientHeight-i.getBorderWidth("b"),0))),r},calculateLocalRowTop:function(e){var t=this.editingPlugin.grid;return Ext.fly(e).getOffsetsTo(t)[1]-t.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(e){return e-this.body.getBorderPadding().beforeY-this.lastScrollTop},getClientWidth:function(){var e,t=this,n=t.editingPlugin.grid;return e=t.lockable?n.lockedGrid.getWidth()+n.normalGrid.view.el.dom.clientWidth-1:n.view.el.dom.clientWidth},getEditor:function(e){var t=this;return Ext.isNumber(e)?t.query("[isFormField]")[e]:e.isHeader&&!e.isGroupHeader?e.getEditor():void 0},addFieldsForColumn:function(e,t){var n,i,r,o=this;if(Ext.isArray(e))for(n=0,i=e.length;i>n;n++)o.addFieldsForColumn(e[n],t);else e.getEditor&&(r=e.getEditor(null,{xtype:"displayfield",getModelData:function(){return null}}),"right"===e.align&&(r.fieldStyle="text-align:right"),"actioncolumn"===e.xtype&&(r.fieldCls+=" "+Ext.baseCSSPrefix+"form-action-col-field"),o.isVisible()&&o.context&&(r.is("displayfield")?o.renderColumnData(r,o.context.record,e):(r.suspendEvents(),r.setValue(o.context.record.get(e.dataIndex)),r.resumeEvents())),e.hidden?o.onColumnHide(e):e.rendered&&!t&&o.onColumnShow(e))},loadRecord:function(e){var t,n,i,r=this,o=r.getForm(),a=o.getFields(),s=a.items,l=s.length;for(t=0;l>t;t++)s[t].suspendEvents();for(o.loadRecord(e),t=0;l>t;t++)s[t].resumeEvents();for(i=o.isValid(),r.errorSummary&&(i?r.hideToolTip():r.showToolTip()),r.updateButton(i),n=r.query(">displayfield"),l=n.length,t=0;l>t;t++)r.renderColumnData(n[t],e)},renderColumnData:function(e,t,n){var i,r,o,a=this,s=a.editingPlugin.grid,l=s.headerCt,d=a.scrollingView,c=d.dataSource,u=n||e.column,h=t.get(u.dataIndex),f=u.editRenderer||u.renderer;f&&(i={tdCls:"",style:""},r=c.indexOf(t),o=l.getHeaderIndex(u),h=f.call(u.scope||l.ownerCt,h,i,t,r,o,c,d)),e.setRawValue(h),e.resetOriginalValue()},beforeEdit:function(){var e,t=this;return t.isVisible()&&t.errorSummary&&!t.autoCancel&&t.isDirty()?(e=t.getScrollDelta(),e&&t.scrollingViewEl.scrollBy(0,e,!0),t.showToolTip(),!1):void 0},startEdit:function(e){var t=this,n=t.editingPlugin,i=n.grid,r=t.context=n.context;t.rendered?t.syncFieldsHorizontalScroll():(t.width=t.getClientWidth(),t.render(i.el,i.el.dom.firstChild),t.getFloatingButtons().render(t.el),t.onViewScroll()),t.isVisible()?t.reposition(!0):t.show(),t.onGridResize(),r.grid.getSelectionModel().select(e),t.loadRecord(e)},syncButtonPosition:function(e){var t=this,n=t.getFloatingButtons(),i=t.scrollingViewEl.dom,r=this.getScrollDelta()-(i.scrollHeight-i.scrollTop-i.clientHeight);return r>0?(t._buttonsOnTop||(n.setButtonPosition("top"),t._buttonsOnTop=!0),e=0):t._buttonsOnTop&&(n.setButtonPosition("bottom"),t._buttonsOnTop=!1),e},syncEditorClip:function(){var e,t=this,n=t.getScrollDelta();n?(t.isOverflowing=!0,e=t.floatingButtons.getHeight(),n>0?t.clipBottom(Math.max(t.getHeight()-n+e,-e)):0>n&&(n=Math.abs(n),t.clipTop(Math.max(n,0)))):t.isOverflowing&&(t.clearClip(),t.isOverflowing=!1)},focusContextCell:function(){var e=this.getEditor(this.context.column);e&&e.focus&&e.focus()},cancelEdit:function(){var e,t=this,n=t.getForm(),i=n.getFields(),r=i.items,o=r.length;for(t.hide(),n.clearInvalid(),e=0;o>e;e++)r[e].suspendEvents();for(n.reset(),e=0;o>e;e++)r[e].resumeEvents()},completeEdit:function(){var e=this,t=e.getForm();return t.isValid()?(t.updateRecord(e.context.record),e.hide(),!0):!1},onShow:function(){var e=this;e.callParent(arguments),e.reposition()},onHide:function(){var e=this;e.callParent(arguments),e.tooltip&&e.hideToolTip(),e.context&&(e.context.view.focusRow(e.context.record),e.context=null)},isDirty:function(){var e=this,t=e.getForm();return t.isDirty()},getToolTip:function(){return this.tooltip||(this.tooltip=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:this.errorsText,autoHide:!1,closable:!0,closeAction:"disable",anchor:"left",anchorToTarget:!1}))},hideToolTip:function(){var e=this,t=e.getToolTip();t.rendered&&t.disable(),e.hiddenTip=!1},showToolTip:function(){var e=this,t=e.getToolTip();t.showAt([0,0]),t.update(e.getErrors()),e.repositionTip(),t.enable()},repositionTip:function(){var e=this,t=e.getToolTip(),n=e.context,i=Ext.get(n.row),r=e.scrollingViewEl,o=r.dom.clientHeight,a=e.lastScrollTop,s=a+o,l=i.getHeight(),d=i.getOffsetsTo(e.context.view.body)[1],c=d+l;c>a&&s>d?(t.showAt(t.getAlignToXY(r,"tl-tr",[15,i.getOffsetsTo(r)[1]])),e.hiddenTip=!1):(t.hide(),e.hiddenTip=!0)},getErrors:function(){var e,t=this,n=[],i=t.query(">[isFormField]"),r=i.length;for(e=0;r>e;e++)n=n.concat(Ext.Array.map(i[e].getErrors(),t.createErrorListItem));return n.length||t.autoCancel||!t.isDirty()||(n[0]=t.createErrorListItem(t.dirtyText)),'<ul class="'+Ext.plainListCls+'">'+n.join("")+"</ul>"},createErrorListItem:function(e){return'<li class="'+Ext.baseCSSPrefix+'grid-row-editor-errors-item">'+e+"</li>"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip),this.callParent()},clipBottom:function(e){this.el.setStyle("clip","rect(-1000px auto "+e+"px auto)")},clipTop:function(e){this.el.setStyle("clip","rect("+e+"px auto 1000px auto)")},clearClip:function(){this.el.setStyle("clip",Ext.isIE8m||Ext.isIEQuirks?"rect(-1000px auto 1000px auto)":"auto")}}),Ext.define("Ext.view.DropZone",{extend:Ext.dd.DropZone,indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",constructor:function(e){var t=this;Ext.apply(t,e),t.ddGroup||(t.ddGroup="view-dd-zone-"+t.view.id),t.callParent([t.view.el])},fireViewEvent:function(){var e,t=this;return t.lock(),e=t.view.fireEvent.apply(t.view,arguments),t.unlock(),e},getTargetFromEvent:function(e){var t,n,i,r,o,a,s=e.getTarget(this.view.getItemSelector());if(!s)for(t=e.getPageY(),r=0,n=this.view.getNodes(),o=n.length;o>r;r++)if(i=n[r],a=Ext.fly(i).getBox(),t<=a.bottom)return i;return s},getIndicator:function(){var e=this;return e.indicator||(e.indicator=new Ext.Component({html:e.indicatorHtml,cls:e.indicatorCls,ownerCt:e.view,floating:!0,shadow:!1})),e.indicator},getPosition:function(e,t){var n,i=e.getXY()[1],r=Ext.fly(t).getRegion();return n=r.bottom-i>=(r.bottom-r.top)/2?"before":"after"},containsRecordAtOffset:function(e,t,n){if(!t)return!1;var i=this.view,r=i.indexOf(t),o=i.getNode(r+n,!0),a=o?i.getRecord(o):null;return a&&Ext.Array.contains(e,a)},positionIndicator:function(e,t,n){var i,r=this,o=r.view,a=r.getPosition(n,e),s=o.getRecord(e),l=t.records;Ext.Array.contains(l,s)||("before"!=a||r.containsRecordAtOffset(l,s,-1))&&("after"!=a||r.containsRecordAtOffset(l,s,1))?r.invalidateDrop():(r.valid=!0,(r.overRecord!=s||r.currentPosition!=a)&&(i=Ext.fly(e).getY()-o.el.getY()-1,"after"==a&&(i+=Ext.fly(e).getHeight()),r.getIndicator().setWidth(Ext.fly(o.el).getWidth()).showAt(0,i),r.overRecord=s,r.currentPosition=a))},invalidateDrop:function(){this.valid&&(this.valid=!1,this.getIndicator().hide())},onNodeOver:function(e,t,n,i){var r=this;return Ext.Array.contains(i.records,r.view.getRecord(e))||r.positionIndicator(e,i,n),r.valid?r.dropAllowed:r.dropNotAllowed},notifyOut:function(){var e=this;e.callParent(arguments),e.overRecord=e.currentPosition=null,e.valid=!1,e.indicator&&e.indicator.hide()},onContainerOver:function(e,t,n){var i=this,r=i.view,o=r.dataSource.getCount();return o?i.positionIndicator(r.all.last(),n,t):(i.overRecord=i.currentPosition=null,i.getIndicator().setWidth(Ext.fly(r.el).getWidth()).showAt(0,0),i.valid=!0),i.dropAllowed},onContainerDrop:function(e,t,n){return this.onNodeDrop(e,null,t,n)},onNodeDrop:function(e,t,n,i){var r=this,o=!1,a={wait:!1,processDrop:function(){r.invalidateDrop(),r.handleNodeDrop(i,r.overRecord,r.currentPosition),o=!0,r.fireViewEvent("drop",e,i,r.overRecord,r.currentPosition)},cancelDrop:function(){r.invalidateDrop(),o=!0}},s=!1;if(r.valid){if(s=r.fireViewEvent("beforedrop",e,i,r.overRecord,r.currentPosition,a),a.wait)return;s!==!1&&(o||a.processDrop())}return s},destroy:function(){Ext.destroy(this.indicator),delete this.indicator,this.callParent()}}),Ext.define("Ext.grid.ViewDropZone",{extend:Ext.view.DropZone,indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(e,t,n){var i,r,o,a,s=this.view,l=s.getStore();if(e.copy)for(r=e.records,e.records=[],o=0,a=r.length;a>o;o++)e.records.push(r[o].copy());else e.view.store.remove(e.records,e.view===s);t&&n?(i=l.indexOf(t),"before"!==n&&i++,l.insert(i,e.records)):l.add(e.records),s.getSelectionModel().select(e.records)}}),Ext.define("Ext.grid.plugin.HeaderResizer",{extend:Ext.AbstractPlugin,alias:"plugin.gridheaderresizer",disabled:!1,config:{dynamic:!1},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1e3,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(e){this.headerCt=e,e.on("render",this.afterHeaderRender,this,{single:!0})},destroy:function(){this.tracker&&this.tracker.destroy()},afterHeaderRender:function(){var e=this.headerCt,t=e.el;e.mon(t,"mousemove",this.onHeaderCtMouseMove,this),this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:t})},onHeaderCtMouseMove:function(e){var t,n,i,r,o,a,s=this;s.headerCt.dragging?s.activeHd&&(s.activeHd.el.dom.style.cursor="",delete s.activeHd):(n=e.getTarget("."+s.colHeaderCls,3,!0),n&&(i=Ext.getCmp(n.id),i.isOnLeftEdge(e)?(r=i.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"),r&&(a=s.headerCt.up("tablepanel"),o=r.up("tablepanel"),o===a||a.ownerCt.isXType("tablepanel")&&a.ownerCt.view.lockedGrid===o||(r=null))):r=i.isOnRightEdge(e)?i:null,r?(r.isGroupHeader&&(t=r.getGridColumns(),r=t[t.length-1]),!r||r.fixed||r.resizable===!1||s.disabled||(s.activeHd=r,i.el.dom.style.cursor=s.eResizeCursor,i.triggerEl&&(i.triggerEl.dom.style.cursor=s.eResizeCursor))):(i.el.dom.style.cursor="",i.triggerEl&&(i.triggerEl.dom.style.cursor=""),s.activeHd=null)))},onBeforeStart:function(){return this.dragHd=this.activeHd,this.dragHd&&!this.headerCt.dragging?(this.tracker.constrainTo=this.getConstrainRegion(),!0):(this.headerCt.dragging=!1,!1)},getConstrainRegion:function(){var e,t,n=this,i=n.dragHd.el,r=0;return n.headerCt.forceFit?(e=n.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"),e&&(n.headerInSameGrid(e)||(e=null),r=e.getWidth()-n.minColWidth)):r=(t=n.dragHd.up("tablepanel")).isLocked?n.dragHd.up("[scrollerOwner]").getWidth()-t.getWidth()-30:n.maxColWidth-i.getWidth(),n.adjustConstrainRegion(i.getRegion(),0,r,0,n.minColWidth)},onStart:function(){var e,t,n,i,r,o,a,s=this,l=s.dragHd,d=l.el.getWidth(),c=l.getOwnerHeaderCt();s.headerCt.dragging=!0,s.origWidth=d,s.dynamic||(n=i=c.up("tablepanel"),n.ownerLockable&&(i=n.ownerLockable),e=s.getLeftMarkerX(i),r=i.getLhsMarker(),o=i.getRhsMarker(),a=n.body.getHeight()+c.getHeight(),t=c.getOffsetsTo(i)[1],r.setLocalY(t),o.setLocalY(t),r.setHeight(a),o.setHeight(a),s.setMarkerX(r,e),s.setMarkerX(o,e+d))},onDrag:function(){var e,t=this;t.dynamic?t.doResize():(e=this.headerCt.up("tablepanel"),e.ownerLockable&&(e=e.ownerLockable),this.setMarkerX(this.getMovingMarker(e),this.calculateDragX(e)))},getMovingMarker:function(e){return e.getRhsMarker()},onEnd:function(){if(this.headerCt.dragging=!1,this.dragHd){if(!this.dynamic){var e=this.headerCt.up("tablepanel");e.ownerLockable&&(e=e.ownerLockable),this.setMarkerX(e.getLhsMarker(),-9999),this.setMarkerX(e.getRhsMarker(),-9999)}this.doResize()}},doResize:function(){var e,t,n=this,i=n.dragHd;i&&(t=n.tracker.getOffset("point"),i.flex&&delete i.flex,Ext.suspendLayouts(),n.adjustColumnWidth(t[0]),n.headerCt.forceFit&&(e=i.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"),e&&!n.headerInSameGrid(e)&&(e=null),e&&(delete e.flex,e.setWidth(e.getWidth()-t[0]))),Ext.resumeLayouts(!0))},headerInSameGrid:function(e){var t=this.dragHd.up("tablepanel");return!!e.up(t)},disable:function(){this.disabled=!0,this.tracker&&this.tracker.disable()},enable:function(){this.disabled=!1,this.tracker&&this.tracker.enable()},calculateDragX:function(e){return this.tracker.getXY("point")[0]-e.getX()-e.el.getBorderWidth("l")},getLeftMarkerX:function(e){return this.dragHd.getX()-e.getX()-e.el.getBorderWidth("l")-1},setMarkerX:function(e,t){e.setLocalX(t)},adjustConstrainRegion:function(e,t,n,i,r){return e.adjust(t,n,i,r)},adjustColumnWidth:function(e){this.dragHd.setWidth(this.origWidth+e)}}),Ext.define("Ext.grid.header.DragZone",{extend:Ext.dd.DragZone,colHeaderSelector:"."+Ext.baseCSSPrefix+"column-header",colInnerSelector:"."+Ext.baseCSSPrefix+"column-header-inner",maxProxyWidth:120,constructor:function(e){this.headerCt=e,this.ddGroup=this.getDDGroup(),this.callParent([e.el]),this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(e){if(e.getTarget(this.colInnerSelector)){var t,n,i=e.getTarget(this.colHeaderSelector);if(i&&(t=Ext.getCmp(i.id),!this.headerCt.dragging&&t.draggable&&!t.isOnLeftEdge(e)&&!t.isOnRightEdge(e)))return n=document.createElement("div"),n.innerHTML=Ext.getCmp(i.id).text,{ddel:n,header:t}}return!1},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0,this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=!1,this.callParent(arguments)},afterRepair:function(){this.callParent(),this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}}),Ext.define("Ext.grid.header.DropZone",{extend:Ext.dd.DropZone,colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(e){this.headerCt=e,this.ddGroup=this.getDDGroup(),this.callParent([e.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(e){return e.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){return this.topIndicator||(this.self.prototype.topIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-top",html:"&#160;"},!0),this.self.prototype.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)),this.topIndicator},getBottomIndicator:function(){return this.bottomIndicator||(this.self.prototype.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-bottom",html:"&#160;"},!0)),this.bottomIndicator},getLocation:function(e,t){var n,i=e.getXY()[0],r=Ext.fly(t).getRegion();return n=r.right-i<=(r.right-r.left)/2?"after":"before",{pos:n,header:Ext.getCmp(t.id),node:t}},positionIndicator:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,y=this,E=e.header,v=y.getLocation(n,t),b=v.header,C=v.pos;if(b!==y.lastTargetHeader||C!==y.lastDropPos){if(i=E.nextSibling("gridcolumn:not([hidden])"),r=E.previousSibling("gridcolumn:not([hidden])"),y.lastTargetHeader=b,y.lastDropPos=C,!b.draggable&&"before"===C&&0===b.getIndex())return!1;if(e.dropLocation=v,E!==b&&("before"===C&&i!==b||"after"===C&&r!==b)&&!b.isDescendantOf(E)){for(g=Ext.dd.DragDropManager.getRelated(y),p=g.length,m=0;p>m;m++)x=g[m],x!==y&&x.invalidateDrop&&x.invalidateDrop();y.valid=!0,o=y.getTopIndicator(),a=y.getBottomIndicator(),"before"===C?(s="bc-tl",l="tc-bl"):(s="bc-tr",l="tc-br"),d=o.getAlignToXY(b.el,s),c=a.getAlignToXY(b.el,l),u=y.headerCt.el,h=u.getX()-y.indicatorXOffset,f=u.getX()+u.getWidth(),d[0]=Ext.Number.constrain(d[0],h,f),c[0]=Ext.Number.constrain(c[0],h,f),o.setXY(d),a.setXY(c),o.show(),a.show()}else y.invalidateDrop()}},invalidateDrop:function(){this.valid=!1,this.hideIndicators()},onNodeOver:function(e,t,n,i){var r,o,a,s,l=this,d=i.header;return i.header.el.dom===e?r=!1:(i.isLock=i.isUnlock=!1,o=l.getLocation(n,e).header,r=d.ownerCt===o.ownerCt,r||d.ownerCt.sealed||o.ownerCt.sealed||(r=!0,a=d.up("tablepanel"),s=o.up("tablepanel"),i.isLock=s.isLocked&&!a.isLocked,i.isUnlock=!s.isLocked&&a.isLocked,(i.isUnlock&&d.lockable===!1||i.isLock&&!d.isLockable())&&(r=!1))),r?l.positionIndicator(i,e,n):l.valid=!1,l.valid?l.dropAllowed:l.dropNotAllowed},hideIndicators:function(){var e=this;e.getTopIndicator().hide(),e.getBottomIndicator().hide(),e.lastTargetHeader=e.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(e,t,n,i){if(this.valid){var r,o,a=i.header,s=i.dropLocation,l=s.header,d=a.ownerCt,c=d.items.indexOf(a),u=l.ownerCt,h=u.items.indexOf(l),f=this.headerCt,g=f.columnManager,p=g.getHeaderIndex(a),m=g.getHeaderIndex(l),x=a.isGroupHeader?a.query(":not([isGroupHeader])").length:1,y=d===u;if("after"===s.pos&&(h++,m+=l.isGroupHeader?l.query(":not([isGroupHeader])").length:1),i.isLock)r=d.up("[scrollerOwner]"),r.lock(a,h),i.isLock=!1,this.onNodeDrop(e,t,n,i);else if(i.isUnlock)r=d.up("[scrollerOwner]"),r.unlock(a,h),i.isUnlock=!1,this.onNodeDrop(e,t,n,i);else{if(this.invalidateDrop(),o=a.getWidth(),y){if(h===c)return f.onHeaderMoved(a,x,p,m),void 0;h>c&&(h-=1)}Ext.suspendLayouts(),y?u.move(c,h):(d.remove(a,!1),u.insert(h,a)),u.isGroupHeader?y||(a.savedFlex=a.flex,delete a.flex,a.width=o):a.savedFlex&&(a.flex=a.savedFlex,delete a.width),f.purgeCache(),Ext.resumeLayouts(!0),f.onHeaderMoved(a,x,p,m)}}}}),Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:Ext.AbstractPlugin,alias:"plugin.gridheaderreorderer",init:function(e){this.headerCt=e,e.on({render:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){var e=this;e.dragZone=new Ext.grid.header.DragZone(e.headerCt),e.dropZone=new Ext.grid.header.DropZone(e.headerCt),e.disabled&&e.dragZone.disable()},enable:function(){this.disabled=!1,this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=!0,this.dragZone&&this.dragZone.disable()}}),Ext.define("Ext.grid.header.Container",{extend:Ext.container.Container,border:!0,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:!1,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",menuSortAscCls:Ext.baseCSSPrefix+"hmenu-sort-asc",menuSortDescCls:Ext.baseCSSPrefix+"hmenu-sort-desc",menuColsIcon:Ext.baseCSSPrefix+"cols-icon",triStateSort:!1,ddLock:!1,dragging:!1,sortable:!0,enableColumnHide:!0,initComponent:function(){var e=this;e.headerCounter=0,e.plugins=e.plugins||[],e.isColumn||(e.enableColumnResize&&(e.resizer=new Ext.grid.plugin.HeaderResizer,e.plugins.push(e.resizer)),e.enableColumnMove&&(e.reorderer=new Ext.grid.plugin.HeaderReorderer,e.plugins.push(e.reorderer))),!e.isColumn||e.items&&0!==e.items.length?(e.layout=Ext.apply({type:"gridcolumn",align:"stretch"},e.initialConfig.layout),e.isRootHeader&&(e.grid.columnManager=e.columnManager=new Ext.grid.ColumnManager(e))):(e.isContainer=!1,e.layout={type:"container",calculate:Ext.emptyFn}),e.defaults=e.defaults||{},Ext.applyIf(e.defaults,{triStateSort:e.triStateSort,sortable:e.sortable}),e.menuTask=new Ext.util.DelayedTask(e.updateMenuDisabledState,e),e.callParent(),e.addEvents("columnresize","headerclick","headercontextmenu","headertriggerclick","columnmove","columnhide","columnshow","columnschanged","sortchange","menucreate")},isLayoutRoot:function(){return this.hiddenHeaders?!1:this.callParent()},getOwnerHeaderCt:function(){var e=this;return e.isRootHeader?e:e.up("[isRootHeader]")},onDestroy:function(){var e=this;e.menu&&e.menu.un("hide",e.onMenuHide,e),e.menuTask.cancel(),Ext.destroy(e.resizer,e.reorderer),e.callParent()},applyColumnsState:function(e){if(e&&e.length){var t,n,i,r,o=this,a=o.items.items,s=a.length,l=0,d=e.length;for(t=0;d>t;t++)for(i=e[t],r=s;r--;)if(n=a[r],n.getStateId&&n.getStateId()==i.id){l!==r&&o.moveHeader(r,l),n.applyColumnState&&n.applyColumnState(i),++l;break}}},getColumnsState:function(){var e,t=this,n=[];return t.items.each(function(t){e=t.getColumnState&&t.getColumnState(),e&&n.push(e)}),n},onAdd:function(e){var t=this;e.headerId||(e.headerId=e.initialConfig.id||Ext.id(null,"header-")),e.getStateId()||(e.stateId=e.initialConfig.id||"h"+ ++t.headerCounter),t.callParent(arguments),t.onColumnsChanged()},onMove:function(){this.callParent(arguments),this.onColumnsChanged()},onShow:function(){this.callParent(arguments),this.onColumnsChanged()},onColumnsChanged:function(){for(var e=this;e&&(e.purgeCache(),!e.isRootHeader);)e=e.ownerCt;e&&e.rendered&&e.fireEvent("columnschanged",e)},onRemove:function(e){var t=this,n=t.ownerCt;t.callParent(arguments),t.destroying||(t.onColumnsChanged(),t.isGroupHeader&&!t.items.getCount()&&n&&(t.detachComponent(e),Ext.suspendLayouts(),n.remove(t),Ext.resumeLayouts(!0)))},applyDefaults:function(e){var t;return e&&!e.isComponent&&"rownumberer"==e.xtype?t=e:(t=this.callParent(arguments),e.isGroupHeader||"width"in t||t.flex||(t.width=this.defaultWidth)),t},setSortState:function(){var e,t=this.up("[store]").store,n=t.getFirstSorter();n?(e=this.down("gridcolumn[dataIndex="+n.property+"]"),e&&e.setSortState(n.direction,!1,!0)):this.clearOtherSortStates(null)},getHeaderMenu:function(){var e,t=this.getMenu();return t&&(e=t.child("#columnItem"))?e.menu:null},onHeaderVisibilityChange:function(e,t){var n,i=this,r=i.getHeaderMenu();i.purgeCache(),r&&(n=i.getMenuItemForHeader(r,e),n&&n.setChecked(t,!0),r.isVisible()&&i.menuTask.delay(50))},updateMenuDisabledState:function(e){var t,n,i,r,o=this,a=o.query(":not([hidden])"),s=a.length;for(e||(e=o.getMenu()),t=0;s>t;++t)n=a[t],i=o.getMenuItemForHeader(e,n),i&&(r=n.isHideable()?"enable":"disable",i.menu&&(r+="CheckChange"),i[r]())},getMenuItemForHeader:function(e,t){return t?e.down("menucheckitem[headerId="+t.id+"]"):null},onHeaderShow:function(e){var t=this,n=t.ownerCt;t.forceFit&&delete t.flex,t.onHeaderVisibilityChange(e,!0),e.isGroupHeader||n&&n.onHeaderShow(t,e),t.fireEvent("columnshow",t,e),t.fireEvent("columnschanged",this)},onHeaderHide:function(e){var t=this,n=t.ownerCt;t.onHeaderVisibilityChange(e,!1),e.isGroupHeader||n&&n.onHeaderHide(t,e),t.fireEvent("columnhide",t,e),t.fireEvent("columnschanged",this)},tempLock:function(){this.ddLock=!0,Ext.Function.defer(function(){this.ddLock=!1},200,this)},onHeaderResize:function(e,t){var n=this,i=n.view,r=n.ownerCt;i&&i.body.dom&&(n.tempLock(),r&&r.onHeaderResize(n,e,t)),n.fireEvent("columnresize",this,e,t)},onHeaderClick:function(e,t,n){e.fireEvent("headerclick",this,e,t,n),this.fireEvent("headerclick",this,e,t,n)},onHeaderContextMenu:function(e,t,n){e.fireEvent("headercontextmenu",this,e,t,n),this.fireEvent("headercontextmenu",this,e,t,n)},onHeaderTriggerClick:function(e,t,n){var i=this;e.fireEvent("headertriggerclick",i,e,t,n)!==!1&&i.fireEvent("headertriggerclick",i,e,t,n)!==!1&&i.showMenuBy(n,e)},showMenuBy:function(e,t){var n,i=this.getMenu(),r=i.down("#ascItem"),o=i.down("#descItem");i.activeHeader=i.ownerButton=t,t.setMenuActive(!0),n=t.sortable?"enable":"disable",r&&r[n](),o&&o[n](),i.showBy(e)},onMenuHide:function(e){e.activeHeader.setMenuActive(!1)},moveHeader:function(e,t){this.tempLock(),this.onHeaderMoved(this.move(e,t),1,e,t)},purgeCache:function(){var e=this,t=e.menu;e.gridDataColumns=e.hideableColumns=null,e.columnManager&&e.columnManager.invalidate(),t&&t.hidden&&(t.hide(),t.destroy(),e.menu=null)},onHeaderMoved:function(e,t,n,i){var r=this,o=r.ownerCt;o&&o.onHeaderMove&&o.onHeaderMove(r,e,t,n,i),r.fireEvent("columnmove",r,e,n,i)},getMenu:function(){var e=this;return e.menu||(e.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:e.getMenuItems(),listeners:{hide:e.onMenuHide,scope:e}}),e.fireEvent("menucreate",e,e.menu)),e.updateMenuDisabledState(e.menu),e.menu},getMenuItems:function(){var e=this,t=[],n=e.enableColumnHide?e.getColumnMenu(e):null;return e.sortable&&(t=[{itemId:"ascItem",text:e.sortAscText,cls:e.menuSortAscCls,handler:e.onSortAscClick,scope:e},{itemId:"descItem",text:e.sortDescText,cls:e.menuSortDescCls,handler:e.onSortDescClick,scope:e}]),n&&n.length&&(e.sortable&&t.push("-"),t.push({itemId:"columnItem",text:e.columnsText,cls:e.menuColsIcon,menu:n,hideOnClick:!1})),t},onSortAscClick:function(){var e=this.getMenu(),t=e.activeHeader;t.setSortState("ASC")},onSortDescClick:function(){var e=this.getMenu(),t=e.activeHeader;t.setSortState("DESC")},getColumnMenu:function(e){for(var t,n,i=[],r=0,o=e.query(">gridcolumn[hideable]"),a=o.length;a>r;r++)t=o[r],n=new Ext.menu.CheckItem({text:t.menuText||t.text,checked:!t.hidden,hideOnClick:!1,headerId:t.id,menu:t.isGroupHeader?this.getColumnMenu(t):void 0,checkHandler:this.onColumnCheckChange,scope:this}),i.push(n),t.on({destroy:Ext.Function.bind(n.destroy,n)});
return i},onColumnCheckChange:function(e,t){var n=Ext.getCmp(e.headerId);n[t?"show":"hide"]()},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(){for(var e,t=0,n=this.getVisibleGridColumns(),i=n.length,r=0;i>r;r++)e=n[r],t+=e.getDesiredWidth?e.getDesiredWidth()||0:e.getWidth();return t},clearOtherSortStates:function(e){for(var t=this.getGridColumns(),n=t.length,i=0;n>i;i++)t[i]!==e&&t[i].setSortState(null,!0)},getVisibleGridColumns:function(){var e,t=this.getGridColumns(),n=[],i=t.length;for(e=0;i>e;e++)t[e].hidden||(n[n.length]=t[e]);return n},getGridColumns:function(e,t){if(!e&&this.gridDataColumns)return this.gridDataColumns;var n,i,r,o,a,s=this,l=e||[];if(t=t||s.hidden,s.items)for(n=s.items.items,i=0,r=n.length;r>i;i++)o=n[i],o.isGroupHeader?o.getGridColumns(l,t):(o.hiddenAncestor=t,l.push(o));if(e||(s.gridDataColumns=l),!e&&r){for(i=0,r=l.length;r>i;i++)o=l[i],o.isFirstVisible=o.isLastVisible=!1,o.hidden||o.hiddenAncestor||(a||(o.isFirstVisible=!0),a=o);a&&(a.isLastVisible=!0)}return l},getHideableColumns:function(){var e=this,t=e.hideableColumns;return t||(t=e.hideableColumns=e.query("[hideable]")),t},getHeaderIndex:function(e){return this.columnManager.getHeaderIndex(e)},getHeaderAtIndex:function(e){return this.columnManager.getHeaderAtIndex(e)},getVisibleHeaderClosestToIndex:function(e){return this.columnManager.getVisibleHeaderClosestToIndex(e)},autoSizeColumn:function(e){var t=this.view;t&&t.autoSizeColumn(e)}}),Ext.define("Ext.grid.column.Column",{extend:Ext.grid.header.Container,alias:"widget.gridcolumn",alternateClassName:"Ext.grid.Column",baseCls:Ext.baseCSSPrefix+"column-header",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:4,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],noWrap:!0,renderTpl:'<div id="{id}-titleEl" {tipMarkup}class="'+Ext.baseCSSPrefix+'column-header-inner">'+'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+"column-header-text"+'{childElCls}">'+"{text}"+"</span>"+'<tpl if="!menuDisabled">'+'<div id="{id}-triggerEl" class="'+Ext.baseCSSPrefix+"column-header-trigger"+'{childElCls}"></div>'+"</tpl>"+"</div>"+"{%this.renderContainer(out,values)%}",dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,editRenderer:!1,align:"left",draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",isHeader:!0,isColumn:!0,ascSortCls:Ext.baseCSSPrefix+"column-header-sort-ASC",descSortCls:Ext.baseCSSPrefix+"column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:Ext.baseCSSPrefix+"group-sub-header",groupHeaderCls:Ext.baseCSSPrefix+"group-header",clickTargetName:"titleEl",detachOnRemove:!0,initResizable:Ext.emptyFn,initComponent:function(){var e,t,n=this;null!=n.header&&(n.text=n.header,n.header=null),n.triStateSort||(n.possibleSortStates.length=2),null!=n.columns?(n.isGroupHeader=!0,n.items=n.columns,n.columns=n.flex=n.width=null,n.cls=(n.cls||"")+" "+n.groupHeaderCls,n.sortable=n.resizable=!1,n.align="center"):n.flex&&(n.minWidth=n.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth),n.addCls(Ext.baseCSSPrefix+"column-header-align-"+n.align),e=n.renderer,e?("string"==typeof e&&(n.renderer=Ext.util.Format[e]),n.hasCustomRenderer=!0):n.defaultRenderer&&(n.scope=n,n.renderer=n.defaultRenderer),n.callParent(arguments),t={element:n.clickTargetName,click:n.onTitleElClick,contextmenu:n.onTitleElContextMenu,mouseenter:n.onTitleMouseOver,mouseleave:n.onTitleMouseOut,scope:n},n.resizable&&(t.dblclick=n.onTitleElDblClick),n.on(t)},onAdd:function(e){e.isColumn&&(e.isSubHeader=!0,e.addCls(this.groupSubHeaderCls)),this.hidden&&e.hide(),this.callParent(arguments)},onRemove:function(e){e.isSubHeader&&(e.isSubHeader=!1,e.removeCls(this.groupSubHeaderCls)),this.callParent(arguments)},initRenderData:function(){var e=this,t="",n=e.tooltip,i="qtip"==e.tooltipType?"data-qtip":"title";return Ext.isEmpty(n)||(t=i+'="'+n+'" '),Ext.applyIf(e.callParent(arguments),{text:e.text,menuDisabled:e.menuDisabled,tipMarkup:t})},applyColumnState:function(e){var t=this;t.applyColumnsState(e.columns),null!=e.hidden&&(t.hidden=e.hidden),null!=e.locked&&(t.locked=e.locked),null!=e.sortable&&(t.sortable=e.sortable),null!=e.width?(t.flex=null,t.width=e.width):null!=e.flex&&(t.width=null,t.flex=e.flex)},getColumnState:function(){var e,t=this,n=t.items.items,i=n?n.length:0,r=[],o={id:t.getStateId()};if(t.savePropsToState(["hidden","sortable","locked","flex","width"],o),t.isGroupHeader){for(e=0;i>e;e++)r.push(n[e].getColumnState());r.length&&(o.columns=r)}else t.isSubHeader&&t.ownerCt.hidden&&delete t.hidden;return"width"in o&&delete o.flex,o},getStateId:function(){return this.stateId||this.headerId},setText:function(e){this.text=e,this.rendered&&this.textEl.update(e)},getIndex:function(){return this.isGroupColumn?!1:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.isGroupColumn?!1:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var e=this,t=e.up("tablepanel");e.callParent(),!t||e.sortable&&t.sortableColumns!==!1||e.groupable||e.lockable||t.enableColumnHide!==!1&&e.getOwnerHeaderCt().getHideableColumns().length||(e.menuDisabled=!0),e.protoEl.unselectable()},afterRender:function(){var e=this,t=e.triggerEl;e.callParent(arguments),Ext.isIE8&&Ext.isStrict||e.mon(e.getFocusEl(),{focus:e.onTitleMouseOver,blur:e.onTitleMouseOut,scope:e}),t&&void 0===e.self.triggerElWidth&&(t.setStyle("display","block"),e.self.triggerElWidth=t.getWidth(),t.setStyle("display","")),e.keyNav=new Ext.util.KeyNav(e.el,{enter:e.onEnterKey,down:e.onDownKey,scope:e})},afterComponentLayout:function(e,t,n){var i=this,r=i.getOwnerHeaderCt();i.callParent(arguments),r&&(null!=n||i.flex)&&e!==n&&r.onHeaderResize(i,e,!0)},onDestroy:function(){var e=this;Ext.destroy(e.textEl,e.keyNav,e.field),e.keyNav=null,e.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(e){this.triggerEl&&this.onTitleElClick(e,this.triggerEl.dom||this.el.dom)},onEnterKey:function(e){this.onTitleElClick(e,this.el.dom)},onTitleElDblClick:function(e){var t,n,i=this;if(i.isOnLeftEdge(e))t=i.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"),t&&t.getOwnerHeaderCt()===i.getOwnerHeaderCt()&&t.autoSize();else if(i.isOnRightEdge(e)){if(i.isGroupHeader&&e.getPoint().isContainedBy(i.layout.innerCt))return n=i.query("gridcolumn:not([hidden]):not([isGroupHeader])"),this.getOwnerHeaderCt().autoSizeColumn(n[n.length-1]),void 0;i.autoSize()}},autoSize:function(){var e,t,n,i,r=this;if(r.isGroupHeader){for(e=r.query("gridcolumn:not([hidden]):not([isGroupHeader])"),t=e.length,i=this.getOwnerHeaderCt(),Ext.suspendLayouts(),n=0;t>n;n++)i.autoSizeColumn(e[n]);return Ext.resumeLayouts(!0),void 0}this.getOwnerHeaderCt().autoSizeColumn(this)},onTitleElClick:function(e,t){var n=this,i=n.getOwnerHeaderCt();i&&!i.ddLock&&(n.triggerEl&&(e.target===n.triggerEl.dom||t===n.triggerEl.dom||e.within(n.triggerEl))?i.onHeaderTriggerClick(n,e,t):(e.getKey()||!n.isOnLeftEdge(e)&&!n.isOnRightEdge(e))&&(n.toggleSortState(),i.onHeaderClick(n,e,t)))},onTitleElContextMenu:function(e,t){var n=this,i=n.getOwnerHeaderCt();i&&!i.ddLock&&i.onHeaderContextMenu(n,e,t)},processEvent:function(){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var e,t,n=this;n.sortable&&(e=Ext.Array.indexOf(n.possibleSortStates,n.sortState),t=(e+1)%n.possibleSortStates.length,n.setSortState(n.possibleSortStates[t]))},doSort:function(e){var t=this.up("tablepanel"),n=t.store;t.ownerLockable&&n.isNodeStore&&(n=t.ownerLockable.lockedGrid.store),n.sort({property:this.getSortParam(),direction:e})},getSortParam:function(){return this.dataIndex},setSortState:function(e,t,n){var i=this,r=i.ascSortCls,o=i.descSortCls,a=i.getOwnerHeaderCt(),s=i.sortState;if(e=e||null,!i.sorting&&s!==e&&null!=i.getSortParam()){switch(e&&!n&&(i.sorting=!0,i.doSort(e),i.sorting=!1),e){case"DESC":i.addCls(o),i.removeCls(r);break;case"ASC":i.addCls(r),i.removeCls(o);break;default:i.removeCls([r,o])}!a||i.triStateSort||t||a.clearOtherSortStates(i),i.sortState=e,(i.triStateSort||null!=e)&&a.fireEvent("sortchange",a,i,e)}},isHideable:function(){var e={hideCandidate:this,result:this.hideable};return e.result&&this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[e]),e.result},hasOtherMenuEnabledChildren:function(e){var t,n;return this.isXType("headercontainer")?(t=this.query(">:not([hidden]):not([menuDisabled])"),n=t.length,Ext.Array.contains(t,e.hideCandidate)&&n--,n?!1:(e.hideCandidate=this,void 0)):(e.result=!1,!1)},isLockable:function(){var e={result:this.lockable!==!1};return e.result&&this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[e]),e.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(e){return this.isXType("headercontainer")?this.query(">:not([hidden])").length>1?!1:void 0:(e.result=!1,!1)},hide:function(e){var t,n,i,r,o,a=this,s=a.getOwnerHeaderCt(),l=a.ownerCt;if(!a.isVisible())return a;if(!s)return a.callParent(),a;if(s.forceFit&&(a.visibleSiblingCount=s.getVisibleGridColumns().length-1,a.flex&&(a.savedWidth=a.getWidth(),a.flex=null)),t=l.isGroupHeader,t&&!e&&(i=l.query(">:not([hidden])"),1===i.length&&i[0]==a))return a.ownerCt.hide(),void 0;if(Ext.suspendLayouts(),a.isGroupHeader)for(i=a.items.items,o=0,r=i.length;r>o;o++)n=i[o],n.hidden||n.hide(!0);return a.callParent(),s.onHeaderHide(a),Ext.resumeLayouts(!0),a},show:function(e,t){var n,i,r,o,a,s,l,d,c=this,u=c.getOwnerHeaderCt(),h=c.ownerCt,f=Ext.grid.header.Container.prototype.defaultWidth;if(c.isVisible())return c;if(!c.rendered)return c.hidden=!1,void 0;if(s=u.el.getViewSize().width-(u.view.el.dom.scrollHeight>u.view.el.dom.clientHeight?Ext.getScrollbarSize().width:0),u.forceFit)if(n=Ext.ComponentQuery.query(":not([flex])",u.getVisibleGridColumns()),n.length)c.width=c.savedWidth||c.width||f;else{for(n=u.getVisibleGridColumns(),i=n.length,d=c.visibleSiblingCount,a=c.savedWidth||c.width||f,a=Math.min(a*(d/i),f,Math.max(s-i*f,f)),c.width=null,c.flex=a,s-=a,l=0,r=0;i>r;r++)o=n[r],o.flex=o.width||o.getWidth(),l+=o.flex,o.width=null;for(r=0;i>r;r++)o=n[r],o.flex=o.flex/l*s}if(Ext.suspendLayouts(),c.isSubHeader&&h.hidden&&h.show(!1,!0),c.callParent(arguments),c.isGroupHeader&&t!==!0&&!c.query(":not([hidden])").length)for(n=c.items.items,r=0,i=n.length;i>r;r++)o=n[r],o.hidden&&o.show(!0);Ext.resumeLayouts(!0),h=c.getOwnerHeaderCt(),h&&h.onHeaderShow(c)},getDesiredWidth:function(){var e=this;return e.rendered&&e.componentLayout&&e.componentLayout.lastComponentSize?e.componentLayout.lastComponentSize.width:e.flex?e.width:e.width},getCellSelector:function(){return"."+Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(e){return e.getXY()[0]-this.getX()<=this.handleWidth},isOnRightEdge:function(e){return this.getX()+this.getWidth()-e.getXY()[0]<=this.handleWidth},setMenuActive:function(e){this.titleEl[e?"addCls":"removeCls"](this.headerOpenCls)}}),Ext.define("Ext.grid.column.Action",{extend:Ext.grid.column.Column,alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:!1,innerCls:Ext.baseCSSPrefix+"grid-cell-inner-action-col",constructor:function(e){var t,n,i,r=this,o=Ext.apply({},e),a=o.items||r.items||[r];for(r.origRenderer=o.renderer||r.renderer,r.origScope=o.scope||r.scope,r.renderer=r.scope=o.renderer=o.scope=null,o.items=null,r.callParent([o]),r.items=a,n=0,i=a.length;i>n;++n)if(a[n].getClass){t=!0;break}(r.origRenderer||t)&&(r.hasCustomRenderer=!0)},defaultRenderer:function(e,t,n,i,r,o,a){var s,l,d,c,u=this,h=Ext.baseCSSPrefix,f=u.origScope||u,g=u.items,p=g.length,m=0;for(l=Ext.isFunction(u.origRenderer)?u.origRenderer.apply(f,arguments)||"":"",t.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";p>m;m++)s=g[m],d=s.disabled||(s.isDisabled?s.isDisabled.call(s.scope||f,a,i,r,s,n):!1),c=d?null:s.tooltip||(s.getTip?s.getTip.apply(s.scope||f,arguments):null),s.hasActionConfiguration||(s.stopSelection=u.stopSelection,s.disable=Ext.Function.bind(u.disableAction,u,[m],0),s.enable=Ext.Function.bind(u.enableAction,u,[m],0),s.hasActionConfiguration=!0),l+='<img role="button" alt="'+(s.altText||u.altText)+'" src="'+(s.icon||Ext.BLANK_IMAGE_URL)+'" class="'+h+"action-col-icon "+h+"action-col-"+String(m)+" "+(d?h+"item-disabled":" ")+" "+(Ext.isFunction(s.getClass)?s.getClass.apply(s.scope||f,arguments):s.iconCls||u.iconCls||"")+'"'+(c?' data-qtip="'+c+'"':"")+" />";return l},enableAction:function(e,t){var n=this;e?Ext.isNumber(e)||(e=Ext.Array.indexOf(n.items,e)):e=0,n.items[e].disabled=!1,n.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).removeCls(n.disabledCls),t||n.fireEvent("enable",n)},disableAction:function(e,t){var n=this;e?Ext.isNumber(e)||(e=Ext.Array.indexOf(n.items,e)):e=0,n.items[e].disabled=!0,n.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).addCls(n.disabledCls),t||n.fireEvent("disable",n)},destroy:function(){return delete this.items,delete this.renderer,this.callParent(arguments)},processEvent:function(e,t,n,i,r,o,a,s){var l,d,c,u,h=this,f=o.getTarget(),g="keydown"==e&&o.getKey();if(g&&!Ext.fly(f).findParent(t.getCellSelector())&&(f=Ext.fly(n).down("."+Ext.baseCSSPrefix+"action-col-icon",!0)),f&&(l=f.className.match(h.actionIdRe))&&(d=h.items[parseInt(l[1],10)],u=d.disabled||(d.isDisabled?d.isDisabled.call(d.scope||h.origScope||h,t,i,r,d,a):!1),d&&!u))if("click"==e||g==o.ENTER||g==o.SPACE)c=d.handler||h.handler,c&&c.call(d.scope||h.origScope||h,t,i,r,d,o,a,s);else if("mousedown"==e&&d.stopSelection!==!1)return!1;return h.callParent(arguments)},cascade:function(e,t){e.call(t||this,this)},getRefItems:function(){return[]}}),Ext.define("Ext.grid.column.Boolean",{extend:Ext.grid.column.Column,alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultRenderer:function(e){return void 0===e?this.undefinedText:e&&"false"!==e?this.trueText:this.falseText}}),Ext.define("Ext.grid.column.CheckColumn",{extend:Ext.grid.column.Column,alternateClassName:"Ext.ux.CheckColumn",alias:"widget.checkcolumn",align:"center",stopSelection:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-checkcolumn",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-checkcolumn",clickTargetName:"el",constructor:function(){this.addEvents("beforecheckchange","checkchange"),this.scope=this,this.callParent(arguments)},processEvent:function(e,t,n,i,r,o,a){var s=this,l="keydown"===e&&o.getKey(),d="mousedown"==e;if(s.disabled||!d&&l!=o.ENTER&&l!=o.SPACE)return s.callParent(arguments);var c=s.dataIndex,u=!a.get(c);return s.fireEvent("beforecheckchange",s,i,u)!==!1?(a.set(c,u),s.fireEvent("checkchange",s,i,u),d&&o.stopEvent(),s.stopSelection||t.selModel.selectByPosition({row:i,column:r}),!1):!s.stopSelection},onEnable:function(e){var t=this;t.callParent(arguments),t.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+t.id).removeCls(t.disabledCls),e||t.fireEvent("enable",t)},onDisable:function(e){var t=this;t.callParent(arguments),t.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+t.id).addCls(t.disabledCls),e||t.fireEvent("disable",t)},renderer:function(e,t){var n=Ext.baseCSSPrefix,i=[n+"grid-checkcolumn"];return this.disabled&&(t.tdCls+=" "+this.disabledCls),e&&i.push(n+"grid-checkcolumn-checked"),'<img class="'+i.join(" ")+'" src="'+Ext.BLANK_IMAGE_URL+'"/>'}}),Ext.define("Ext.grid.column.Date",{extend:Ext.grid.column.Column,alias:["widget.datecolumn"],alternateClassName:"Ext.grid.DateColumn",initComponent:function(){this.format||(this.format=Ext.Date.defaultFormat),this.callParent(arguments)},defaultRenderer:function(e){return Ext.util.Format.date(e,this.format)}}),Ext.define("Ext.grid.column.Number",{extend:Ext.grid.column.Column,alias:["widget.numbercolumn"],alternateClassName:"Ext.grid.NumberColumn",format:"0,000.00",defaultRenderer:function(e){return Ext.util.Format.number(e,this.format)}}),Ext.define("Ext.grid.column.RowNumberer",{extend:Ext.grid.column.Column,alternateClassName:"Ext.grid.RowNumberer",alias:"widget.rownumberer",text:"&#160",width:23,sortable:!1,draggable:!1,autoLock:!0,lockable:!1,align:"right",constructor:function(){var e=this;e.width=e.width,e.callParent(arguments),e.scope=e},resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",tdCls:Ext.baseCSSPrefix+"grid-cell-row-numberer "+Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-numberer",rowspan:void 0,renderer:function(e,t,n,i,r,o){var a=this.rowspan,s=o.currentPage,l=n.index;return a&&(t.tdAttr='rowspan="'+a+'"'),null==l&&(l=i,s>1&&(l+=(s-1)*o.pageSize)),l+1}}),Ext.define("Ext.grid.column.Template",{extend:Ext.grid.column.Column,alias:["widget.templatecolumn"],alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){var e=this;e.tpl=!Ext.isPrimitive(e.tpl)&&e.tpl.compile?e.tpl:new Ext.XTemplate(e.tpl),e.hasCustomRenderer=!0,e.callParent(arguments)},defaultRenderer:function(e,t,n){var i=Ext.apply({},n.data,n.getAssociatedData());return this.tpl.apply(i)}}),Ext.define("Ext.grid.feature.Feature",{extend:Ext.util.Observable,alias:"feature.feature",wrapsItem:!1,isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(e){this.initialConfig=e,this.callParent(arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,destroy:function(){this.clearListeners()},getFireEventArgs:function(e,t,n,i){return[e,t,n,i]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}}),Ext.define("Ext.grid.feature.AbstractSummary",{extend:Ext.grid.feature.Feature,alias:"feature.abstractsummary",summaryRowCls:Ext.baseCSSPrefix+"grid-row-summary",summaryTableCls:Ext.plainTableCls+" "+Ext.baseCSSPrefix+"grid-table",summaryRowSelector:"."+Ext.baseCSSPrefix+"grid-row-summary",summaryRowTpl:{before:function(e,t){return e.record.isSummary?(this.summaryFeature.outputSummaryRecord(e.record,e,t),!1):void 0},priority:1e3},showSummaryRow:!0,init:function(){var e=this;e.view.summaryFeature=e,e.rowTpl=e.view.self.prototype.rowTpl,e.view.addRowTpl(e.summaryRowTpl).summaryFeature=e},toggleSummaryRow:function(e){this.showSummaryRow=!!e},outputSummaryRecord:function(e,t,n){var i,r,o=t.view,a=o.rowValues,s=t.columns||o.headerCt.getVisibleGridColumns(),l=s.length,d={view:o,record:e,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:o.getRowId(e),columns:s};for(i=0;l>i;i++)r=s[i],r.savedRenderer=r.renderer,r.summaryRenderer?r.renderer=r.summaryRenderer:r.summaryType||(r.renderer=Ext.emptyFn),r.dataIndex||(r.dataIndex=r.id);for(o.rowValues=d,o.self.prototype.rowTpl.applyOut(d,n),o.rowValues=a,i=0;l>i;i++)r=s[i],r.renderer=r.savedRenderer,r.savedRenderer=null},getSummary:function(e,t,n,i){var r=i.records;if(t){if(Ext.isFunction(t))return e.getAggregate(t,null,r,[n]);switch(t){case"count":return r.length;case"min":return e.getMin(r,n);case"max":return e.getMax(r,n);case"sum":return e.getSum(r,n);case"average":return e.getAverage(r,n);default:return""}}},generateSummaryData:function(){var e,t,n,i,r,o,a,s,l=this,d=l.view.store,c=d.groups.items,u=d.proxy.reader,h=c.length,f=l.getGroupField(),g={},p=l.lockingPartner;if(l.remoteRoot&&u.rawData){for(o=!0,s={},i=u.root,u.root=l.remoteRoot,u.buildExtractors(!0),r=u.getRoot(u.rawData)||[],h=r.length,u.convertRecordData||u.buildExtractors(),e=0;h>e;++e)a={},u.convertRecordData(a,r[e]),s[a[f]]=a;u.root=i,u.buildExtractors(!0)}for(e=0;h>e;++e)t=c[e],o||t.isDirty()||!t.hasAggregate()?(n=o?l.populateRemoteRecord(t,s):l.populateRecord(t),p&&l.view.ownerCt!==l.view.ownerCt.ownerLockable.normalGrid||t.commit()):n=t.getAggregateRecord(),g[t.key]=n;return g},populateRemoteRecord:function(e,t){var n,i=e.getAggregateRecord(!0),r=t[e.key];i.beginEdit();for(n in r)r.hasOwnProperty(n)&&n!==i.idProperty&&i.set(n,r[n]);return i.endEdit(!0),i.commit(!0),i},populateRecord:function(e){var t,n,i,r=this,o=r.grid.ownerLockable?r.grid.ownerLockable.view:r.view,a=r.view.store,s=e.getAggregateRecord(),l=o.headerCt.getGridColumns(),d=l.length;for(s.beginEdit(),t=0;d>t;++t)n=l[t],i=n.dataIndex||n.id,s.set(i,r.getSummary(a,n.summaryType,i,e));return s.endEdit(!0),s.commit(),s}}),Ext.define("Ext.grid.feature.GroupStore",{extend:Ext.util.Observable,isStore:!0,constructor:function(e,t){var n=this;n.superclass.constructor.apply(n,arguments),n.groupingFeature=e,n.bindStore(t),n.processStore(t),n.view.dataSource=n},bindStore:function(e){var t=this;t.store&&(Ext.destroy(t.storeListeners),t.store=null),e&&(t.storeListeners=e.on({bulkremove:t.onBulkRemove,add:t.onAdd,update:t.onUpdate,refresh:t.onRefresh,clear:t.onClear,scope:t,destroyable:!0}),t.store=e)},processStore:function(e){var t,n,i,r=this,o=e.getGroups(),a=o.length,s=r.data,l=r.groupingFeature.groupCache,d=r.groupingFeature.clearGroupCache(),c=r.groupingFeature.startCollapsed;if(s?s.clear():s=r.data=new Ext.util.MixedCollection(!1,Ext.data.Store.recordIdFn),e.getCount())for(r.groupingFeature.startCollapsed=!1,t=0;a>t;t++)n=o[t],d[n.name]=n,n.isCollapsed=c||l[n.name]&&l[n.name].isCollapsed,n.isCollapsed?(n.placeholder=i=new e.model(null,"group-"+n.name+"-placeholder"),i.set(r.getGroupField(),n.name),i.rows=i.children=n.children,i.isCollapsedPlaceholder=!0,s.add(i)):s.insert(r.data.length,n.children)},isCollapsed:function(e){return this.groupingFeature.groupCache[e].isCollapsed},isInCollapsedGroup:function(e){var t;return this.store.isGrouped()&&(t=this.groupingFeature.groupCache[e.get(this.getGroupField())])?t.isCollapsed||!1:!1},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(e,t){return t<this.getCount()},getRange:function(e,t,n){var i=this.data.getRange(e,t);return n&&n.callback&&n.callback.call(n.scope||this,i,e,t,n),i},getAt:function(e){return this.getRange(e,e)[0]},getById:function(e){return this.store.getById(e)},expandGroup:function(e){var t,n=this;"string"==typeof e&&(e=n.groupingFeature.groupCache[e]),e&&e.children.length&&-1!==(t=n.indexOf(e.children[0],!0,!0))&&(e.isCollapsed=!1,n.isExpandingOrCollapsing=1,n.data.removeAt(t),n.fireEvent("bulkremove",n,[n.getGroupPlaceholder(e)],[t]),n.data.insert(t,e.children),n.fireEvent("add",n,e.children,t),n.fireEvent("groupexpand",n,e),n.isExpandingOrCollapsing=0)},collapseGroup:function(e){var t,n,i,r,o,a,s=this;if("string"==typeof e&&(e=s.groupingFeature.groupCache[e]),e&&(o=e.children.length)&&-1!==(t=s.indexOf(e.children[0],!0))){for(e.isCollapsed=!0,s.isExpandingOrCollapsing=2,s.data.removeRange(t,o),a=new Array(o),i=0,r=t;o>i;i++,r++)a[i]=r;s.fireEvent("bulkremove",s,e.children,a),s.data.insert(t,n=s.getGroupPlaceholder(e)),s.fireEvent("add",s,[n],t),s.fireEvent("groupcollapse",s,e),s.isExpandingOrCollapsing=0}},getGroupPlaceholder:function(e){if(!e.placeholder){var t=e.placeholder=new this.store.model(null,"group-"+e.name+"-placeholder");t.set(this.getGroupField(),e.name),t.rows=t.children=e.children,t.isCollapsedPlaceholder=!0}return e.placeholder},indexOf:function(e,t,n){var i,r,o,a,s,l=this,d=0;if(e&&(n||!l.isInCollapsedGroup(e)))for(i=l.store.getGroups(),r=i.length,o=0;r>o;o++){if(a=i[o],a.name===this.store.getGroupString(e))return s=Ext.Array.indexOf(a.children,e),d+s;d+=t&&l.isCollapsed(a.name)?1:a.children.length}return-1},indexOfTotal:function(e){var t=e.index;return t||0===t?t:this.istore.ndexOf(e)},onRefresh:function(){this.processStore(this.store),this.fireEvent("refresh",this)},onBulkRemove:function(){this.processStore(this.store),this.fireEvent("refresh",this)},onClear:function(){this.processStore(this.store),this.fireEvent("clear",this)},onAdd:function(){this.processStore(this.store),this.fireEvent("refresh",this)},onUpdate:function(e,t,n,i){var r,o,a=this,s=a.groupingFeature.getRecordGroup(t);if(e.isGrouped()){if(i&&Ext.Array.contains(i,a.groupingFeature.getGroupField()))return a.onRefresh(a.store);s.isCollapsed?a.fireEvent("update",a,s.placeholder):(Ext.suspendLayouts(),a.fireEvent("update",a,t,n,i),r=s.children[0],o=s.children[s.children.length-1],r!==t&&a.fireEvent("update",a,r,"edit"),o!==t&&o!==r&&a.fireEvent("update",a,o,"edit"),Ext.resumeLayouts(!0))}else a.fireEvent("update",a,t,n,i)}}),Ext.define("Ext.grid.feature.Grouping",{extend:Ext.grid.feature.Feature,mixins:{summary:Ext.grid.feature.AbstractSummary},alias:"feature.grouping",eventPrefix:"group",groupCls:Ext.baseCSSPrefix+"grid-group-hd",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",refreshData:{},groupInfo:{},wrapsItem:!0,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",hdNotCollapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-not-collapsible",collapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-collapsible",ctCls:Ext.baseCSSPrefix+"group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:!1,startCollapsed:!1,enableGroupingMenu:!0,enableNoGroups:!0,collapsible:!0,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:!1,tableTpl:{before:function(e){this.groupingFeature.disabled||1===e.rows.length&&e.rows[0].isSummary||this.groupingFeature.setup(e.rows,e.view.rowValues)},after:function(e){this.groupingFeature.disabled||1===e.rows.length&&e.rows[0].isSummary||this.groupingFeature.cleanup(e.rows,e.view.rowValues)},priority:200},groupTpl:["{%","var me = this.groupingFeature;","if (me.disabled) {","values.needsWrap = false;","} else {","me.setupRowData(values.record, values.recordIndex, values);","values.needsWrap = !me.disabled && (values.isFirstRow || values.summaryRecord);","}","%}",'<tpl if="needsWrap">','<tr data-boundView="{view.id}" data-recordId="{record.internalId}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}"','class="{[values.itemClasses.join(" ")]} '+Ext.baseCSSPrefix+'grid-wrap-row<tpl if="!summaryRecord"> '+Ext.baseCSSPrefix+'grid-group-row</tpl>">','<td class="'+Ext.baseCSSPrefix+'group-hd-container" colspan="{columns.length}">','<tpl if="isFirstRow">',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div id="{groupId}" class="'+Ext.baseCSSPrefix+'grid-group-hd {collapsibleCls}" tabIndex="0">','<div class="'+Ext.baseCSSPrefix+'grid-group-title" style="{[groupTitleStyle]}">','{[values.groupHeaderTpl.apply(values.groupInfo, parent) || "&#160;"]}',"</div>","</div>","</tpl>",'<tpl if="summaryRecord || !isCollapsedGroup">','<table class="',Ext.baseCSSPrefix,"{view.id}-table ",Ext.baseCSSPrefix,"grid-table",'<tpl if="summaryRecord"> ',Ext.baseCSSPrefix,'grid-table-summary</tpl>"','border="0" cellspacing="0" cellpadding="0" style="width:100%">',"{[values.view.renderColumnSizer(out)]}",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","</tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out);%}","</tpl>","</table>","</tpl>","</td>","</tr>","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","</tpl>",{priority:200,syncRowHeights:function(e,t){e=Ext.fly(e,"syncDest"),t=Ext.fly(t,"sycSrc");var n,i,r,o,a=this.owner,s=e.down(a.eventSelector,!0),l=e.down(a.summaryRowSelector,!0);s&&(n=t.down(a.eventSelector,!0))&&(s.style.height=n.style.height="",(r=s.offsetHeight)>(o=n.offsetHeight)?Ext.fly(n).setHeight(r):o>r&&Ext.fly(s).setHeight(o)),l&&(i=t.down(a.summaryRowSelector,!0))&&(l.style.height=i.style.height="",(r=l.offsetHeight)>(o=i.offsetHeight)?Ext.fly(i).setHeight(r):o>r&&Ext.fly(l).setHeight(o))},syncContent:function(e,t){e=Ext.fly(e,"syncDest"),t=Ext.fly(t,"sycSrc");var n=this.owner,i=e.down(n.eventSelector,!0),r=t.down(n.eventSelector,!0),o=e.down(n.summaryRowSelector,!0),a=t.down(n.summaryRowSelector,!0);i&&r&&Ext.fly(i).syncContent(r),o&&a&&Ext.fly(o).syncContent(a)}}],constructor:function(){this.groupCache={},this.callParent(arguments)},init:function(){var e=this,t=e.view;t.isGrouping=!0,e.lockingPartner&&e.lockingPartner.groupCache&&(e.groupCache=e.lockingPartner.groupCache),e.mixins.summary.init.call(e),e.callParent(arguments),t.headerCt.on({columnhide:e.onColumnHideShow,columnshow:e.onColumnHideShow,columnmove:e.onColumnMove,scope:e}),t.addTableTpl(e.tableTpl).groupingFeature=e,t.addRowTpl(Ext.XTemplate.getTpl(e,"groupTpl")).groupingFeature=e,t.preserveScrollOnRefresh=!0,t.store.buffered?e.collapsible=!1:e.dataSource=t.dataSource=this.lockingPartner&&this.lockingPartner.dataSource?this.lockingPartner.dataSource:new Ext.grid.feature.GroupStore(e,t.store),e.grid.on({reconfigure:e.onReconfigure}),t.on({afterrender:e.afterViewRender,scope:e,single:!0})},clearGroupCache:function(){var e=this,t=e.groupCache={};return e.lockingPartner&&(e.lockingPartner.groupCache=t),t},vetoEvent:function(e,t,n,i){return"mouseover"!==i.type&&"mouseout"!==i.type&&"mouseenter"!==i.type&&"mouseleave"!==i.type&&i.getTarget(this.eventSelector)?!1:void 0},enable:function(){var e,t=this,n=t.view,i=n.store;t.lastGroupField=t.getGroupField(),n.isGrouping=!0,t.lastGroupIndex&&(t.block(),i.group(t.lastGroupIndex),t.unblock()),t.callParent(),e=t.view.headerCt.getMenu().down("#groupToggleMenuItem"),e&&e.setChecked(!0,!0),t.refreshIf()},disable:function(){var e,t,n=this,i=n.view,r=i.store;i.isGrouping=!1,t=r.groupers.first(),t&&(n.lastGroupIndex=t.property,n.block(),r.clearGrouping(),n.unblock()),n.callParent(),e=n.view.headerCt.getMenu().down("#groupToggleMenuItem"),e&&e.setChecked(!1,!0),n.refreshIf()},refreshIf:function(){var e=this.grid.ownerCt,t=this.view;t.store.remoteGroup||this.blockRefresh||(e&&e.lockable?e.view.refresh():t.refresh())},afterViewRender:function(){var e=this,t=e.view;t.on({scope:e,groupclick:e.onGroupClick}),e.enableGroupingMenu&&e.injectGroupingMenu(),e.pruneGroupedHeader(),e.lastGroupField=e.getGroupField(),e.block(),e.onGroupChange(),e.unblock()},injectGroupingMenu:function(){var e=this,t=e.view.headerCt;t.showMenuBy=e.showMenuBy,t.getMenuItems=e.getMenuItems()},onColumnHideShow:function(){var e,t,n,i=this.view,r=i.headerCt,o=r.getMenu(),a=o.down("#groupMenuItem"),s=r.getGridColumns().length;if(a&&(r.getVisibleGridColumns().length>1?a.enable():a.disable()),i.rendered)for(e=i.el.query("."+this.ctCls),n=0,t=e.length;t>n;++n)e[n].colSpan=s},onColumnMove:function(){var e,t,n,i,r,o,a=this,s=a.view.store;if(s.isGrouped())for(e=s.getGroups(),n=e.length,t=0;n>t;t++)i=e[t],r=i.children[0],o=i.children[i.children.length-1],s.fireEvent("update",s,r,"edit",null),o!==r&&s.fireEvent("update",s,o,"edit",null)},showMenuBy:function(e,t){var n=this.getMenu(),i=n.down("#groupMenuItem"),r=t.groupable===!1||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",o=n.down("#groupToggleMenuItem"),a=this.view.store.isGrouped();i[r](),o&&(o.setChecked(a,!0),o[a?"enable":"disable"]()),Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var e=this,t=e.groupByText,n=e.disabled||!e.getGroupField(),i=e.showGroupsText,r=e.enableNoGroups,o=e.view.headerCt.getMenuItems;return function(){var a=o.call(this);return a.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:t,handler:e.onGroupMenuItemClick,scope:e}),r&&a.push({itemId:"groupToggleMenuItem",text:i,checked:!n,checkHandler:e.onGroupToggleMenuItemClick,scope:e}),a
}},onGroupMenuItemClick:function(e){var t=this,n=e.parentMenu,i=n.activeHeader,r=t.view,o=r.store;t.lastGroupIndex=null,t.block(),t.enable(),o.group(i.dataIndex),t.pruneGroupedHeader(),t.unblock(),t.refreshIf()},block:function(e){this.blockRefresh=this.view.blockRefresh=!0,this.lockingPartner&&!e&&this.lockingPartner.block(!0)},unblock:function(e){this.blockRefresh=this.view.blockRefresh=!1,this.lockingPartner&&!e&&this.lockingPartner.unblock(!0)},onGroupToggleMenuItemClick:function(e,t){this[t?"enable":"disable"]()},pruneGroupedHeader:function(){var e=this,t=e.getGroupedHeader();e.hideGroupedHeader&&t&&(Ext.suspendLayouts(),e.prunedHeader&&e.prunedHeader!==t&&e.prunedHeader.show(),e.prunedHeader=t,t.hide(),Ext.resumeLayouts(!0))},getHeaderNode:function(e){return Ext.get(this.createGroupId(e))},getGroup:function(e){var t=this.groupCache,n=t[e];return n||(n=t[e]={isCollapsed:!1}),n},isExpanded:function(e){return!this.getGroup(e).isCollapsed},expand:function(e,t){this.doCollapseExpand(!1,e,t)},expandAll:function(){var e,t,n=this,i=n.view,r=n.groupCache,o=n.lockingPartner;for(e in r)r.hasOwnProperty(e)&&(r[e].isCollapsed=!1);Ext.suspendLayouts(),i.suspendEvent("beforerefresh","refresh"),o&&(t=o.view,t.suspendEvent("beforerefresh","refresh")),n.dataSource.onRefresh(),i.resumeEvent("beforerefresh","refresh"),o&&t.resumeEvent("beforerefresh","refresh"),Ext.resumeLayouts(!0);for(e in r)r.hasOwnProperty(e)&&(n.afterCollapseExpand(!1,e),o&&o.afterCollapseExpand(!1,e))},collapse:function(e,t){this.doCollapseExpand(!0,e,t)},isAllCollapsed:function(){var e,t=this,n=t.groupCache;for(e in n)if(n.hasOwnProperty(e)&&!n[e].isCollapsed)return!1;return!0},isAllExpanded:function(){var e,t=this,n=t.groupCache;for(e in n)if(n.hasOwnProperty(e)&&n[e].isCollapsed)return!1;return!0},collapseAll:function(){var e,t,n=this,i=n.view,r=n.groupCache,o=n.lockingPartner;for(e in r)r.hasOwnProperty(e)&&(r[e].isCollapsed=!0);Ext.suspendLayouts(),i.suspendEvent("beforerefresh","refresh"),o&&(t=o.view,t.suspendEvent("beforerefresh","refresh")),n.dataSource.onRefresh(),i.resumeEvent("beforerefresh","refresh"),o&&t.resumeEvent("beforerefresh","refresh"),o&&!o.isAllCollapsed()&&o.collapseAll(),Ext.resumeLayouts(!0);for(e in r)r.hasOwnProperty(e)&&(n.afterCollapseExpand(!0,e),o&&o.afterCollapseExpand(!0,e))},doCollapseExpand:function(e,t,n){var i=this,r=i.lockingPartner,o=i.groupCache[t];o.isCollapsed!=e&&(Ext.suspendLayouts(),e?i.dataSource.collapseGroup(o):i.dataSource.expandGroup(o),Ext.resumeLayouts(!0),i.afterCollapseExpand(e,t,n),r&&r.afterCollapseExpand(e,t,!1))},afterCollapseExpand:function(e,t,n){var i,r=this,o=r.view;i=Ext.get(this.getHeaderNode(t)),o.fireEvent(e?"groupcollapse":"groupexpand",o,i,t),n&&i.up(o.getItemSelector()).scrollIntoView(o.el,null,!0)},onGroupChange:function(){var e,t,n,i=this,r=i.getGroupField();i.hideGroupedHeader&&(i.lastGroupField&&(e=i.getMenuItem(i.lastGroupField),e&&e.setChecked(!0)),r&&(t=i.view.headerCt.getVisibleGridColumns(),n=1===t.length&&t[0].dataIndex==r,e=i.getMenuItem(r),e&&!n&&e.setChecked(!1))),i.refreshIf(),i.lastGroupField=r},getMenuItem:function(e){var t=this.view,n=t.headerCt.down("gridcolumn[dataIndex="+e+"]"),i=t.headerCt.getMenu();return n?i.down("menuitem[headerId="+n.id+"]"):null},onGroupKey:function(e,t){var n=this,i=n.getGroupName(t.target);i&&n.onGroupClick(n.view,t.target,i,t)},onGroupClick:function(e,t,n,i){var r,o=this,a=o.groupCache,s=!o.isExpanded(n);if(o.collapsible){if(i.ctrlKey){Ext.suspendLayouts();for(r in a)r===n?s&&o.expand(n):o.doCollapseExpand(!0,r,!1);return Ext.resumeLayouts(!0),void 0}s?o.expand(n):o.collapse(n)}},setupRowData:function(e,t,n){var i,r,o,a,s=this,l=s.refreshData,d=s.groupInfo,c=l.header,u=l.groupField,h=s.view.dataSource;if(n.isCollapsedGroup=!1,n.summaryRecord=null,l.doGrouping){if(i=s.view.store.groupers.first(),e.children)return r=i.getGroupString(e.children[0]),n.isFirstRow=n.isLastRow=!0,n.itemClasses.push(s.hdCollapsedCls),n.isCollapsedGroup=!0,n.groupInfo=d,d.groupField=u,d.name=r,d.groupValue=e.children[0].get(u),d.columnName=c?c.text:u,n.collapsibleCls=s.collapsible?s.collapsibleCls:s.hdNotCollapsibleCls,n.groupId=s.createGroupId(r),d.rows=d.children=e.children,s.showSummaryRow&&(n.summaryRecord=l.summaryData[r]),void 0;r=i.getGroupString(e),n.isFirstRow=0===t,n.isFirstRow||(o=h.getAt(t-1),o&&(n.isFirstRow=!o.isEqual(i.getGroupString(o),r))),n.isLastRow=t==h.getTotalCount()-1,n.isLastRow||(a=h.getAt(t+1),a&&(n.isLastRow=!a.isEqual(i.getGroupString(a),r))),n.isFirstRow&&(d.groupField=u,d.name=r,d.groupValue=e.get(u),d.columnName=c?c.text:u,n.collapsibleCls=s.collapsible?s.collapsibleCls:s.hdNotCollapsibleCls,n.groupId=s.createGroupId(r),s.isExpanded(r)||(n.itemClasses.push(s.hdCollapsedCls),n.isCollapsedGroup=!0),d.rows=d.children=h.buffered?[]:s.getRecordGroup(e).children,n.groupInfo=d),n.isLastRow&&s.showSummaryRow&&(n.summaryRecord=l.summaryData[r])}},setup:function(e,t){var n=this,i=n.refreshData,r=!n.disabled&&n.view.store.isGrouped();n.skippedRows=0,t.view.bufferedRenderer&&(t.view.bufferedRenderer.variableRowHeight=!0),i.groupField=n.getGroupField(),i.header=n.getGroupedHeader(i.groupField),i.doGrouping=r,t.groupHeaderTpl=Ext.XTemplate.getTpl(n,"groupHeaderTpl"),r&&n.showSummaryRow&&(i.summaryData=n.generateSummaryData())},cleanup:function(e,t){var n=this.refreshData;t.groupInfo=t.groupHeaderTpl=t.isFirstRow=null,n.groupField=n.header=null},getGroupName:function(e){var t,n,i,r=this,o=r.view,a=r.eventSelector;return n=Ext.fly(e).findParent(a),n||(i=Ext.fly(e).findParent(o.itemSelector),i&&(n=i.down(a,!0))),n&&(t=n.id.split(o.id+"-hd-"),2===t.length)?Ext.htmlDecode(t[1]):void 0},getRecordGroup:function(e){var t=this.view.store.groupers.first();return t?this.groupCache[t.getGroupString(e)]:void 0},createGroupId:function(e){return this.view.id+"-hd-"+Ext.htmlEncode(e)},createGroupCls:function(e){return this.view.id+"-"+Ext.htmlEncode(e)+"-item"},getGroupField:function(){return this.view.store.getGroupField()},getGroupedHeader:function(e){var t,n,i=this,r=i.view.headerCt,o=i.lockingPartner;return e=e||this.getGroupField(),e&&(t="[dataIndex="+e+"]",n=r.down(t),!n&&o&&(n=o.view.headerCt.down(t))),n||null},getFireEventArgs:function(e,t,n,i){return[e,t,n,this.getGroupName(n),i]},destroy:function(){var e=this,t=e.dataSource;e.view=e.prunedHeader=e.grid=e.groupCache=e.dataSource=null,e.callParent(),t&&t.bindStore(null)},onReconfigure:function(e,t,n,i){var r=e;t&&t!==i&&(t.buffered!==i.buffered&&Ext.Error.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores"),t.buffered&&(r.bindStore(t),r.dataSource.processStore(t)))}}),Ext.define("Ext.grid.feature.GroupingSummary",{extend:Ext.grid.feature.Grouping,alias:"feature.groupingsummary",showSummaryRow:!0,vetoEvent:function(e,t,n,i){var r=this.callParent(arguments);return r!==!1&&i.getTarget(this.summaryRowSelector)&&(r=!1),r}}),Ext.define("Ext.grid.feature.RowBody",{extend:Ext.grid.feature.Feature,alias:"feature.rowbody",rowBodyCls:Ext.baseCSSPrefix+"grid-row-body",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTdSelector:"td."+Ext.baseCSSPrefix+"grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr."+Ext.baseCSSPrefix+"grid-rowbody-tr",tableTpl:{before:function(e){var t=e.view,n=t.rowValues;this.rowBody.setup(e.rows,n)},after:function(e){var t=e.view,n=t.rowValues;this.rowBody.cleanup(e.rows,n)},priority:100},extraRowTpl:["{%","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","this.nextTpl.applyOut(values, out, parent);","%}",'<tr class="'+Ext.baseCSSPrefix+'grid-rowbody-tr {rowBodyCls}">','<td class="'+Ext.baseCSSPrefix+"grid-cell-rowbody"+'" colspan="{rowBodyColspan}">','<div class="'+Ext.baseCSSPrefix+"grid-rowbody"+' {rowBodyDivCls}">{rowBody}</div>',"</td>","</tr>",{priority:100,syncRowHeights:function(e,t){var n,i,r,o=this.owner,a=Ext.fly(e).down(o.eventSelector,!0);a&&(n=Ext.fly(t).down(o.eventSelector,!0))&&((i=a.offsetHeight)>(r=n.offsetHeight)?Ext.fly(n).setHeight(i):r>i&&Ext.fly(a).setHeight(r))},syncContent:function(e,t){var n,i=this.owner,r=Ext.fly(e).down(i.eventSelector,!0);r&&(n=Ext.fly(t).down(i.eventSelector,!0))&&Ext.fly(r).syncContent(n)}}],init:function(e){var t=this,n=t.view;n.rowBodyFeature=t,n.findFeature("rowwrap")||(e.mon(n,{element:"el",mousedown:t.onMouseDown,scope:t}),t.mon(e.getStore(),"remove",t.onStoreRemove,t)),n.headerCt.on({columnschanged:t.onColumnsChanged,scope:t}),n.addTableTpl(t.tableTpl).rowBody=t,n.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl")),t.callParent(arguments)},onStoreRemove:function(e,t,n){var i,r=this.view;r.rendered&&(i=r.getNode(n),i&&(i=Ext.fly(i).next(this.eventSelector),i&&i.remove()))},onMouseDown:function(e){var t=this,n=e.getTarget(t.eventSelector);n&&Ext.fly(n=n.previousSibling).is(t.view.getItemSelector())&&(e.target=n,t.view.handleEvent(e))},getSelectedRow:function(e,t){var n=e.getNode(t,!1);return n?Ext.fly(n).down(this.eventSelector):null},onColumnsChanged:function(e){var t,n=this.view.el.query(this.rowBodyTdSelector),i=e.getVisibleGridColumns().length,r=n.length;for(t=0;r>t;++t)n[t].colSpan=i},setupRowData:function(e,t,n){this.getAdditionalData&&Ext.apply(n,this.getAdditionalData(e.data,t,e,n))},setup:function(e,t){t.rowBodyCls=this.rowBodyCls,t.rowBodyColspan=t.view.getGridColumns().length},cleanup:function(e,t){t.rowBodyCls=t.rowBodyColspan=t.rowBody=null}}),Ext.define("Ext.grid.feature.RowWrap",{extend:Ext.grid.feature.Feature,alias:"feature.rowwrap",rowWrapTd:"td."+Ext.baseCSSPrefix+"grid-rowwrap",hasFeatureEvent:!1,tableTpl:{before:function(e){e.view.bufferedRenderer&&(e.view.bufferedRenderer.variableRowHeight=!0)},priority:200},wrapTpl:['<tr data-boundView="{view.id}" data-recordId="{record.internalId}" data-recordIndex="{recordIndex}" class="{[values.itemClasses.join(" ")]} '+Ext.baseCSSPrefix+'grid-wrap-row">','<td class="'+Ext.baseCSSPrefix+"grid-rowwrap "+Ext.baseCSSPrefix+'grid-td" colSpan="{columns.length}">','<table class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" border="0" cellspacing="0" cellpadding="0">',"{[values.view.renderColumnSizer(out)]}","{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent)","%}","</table>","</td>","</tr>",{priority:200}],init:function(){var e=this;e.view.addTableTpl(e.tableTpl),e.view.addRowTpl(Ext.XTemplate.getTpl(e,"wrapTpl")),e.view.headerCt.on({columnhide:e.onColumnHideShow,columnshow:e.onColumnHideShow,scope:e})},onColumnHideShow:function(){var e,t=this.view,n=t.el.query(this.rowWrapTd),i=t.headerCt.getVisibleGridColumns().length,r=n.length;for(e=0;r>e;++e)n[e].colSpan=i}}),Ext.define("Ext.grid.feature.Summary",{extend:Ext.grid.feature.AbstractSummary,alias:"feature.summary",dock:void 0,dockedSummaryCls:Ext.baseCSSPrefix+"docked-summary",panelBodyCls:Ext.baseCSSPrefix+"summary-",init:function(e){var t=this,n=t.view;t.callParent(arguments),t.dock?(e.headerCt.on({afterlayout:t.onStoreUpdate,scope:t}),e.on({beforerender:function(){var i=[t.summaryTableCls];n.columnLines&&(i[i.length]=n.ownerCt.colLinesCls),t.summaryBar=e.addDocked({childEls:["innerCt"],renderTpl:['<div id="{id}-innerCt">','<table cellPadding="0" cellSpacing="0" class="'+i.join(" ")+'">','<tr class="'+t.summaryRowCls+'"></tr>',"</table>","</div>"],style:"overflow:hidden",itemId:"summaryBar",cls:[t.dockedSummaryCls,t.dockedSummaryCls+"-"+t.dock],xtype:"component",dock:t.dock,weight:1e7})[0]},afterrender:function(){e.body.addCls(t.panelBodyCls+t.dock),n.mon(n.el,{scroll:t.onViewScroll,scope:t}),t.onStoreUpdate()},single:!0}),e.headerCt.afterComponentLayout=Ext.Function.createSequence(e.headerCt.afterComponentLayout,function(){t.summaryBar.innerCt.setWidth(this.getFullWidth()+Ext.getScrollbarSize().width)})):t.view.addFooterFn(t.renderTFoot),e.on({columnmove:t.onStoreUpdate,scope:t}),n.mon(n.store,{update:t.onStoreUpdate,datachanged:t.onStoreUpdate,scope:t})},renderTFoot:function(e,t){var n=e.view,i=n.findFeature("summary");i.showSummaryRow&&(t.push("<tfoot>"),i.outputSummaryRecord(i.createSummaryRecord(n),e,t),t.push("</tfoot>"))},vetoEvent:function(e,t,n,i){return!i.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.el.dom.scrollLeft=this.view.el.dom.scrollLeft},createSummaryRecord:function(e){var t,n,i=e.headerCt.getVisibleGridColumns(),r={records:e.store.getRange()},o=i.length,a=this.summaryRecord||(this.summaryRecord=new e.store.model(null,e.id+"-summary-record"));for(a.beginEdit(),t=0;o>t;t++)n=i[t],n.dataIndex||(n.dataIndex=n.id),a.set(n.dataIndex,this.getSummary(e.store,n.summaryType,n.dataIndex,r));return a.endEdit(!0),a.commit(!0),a.isSummary=!0,a},onStoreUpdate:function(){var e,t,n,i=this,r=i.view,o=i.createSummaryRecord(r),a=r.createRowElement(o,-1);r.rendered&&(e=i.dock?i.summaryBar.el.down("."+i.summaryRowCls,!0):i.view.getNode(o),e&&(n=e.parentNode,n.insertBefore(a,e),n.removeChild(e),t=i.lockingPartner,t&&t.grid.rendered&&!i.calledFromLockingPartner&&(t.calledFromLockingPartner=!0,t.onStoreUpdate(),t.calledFromLockingPartner=!1)),i.dock&&i.onColumnHeaderLayout())},onColumnHeaderLayout:function(){var e,t,n,i=this.view,r=i.headerCt.getVisibleGridColumns(),o=r.length,a=this.summaryBar.el;for(t=0;o>t;t++)e=r[t],n=a.down(i.getCellSelector(e)),n&&(e.hidden?n.setDisplayed(!1):(n.setDisplayed(!0),n.setWidth(e.width||(e.lastBox?e.lastBox.width:100))))}}),Ext.define("Ext.grid.locking.HeaderContainer",{extend:Ext.grid.header.Container,constructor:function(e){var t,n,i=this,r=[],o=e.lockedGrid,a=e.normalGrid;i.lockable=e,i.callParent(),o.columnManager.rootColumns=a.columnManager.rootColumns=e.columnManager=i.columnManager=new Ext.grid.ColumnManager(o.headerCt,a.headerCt),t=o.headerCt.events;for(n in t)t.hasOwnProperty(n)&&r.push(n);i.relayEvents(o.headerCt,r),i.relayEvents(a.headerCt,r)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var e=this,t=e.lockable.lockedGrid.headerCt.getColumnsState(),n=e.lockable.normalGrid.headerCt.getColumnsState();return t.concat(n)},applyColumnsState:function(e){var t,n,i,r,o=this,a=o.lockable.lockedGrid,s=a.headerCt,l=o.lockable.normalGrid.headerCt,d=Ext.Array.toValueMap(s.items.items,"headerId"),c=Ext.Array.toValueMap(l.items.items,"headerId"),u=[],h=[],f=1,g=e.length;for(t=0;g>t;t++)r=e[t],i=d[r.id],n=i||c[r.id],n&&(n.applyColumnState&&n.applyColumnState(r),void 0===n.locked&&(n.locked=!!i),n.locked?(u.push(n),n.hidden||"number"!=typeof n.width||(f+=n.width)):h.push(n));u.length+h.length==s.items.getCount()+l.items.getCount()&&(s.removeAll(!1),l.removeAll(!1),s.add(u),l.add(h),a.setWidth(f))}}),Ext.define("Ext.grid.locking.View",{alternateClassName:"Ext.grid.LockingView",mixins:{observable:Ext.util.Observable},isLockingView:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(e){var t,n,i=this,r=[],o=i.eventRelayRe,a=e.locked.getView(),s=e.normal.getView();Ext.apply(i,{lockedView:a,normalView:s,lockedGrid:e.locked,normalGrid:e.normal,panel:e.panel}),i.mixins.observable.constructor.call(i,e),t=a.events;for(n in t)t.hasOwnProperty(n)&&o.test(n)&&r.push(n);i.relayEvents(a,r),i.relayEvents(s,r),s.on({scope:i,itemmouseleave:i.onItemMouseLeave,itemmouseenter:i.onItemMouseEnter}),a.on({scope:i,itemmouseleave:i.onItemMouseLeave,itemmouseenter:i.onItemMouseEnter}),i.panel.on({render:i.onPanelRender,scope:i})},onPanelRender:function(){var e=this,t=e.loadMask,n={target:e.panel,msg:e.loadingText,msgCls:e.loadingCls,useMsg:e.loadingUseMsg,store:e.panel.store};e.el=e.panel.body,e.fireEvent("render",e),t&&(Ext.isObject(t)&&(n=Ext.apply(n,t)),e.loadMask=new Ext.LoadMask(n))},getGridColumns:function(){var e=this.lockedGrid.headerCt.getVisibleGridColumns();return e.concat(this.normalGrid.headerCt.getVisibleGridColumns())},getEl:function(e){return this.getViewForColumn(e).getEl()},getViewForColumn:function(e){var t,n=this.lockedView;return n.headerCt.cascade(function(n){return n===e?(t=!0,!1):void 0}),t?n:this.normalView},onItemMouseEnter:function(e,t){var n,i=this,r=i.lockedView,o=i.normalView;e.trackOver&&(e!==r&&(o=r),n=o.getNode(t,!1),o.highlightItem(n))},onItemMouseLeave:function(e){var t=this,n=t.lockedView,i=t.normalView;e.trackOver&&(e!==n&&(i=n),i.clearHighlight())},relayFn:function(e,t){t=t||[];var n=this.lockedView;n[e].apply(n,t),n=this.normalView,n[e].apply(n,t)},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(e,t){return this.normalView.getNode(e,t)},getCell:function(e,t){var n=this.getViewForColumn(t),i=n.getNode(e,!0);return Ext.fly(i).down(t.getCellSelector())},indexOf:function(e){var t=this.lockedView.indexOf(e);return t||(t=this.normalView.indexOf(e)),t},focus:function(){var e=this.getSelectionModel().getCurrentPosition(),t=e?e.view:this.normalView;t.focus()},focusRow:function(e){this.normalView.focusRow(e)},focusCell:function(e){e.view.focusCell(e)},isVisible:function(e){return this.panel.isVisible(e)},getRecord:function(e){var t=this.lockedView.getRecord(e);return t||(t=this.normalView.getRecord(e)),t},scrollBy:function(){var e=this.normalView;e.scrollBy.apply(e,arguments)},addElListener:function(){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var e=this,t=e.loadMask;e.clearListeners(),t&&t.bindStore&&t.bindStore(null)}}),Ext.define("Ext.grid.locking.Lockable",{alternateClassName:"Ext.grid.Lockable",syncRowHeight:!0,headerCounter:0,scrollDelta:40,lockedGridCls:Ext.baseCSSPrefix+"grid-inner-locked",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["invalidateScrollerOnRefresh","hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","columnLines","rowLines"],normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(e){var t,n,i,r,o,a=this;if(a.subGridXType)t=a.subGridXType;else{if(!e)return"gridpanel";n=this.getXTypes().split("/"),i=n.length,r=n[i-1],o=n[i-2],t="tablepanel"!==o?o:r}return t},injectLockable:function(){this.lockable=!0,this.hasView=!0;var e,t,n,i,r,o,a,s,l,d,c,u=this,h=Ext.getScrollbarSize().height,f=u.store=Ext.StoreManager.lookup(u.store),g=u.getSelectionModel(),p=u.findPlugin("bufferedrenderer");for(e=u.constructLockableFeatures(),u.features&&(u.features=null),t=u.constructLockablePlugins(),u.plugins=t.topPlugins,n=Ext.apply({id:u.id+"-locked",isLocked:!0,ownerLockable:u,xtype:u.determineXTypeToCreate(!0),store:f,scrollerOwner:!1,animate:!1,scroll:h?!1:"vertical",selModel:g,border:!1,cls:u.lockedGridCls,isLayoutRoot:function(){return!1},features:e.lockedFeatures,plugins:t.lockedPlugins},u.lockedGridConfig),i=Ext.apply({id:u.id+"-normal",isLocked:!1,ownerLockable:u,xtype:u.determineXTypeToCreate(),store:f,scrollerOwner:!1,selModel:g,border:!1,isLayoutRoot:function(){return!1},features:e.normalFeatures,plugins:t.normalPlugins},u.normalGridConfig),u.addCls(Ext.baseCSSPrefix+"grid-locked"),Ext.copyTo(i,u,u.bothCfgCopy,!0),Ext.copyTo(n,u,u.bothCfgCopy,!0),Ext.copyTo(i,u,u.normalCfgCopy,!0),Ext.copyTo(n,u,u.lockedCfgCopy,!0),r=0;r<u.normalCfgCopy.length;r++)delete u[u.normalCfgCopy[r]];for(r=0;r<u.lockedCfgCopy.length;r++)delete u[u.lockedCfgCopy[r]];u.addEvents("processcolumns","lockcolumn","unlockcolumn"),u.addStateEvents(["lockcolumn","unlockcolumn"]),o=u.processColumns(u.columns),n.width=o.lockedWidth+Ext.num(g.headerWidth,0)+(o.locked.items.length?1:0),n.columns=o.locked,i.columns=o.normal,i.flex=1,n.viewConfig=u.lockedViewConfig||{},n.viewConfig.loadingUseMsg=!1,n.viewConfig.loadMask=!1,h&&(n.viewConfig.style="border-bottom:"+h+"px solid #f6f6f6;"+(n.viewConfig.style||"")),i.viewConfig=u.normalViewConfig||{},i.viewConfig.loadMask=!1,Ext.applyIf(n.viewConfig,u.viewConfig),Ext.applyIf(i.viewConfig,u.viewConfig),u.lockedGrid=Ext.ComponentManager.create(n),u.isTree&&(u.lockedGrid.getView().animate=!1,i.store=u.lockedGrid.view.store,i.deferRowRender=!1,i.viewConfig.stripeRows=u.lockedGrid.view.stripeRows,i.rowLines=u.lockedGrid.rowLines),l=u.lockedGrid.getView(),i.viewConfig.lockingPartner=l,u.normalGrid=Ext.ComponentManager.create(i),l.lockingPartner=d=u.normalGrid.getView(),u.view=new Ext.grid.locking.View({loadingText:d.loadingText,loadingCls:d.loadingCls,loadingUseMsg:d.loadingUseMsg,loadMask:u.loadMask!==!1,locked:u.lockedGrid,normal:u.normalGrid,panel:u}),c=p?{}:{scroll:{fn:u.onLockedViewScroll,element:"el",scope:u}},h&&(u.lockedGrid.on({afterlayout:u.afterLockedViewLayout,scope:u}),l.getOverflowStyle(),l.scrollFlags.y?u.lockedGrid.headerCt.forceFit=!0:c.mousewheel={fn:u.onLockedViewMouseWheel,element:"el",scope:u}),l.on(c),c=p?{}:{scroll:{fn:u.onNormalViewScroll,element:"el",scope:u},scope:u},d.on(c),a=u.lockedGrid.headerCt,s=u.normalGrid.headerCt,u.headerCt=u.view.headerCt=new Ext.grid.locking.HeaderContainer(u),a.lockedCt=!0,a.lockableInjected=!0,s.lockableInjected=!0,a.on({add:{buffer:1,scope:u,fn:u.onLockedHeaderAdd},columnshow:u.onLockedHeaderShow,columnhide:u.onLockedHeaderHide,sortchange:u.onLockedHeaderSortChange,columnresize:u.onLockedHeaderResize,scope:u}),s.on({sortchange:u.onNormalHeaderSortChange,scope:u}),u.modifyHeaderCt(),u.items=[u.lockedGrid,u.normalGrid],u.relayHeaderCtEvents(a),u.relayHeaderCtEvents(s),u.storeRelayers=u.relayEvents(f,["filterchange"]),u.layout={type:"hbox",align:"stretch"}},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(e){var t,n,i,r=this.dummyHdrCtr||(this.self.prototype.dummyHdrCtr=new Ext.grid.header.Container),o=[],a=[],s={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:o},l={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:a},d={lockedWidth:0,locked:s,normal:l};for(Ext.isObject(e)&&(Ext.applyIf(s,e),Ext.applyIf(l,e),Ext.apply(r,e),e=e.items),t=0,n=e.length;n>t;++t)i=e[t],i.isComponent||(i=r.lookupComponent(r.applyDefaults(i))),i.processed=!0,i.locked||i.autoLock?(i.hidden||(d.lockedWidth+=this.getColumnWidth(i)||r.defaultWidth),o.push(i)):a.push(i),i.headerId||(i.headerId=(i.initialConfig||i).id||"h"+ ++this.headerCounter);return this.fireEvent("processcolumns",this,o,a),d},getColumnWidth:function(e){var t,n,i,r=e.width||0;if(!r&&e.isGroupHeader)for(t=e.items.items,n=t.length,i=0;n>i;i++)r+=this.getColumnWidth(t[i]);return r},afterLockedViewLayout:function(){var e=this,t=e.lockedGrid.getView(),n=t.el.dom,i=e.normalGrid.headerCt.tooNarrow?Ext.getScrollbarSize().height:0;t.scrollFlags.x&&n.scrollWidth>n.clientWidth&&(i=0),t.el.dom.style.borderBottomWidth=i+"px",Ext.isBorderBox||t.el.setHeight(t.lastBox.height)},onLockedViewMouseWheel:function(e){var t,n,i=this,r=-i.scrollDelta,o=r*e.getWheelDeltas().y,a=i.lockedGrid.getView().el.dom;i.ignoreMousewheel||(a&&(t=a.scrollTop!==a.scrollHeight-a.clientHeight,n=0!==a.scrollTop),(0>o&&n||o>0&&t)&&(e.stopEvent(),a.scrollTop+=o,i.normalGrid.getView().el.dom.scrollTop=a.scrollTop,i.onNormalViewScroll()))},onLockedViewScroll:function(){var e,t,n=this,i=n.lockedGrid.getView(),r=n.normalGrid.getView(),o=r.el.dom,a=i.el.dom;o.scrollTop!==a.scrollTop&&(o.scrollTop=a.scrollTop,n.store.buffered&&(t=i.el.child("table",!0),e=r.el.child("table",!0),e.style.position="absolute",e.style.top=t.style.top))},onNormalViewScroll:function(){var e,t,n=this,i=n.lockedGrid.getView(),r=n.normalGrid.getView(),o=r.el.dom,a=i.el.dom;o.scrollTop!==a.scrollTop&&(a.scrollTop=o.scrollTop,n.store.buffered&&(t=i.el.child("table",!0),e=r.el.child("table",!0),t.style.position="absolute",t.style.top=e.style.top))},syncRowHeights:function(){var e,t,n=this,i=n.lockedGrid.getView(),r=n.normalGrid.getView(),o=i.all.slice(),a=r.all.slice(),s=o.length;if(a.length===s){for(e=0;s>e;e++)r.syncRowHeights(o[e],a[e]);t=r.el.dom.scrollTop,r.el.dom.scrollTop=t,i.el.dom.scrollTop=t}},modifyHeaderCt:function(){var e=this;e.lockedGrid.headerCt.getMenuItems=e.getMenuItems(e.lockedGrid.headerCt.getMenuItems,!0),e.normalGrid.headerCt.getMenuItems=e.getMenuItems(e.normalGrid.headerCt.getMenuItems,!1),e.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(e.lockedGrid.headerCt.showMenuBy,e.showMenuBy),e.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(e.normalGrid.headerCt.showMenuBy,e.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(e,t){var n=this.getMenu(),i=n.down("#unlockItem"),r=n.down("#lockItem"),o=i.prev();t.lockable===!1?(o.hide(),i.hide(),r.hide()):(o.show(),i.show(),r.show(),i.initialConfig.disabled||i.setDisabled(t.lockable===!1),r.initialConfig.disabled||r.setDisabled(!t.isLockable()))},getMenuItems:function(e,t){var n=this,i=n.unlockText,r=n.lockText,o=Ext.baseCSSPrefix+"hmenu-unlock",a=Ext.baseCSSPrefix+"hmenu-lock",s=Ext.Function.bind(n.onUnlockMenuClick,n),l=Ext.Function.bind(n.onLockMenuClick,n);return function(){var n=e.call(this);return n.push("-",{itemId:"unlockItem",cls:o,text:i,handler:s,disabled:!t}),n.push({itemId:"lockItem",cls:a,text:r,handler:l,disabled:t}),n}},syncLockedWidth:function(){var e=this,t=e.lockedGrid,n=t.view,i=n.el.dom,r=e.normalGrid,o=t.headerCt.getVisibleGridColumns().length,a=r.headerCt.getVisibleGridColumns().length;return Ext.suspendLayouts(),a?(r.show(),o?(t.headerCt.forceFit||(delete t.flex,t.setWidth(t.headerCt.getFullWidth())),t.addCls(e.lockedGridCls),t.show()):(t.getView().refresh(),t.hide()),n.el.setStyle(n.getOverflowStyle()),e.ignoreMousewheel=n.scrollFlags.y):(r.hide(),i.style.borderBottomWidth="0",t.flex=1,delete t.width,t.removeCls(e.lockedGridCls),t.show(),n.el.setStyle(r.view.getOverflowStyle()),e.ignoreMousewheel=!0),Ext.resumeLayouts(!0),[o,a]},onLockedHeaderAdd:function(){this.ignoreAddLockedColumn||this.syncLockedWidth()},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(e,t,n){n&&this.normalGrid.headerCt.clearOtherSortStates(null,!0)},onNormalHeaderSortChange:function(e,t,n){n&&this.lockedGrid.headerCt.clearOtherSortStates(null,!0)},lock:function(e,t){var n,i,r=this,o=r.normalGrid,a=r.lockedGrid,s=o.headerCt,l=a.headerCt;e=e||s.getMenu().activeHeader,i=e.ownerCt,e.isLockable()&&(e.flex&&(e.width=e.getWidth(),e.flex=null),Ext.suspendLayouts(),i.remove(e,!1),e.locked=!0,r.ignoreAddLockedColumn=!0,Ext.isDefined(t)?l.insert(t,e):l.add(e),r.ignoreAddLockedColumn=!1,n=r.syncLockedWidth(),n[0]&&a.getView().refresh(),n[1]&&o.getView().refresh(),Ext.resumeLayouts(!0),r.fireEvent("lockcolumn",r,e))},unlock:function(e,t){var n,i=this,r=i.normalGrid,o=i.lockedGrid,a=r.headerCt,s=o.headerCt;Ext.isDefined(t)||(t=0),e=e||s.getMenu().activeHeader,Ext.suspendLayouts(),e.ownerCt.remove(e,!1),e.locked=!1,a.insert(t,e),n=i.syncLockedWidth(),n[0]&&o.getView().refresh(),n[1]&&r.getView().refresh(),Ext.resumeLayouts(!0),i.fireEvent("unlockcolumn",i,e)},reconfigureLockable:function(e,t){var n=this,i=n.store,r=n.lockedGrid,o=n.normalGrid;Ext.suspendLayouts(),t&&(r.headerCt.removeAll(),o.headerCt.removeAll(),t=n.processColumns(t),n.ignoreAddLockedColumn=!0,r.headerCt.add(t.locked.items),n.ignoreAddLockedColumn=!1,o.headerCt.add(t.normal.items),n.syncLockedWidth()),e&&e!==i?(e=Ext.data.StoreManager.lookup(e),n.store=e,r.bindStore(e),o.bindStore(e)):(r.getView().refresh(),o.getView().refresh()),Ext.resumeLayouts(!0)},constructLockableFeatures:function(){var e,t,n,i,r,o=this.features,a=0;if(o)for(n=[],i=[],r=o.length;r>a;a++)switch(e=o[a],e.isFeature||(e=Ext.create("feature."+e.ftype,e)),e.lockableScope){case"locked":n.push(e);break;case"normal":i.push(e);break;default:e.lockableScope="both",n.push(e),i.push(t=e.clone()),t.lockingPartner=e,e.lockingPartner=t}return{normalFeatures:i,lockedFeatures:n}},constructLockablePlugins:function(){var e,t,n,i,r,o,a,s=this.plugins,l=0;if(s)for(i=[],r=[],o=[],a=s.length;a>l;l++)switch(e=s[l],e.lockableScope){case"both":r.push(n=e.clonePlugin()),o.push(t=e.clonePlugin()),n.lockingPartner=t,t.lockingPartner=n,Ext.destroy(e);break;case"locked":r.push(e);break;case"normal":o.push(e);break;default:i.push(e)}return{topPlugins:i,normalPlugins:o,lockedPlugins:r}},destroyLockable:function(){Ext.destroy(this.view)}},function(){this.borrow(Ext.AbstractComponent,["constructPlugin"])}),Ext.define("Ext.tree.View",{extend:Ext.view.Table,alias:"widget.treeview",isTreeView:!0,loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",blockRefresh:!0,loadMask:!1,rootVisible:!0,deferInitialRefresh:!1,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,uiFields:["expanded","loaded","checked","expandable","leaf","icon","iconCls","loading","qtip","qtitle"],treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);",'delete values.rowAttr["data-qtip"];','delete values.rowAttr["data-qtitle"];',"%}",{priority:10,processRowValues:function(e){var t=e.record,n=e.view,i=t.get("qtip"),r=t.get("qttle");e.rowAttr={},i&&(e.rowAttr["data-qtip"]=i),r&&(e.rowAttr["data-qtitle"]=r),t.isExpanded()&&e.rowClasses.push(n.expandedCls),t.isLeaf()&&e.rowClasses.push(n.leafCls),t.isLoading()&&e.rowClasses.push(n.loadingCls)}}],initComponent:function(){var e=this,t=e.panel.getStore(),n=e.store;void 0===e.initialConfig.animate&&(e.animate=Ext.enableFx),n&&n!==t||(e.store=n=new Ext.data.NodeStore({treeStore:t,recursive:!0,rootVisible:e.rootVisible})),e.node&&e.setRootNode(e.node),e.animQueue={},e.animWraps={},e.addEvents("afteritemexpand","afteritemcollapse","nodedragover"),e.callParent(arguments),e.addRowTpl(Ext.XTemplate.getTpl(e,"treeRowTpl"))},onBeforeFill:function(){this.store.suspendEvents()},onFillComplete:function(e,t,n){var i=this,r=i.store,o=r.indexOf(n[0]);r.resumeEvents(),t.triggerUIUpdate(),n.length&&-1!==o&&(i.onAdd(i.store,n,o),i.refreshPartner())},onBeforeSort:function(){this.store.suspendEvents()},onSort:function(e){e.isStore&&(this.store.resumeEvents(),this.refresh(),this.refreshPartner())},refreshPartner:function(){var e=this.lockingPartner;e&&e.refresh()},getMaskStore:function(){return this.panel.getStore()},afterRender:function(){var e=this;e.callParent(arguments),e.el.on({scope:e,delegate:e.expanderSelector,mouseover:e.onExpanderMouseOver,mouseout:e.onExpanderMouseOut,click:{delegate:e.checkboxSelector,fn:e.onCheckboxChange,scope:e}})},afterComponentLayout:function(){this.callParent(arguments);var e=this.stretcher;e&&e.setWidth(this.getWidth()-Ext.getScrollbarSize().width)},processUIEvent:function(e){return e.getTarget("."+this.nodeAnimWrapCls,this.el)?!1:this.callParent(arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(e){var t=this;t.store.setNode(e),t.node=e},onCheckboxChange:function(e){var t=this,n=e.getTarget(t.getItemSelector(),t.getTargetEl());n&&t.onCheckChange(t.getRecord(n))},onCheckChange:function(e){var t=e.get("checked");Ext.isBoolean(t)&&(t=!t,e.set("checked",t),this.fireEvent("checkchange",e,t))},getChecked:function(){var e=[];return this.node.cascadeBy(function(t){t.get("checked")&&e.push(t)}),e},isItemChecked:function(e){return e.get("checked")},createAnimWrap:function(e){var t,n,i=this,r=i.getNode(e),o=[];return i.renderColumnSizer(o),n=Ext.get(r),t=n.insertSibling({tag:"tr",html:['<td colspan="'+i.panel.headerCt.getColumnCount()+'">','<div class="'+i.nodeAnimWrapCls+'">','<table class="'+Ext.baseCSSPrefix+i.id+"-table "+Ext.baseCSSPrefix+'grid-table" style="border:0" cellspacing="0" cellpadding="0">',o.join(""),"<tbody></tbody></table>","</div>","</td>"].join("")},"after"),{record:e,node:r,el:t,expanding:!1,collapsing:!1,animating:!1,animateEl:t.down("div"),targetEl:t.down("tbody")}
},getAnimWrap:function(e,t){if(!this.animate)return null;var n=this.animWraps,i=n[e.internalId];if(t!==!1)for(;!i&&e;)e=e.parentNode,e&&(i=n[e.internalId]);return i},doAdd:function(e,t){var n,i,r,o,a=this,s=a.bufferRender(e,t,!0),l=e[0],d=l.parentNode,c=a.all,u=a.getAnimWrap(d);return u&&u.expanding?(d=u.record,i=u.targetEl,r=i.dom.childNodes,o=r.length,n=t-a.indexInStore(d)-1,!o||n>=o?i.appendChild(s):Ext.fly(r[n]).insertSibling(s,"before",!0),c.insert(t,s),u.isAnimating&&a.onExpand(d),void 0):a.callParent(arguments)},onRemove:function(e,t,n){var i,r,o=this;if(o.viewReady){if(i=0===o.store.getCount())o.refresh();else for(r=n.length-1;r>=0;--r)o.doRemove(t[r],n[r]);if(o.hasListeners.itemremove)for(r=n.length-1;r>=0;--r)o.fireEvent("itemremove",t[r],n[r])}},doRemove:function(e,t){var n=this,i=n.all,r=n.getAnimWrap(e),o=i.item(t),a=o?o.dom:null;return a&&r&&r.collapsing?(r.targetEl.dom.insertBefore(a,r.targetEl.dom.firstChild),i.removeElement(t),void 0):n.callParent(arguments)},onBeforeExpand:function(e){var t,n=this;n.rendered&&n.all.getCount()&&n.animate&&n.getNode(e)&&(t=n.getAnimWrap(e,!1),t?t.collapsing&&t.targetEl.select(n.itemSelector).remove():(t=n.animWraps[e.internalId]=n.createAnimWrap(e),t.animateEl.setHeight(0)),t.expanding=!0,t.collapsing=!1)},onExpand:function(e){var t,n,i,r=this,o=r.animQueue,a=e.getId(),s=r.getNode(e),l=s?r.indexOf(s):-1,d=Ext.isIEQuirks?1:0;if(r.singleExpand&&r.ensureSingleExpand(e),-1!==l){if(t=r.getAnimWrap(e,!1),!t)return e.isExpandingOrCollapsing=!1,r.fireEvent("afteritemexpand",e,l,s),r.refreshSize(),void 0;n=t.animateEl,i=t.targetEl,n.stopAnimation(),o[a]=!0,n.dom.style.height=d+"px",n.animate({from:{height:d},to:{height:i.getHeight()},duration:r.expandDuration,listeners:{afteranimate:function(){var e=i.query(r.itemSelector);e.length&&t.el.insertSibling(e,"before",!0),t.el.remove(),r.refreshSize(),delete r.animWraps[t.record.internalId],delete o[a]}},callback:function(){e.isExpandingOrCollapsing=!1,r.fireEvent("afteritemexpand",e,l,s)}}),t.isAnimating=!0}},onBeforeCollapse:function(e,t,n,i,r){var o,a=this;a.rendered&&a.all.getCount()&&(a.animate?Ext.Array.contains(e.stores,a.store)&&(o=a.getAnimWrap(e),o?o.expanding&&o.targetEl.select(this.itemSelector).remove():o=a.animWraps[e.internalId]=a.createAnimWrap(e,n),o.expanding=!1,o.collapsing=!0,o.callback=i,o.scope=r):(a.onCollapseCallback=i,a.onCollapseScope=r))},onCollapse:function(e){var t,n=this,i=n.animQueue,r=e.getId(),o=n.getNode(e),a=o?n.indexOf(o):-1,s=n.getAnimWrap(e);if(n.all.getCount()&&Ext.Array.contains(e.stores,n.store)){if(!s)return e.isExpandingOrCollapsing=!1,n.fireEvent("afteritemcollapse",e,a,o),n.refreshSize(),Ext.callback(n.onCollapseCallback,n.onCollapseScope),n.onCollapseCallback=n.onCollapseScope=null,void 0;t=s.animateEl,i[r]=!0,t.stopAnimation(),t.animate({to:{height:Ext.isIEQuirks?1:0},duration:n.collapseDuration,listeners:{afteranimate:function(){s.el.remove(),n.refreshSize(),delete n.animWraps[s.record.internalId],delete i[r]}},callback:function(){e.isExpandingOrCollapsing=!1,n.fireEvent("afteritemcollapse",e,a,o),Ext.callback(s.callback,s.scope),s.callback=s.scope=null}}),s.isAnimating=!0}},isAnimating:function(e){return!!this.animQueue[e.getId()]},expand:function(e,t,n,i){var r,o=this,a=!!o.animate;return a&&e.isExpandingOrCollapsing?void 0:(e.isLeaf()||(e.isExpandingOrCollapsing=a),Ext.suspendLayouts(),r=e.expand(t,n,i),Ext.resumeLayouts(!0),r)},collapse:function(e,t,n,i){var r=this,o=!!r.animate;return o&&e.isExpandingOrCollapsing?void 0:(e.isLeaf()||(e.isExpandingOrCollapsing=o),e.collapse(t,n,i))},toggle:function(e,t,n,i){e.isExpanded()?this.collapse(e,t,n,i):this.expand(e,t,n,i)},onItemDblClick:function(e){var t=this,n=t.editingPlugin;t.callParent(arguments),!t.toggleOnDblClick||!e.isExpandable()||n&&2===n.clicksToEdit||t.toggle(e)},onBeforeItemMouseDown:function(e,t,n,i){return i.getTarget(this.expanderSelector,t)?!1:this.callParent(arguments)},onItemClick:function(e,t,n,i){return i.getTarget(this.expanderSelector,t)&&e.isExpandable()?(this.toggle(e,i.ctrlKey),!1):this.callParent(arguments)},onExpanderMouseOver:function(e){e.getTarget(this.cellSelector,10,!0).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(e){e.getTarget(this.cellSelector,10,!0).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){var e=this,t=e.callParent(arguments);return Ext.apply(t,{beforeexpand:e.onBeforeExpand,expand:e.onExpand,beforecollapse:e.onBeforeCollapse,collapse:e.onCollapse,write:e.onStoreWrite,datachanged:e.onStoreDataChanged})},onBindStore:function(){var e=this,t=e.getTreeStore();e.callParent(arguments),e.mon(t,{scope:e,beforefill:e.onBeforeFill,fillcomplete:e.onFillComplete}),t.remoteSort||e.mon(t,{scope:e,beforesort:e.onBeforeSort,sort:e.onSort})},onUnbindStore:function(){var e=this,t=e.getTreeStore();e.callParent(arguments),e.mun(t,{scope:e,beforefill:e.onBeforeFill,fillcomplete:e.onFillComplete}),t.remoteSort||e.mun(t,{scope:e,beforesort:e.onBeforeSort,sort:e.onSort})},getTreeStore:function(){return this.panel.store},ensureSingleExpand:function(e){var t=e.parentNode;t&&t.eachChild(function(t){t!==e&&t.isExpanded()&&t.collapse()})},shouldUpdateCell:function(e,t,n){if(n)for(var i=0,r=n.length;r>i;++i)if(Ext.Array.contains(this.uiFields,n[i]))return!0;return this.callParent(arguments)},onStoreWrite:function(e,t){var n=this.panel.store;n.fireEvent("write",n,t)},onStoreDataChanged:function(){var e=this.panel.store;e.fireEvent("datachanged",e)}}),Ext.define("Ext.grid.plugin.BufferedRendererTreeView",{override:"Ext.tree.View",onRemove:function(e,t,n){var i=this;i.rendered&&i.bufferedRenderer?i.refreshView():i.callParent([e,t,n])}}),Ext.define("Ext.grid.plugin.BufferedRenderer",{extend:Ext.AbstractPlugin,alias:"plugin.bufferedrenderer",lockableScope:"both",percentageFromEdge:.35,variableRowHeight:!1,numFromEdge:8,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:0,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,init:function(e){var t=this,n=e.view,i={scroll:{fn:t.onViewScroll,element:"el",scope:t},boxready:t.onViewResize,resize:t.onViewResize,refresh:t.onViewRefresh,scope:t,destroyable:!0};!t.variableRowHeight&&e.ownerLockable&&(e.ownerLockable.syncRowHeight=!1),(e.isTree||e.ownerLockable&&e.ownerLockable.isTree)&&(n.blockRefresh=!1,n.loadMask=!0),n.positionBody&&(i.refresh=t.onViewRefresh),t.grid=e,t.view=n,n.bufferedRenderer=t,n.preserveScrollOnRefresh=!0,t.bindStore(n.dataSource),n.getViewRange=function(){return t.getViewRange()},t.position=0,t.gridListeners=e.on("reconfigure",t.onReconfigure,t),t.viewListeners=n.on(i)},bindStore:function(e){var t=this;t.store&&t.unbindStore(),t.storeListeners=e.on({scope:t,clear:t.onStoreClear,destroyable:!0}),t.store=e,t.view.componentLayout.layoutCount&&t.onViewResize(t.view,0,t.view.getHeight())},onReconfigure:function(e,t){t&&t!==this.store&&this.bindStore(t)},unbindStore:function(){this.storeListeners.destroy(),this.store=null},onStoreClear:function(){var e=this;e.view.rendered&&!e.store.isDestroyed&&(0!==e.scrollTop&&(e.ignoreNextScrollEvent=!0,e.view.el.dom.scrollTop=e.bodyTop=e.scrollTop=0),e.position=e.scrollHeight=0,e.lastScrollDirection=e.scrollOffset=null,delete e.rowHeight)},onViewRefresh:function(){var e,t=this,n=t.view,i=t.scrollHeight;n.all.getCount()&&delete t.rowHeight,e=t.getScrollHeight(),i&&e==i||t.stretchView(n,e),t.scrollTop!==n.el.dom.scrollTop?t.onViewScroll():(t.setBodyTop(t.bodyTop),n.all.getCount()&&(t.viewSize=0,t.onViewResize(n,null,n.getHeight())))},onViewResize:function(e,t,n,i,r){if(!r||n!==r){var o,a=this;o=Math.ceil(n/a.rowHeight)+a.trailingBufferZone+a.leadingBufferZone,a.viewSize=a.setViewSize(o)}},stretchView:function(e,t){var n=this,i=n.store.buffered?n.store.getTotalCount():n.store.getCount();if(n.stretcher)n.stretcher.dom.style.marginTop=t-1+"px";else{var r=e.el;e.refreshCounter&&e.fixedNodes++,i&&n.view.all.endIndex===i-1&&(t=n.bodyTop+e.body.dom.offsetHeight),this.stretcher=r.createChild({style:{width:"1px",height:"1px",marginTop:t-1+"px",left:0,position:"absolute"}},r.dom.firstChild)}},setViewSize:function(e){if(e!==this.viewSize){this.scrollTop=this.view.el.dom.scrollTop;var t,n,i=this,r=i.store,o=i.view.all.getCount(),a=i.lockingPartner;i.viewSize=r.viewSize=e,o&&(t=i.view.all.startIndex,n=Math.min(t+e-1,(r.buffered?r.getTotalCount():r.getCount())-1),a&&a.disable(),i.renderRange(t,n),a&&a.enable())}return e},getViewRange:function(){var e=this,t=e.view.all,n=e.store;return n.data.getCount()?n.getRange(t.startIndex,t.startIndex+(e.viewSize||e.store.defaultViewSize)-1):[]},scrollTo:function(e,t,n,i){var r,o,a,s,l,d=this,c=d.view,u=c.el.dom,h=d.store,f=h.buffered?h.getTotalCount():h.getCount();e=Math.min(Math.max(e,0),f-1),r=Math.max(Math.min(e-(d.leadingBufferZone+d.trailingBufferZone)/2,f-d.viewSize+1),0),l=r*d.rowHeight,o=Math.min(r+d.viewSize-1,f-1),h.getRange(r,o,{callback:function(r,o,f){d.renderRange(o,f,!0),a=h.data.getRange(e,e)[0],s=c.getNode(a,!1),c.body.dom.style.top=l+"px",d.position=d.scrollTop=u.scrollTop=l=Math.min(Math.max(0,l-c.body.getOffsetsTo(s)[1]),u.scrollHeight-u.clientHeight),Ext.isIE&&(u.scrollTop=l),t&&c.selModel.select(a),n&&n.call(i||d,e,a)}})},onViewScroll:function(){var e,t,n=this,i=n.store,r=i.buffered?i.getTotalCount():i.getCount(),o=n.scrollTop=n.view.el.dom.scrollTop,a=!1;return n.ignoreNextScrollEvent?(n.ignoreNextScrollEvent=!1,void 0):(n.disabled||r<n.viewSize||(e=o-n.position,t=e>0?1:-1,(Math.abs(e)>=20||t!==n.lastScrollDirection)&&(n.lastScrollDirection=t,n.handleViewScroll(n.lastScrollDirection),a=!0)),a||n.lockingPartner&&n.lockingPartner.scrollTop!==o&&(n.lockingPartner.view.el.dom.scrollTop=o),void 0)},handleViewScroll:function(e){var t,n,i=this,r=i.view.all,o=i.store,a=i.viewSize,s=o.buffered?o.getTotalCount():o.getCount();return-1==e?r.startIndex&&i.getFirstVisibleRowIndex()-r.startIndex<i.numFromEdge&&(t=Math.max(0,i.getLastVisibleRowIndex()+i.trailingBufferZone-a)):r.endIndex<s-1&&r.endIndex-i.getLastVisibleRowIndex()<i.numFromEdge&&(t=Math.max(0,i.getFirstVisibleRowIndex()-i.trailingBufferZone)),null!=t&&(n=Math.min(t+a-1,s-1),t!==r.startIndex||n!==r.endIndex)?(i.renderRange(t,n),void 0):(i.lockingPartner&&i.lockingPartner.view.el&&i.lockingPartner.scrollTop!==i.scrollTop&&(i.lockingPartner.view.el.dom.scrollTop=i.scrollTop),void 0)},renderRange:function(e,t,n){var i=this,r=i.store;r.rangeCached(e,t)?(i.cancelLoad(),i.synchronousRender||n?i.onRangeFetched(null,e,t):(i.renderTask||(i.renderTask=new Ext.util.DelayedTask(i.onRangeFetched,i,null,!1)),i.renderTask.delay(1,null,null,[null,e,t]))):i.attemptLoad(e,t)},onRangeFetched:function(e,t,n,i){var r,o,a,s=this,l=s.view,d=l.all,c=0,u=t*s.rowHeight,h=s.lockingPartner;l.isDestroyed||(e||(e=s.store.getRange(t,n)))&&((t>d.endIndex||n<d.startIndex)&&(d.clear(!0),a=u),d.getCount()?n>d.endIndex?(o=Math.max(t-d.startIndex,0),s.variableRowHeight&&(c=d.item(d.startIndex+o,!0).offsetTop),d.scroll(Ext.Array.slice(e,d.endIndex+1-t),1,o,t,n),a=s.variableRowHeight?s.bodyTop+c:u):(o=Math.max(d.endIndex-n,0),r=d.startIndex,d.scroll(Ext.Array.slice(e,0,d.startIndex-t),-1,o,t,n),a=s.variableRowHeight?s.bodyTop-d.item(r,!0).offsetTop:u):l.doAdd(e,t),s.position=s.scrollTop,l.positionBody&&s.setBodyTop(a,u),!h||h.disabled||i||(h.onRangeFetched(e,t,n,!0),h.scrollTop!==s.scrollTop&&(h.view.el.dom.scrollTop=s.scrollTop)))},setBodyTop:function(e,t){var n,i=this,r=i.view,o=i.store,a=r.body.dom;e=Math.floor(e),void 0!==t&&(n=e-t,e=t),a.style.position="absolute",a.style.top=(i.bodyTop=e)+"px",n&&(i.scrollTop=i.position=r.el.dom.scrollTop-=n),r.all.endIndex===(o.buffered?o.getTotalCount():o.getCount())-1&&i.stretchView(r,i.bodyTop+a.offsetHeight)},getFirstVisibleRowIndex:function(e,t,n,i){var r,o,a=this,s=a.view,l=s.all,d=l.elements,c=s.el.dom.clientHeight;if(l.getCount()&&a.variableRowHeight){if(arguments.length)r=e+Math.floor((t-e)/2);else{if(e=l.startIndex,t=l.endIndex,n=a.scrollTop,i=n+c,a.bodyTop>i||a.bodyTop+s.body.getHeight()<n)return Math.floor(a.scrollTop/a.rowHeight);r=e+Math.min(a.numFromEdge+(-1==a.lastScrollDirection?a.leadingBufferZone:a.trailingBufferZone),Math.floor((t-e)/2))}if(o=a.bodyTop+d[r].offsetTop,o+d[r].offsetHeight<n)return a.getFirstVisibleRowIndex(r+1,t,n,i);if(n>=o)return r;if(r!==e)return a.getFirstVisibleRowIndex(e,r-1,n,i)}return Math.floor(a.scrollTop/a.rowHeight)},getLastVisibleRowIndex:function(e,t,n,i){var r,o,a,s=this,l=s.view,d=l.all,c=d.elements,u=l.el.dom.clientHeight;if(d.getCount()&&s.variableRowHeight){if(arguments.length)r=e+Math.floor((t-e)/2);else{if(e=d.startIndex,t=d.endIndex,n=s.scrollTop,i=n+u,s.bodyTop>i||s.bodyTop+l.body.getHeight()<n)return Math.floor(s.scrollTop/s.rowHeight)+Math.ceil(u/s.rowHeight);r=t-Math.min(s.numFromEdge+(1==s.lastScrollDirection?s.leadingBufferZone:s.trailingBufferZone),Math.floor((t-e)/2))}if(o=s.bodyTop+c[r].offsetTop,o>i)return s.getLastVisibleRowIndex(e,r-1,n,i);if(a=o+c[r].offsetHeight,a>=i)return r;if(r!==t)return s.getLastVisibleRowIndex(r+1,t,n,i)}return s.getFirstVisibleRowIndex()+Math.ceil(u/s.rowHeight)},getScrollHeight:function(){var e=this,t=e.view,n=e.store,i=!e.hasOwnProperty("rowHeight"),r=e.store.getCount();return r?(i&&t.all.getCount()&&(e.rowHeight=Math.floor(t.body.getHeight()/t.all.getCount())),this.scrollHeight=Math.floor((n.buffered?n.getTotalCount():n.getCount())*e.rowHeight)):0},attemptLoad:function(e,t){var n=this;n.scrollToLoadBuffer?(n.loadTask||(n.loadTask=new Ext.util.DelayedTask(n.doAttemptLoad,n,[])),n.loadTask.delay(n.scrollToLoadBuffer,n.doAttemptLoad,n,[e,t])):n.store.getRange(e,t,{callback:n.onRangeFetched,scope:n,fireEvent:!1})},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(e,t){this.store.getRange(e,t,{callback:this.onRangeFetched,scope:this,fireEvent:!1})},destroy:function(){var e=this,t=e.view;t&&t.el&&t.el.un("scroll",e.onViewScroll,e),Ext.destroy(e.viewListeners,e.storeListeners,e.gridListeners)}}),Ext.define("Ext.grid.plugin.Editing",{alias:"editing.editing",extend:Ext.AbstractPlugin,mixins:{observable:Ext.util.Observable},clicksToEdit:2,triggerEvent:void 0,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldXType:"textfield",editStyle:"",constructor:function(){var e=this;e.addEvents("beforeedit","edit","validateedit","canceledit"),e.callParent(arguments),e.mixins.observable.constructor.call(e),e.on("edit",function(t,n){e.fireEvent("afteredit",t,n)})},init:function(e){var t=this;t.grid=e,t.view=e.view,t.initEvents(),t.mon(e,{reconfigure:t.onReconfigure,scope:t,beforerender:{fn:t.onReconfigure,single:!0,scope:t}}),e.relayEvents(t,t.relayedEvents),t.grid.ownerLockable&&t.grid.ownerLockable.relayEvents(t,t.relayedEvents),e.isEditable=!0,e.editingPlugin=e.view.editingPlugin=t},onReconfigure:function(){var e=this.grid;e=e.ownerLockable?e.ownerLockable:e,this.initFieldAccessors(e.getView().getGridColumns())},destroy:function(){var e=this,t=e.grid;Ext.destroy(e.keyNav),e.clearListeners(),t&&(e.removeFieldAccessors(t.columnManager.getColumns()),t.editingPlugin=t.view.editingPlugin=e.grid=e.view=e.editor=e.keyNav=null)},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(e){e.isGroupHeader?e=e.getGridColumns():Ext.isArray(e)||(e=[e]);var t,n,i=this,r=e.length;for(t=0;r>t;t++)n=e[t],n.getEditor||(n.getEditor=function(e,t){return i.getColumnField(this,t)}),n.hasEditor||(n.hasEditor=function(){return i.hasColumnField(this)}),n.setEditor||(n.setEditor=function(e){i.setColumnField(this,e)})},removeFieldAccessors:function(e){e.isGroupHeader?e=e.getGridColumns():Ext.isArray(e)||(e=[e]);var t,n,i=e.length;for(t=0;i>t;t++)n=e[t],n.getEditor=n.hasEditor=n.setEditor=null},getColumnField:function(e,t){var n=e.field;return n&&n.isFormField||(n=e.field=this.createColumnField(e,t)),n},hasColumnField:function(e){return!!e.field},setColumnField:function(e,t){e.field=t,e.field=this.createColumnField(e)},createColumnField:function(e,t){var n=e.field;return!n&&e.editor&&(n=e.editor,e.editor=null),!n&&t&&(n=t),n&&(n.isFormField?n.column=e:(n=Ext.isString(n)?{name:e.dataIndex,xtype:n,column:e}:Ext.apply({name:e.dataIndex,column:e},n),n=Ext.ComponentManager.create(n,this.defaultFieldXType)),e.field=n),n},initEvents:function(){var e=this;e.initEditTriggers(),e.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var e=this,t=e.view;"cellfocus"==e.triggerEvent?e.mon(t,"cellfocus",e.onCellFocus,e):"rowfocus"==e.triggerEvent?e.mon(t,"rowfocus",e.onRowFocus,e):(t.getSelectionModel().isCellModel&&(t.onCellFocus=Ext.Function.bind(e.beforeViewCellFocus,e)),e.mon(t,e.triggerEvent||"cell"+(1===e.clicksToEdit?"click":"dblclick"),e.onCellClick,e)),e.initAddRemoveHeaderEvents(),t.on("render",e.initKeyNavHeaderEvents,e,{single:!0})},beforeViewCellFocus:function(e){!this.view.selModel.keyNavigation&&this.editing&&this.isCellEditable&&this.isCellEditable(e.row,e.columnHeader)||this.view.focusCell.apply(this.view,arguments)},onRowFocus:function(e,t){this.startEdit(t,0)},onCellFocus:function(e,t,n){this.startEdit(n.row,n.column)},onCellClick:function(e,t,n,i,r,o,a){e.expanderSelector&&a.getTarget(e.expanderSelector)||this.startEdit(i,e.ownerCt.columnManager.getHeaderAtIndex(n))},initAddRemoveHeaderEvents:function(){var e=this;e.mon(e.grid.headerCt,{scope:e,add:e.onColumnAdd,remove:e.onColumnRemove,columnmove:e.onColumnMove})},initKeyNavHeaderEvents:function(){var e=this;e.keyNav=Ext.create("Ext.util.KeyNav",e.view.el,{enter:e.onEnterKey,esc:e.onEscKey,scope:e})},onColumnAdd:function(e,t){this.initFieldAccessors(t)},onColumnRemove:function(e,t){this.removeFieldAccessors(t)},onColumnMove:function(e,t){this.initFieldAccessors(t)},onEnterKey:function(){var e,t,n,i=this,r=i.grid,o=r.getSelectionModel();o.getCurrentPosition&&(t=o.getCurrentPosition())?(e=t.record,n=t.columnHeader):(e=o.getLastSelected(),n=r.columnManager.getHeaderAtIndex(0)),e&&n&&i.startEdit(e,n)},onEscKey:function(){return this.cancelEdit()},beforeEdit:Ext.emptyFn,startEdit:function(e,t){var n,i=this,r=i.grid.lockable?i.grid:i.view;return r.componentLayoutCounter?i.grid.collapsed||!i.grid.view.isVisible(!0)?!1:(n=i.getEditingContext(e,t),null==n?!1:i.preventBeforeCheck||i.beforeEdit(n)!==!1&&i.fireEvent("beforeedit",i,n)!==!1&&!n.cancel?(i.editing=!0,n):!1):(r.on({boxready:Ext.Function.bind(i.startEdit,i,[e,t]),single:!0}),!1)},getEditingContext:function(e,t){var n,i,r=this,o=r.grid,a=r.view,s=a.getNode(e,!0);if(s&&(t=o.columnManager.getVisibleHeaderClosestToIndex(Ext.isNumber(t)?t:t.getVisibleIndex()),t&&(i=t.getVisibleIndex(),Ext.isNumber(e)?(n=e,e=a.getRecord(s)):n=a.indexOf(s),e)))return{grid:o,view:a,store:a.dataSource,record:e,field:t.dataIndex,value:e.get(t.dataIndex),row:s,column:t,rowIdx:n,colIdx:i}},cancelEdit:function(){var e=this;e.editing=!1,e.fireEvent("canceledit",e,e.context)},completeEdit:function(){var e=this;e.editing&&e.validateEdit()&&e.fireEvent("edit",e,e.context),e.context=null,e.editing=!1},validateEdit:function(){var e=this,t=e.context;return e.fireEvent("validateedit",e,t)!==!1&&!t.cancel}}),Ext.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:Ext.grid.plugin.Editing,lockableScope:"both",init:function(){var e=this,t=e.lockingPartner;e.callParent(arguments),e.editors=t?t.editors?t.editors:t.editors=new Ext.util.MixedCollection(!1,function(e){return e.editorId}):new Ext.util.MixedCollection(!1,function(e){return e.editorId})},onReconfigure:function(e,t,n){n&&this.editors.clear(),this.callParent()},destroy:function(){var e=this;e.editors&&(e.editors.each(Ext.destroy,Ext),e.editors.clear()),e.callParent(arguments)},onBodyScroll:function(){var e=this,t=e.getActiveEditor(),n=e.view.el.getScroll();t&&t.editing&&t.editingPlugin===e&&(n.top!==e.scroll.top?t.field&&(t.field.triggerBlur?t.field.triggerBlur():t.field.blur()):t.realign()),e.scroll=n},initCancelTriggers:function(){var e=this,t=e.grid,n=t.view;e.mon(n,"bodyscroll",e.onBodyScroll,e),e.mon(t,{columnresize:e.cancelEdit,columnmove:e.cancelEdit,scope:e})},isCellEditable:function(e,t){var n=this,i=n.getEditingContext(e,t);return n.grid.view.isVisible(!0)&&i&&(t=i.column,e=i.record,t&&n.getEditor(e,t))?!0:void 0},startEdit:function(e,t,n){var i,r=this;return n||(r.preventBeforeCheck=!0,n=r.callParent(arguments),delete r.preventBeforeCheck,n!==!1)?n&&r.grid.view.isVisible(!0)?(e=n.record,t=n.column,r.completeEdit(),t&&!t.getEditor(e)?!1:(r.context=n,n.originalValue=n.value=e.get(t.dataIndex),r.beforeEdit(n)===!1||r.fireEvent("beforeedit",r,n)===!1||n.cancel?!1:(i=r.getEditor(e,t),r.grid.view.cancelFocus(),r.view.scrollCellIntoView(r.getCell(e,t)),i?(r.showEditor(i,n,n.value),!0):!1))):void 0:!1},showEditor:function(e,t,n){var i=this,r=t.record,o=t.column,a=i.grid.getSelectionModel(),s=a.getCurrentPosition(),l=s&&s.view;return l&&l!==i.view?i.lockingPartner.showEditor(e,i.lockingPartner.getEditingContext(s.record,s.columnHeader),n):(i.setEditingContext(t),i.setActiveEditor(e),i.setActiveRecord(r),i.setActiveColumn(o),!a.selectByPosition||s&&s.column===t.colIdx&&s.row===t.rowIdx||a.selectByPosition({row:t.rowIdx,column:t.colIdx,view:i.view}),e.startEdit(i.getCell(r,o),n,t),i.editing=!0,i.scroll=i.view.el.getScroll(),void 0)},completeEdit:function(){var e=this.getActiveEditor();e&&(e.completeEdit(),this.editing=!1)},setEditingContext:function(e){this.context=e,this.lockingPartner&&(this.lockingPartner.context=e)},setActiveEditor:function(e){this.activeEditor=e,this.lockingPartner&&(this.lockingPartner.activeEditor=e)},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(e){this.activeColumn=e,this.lockingPartner&&(this.lockingPartner.activeColumn=e)},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(e){this.activeRecord=e,this.lockingPartner&&(this.lockingPartner.activeRecord=e)},getActiveRecord:function(){return this.activeRecord},getEditor:function(e,t){var n=this,i=n.editors,r=t.getItemId(),o=i.getByKey(r),a=n.grid.ownerLockable||n.grid;if(!o){if(o=t.getEditor(e),!o)return!1;o instanceof Ext.grid.CellEditor?o.floating=!0:o=new Ext.grid.CellEditor({floating:!0,editorId:r,field:o}),a.add(o),o.on({scope:n,specialkey:n.onSpecialKey,complete:n.onEditComplete,canceledit:n.cancelEdit}),t.on("removed",n.cancelActiveEdit,n),i.add(o)}return t.isTreeColumn&&(o.isForTree=t.isTreeColumn,o.addCls(Ext.baseCSSPrefix+"tree-cell-editor")),o.grid=n.grid,o.editingPlugin=n,o},cancelActiveEdit:function(e){var t=this.context;t&&t.column===e&&this.cancelEdit()},setColumnField:function(e){var t=this.editors.getByKey(e.getItemId());Ext.destroy(t,e.field),this.editors.removeAtKey(e.getItemId()),this.callParent(arguments)},getCell:function(e,t){return this.grid.getView().getCell(e,t)},onSpecialKey:function(e,t,n){var i;return n.getKey()===n.TAB&&(n.stopEvent(),e&&e.onEditorTab(n),i=e.up("tablepanel").getSelectionModel(),i.onEditorTab)?i.onEditorTab(e.editingPlugin,n):void 0},onEditComplete:function(e,t,n){var i,r=this,o=r.getActiveColumn(),a=r.context;if(o){if(i=a.record,r.setActiveEditor(null),r.setActiveColumn(null),r.setActiveRecord(null),a.value=t,!r.validateEdit())return;i.isEqual(t,n)||i.set(o.dataIndex,t),a.view.focus(!1,!0),r.fireEvent("edit",r,a),r.editing=!1}},cancelEdit:function(){var e=this,t=e.getActiveEditor();return e.setActiveEditor(null),e.setActiveColumn(null),e.setActiveRecord(null),t?(t.cancelEdit(),e.context.view.focus(),e.callParent(arguments),void 0):!0},startEditByPosition:function(e){return e.isCellContext||(e=new Ext.grid.CellContext(this.view).setPosition(e)),e.setColumn(this.view.getHeaderCt().getVisibleHeaderClosestToIndex(e.column).getIndex()),this.startEdit(e.record,e.columnHeader)}}),Ext.define("Ext.grid.plugin.DivRenderer",{alias:"plugin.divrenderer",extend:Ext.AbstractPlugin,tableTpl:['<div id="{view.id}-table" class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" style="{tableStyle}">',"{%","values.view.renderRows(values.rows, values.viewStartIndex, out);","%}","</div>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<dl {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','style="position:relative" ',"{rowAttr:attributes}>",'<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</dl>",{priority:0}],cellTpl:['<dt class="{tdCls}" {tdAttr} data-cellIndex="{cellIndex}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner"','style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>',"</dt>",{priority:0}],selectors:{bodySelector:"div",nodeContainerSelector:"div",itemSelector:"dl."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"dl."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"dt."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainerSelector:function(){return this.getBodySelector()},getNodeContainer:function(){return this.el.getById(this.id+"-table",!0)}},init:function(e){var t=e.getView();t.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl"),t.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl"),t.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl"),Ext.apply(t,this.selectors)}}),Ext.define("Ext.grid.plugin.DragDrop",{extend:Ext.AbstractPlugin,alias:"plugin.gridviewdragdrop",dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:!0,enableDrag:!0,containerScroll:!1,init:function(e){e.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){var e=this;e.dragZone&&e.dragZone.unlock(),e.dropZone&&e.dropZone.unlock(),e.callParent()},disable:function(){var e=this;e.dragZone&&e.dragZone.lock(),e.dropZone&&e.dropZone.lock(),e.callParent()},onViewRender:function(e){var t,n=this;n.enableDrag&&(n.containerScroll&&(t=e.getEl()),n.dragZone=new Ext.view.DragZone({view:e,ddGroup:n.dragGroup||n.ddGroup,dragText:n.dragText,containerScroll:n.containerScroll,scrollEl:t})),n.enableDrop&&(n.dropZone=new Ext.grid.ViewDropZone({view:e,ddGroup:n.dropGroup||n.ddGroup}))}}),Ext.define("Ext.grid.plugin.RowEditing",{extend:Ext.grid.plugin.Editing,alias:"plugin.rowediting",lockableScope:"top",editStyle:"row",autoCancel:!0,errorSummary:!0,constructor:function(){var e=this;e.callParent(arguments),e.clicksToMoveEditor||(e.clicksToMoveEditor=e.clicksToEdit),e.autoCancel=!!e.autoCancel},destroy:function(){Ext.destroy(this.editor),this.callParent(arguments)},startEdit:function(){var e,t=this,n=t.getEditor();return n.beforeEdit()!==!1&&(e=t.callParent(arguments))?(t.context=e,t.lockingPartner&&t.lockingPartner.cancelEdit(),n.startEdit(e.record,e.column,e),!0):!1},cancelEdit:function(){var e=this;return e.editing?(e.getEditor().cancelEdit(),e.callParent(arguments),void 0):!0},completeEdit:function(){var e=this;e.editing&&e.validateEdit()&&(e.editing=!1,e.fireEvent("edit",e,e.context))},validateEdit:function(){var e,t,n,i=this,r=i.editor,o=i.context,a=o.record,s={},l={},d=r.query(">[isFormField]"),c=d.length;for(e=0;c>e;e++)n=d[e],t=n.name,s[t]=n.getValue(),l[t]=a.get(t);return Ext.apply(o,{newValues:s,originalValues:l}),i.callParent(arguments)&&i.getEditor().completeEdit()},getEditor:function(){var e=this;return e.editor||(e.editor=e.initEditor()),e.editor},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){var e,t,n=this,i=n.grid,r=n.view,o=i.headerCt,a=["saveBtnText","cancelBtnText","errorsText","dirtyText"],s=a.length,l={autoCancel:n.autoCancel,errorSummary:n.errorSummary,fields:o.getGridColumns(),hidden:!0,view:r,editingPlugin:n};for(e=0;s>e;e++)t=a[e],Ext.isDefined(n[t])&&(l[t]=n[t]);return l},initEditTriggers:function(){var e=this,t=e.view,n=1===e.clicksToMoveEditor?"click":"dblclick";e.callParent(arguments),e.clicksToMoveEditor!==e.clicksToEdit&&e.mon(t,"cell"+n,e.moveEditorByClick,e),t.on({render:function(){e.mon(e.grid.headerCt,{scope:e,columnresize:e.onColumnResize,columnhide:e.onColumnHide,columnshow:e.onColumnShow})},single:!0})},startEditByClick:function(){var e=this;e.editing&&e.clicksToMoveEditor!==e.clicksToEdit||e.callParent(arguments)},moveEditorByClick:function(){var e=this;e.editing&&e.superclass.onCellClick.apply(e,arguments)},onColumnAdd:function(e,t){if(t.isHeader){var n,i=this;i.initFieldAccessors(t),n=i.editor,n&&n.onColumnAdd&&n.onColumnAdd(t)}},onColumnRemove:function(e,t){if(t.isHeader){var n=this,i=n.getEditor();i&&i.onColumnRemove&&i.onColumnRemove(e,t),n.removeFieldAccessors(t)}},onColumnResize:function(e,t,n){if(t.isHeader){var i=this,r=i.getEditor();r&&r.onColumnResize&&r.onColumnResize(t,n)}},onColumnHide:function(e,t){var n=this,i=n.getEditor();i&&i.onColumnHide&&i.onColumnHide(t)},onColumnShow:function(e,t){var n=this,i=n.getEditor();i&&i.onColumnShow&&i.onColumnShow(t)},onColumnMove:function(e,t,n,i){var r=this,o=r.getEditor();r.initFieldAccessors(t),o&&o.onColumnMove&&o.onColumnMove(t,n,i)},setColumnField:function(e){var t=this,n=t.getEditor();n.removeField(e),t.callParent(arguments),t.getEditor().setField(e)}}),Ext.define("Ext.grid.plugin.RowExpander",{extend:Ext.AbstractPlugin,lockableScope:"normal",alias:"plugin.rowexpander",rowBodyTpl:null,expandOnEnter:!0,expandOnDblClick:!0,selectRowOnExpand:!1,rowBodyTrSelector:".x-grid-rowbody-tr",rowBodyHiddenCls:"x-grid-row-body-hidden",rowCollapsedCls:"x-grid-row-collapsed",addCollapsedCls:{before:function(e){var t=this.rowExpander;t.recordsExpanded[e.record.internalId]||e.itemClasses.push(t.rowCollapsedCls)},priority:500},setCmp:function(e){var t,n,i=this;i.callParent(arguments),i.recordsExpanded={},i.rowBodyTpl=Ext.XTemplate.getTpl(i,"rowBodyTpl"),t=this.rowBodyTpl,n=[{ftype:"rowbody",lockableScope:"normal",recordsExpanded:i.recordsExpanded,rowBodyHiddenCls:i.rowBodyHiddenCls,rowCollapsedCls:i.rowCollapsedCls,setupRowData:i.getRowBodyFeatureData,setup:i.setup,getRowBodyContents:function(e){return t.applyTemplate(e.getData())}},{ftype:"rowwrap",lockableScope:"normal"}],e.features=e.features?Ext.Array.push(n,e.features):n},init:function(e){var t,n,i=this,r=e;i.callParent(arguments),i.grid=e,t=i.view=e.getView(),i.addExpander(),i.bindView(t),t.addRowTpl(i.addCollapsedCls).rowExpander=i,e.ownerLockable&&(r=e.ownerLockable,r.syncRowHeight=!1,n=r.lockedGrid.getView(),i.bindView(n),n.addRowTpl(i.addCollapsedCls).rowExpander=i,r.mon(r,"columnschanged",i.refreshRowHeights,i),r.mon(r.store,"datachanged",i.refreshRowHeights,i)),r.on("beforereconfigure",i.beforeReconfigure,i),e.ownerLockable&&!e.rowLines&&t.on("rowfocus",i.refreshRowHeights,i)},beforeReconfigure:function(e,t,n){var i=this.getHeaderConfig();i.locked=!0,n.unshift(i)},addExpander:function(){var e=this,t=e.grid,n=e.getHeaderConfig();t.ownerLockable&&(t=t.ownerLockable.lockedGrid,t.width+=n.width),t.headerCt.insert(0,n)},getRowBodyFeatureData:function(e,t,n){var i=this;i.self.prototype.setupRowData.apply(i,arguments),n.rowBody=i.getRowBodyContents(e),n.rowBodyCls=i.recordsExpanded[e.internalId]?"":i.rowBodyHiddenCls},setup:function(e,t){var n=this;n.self.prototype.setup.apply(n,arguments),n.grid.ownerLockable||(t.rowBodyColspan-=1)},bindView:function(e){this.expandOnEnter&&e.on("itemkeydown",this.onKeyDown,this),this.expandOnDblClick&&e.on("itemdblclick",this.onDblClick,this)},onKeyDown:function(e,t,n,i,r){if(r.getKey()==r.ENTER)for(var o=e.store,a=e.getSelectionModel().getSelection(),s=a.length,l=0;s>l;l++)i=o.indexOf(a[l]),this.toggleRow(i,a[l])},onDblClick:function(e,t,n,i){this.toggleRow(i,t)},toggleRow:function(e,t){var n,i,r,o=this,a=o.view,s=a.getNode(e),l=Ext.fly(s,"_rowExpander"),d=l.down(o.rowBodyTrSelector,!0),c=l.hasCls(o.rowCollapsedCls),u=c?"removeCls":"addCls";Ext.suspendLayouts(),l[u](o.rowCollapsedCls),Ext.fly(d)[u](o.rowBodyHiddenCls),o.recordsExpanded[t.internalId]=c,a.refreshSize(),o.grid.ownerLockable?(n=o.grid.ownerLockable,r=n.getView(),a=n.lockedGrid.view,i=l.getHeight(),l=Ext.fly(a.getNode(e),"_rowExpander"),l.setHeight(i),l[u](o.rowCollapsedCls),a.refreshSize()):r=a,r.fireEvent(c?"expandbody":"collapsebody",l.dom,t,d),Ext.resumeLayouts(!0)
},refreshRowHeights:function(){Ext.globalEvents.on({idle:this.doRefreshRowHeights,scope:this,single:!0})},doRefreshRowHeights:function(){var e,t,n,i,r,o,a=this,s=a.recordsExpanded,l=a.grid.ownerLockable.lockedGrid.view,d=a.grid.ownerLockable.normalGrid.view;for(e in s)s.hasOwnProperty(e)&&(t=this.view.store.data.get(e),i=l.getNode(t,!1),n=d.getNode(t,!1),i.style.height=n.style.height="",r=i.offsetHeight,o=n.offsetHeight,o>r?i.style.height=o+"px":r>o&&(n.style.height=r+"px"))},getHeaderConfig:function(){var e=this;return{width:24,lockable:!1,sortable:!1,resizable:!1,draggable:!1,hideable:!1,menuDisabled:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-expander",renderer:function(t,n){return e.grid.ownerLockable||(n.tdAttr+=' rowspan="2"'),'<div class="'+Ext.baseCSSPrefix+'grid-row-expander"></div>'},processEvent:function(t,n,i,r,o,a,s){return"mousedown"==t&&a.getTarget(".x-grid-row-expander")?(e.toggleRow(r,s),e.selectRowOnExpand):void 0}}}}),Ext.define("Ext.grid.property.Grid",{extend:Ext.grid.Panel,alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",valueField:"value",nameField:"name",inferTypes:!0,enableColumnMove:!1,columnLines:!0,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,gridCls:Ext.baseCSSPrefix+"property-grid",initComponent:function(){var e=this;e.source=e.source||{},e.addCls(e.gridCls),e.plugins=e.plugins||[],e.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:e.clicksToEdit,startEdit:function(t){return this.self.prototype.startEdit.call(this,t,e.headerCt.child("#"+e.valueField))}})),e.selModel={selType:"cellmodel",onCellSelect:function(e){return 1!=e.column&&(e.column=1),this.self.prototype.onCellSelect.call(this,e)}},e.sourceConfig=Ext.apply({},e.sourceConfig),e.store||(e.propStore=e.store=new Ext.grid.property.Store(e,e.source)),e.configure(e.sourceConfig),e.sortableColumns&&e.store.sort("name","ASC"),e.columns=new Ext.grid.property.HeaderContainer(e,e.store),e.addEvents("beforepropertychange","propertychange"),e.callParent(),e.getView().walkCells=this.walkCells,e.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:!0})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:!0})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:!0})}),"boolean":new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:!1,store:[[!0,e.headerCt.trueText],[!1,e.headerCt.falseText]]})})},e.store.on("update",e.onUpdate,e)},configure:function(e){var t,n,i,r,o=this,a=o.store,s=0,l=o.store.getCount(),d=o.nameField,c=o.valueField;if(o.configureLegacy(e),o.inferTypes)for(;l>s;++s)i=a.getAt(s),t=i.get(d),o.getConfig(t,"type")||(n=i.get(c),r=Ext.isDate(n)?"date":Ext.isNumber(n)?"number":Ext.isBoolean(n)?"boolean":"string",o.setConfig(t,"type",r))},getConfig:function(e,t,n){var i,r=this.sourceConfig[e];return r&&(i=r[t]),i||n},setConfig:function(e,t,n){var i=this.sourceConfig,r=i[e];return r?r.__copied||(r=Ext.apply({__copied:!0},r),i[e]=r):r=i[e]={__copied:!0},r[t]=n,n},configureLegacy:function(e){var t=this;t.copyLegacyObject(e,t.customRenderers,"renderer"),t.copyLegacyObject(e,t.customEditors,"editor"),t.copyLegacyObject(e,t.propertyNames,"displayName")},copyLegacyObject:function(e,t,n){var i;for(i in t)t.hasOwnProperty(i)&&(e[i]||(e[i]={}),e[i][n]=t[i])},onUpdate:function(e,t,n){var i,r,o=this;o.rendered&&n==Ext.data.Model.EDIT&&(i=t.get(o.valueField),r=t.modified.value,o.fireEvent("beforepropertychange",o.source,t.getId(),i,r)!==!1?(o.source&&(o.source[t.getId()]=i),t.commit(),o.fireEvent("propertychange",o.source,t.getId(),i,r)):t.reject())},walkCells:function(e,t,n,i,r,o){return"left"==t?t="up":"right"==t&&(t="down"),e=Ext.view.Table.prototype.walkCells.call(this,e,t,n,i,r,o),e&&!e.column&&(e.column=1),e},getCellEditor:function(e){var t=this,n=e.get(t.nameField),i=e.get(t.valueField),r=t.getConfig(n,"editor"),o=t.getConfig(n,"type"),a=t.editors;if(r)r instanceof Ext.grid.CellEditor||(r instanceof Ext.form.field.Base||(r=Ext.ComponentManager.create(r,"textfield")),r=t.setConfig(n,"editor",new Ext.grid.CellEditor({field:r})));else if(o)switch(o){case"date":r=a.date;break;case"number":r=a.number;break;case"boolean":r=t.editors["boolean"];break;default:r=a.string}else r=Ext.isDate(i)?a.date:Ext.isNumber(i)?a.number:Ext.isBoolean(i)?a["boolean"]:a.string;return r.editorId=n,r},beforeDestroy:function(){var e=this;e.callParent(),e.destroyEditors(e.editors),e.destroyEditors(e.customEditors),delete e.source},destroyEditors:function(e){for(var t in e)e.hasOwnProperty(t)&&Ext.destroy(e[t])},setSource:function(e,t){var n=this;n.source=e,void 0!==t&&(n.sourceConfig=Ext.apply({},t),n.configure(n.sourceConfig)),n.propStore.setSource(e)},getSource:function(){return this.propStore.getSource()},setProperty:function(e,t,n){this.propStore.setValue(e,t,n)},removeProperty:function(e){this.propStore.remove(e)}}),Ext.define("Ext.grid.property.HeaderContainer",{extend:Ext.grid.header.Container,alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",nameColumnInnerCls:Ext.baseCSSPrefix+"grid-cell-inner-property-name",constructor:function(e,t){var n=this;n.grid=e,n.store=t,n.callParent([{isRootHeader:!0,enableColumnResize:Ext.isDefined(e.enableColumnResize)?e.enableColumnResize:n.enableColumnResize,enableColumnMove:Ext.isDefined(e.enableColumnMove)?e.enableColumnMove:n.enableColumnMove,items:[{header:n.nameText,width:e.nameColumnWidth||n.nameWidth,sortable:e.sortableColumns,dataIndex:e.nameField,renderer:Ext.Function.bind(n.renderProp,n),itemId:e.nameField,menuDisabled:!0,tdCls:n.nameColumnCls,innerCls:n.nameColumnInnerCls},{header:n.valueText,renderer:Ext.Function.bind(n.renderCell,n),getEditor:Ext.Function.bind(n.getCellEditor,n),sortable:e.sortableColumns,flex:1,fixed:!0,dataIndex:e.valueField,itemId:e.valueField,menuDisabled:!0}]}])},getCellEditor:function(e){return this.grid.getCellEditor(e,this)},renderProp:function(e){return this.getPropertyName(e)},renderCell:function(e,t,n){var i=this,r=i.grid,o=r.getConfig(n.get(r.nameField),"renderer"),a=e;return o?o.apply(i,arguments):(Ext.isDate(e)?a=i.renderDate(e):Ext.isBoolean(e)&&(a=i.renderBool(e)),Ext.util.Format.htmlEncode(a))},renderDate:Ext.util.Format.date,renderBool:function(e){return this[e?"trueText":"falseText"]},getPropertyName:function(e){return this.grid.getConfig(e,"displayName",e)}}),Ext.define("Ext.grid.property.Property",{extend:Ext.data.Model,alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"}),Ext.define("Ext.grid.property.Store",{extend:Ext.data.Store,alternateClassName:"Ext.grid.PropertyStore",sortOnLoad:!1,constructor:function(e,t){var n=this;n.grid=e,n.source=t,n.callParent([{data:t,model:Ext.grid.property.Property,proxy:n.getProxy()}])},getProxy:function(){return this.proxy||(Ext.grid.property.Store.prototype.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})),this.proxy},getReader:function(){return this.reader||(Ext.grid.property.Store.prototype.reader=new Ext.data.reader.Reader({model:Ext.grid.property.Property,buildExtractors:Ext.emptyFn,read:function(e){return this.readRecords(e)},readRecords:function(e){var t,n,i={records:[],success:!0};for(n in e)e.hasOwnProperty(n)&&(t=e[n],this.isEditableValue(t)&&i.records.push(new Ext.grid.property.Property({name:n,value:t},n)));return i.total=i.count=i.records.length,new Ext.data.ResultSet(i)},isEditableValue:function(e){return Ext.isPrimitive(e)||Ext.isDate(e)||null===e}})),this.reader},setSource:function(e){var t=this;t.source=e,t.suspendEvents(),t.removeAll(),t.proxy.data=e,t.load(),t.resumeEvents(),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)},getProperty:function(e){return Ext.isNumber(e)?this.getAt(e):this.getById(e)},setValue:function(e,t,n){var i=this,r=i.getRec(e);r?(r.set("value",t),i.source[e]=t):n&&(i.source[e]=t,r=new Ext.grid.property.Property({name:e,value:t},e),i.add(r))},remove:function(e){var t=this.getRec(e);t&&(this.callParent([t]),delete this.source[e])},getRec:function(e){return this.getById(e)},getSource:function(){return this.source}}),Ext.define("Ext.layout.ClassList",function(){var e=Ext.String.splitWords,t=Ext.Array.toMap;return{dirty:!1,constructor:function(n){this.owner=n,this.map=t(this.classes=e(n.el.className))},add:function(e){var t=this;t.map[e]||(t.map[e]=!0,t.classes.push(e),t.dirty||(t.dirty=!0,t.owner.markDirty()))},addMany:function(t){Ext.each(e(t),this.add,this)},contains:function(e){return this.map[e]},flush:function(){this.owner.el.className=this.classes.join(" "),this.dirty=!1},remove:function(e){var t=this;t.map[e]&&(delete t.map[e],t.classes=Ext.Array.filter(t.classes,function(t){return t!=e}),t.dirty||(t.dirty=!0,t.owner.markDirty()))},removeMany:function(n){var i=this,r=t(e(n));i.classes=Ext.Array.filter(i.classes,function(e){return r[e]?(delete i.map[e],i.dirty||(i.dirty=!0,i.owner.markDirty()),!1):!0})}}}()),Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(e){var t=this,n=t.getKey(e);return t.map[n]||(++t.length,t.items.push(e),t.map[n]=e),e},clear:function(){var e=this,t=e.items;return e.items=[],e.map={},e.length=0,t},contains:function(e){var t=this.getKey(e);return this.map.hasOwnProperty(t)},getCount:function(){return this.length},getKey:function(e){return e.id},remove:function(e){var t,n=this,i=n.getKey(e),r=n.items;return n.map[i]&&(t=Ext.Array.indexOf(r,e),Ext.Array.erase(r,t,1),delete n.map[i],--n.length),e}}),Ext.define("Ext.layout.ContextItem",{heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,isBorderBoxValue:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f,g,p=this,m=Ext.layout.SizeModel.sizeModels,x=m.configured,y=m.shrinkWrap;Ext.apply(p,e),t=p.el,p.id=t.id,p.flushedProps={},p.props=o={},p.styles={},s=p.target,s.isComponent?(p.wrapsComponent=!0,p.framing=s.frameSize||null,p.isComponentChild=s.ownerLayout&&s.ownerLayout.isComponentLayout,n=s.lastBox,i=s.ownerCt,i&&(r=i.el&&p.context.items[i.el.id])&&(p.ownerCtContext=r),p.sizeModel=a=s.getSizeModel(r&&r.widthModel.pairsByHeightOrdinal[r.heightModel.ordinal]),p.widthModel=h=a.width,p.heightModel=f=a.height,n&&n.invalid===!1&&(c=s.width===(l=n.width),u=s.height===(d=n.height),h===y&&f===y?g=!0:h===x&&c&&(g=f===y||f===x&&u),g&&(p.optOut=!0,o.width=l,o.height=d))):n=t.lastBox,p.lastBox=n},init:function(e,t){var n,i,r,o,a,s,l,d,c=this,u=c.props,h=c.dirty,f=c.ownerCtContext,g=c.target.ownerLayout,p=!c.state,m=e||p,x=c.heightModel,y=c.widthModel,E=0;if(c.dirty=c.invalid=!1,c.props={},c.remainingChildDimensions=0,c.boxChildren&&(c.boxChildren.length=0),p||(c.clearAllBlocks("blocks"),c.clearAllBlocks("domBlocks")),!c.wrapsComponent)return m;if(s=c.target,c.state={},p)s.beforeLayout&&s.beforeLayout!==Ext.emptyFn&&s.beforeLayout(),!f&&(o=s.ownerCt)&&(f=c.context.items[o.el.id]),f?(c.ownerCtContext=f,c.isBoxParent=s.ownerLayout.isItemBoxParent(c)):c.isTopLevel=!0,c.frameBodyContext=c.getEl("frameBody");else for(f=c.ownerCtContext,c.isTopLevel=!f,n=c.children,i=0,r=n.length;r>i;++i)n[i].init(!0);return c.hasRawContent=!(s.isContainer&&s.items.items.length>0),e?(c.widthModel=c.heightModel=null,a=s.getSizeModel(f&&f.widthModel.pairsByHeightOrdinal[f.heightModel.ordinal]),p&&(c.sizeModel=a),c.widthModel=a.width,c.heightModel=a.height,f&&!c.isComponentChild&&(f.remainingChildDimensions+=2)):u&&(c.recoverProp("x",u,h),c.recoverProp("y",u,h),c.widthModel.calculated?c.recoverProp("width",u,h):"width"in u&&++E,c.heightModel.calculated?c.recoverProp("height",u,h):"height"in u&&++E,f&&!c.isComponentChild&&(f.remainingChildDimensions+=E)),u&&g&&g.manageMargins&&(c.recoverProp("margin-top",u,h),c.recoverProp("margin-right",u,h),c.recoverProp("margin-bottom",u,h),c.recoverProp("margin-left",u,h)),t&&(l=t.heightModel,d=t.widthModel,d&&l&&y&&x&&y.shrinkWrap&&x.shrinkWrap&&d.constrainedMax&&l.constrainedMin&&(l=null),d&&(c.widthModel=d),l&&(c.heightModel=l),t.state&&Ext.apply(c.state,t.state)),m},initContinue:function(e){var t,n=this,i=n.ownerCtContext,r=n.target,o=n.widthModel,a=r.getHierarchyState();return o.fixed?a.inShrinkWrapTable=!1:delete a.inShrinkWrapTable,e&&(i&&o.shrinkWrap?(t=i.isBoxParent?i:i.boxParent,t&&t.addBoxChild(n)):o.natural&&(n.boxParent=i)),e},initDone:function(e){var t=this,n=t.props,i=t.state;0===t.remainingChildDimensions&&(n.containerChildrenSizeDone=!0),e&&(n.containerLayoutDone=!0),t.boxChildren&&t.boxChildren.length&&t.widthModel.shrinkWrap&&(t.el.setWidth(1e4),i.blocks=(i.blocks||0)+1)},initAnimation:function(){var e=this,t=e.target,n=e.ownerCtContext;n&&n.isTopLevel?e.animatePolicy=t.ownerLayout.getAnimatePolicy(e):!n&&t.isCollapsingOrExpanding&&t.animCollapse&&(e.animatePolicy=t.componentLayout.getAnimatePolicy(e)),e.animatePolicy&&e.context.queueAnimation(e)},addCls:function(e){this.getClassList().addMany(e)},removeCls:function(e){this.getClassList().removeMany(e)},addBlock:function(e,t,n){var i=this,r=i[e]||(i[e]={}),o=r[n]||(r[n]={});o[t.id]||(o[t.id]=t,++t.blockCount,++i.context.blockCount)},addBoxChild:function(e){var t,n=this,i=e.widthModel;e.boxParent=this,e.measuresBox=i.shrinkWrap?e.hasRawContent:i.natural,e.measuresBox&&(t=n.boxChildren,t?t.push(e):n.boxChildren=[e])},addPositionStyles:function(e,t){var n=t.x,i=t.y,r=0;return void 0!==n&&(e.left=n+"px",++r),void 0!==i&&(e.top=i+"px",++r),r},addTrigger:function(e,t){var n=this,i=t?"domTriggers":"triggers",r=n[i]||(n[i]={}),o=n.context,a=o.currentLayout,s=r[e]||(r[e]={});s[a.id]||(s[a.id]=a,++a.triggerCount,s=o.triggers[t?"dom":"data"],(s[a.id]||(s[a.id]=[])).push({item:this,prop:e}),void 0!==n.props[e]&&(t&&n.dirty&&e in n.dirty||++a.firedTriggers))},boxChildMeasured:function(){var e=this,t=e.state,n=t.boxesMeasured=(t.boxesMeasured||0)+1;n==e.boxChildren.length&&(t.clearBoxWidth=1,++e.context.progressCount,e.markDirty())},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(e){var t=e.getStyles(e.borderNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},marginInfo:function(e){var t=e.getStyles(e.marginNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},paddingInfo:function(e){var t=e.frameBodyContext||e,n=t.getStyles(e.paddingNames,e.trblNames);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}},checkCache:function(e){return this.cacheMissHandlers[e](this)},clearAllBlocks:function(e){var t,n=this[e];if(n)for(t in n)this.clearBlocks(e,t)},clearBlocks:function(e,t){var n,i,r,o=this[e],a=o&&o[t];if(a){delete o[t],n=this.context;for(r in a)i=a[r],--n.blockCount,--i.blockCount||i.pending||i.done||n.queueLayout(i)}},block:function(e,t){this.addBlock("blocks",e,t)},domBlock:function(e,t){this.addBlock("domBlocks",e,t)},fireTriggers:function(e,t){var n,i,r=this[e],o=r&&r[t],a=this.context;if(o)for(i in o)n=o[i],++n.firedTriggers,n.done||n.blockCount||n.pending||a.queueLayout(n)},flush:function(){var e=this,t=e.dirty,n=e.state,i=e.el;e.dirtyCount=0,e.classList&&e.classList.dirty&&e.classList.flush(),"attributes"in e&&(i.set(e.attributes),delete e.attributes),"innerHTML"in e&&(i.innerHTML=e.innerHTML,delete e.innerHTML),n&&n.clearBoxWidth&&(n.clearBoxWidth=0,e.el.setStyle("width",null),--n.blocks||e.context.queueItemLayouts(e)),t&&(delete e.dirty,e.writeProps(t,!0))},flushAnimations:function(){var e,t,n,i,r,o,a,s,l,d,c,u=this,h=u.previousSize;if(h){for(e=u.target,t=e.layout&&e.layout.animate,t&&(n=Ext.isNumber(t)?t:t.duration),i=Ext.Object.getKeys(u.animatePolicy),r=Ext.apply({},{from:{},to:{},duration:n||Ext.fx.Anim.prototype.duration},t),o=0,a=0,s=i.length;s>a;a++)l=i[a],d=h[l],c=u.peek(l),d!=c&&(l=u.translateProps[l]||l,r.from[l]=d,r.to[l]=c,++o);o&&(1===u.isCollapsingOrExpanding?e.componentLayout.undoLayout(u):u.writeProps(r.from),u.el.animate(r),Ext.fx.Manager.getFxQueue(u.el.id)[0].on({afteranimate:function(){1===u.isCollapsingOrExpanding?(e.componentLayout.redoLayout(u),e.afterCollapse(!0)):2===u.isCollapsingOrExpanding&&e.afterExpand(!0)}}))}},getBorderInfo:function(){var e=this,t=e.borderInfo;return t||(e.borderInfo=t=e.checkCache("borderInfo")),t},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(e,t){var n,i,r,o=this;if(e){if(e.dom)i=e;else if(n=o.target,t&&(n=t),i=n[e],"function"==typeof i&&(i=i.call(n),i===o.el))return this;i&&(r=o.context.getEl(o,i))}return r||null},getFrameInfo:function(){var e,t,n=this,i=n.frameInfo;return i||(e=n.framing,t=n.getBorderInfo(),n.frameInfo=i=e?{top:e.top+t.top,right:e.right+t.right,bottom:e.bottom+t.bottom,left:e.left+t.left,width:e.width+t.width,height:e.height+t.height}:t),i},getMarginInfo:function(){var e,t,n,i,r,o=this,a=o.marginInfo;return a||(o.wrapsComponent?(e=o.target,i=e.ownerLayout,r=i?i.id:null,t=i&&i.manageMargins,a=e.margin$,a&&a.ownerId!==r&&(a=null),a||(a=o.parseMargins(e,e.margin)||o.checkCache("marginInfo"),t&&(n=o.parseMargins(e,e.margins,i.defaultMargins),n&&(a={top:a.top+n.top,right:a.right+n.right,bottom:a.bottom+n.bottom,left:a.left+n.left}),o.setProp("margin-top",0),o.setProp("margin-right",0),o.setProp("margin-bottom",0),o.setProp("margin-left",0)),a.ownerId=r,e.margin$=a),a.width=a.left+a.right,a.height=a.top+a.bottom):a=o.checkCache("marginInfo"),o.marginInfo=a),a},clearMarginCache:function(){delete this.marginInfo,delete this.target.margin$},getPaddingInfo:function(){var e=this,t=e.paddingInfo;return t||(e.paddingInfo=t=e.checkCache("paddingInfo")),t},getProp:function(e){var t=this,n=t.props[e];return t.addTrigger(e),n},getDomProp:function(e){var t=this,n=t.dirty&&e in t.dirty?void 0:t.props[e];return t.addTrigger(e,!0),n},getStyle:function(e){var t,n,i=this,r=i.styles;return e in r?n=r[e]:(t=i.styleInfo[e],n=i.el.getStyle(e),t&&t.parseInt&&(n=parseInt(n,10)||0),r[e]=n),n},getStyles:function(e,t){var n,i,r,o,a,s,l,d,c=this,u=c.styles,h={},f=0,g=e.length;for(t=t||e,n=0;g>n;++n)o=e[n],o in u?(h[t[n]]=u[o],++f,n&&1==f&&(i=e.slice(0,n),r=t.slice(0,n))):f&&((i||(i=[])).push(o),(r||(r=[])).push(t[n]));if(g>f)for(i=i||e,r=r||t,s=c.styleInfo,l=c.el.getStyle(i),n=i.length;n--;)o=i[n],a=s[o],d=l[o],a&&a.parseInt&&(d=parseInt(d,10)||0),h[r[n]]=d,u[o]=d;return h},hasProp:function(e){return null!=this.getProp(e)},hasDomProp:function(e){return null!=this.getDomProp(e)},invalidate:function(e){this.context.queueInvalidate(this,e)},markDirty:function(){1==++this.dirtyCount&&this.context.queueFlush(this)},onBoxMeasured:function(){var e=this.boxParent,t=this.state;e&&e.widthModel.shrinkWrap&&!t.boxMeasured&&this.measuresBox&&(t.boxMeasured=1,e.boxChildMeasured())},parseMargins:function(e,t,n){t===!0&&(t=5);var i,r=typeof t;return"string"==r||"number"==r?i=e.parseBox(t):(t||n)&&(i={top:0,right:0,bottom:0,left:0},n&&Ext.apply(i,this.parseMargins(e,n)),t&&(t=Ext.apply(i,e.parseBox(t)))),i},peek:function(e){return this.props[e]},recoverProp:function(e,t,n){var i,r=this,o=r.props;e in t&&(o[e]=t[e],n&&e in n&&(i=r.dirty||(r.dirty={}),i[e]=n[e]))},redo:function(e){var t,n,i,r=this;if(r.revertProps(r.props),e&&r.wrapsComponent){if(r.childItems)for(i=0,t=r.childItems,n=t.length;n>i;i++)t[i].redo(e);for(i=0,t=r.children,n=t.length;n>i;i++)t[i].redo()}},removeEl:function(e,t){var n,i,r=this;if(e){if(e.dom)i=e;else if(n=r.target,t&&(n=t),i=n[e],"function"==typeof i&&(i=i.call(n),i===r.el))return this;i&&r.context.removeEl(r,i)}},revertProps:function(e){var t,n=this.flushedProps,i={};for(t in e)n.hasOwnProperty(t)&&(i[t]=e[t]);this.writeProps(i)},setAttribute:function(e,t){var n=this;n.attributes||(n.attributes={}),n.attributes[e]=t,n.markDirty()},setBox:function(e){var t=this;"left"in e&&t.setProp("x",e.left),"top"in e&&t.setProp("y",e.top),t.setSize(e.width,e.height)},setContentHeight:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentHeight",e)},setContentWidth:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentWidth",e)},setContentSize:function(e,t,n){return 2==this.setContentWidth(e,n)+this.setContentHeight(t,n)},setProp:function(e,t,n){var i,r,o=this,a=typeof t;return"undefined"==a||"number"===a&&isNaN(t)?0:o.props[e]===t?1:(o.props[e]=t,++o.context.progressCount,n===!1?(o.fireTriggers("domTriggers",e),o.clearBlocks("domBlocks",e)):(r=o.styleInfo[e],r&&(o.dirty||(o.dirty={}),("width"==e||"height"==e)&&(i=o.isBorderBoxValue,null===i&&(o.isBorderBoxValue=i=!!o.el.isBorderBox()),i||(o.borderInfo||o.getBorderInfo(),o.paddingInfo||o.getPaddingInfo())),o.dirty[e]=t,o.markDirty())),o.fireTriggers("triggers",e),o.clearBlocks("blocks",e),1)},setHeight:function(e,t){var n,i,r,o,a,s=this,l=s.target,d=s.ownerCtContext;if(0>e&&(e=0),s.wrapsComponent){if(r=s.collapsedVert?0:l.minHeight||0,e=Ext.Number.constrain(e,r,l.maxHeight),o=s.props.height,!s.setProp("height",e,t))return 0/0;d&&!s.isComponentChild&&isNaN(o)&&(a=--d.remainingChildDimensions,a||d.setProp("containerChildrenSizeDone",!0)),n=s.frameBodyContext,n&&(i=s.getFrameInfo(),n.setHeight(e-i.height,t))}else if(!s.setProp("height",e,t))return 0/0;return e},setWidth:function(e,t){var n,i,r,o,a,s=this,l=s.target,d=s.ownerCtContext;if(0>e&&(e=0),s.wrapsComponent){if(r=s.collapsedHorz?0:l.minWidth||0,e=Ext.Number.constrain(e,r,l.maxWidth),o=s.props.width,!s.setProp("width",e,t))return 0/0;d&&!s.isComponentChild&&isNaN(o)&&(a=--d.remainingChildDimensions,a||d.setProp("containerChildrenSizeDone",!0)),n=s.frameBodyContext,n&&(i=s.getFrameInfo(),n.setWidth(e-i.width,t))}else if(!s.setProp("width",e,t))return 0/0;return e},setSize:function(e,t,n){this.setWidth(e,n),this.setHeight(t,n)},translateProps:{x:"left",y:"top"},undo:function(e){var t,n,i,r=this;if(r.revertProps(r.lastBox),e&&r.wrapsComponent){if(r.childItems)for(i=0,t=r.childItems,n=t.length;n>i;i++)t[i].undo(e);for(i=0,t=r.children,n=t.length;n>i;i++)t[i].undo()}},unsetProp:function(e){var t=this.dirty;delete this.props[e],t&&delete t[e]},writeProps:function(e,t){if(e&&"object"==typeof e){var n,i,r,o,a,s,l,d,c,u=this,h=u.el,f={},g=0,p=u.styleInfo,m=e.width,x=e.height,y=u.isBorderBoxValue,E=u.target,v=Math.max,b=0,C=0;"displayed"in e&&h.setDisplayed(e.displayed);for(i in e)t&&(u.fireTriggers("domTriggers",i),u.clearBlocks("domBlocks",i),u.flushedProps[i]=1),n=p[i],n&&n.dom&&(f[i]=n.suffix&&(r=parseInt(e[i],10))?r+n.suffix:e[i],++g);("x"in e||"y"in e)&&(E.isComponent?E.setPosition(e.x,e.y):g+=u.addPositionStyles(f,e)),!y&&(m>0||x>0)&&(u.frameBodyContext||(b=u.paddingInfo.width,C=u.paddingInfo.height),m&&(m=v(parseInt(m,10)-(u.borderInfo.width+b),0),f.width=m+"px",++g),x&&(x=v(parseInt(x,10)-(u.borderInfo.height+C),0),f.height=x+"px",++g)),u.wrapsComponent&&Ext.isIE9&&Ext.isStrict&&((o=void 0!==m&&u.hasOverflowY)||(a=void 0!==x&&u.hasOverflowX))&&(s=u.isAbsolute,void 0===s&&(s=!1,c=u.target.getTargetEl(),d=c.getStyle("position"),"absolute"==d&&(d=c.getStyle("box-sizing"),s="border-box"==d),u.isAbsolute=s),s&&(l=Ext.getScrollbarSize(),o&&(m=parseInt(m,10)+l.width,f.width=m+"px",++g),a&&(x=parseInt(x,10)+l.height,f.height=x+"px",++g))),g&&h.setStyle(f)}}},function(){var e={dom:!0,parseInt:!0,suffix:"px"},t={dom:!0},n={dom:!1};this.prototype.styleInfo={containerChildrenSizeDone:n,containerLayoutDone:n,displayed:n,done:n,x:n,y:n,columnWidthsDone:n,left:e,top:e,right:e,bottom:e,width:e,height:e,"border-top-width":e,"border-right-width":e,"border-bottom-width":e,"border-left-width":e,"margin-top":e,"margin-right":e,"margin-bottom":e,"margin-left":e,"padding-top":e,"padding-right":e,"padding-bottom":e,"padding-left":e,"line-height":t,display:t}}),Ext.define("Ext.layout.Context",{remainingLayouts:0,state:0,constructor:function(e){var t=this;Ext.apply(t,e),t.items={},t.layouts={},t.blockCount=0,t.cycleCount=0,t.flushCount=0,t.calcCount=0,t.animateQueue=t.newQueue(),t.completionQueue=t.newQueue(),t.finalizeQueue=t.newQueue(),t.finishQueue=t.newQueue(),t.flushQueue=t.newQueue(),t.invalidateData={},t.layoutQueue=t.newQueue(),t.invalidQueue=[],t.triggers={data:{},dom:{}}},callLayout:function(e,t){this.currentLayout=e,e[t](this.getCmp(e.owner))},cancelComponent:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f=this,g=e,p=!e.isComponent,m=p?g.length:1;for(i=0;m>i;++i){if(p&&(e=g[i]),n&&e.ownerCt&&(h=this.items[e.ownerCt.el.id],h&&Ext.Array.remove(h.childItems,f.getCmp(e))),!t&&(d=f.invalidQueue,o=d.length))for(f.invalidQueue=l=[],r=0;o>r;++r)c=d[r],u=c.item.target,u==e||u.isDescendant(e)||l.push(c);s=e.componentLayout,f.cancelLayout(s),s.getLayoutItems&&(a=s.getLayoutItems(),a.length&&f.cancelComponent(a,!0)),e.isContainer&&!e.collapsed&&(s=e.layout,f.cancelLayout(s),a=s.getVisibleItems(),a.length&&f.cancelComponent(a,!0))}},cancelLayout:function(e){var t=this;t.completionQueue.remove(e),t.finalizeQueue.remove(e),t.finishQueue.remove(e),t.layoutQueue.remove(e),e.running&&t.layoutDone(e),e.ownerContext=null},clearTriggers:function(e,t){var n,i,r,o=e.id,a=this.triggers[t?"dom":"data"],s=a&&a[o],l=s&&s.length||0;for(n=0;l>n;++n)r=s[n],i=r.item,a=t?i.domTriggers:i.triggers,delete a[r.prop][o]},flush:function(){var e,t=this,n=t.flushQueue.clear(),i=n.length;if(i)for(++t.flushCount,e=0;i>e;++e)n[e].flush()},flushAnimations:function(){var e,t=this,n=t.animateQueue.clear(),i=n.length;if(i){for(e=0;i>e;e++)n[e].target.animate!==!1&&n[e].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var e,t,n,i,r=this,o=r.invalidQueue,a=o&&o.length;if(r.invalidQueue=[],a){for(t=[],i=0;a>i;++i)e=(n=o[i]).item.target,e.container.isDetachedBody||(t.push(e),n.options&&(r.invalidateData[e.id]=n.options));r.invalidate(t,null)}},flushLayouts:function(e,t,n){var i,r,o=this,a=n?o[e].items:o[e].clear(),s=a.length;if(s){for(i=0;s>i;++i)r=a[i],r.running||o.callLayout(r,t);o.currentLayout=null}},getCmp:function(e){return this.getItem(e,e.el)},getEl:function(e,t){var n=this.getItem(t,t);return n.parent||(n.parent=e,e.children.length?e.children.push(n):e.children=[n]),n},getItem:function(e,t){var n=t.id,i=this.items,r=i[n]||(i[n]=new Ext.layout.ContextItem({context:this,target:e,el:t}));return r},handleFailure:function(){var e,t,n=this.layouts;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(t in n)e=n[t],n.hasOwnProperty(t)&&(e.running=!1,e.ownerContext=null)},invalidate:function(e,t){var n,i,r,o,a,s,l,d,c,u,h,f=this,g=!e.isComponent;for(r=0,l=g?e.length:1;l>r;++r)o=g?e[r]:e,o.rendered&&!o.hidden&&(a=f.getCmp(o),d=o.componentLayout,i=!d.ownerContext,c=o.isContainer&&!o.collapsed?o.layout:null,u=f.invalidateData[a.id],delete f.invalidateData[a.id],h=a.init(t,u),u&&f.processInvalidate(u,a,"before"),d.beforeLayoutCycle&&d.beforeLayoutCycle(a),c&&c.beforeLayoutCycle&&c.beforeLayoutCycle(a),h=a.initContinue(h),n=!0,d.getLayoutItems&&(d.renderChildren(),s=d.getLayoutItems(),s.length&&f.invalidate(s,!0)),c&&(n=!1,c.renderChildren(),s=c.getVisibleItems(),s.length&&f.invalidate(s,!0)),a.initDone(n),f.resetLayout(d,a,i),c&&f.resetLayout(c,a,i),a.initAnimation(),u&&f.processInvalidate(u,a,"after"));f.currentLayout=null},layoutDone:function(e){var t=e.ownerContext;e.running=!1,e.isComponentLayout?(t.measuresBox&&t.onBoxMeasured(),t.setProp("done",!0)):t.setProp("containerLayoutDone",!0),--this.remainingLayouts,++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(e,t,n){if(e[n]){var i=this,r=i.currentLayout;i.currentLayout=e.layout||null,e[n](t,e),i.currentLayout=r}},queueAnimation:function(e){this.animateQueue.add(e)},queueCompletion:function(e){this.completionQueue.add(e)},queueFinalize:function(e){this.finalizeQueue.add(e)},queueFlush:function(e){this.flushQueue.add(e)},chainFns:function(e,t,n){var i=this,r=e.layout,o=t.layout,a=e[n],s=t[n];return function(n){var l=i.currentLayout;a&&(i.currentLayout=r,a.call(e.scope||e,n,e)),i.currentLayout=o,s.call(t.scope||t,n,t),i.currentLayout=l}},queueInvalidate:function(e,t){var n,i,r,o,a,s=this,l=[],d=s.invalidQueue,c=d.length;for(e.isComponent?e=s.getCmp(n=e):n=e.target,e.invalid=!0;c--;){if(i=d[c],r=i.item.target,n.isDescendant(r))return;if(r==n)return(o=i.options)?t&&(t.widthModel&&(o.widthModel=t.widthModel),t.heightModel&&(o.heightModel=t.heightModel),(a=o.state)?t.state&&Ext.apply(a,t.state):o.state=t.state,t.before&&(o.before=s.chainFns(o,t,"before")),t.after&&(o.after=s.chainFns(o,t,"after"))):i.options=t,void 0;r.isDescendant(n)||l.push(i)}l.push({item:e,options:t}),s.invalidQueue=l},queueItemLayouts:function(e){var t=e.isComponent?e:e.target,n=t.componentLayout;n.pending||n.invalid||n.done||this.queueLayout(n),n=t.layout,!n||n.pending||n.invalid||n.done||this.queueLayout(n)},queueLayout:function(e){this.layoutQueue.add(e),e.pending=!0},removeEl:function(e,t){var n=t.id,i=e.children,r=this.items;i&&Ext.Array.remove(i,r[n]),delete r[n]},resetLayout:function(e,t,n){var i=this;i.currentLayout=e,e.done=!1,e.pending=!0,e.firedTriggers=0,i.layoutQueue.add(e),n?(i.layouts[e.id]=e,e.running=!0,e.finishedLayout&&i.finishQueue.add(e),++i.remainingLayouts,++e.layoutCount,e.ownerContext=t,e.beginCount=0,e.blockCount=0,e.calcCount=0,e.triggerCount=0,e.initialized||e.initLayout(),e.beginLayout(t)):(++e.beginCount,e.running||(++i.remainingLayouts,e.running=!0,e.isComponentLayout&&t.unsetProp("done"),i.completionQueue.remove(e),i.finalizeQueue.remove(e))),e.beginLayoutCycle(t,n)},run:function(){var e=this,t=!1,n=100;for(e.flushInvalidates(),e.state=1,e.totalCount=e.layoutQueue.getCount(),e.flush();(e.remainingLayouts||e.invalidQueue.length)&&n--;){if(e.invalidQueue.length&&e.flushInvalidates(),e.runCycle())t=!1;else if(t){if(!e.invalidQueue.length){e.state=2;break}}else e.flush(),t=!0,e.flushLayouts("completionQueue","completeLayout");e.remainingLayouts||e.invalidQueue.length||(e.flush(),e.flushLayouts("completionQueue","completeLayout"),e.flushLayouts("finalizeQueue","finalizeLayout"))}return e.runComplete()},runComplete:function(){var e=this;return e.state=2,e.remainingLayouts?(e.handleFailure(),!1):(e.flush(),e.flushLayouts("finishQueue","finishedLayout",!0),e.flushLayouts("finishQueue","notifyOwner"),e.flush(),e.flushAnimations(),!0)},runCycle:function(){var e,t=this,n=t.layoutQueue.clear(),i=n.length;for(++t.cycleCount,t.progressCount=0,e=0;i>e;++e)t.runLayout(t.currentLayout=n[e]);return t.currentLayout=null,t.progressCount>0},runLayout:function(e){var t=this,n=t.getCmp(e.owner);e.pending=!1,n.state.blocks||(e.done=!0,++e.calcCount,++t.calcCount,e.calculate(n),e.done?(t.layoutDone(e),e.completeLayout&&t.queueCompletion(e),e.finalizeLayout&&t.queueFinalize(e)):e.pending||e.invalid||e.blockCount+e.triggerCount-e.firedTriggers||t.queueLayout(e))},setItemSize:function(e,t,n){var i,r,o=e,a=1;for(e.isComposite?(o=e.elements,a=o.length,e=o[0]):e.dom||e.el||(a=o.length,e=o[0]),r=0;a>r;)i=this.get(e),i.setSize(t,n),e=o[++r]}}),Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:Ext.layout.component.Auto,type:"body",beginLayout:function(e){this.callParent(arguments),e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e){var t=this,n=t.lastWidthModel,i=t.lastHeightModel,r=t.owner.body;t.callParent(arguments),n&&n.fixed&&e.widthModel.shrinkWrap&&r.setWidth(null),i&&i.fixed&&e.heightModel.shrinkWrap&&r.setHeight(null)},calculateOwnerHeightFromContentHeight:function(e){var t=this.callParent(arguments);return e.targetContext!=e&&(t+=e.getPaddingInfo().height),t},calculateOwnerWidthFromContentWidth:function(e){var t=this.callParent(arguments);
return e.targetContext!=e&&(t+=e.getPaddingInfo().width),t},measureContentWidth:function(e){return e.bodyContext.setWidth(e.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(e){return e.bodyContext.setHeight(e.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(e,t){var n=t-e.getFrameInfo().height,i=e.targetContext;return i!=e&&(n-=e.getPaddingInfo().height),e.bodyContext.setHeight(n,!e.heightModel.natural)},publishInnerWidth:function(e,t){var n=t-e.getFrameInfo().width,i=e.targetContext;i!=e&&(n-=e.getPaddingInfo().width),e.bodyContext.setWidth(n,!e.widthModel.natural)}}),Ext.define("Ext.layout.component.FieldSet",{extend:Ext.layout.component.Body,alias:["layout.fieldset"],type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(e){e.target.collapsed&&(e.heightModel=this.sizeModels.shrinkWrap)},beginLayoutCycle:function(e){var t,n=e.target;this.callParent(arguments),n.collapsed&&(e.setContentHeight(0),e.restoreMinHeight=n.minHeight,delete n.minHeight,e.widthModel.shrinkWrap&&(t=n.lastComponentSize,e.setContentWidth(t&&t.contentWidth||this.defaultCollapsedWidth)))},finishedLayout:function(e){var t=this.owner,n=e.restoreMinHeight;this.callParent(arguments),n&&(t.minHeight=n)},calculateOwnerHeightFromContentHeight:function(e){var t=e.getBorderInfo(),n=e.target.legend;return e.getProp("contentHeight")+e.getPaddingInfo().height+(Ext.isIEQuirks||Ext.isIE8m?e.bodyContext.getPaddingInfo().top:0)+(n?n.getHeight():t.top)+t.bottom},publishInnerHeight:function(e,t){var n=e.target.legend;n&&(t-=n.getHeight()),this.callParent([e,t])},getLayoutItems:function(){var e=this.owner.legend;return e?[e]:[]}}),Ext.define("Ext.layout.component.field.Slider",{alias:["layout.sliderfield"],extend:Ext.layout.component.field.Field,type:"sliderfield",beginLayout:function(e){this.callParent(arguments),e.endElContext=e.getEl("endEl"),e.innerElContext=e.getEl("innerEl"),e.bodyElContext=e.getEl("bodyEl")},publishInnerHeight:function(e,t){var n,i,r=t-this.measureLabelErrorHeight(e);this.owner.vertical?(n=e.endElContext.getPaddingInfo(),i=e.inputContext.getPaddingInfo(),e.innerElContext.setHeight(r-i.height-n.height)):e.bodyElContext.setHeight(r)},publishInnerWidth:function(e,t){if(!this.owner.vertical){var n=e.endElContext.getPaddingInfo(),i=e.inputContext.getPaddingInfo();e.innerElContext.setWidth(t-i.left-n.right-e.labelContext.getProp("width"))}},beginLayoutFixed:function(){var e=this,t=e.ieInputWidthAdjustment;t&&e.owner.bodyEl.setStyle("padding-right",t+"px"),e.callParent(arguments)}}),Ext.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:Ext.layout.container.Anchor,alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:Ext.baseCSSPrefix+"abs-layout-ct",itemCls:Ext.baseCSSPrefix+"abs-layout-item",ignoreOnContentChange:!0,type:"absolute",adjustWidthAnchor:function(e,t){var n=this.targetPadding,i=t.getStyle("left");return e-i+n.left},adjustHeightAnchor:function(e,t){var n=this.targetPadding,i=t.getStyle("top");return e-i+n.top},isItemLayoutRoot:function(){return this.ignoreOnContentChange||this.callParent(arguments)},isItemShrinkWrap:function(){return!0},beginLayout:function(e){var t=this,n=t.getTarget();t.callParent(arguments),n.dom!==document.body&&n.position(),t.targetPadding=e.targetContext.getPaddingInfo()},isItemBoxParent:function(){return!0},onContentChange:function(){return this.ignoreOnContentChange?!1:this.callParent(arguments)},calculateContentSize:function(e,t){var n,i,r,o,a,s,l,d=this,c=(t||0)|((e.widthModel.shrinkWrap?1:0)|(e.heightModel.shrinkWrap?2:0)),u=1&c||void 0,h=2&c||void 0,f=e.childItems,g=f.length,p=0,m=0,x=0,y=e.props;if(u&&(isNaN(y.contentWidth)?++x:u=void 0),h&&(isNaN(y.contentHeight)?++x:h=void 0),x){for(a=0;g>a;++a)if(r=f[a],i=r.target,o=h&&r.getProp("height"),l=u&&r.getProp("width"),s=r.getMarginInfo(),o+=s.bottom,l+=s.right,p=Math.max(p,(i.y||0)+o),m=Math.max(m,(i.x||0)+l),isNaN(p)&&isNaN(m))return d.done=!1,void 0;(u||h)&&(n=e.targetContext.getPaddingInfo()),u&&!e.setContentWidth(m+n.width)&&(d.done=!1),h&&!e.setContentHeight(p+n.height)&&(d.done=!1)}}}),Ext.define("Ext.layout.container.Accordion",{extend:Ext.layout.container.VBox,alias:["layout.accordion"],alternateClassName:"Ext.layout.AccordionLayout",targetCls:Ext.baseCSSPrefix+"accordion-layout-ct",itemCls:[Ext.baseCSSPrefix+"box-item",Ext.baseCSSPrefix+"accordion-item"],align:"stretch",fill:!0,titleCollapse:!0,hideCollapseTool:!1,collapseFirst:void 0,animate:!0,activeOnTop:!1,multi:!1,defaultAnimatePolicy:{y:!0,height:!0},constructor:function(){var e=this;e.callParent(arguments),e.animatePolicy=!e.multi&&e.animate?Ext.apply({},e.defaultAnimatePolicy):null},beforeRenderItems:function(e){for(var t,n=this,i=e.length,r=0,o=n.owner,a=n.collapseFirst,s=Ext.isDefined(a),l=n.getExpanded(!0)[0],d=n.multi;i>r;r++)t=e[r],t.rendered||(d&&t.collapsible===!1||(t.collapsible=!0),t.collapsible&&(s&&(t.collapseFirst=a),n.hideCollapseTool?(t.hideCollapseTool=n.hideCollapseTool,t.titleCollapse=!0):n.titleCollapse&&void 0===t.titleCollapse&&(t.titleCollapse=n.titleCollapse)),delete t.hideHeader,delete t.width,t.title=t.title||"&#160;",t.addBodyCls(Ext.baseCSSPrefix+"accordion-body"),d||(l?t.collapsed=l!==t:t.hasOwnProperty("collapsed")&&t.collapsed===!1?l=t:t.collapsed=!0,o.mon(t,{show:n.onComponentShow,beforeexpand:n.onComponentExpand,beforecollapse:n.onComponentCollapse,scope:n})),o.mon(t,"beforecollapse",n.onComponentCollapse,n),t.headerOverCls=Ext.baseCSSPrefix+"accordion-hd-over");d||(l?n.activeOnTop&&(l.collapsed=!1,n.configureItem(l),o.items.indexOf(l)>0&&o.insert(0,l)):i&&(e[0].collapsed=!1))},getItemsRenderTree:function(e){return this.beforeRenderItems(e),this.callParent(arguments)},renderItems:function(e){this.beforeRenderItems(e),this.callParent(arguments)},configureItem:function(e){this.callParent(arguments),e.animCollapse=e.border=!1,this.fill&&(e.flex=1)},beginLayout:function(e){this.callParent(arguments),this.updatePanelClasses(e)},updatePanelClasses:function(e){var t,n,i,r=e.visibleItems,o=r.length,a=!0;for(t=0;o>t;t++)n=r[t],i=n.header,i.addCls(Ext.baseCSSPrefix+"accordion-hd"),a?i.removeCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"):i.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"),t+1==o&&n.collapsed?i.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"):i.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"),a=n.collapsed},onComponentExpand:function(e){var t,n,i,r,o=this,a=o.owner,s=o.multi,l=(o.animate,!s&&!o.animate&&o.activeOnTop);if(!o.processing){for(o.processing=!0,r=a.deferLayouts,a.deferLayouts=!0,t=s?[]:o.getExpanded(),n=t.length,i=0;n>i;i++)t[i].collapse();l&&(Ext.suspendLayouts(),a.insert(0,e),Ext.resumeLayouts()),a.deferLayouts=r,o.processing=!1}},onComponentCollapse:function(e){var t,n,i,r=this,o=r.owner;return 1===r.owner.items.getCount()?!1:(r.processing||(r.processing=!0,i=o.deferLayouts,o.deferLayouts=!0,t=e.next()||e.prev(),r.multi?(n=r.getExpanded(),1===n.length&&t.expand()):t&&t.expand(),o.deferLayouts=i,r.processing=!1),void 0)},onComponentShow:function(e){this.onComponentExpand(e)},getExpanded:function(e){for(var t,n,i=this.owner.items.items,r=i.length,o=0,a=[];r>o;++o)n=i[o],t=e?n.hasOwnProperty("collapsed")&&n.collapsed===!1:!n.collapsed,t&&a.push(n);return a}}),Ext.define("Ext.resizer.Splitter",{extend:Ext.Component,alias:"widget.splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">&#160;',"</div>","</tpl>"],baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:!0,collapsible:!1,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1e3,collapseTarget:"next",horizontal:!1,vertical:!1,size:5,getTrackerConfig:function(){return{xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this}},beforeRender:function(){var e=this,t=e.getCollapseTarget();e.callParent(),t.collapsed&&e.addCls(e.collapsedClsInternal),e.canResize||e.addCls(e.baseCls+"-noresize"),Ext.applyIf(e.renderData,{collapseDir:e.getCollapseDirection(),collapsible:e.collapsible||t.collapsible}),e.protoEl.unselectable()},onRender:function(){var e,t=this;t.callParent(arguments),t.performCollapse!==!1&&(t.renderData.collapsible&&t.mon(t.collapseEl,"click",t.toggleTargetCmp,t),t.collapseOnDblClick&&t.mon(t.el,"dblclick",t.toggleTargetCmp,t)),t.mon(t.getCollapseTarget(),{collapse:t.onTargetCollapse,expand:t.onTargetExpand,beforeexpand:t.onBeforeTargetExpand,beforecollapse:t.onBeforeTargetCollapse,scope:t}),t.canResize&&(t.tracker=Ext.create(t.getTrackerConfig()),t.relayEvents(t.tracker,["beforedragstart","dragstart","dragend"])),e=t.collapseEl,e&&(e.lastCollapseDirCls=t.collapseDirProps[t.collapseDirection].cls)},getCollapseDirection:function(){var e,t,n,i,r=this,o=r.collapseDirection;return o||(e=r.collapseTarget,e.isComponent&&(o=e.collapseDirection),o||(i=r.ownerCt.layout.type,e.isComponent?(n=r.ownerCt.items,t=Number(n.indexOf(e)===n.indexOf(r)-1)<<1|Number("hbox"===i)):t=Number("prev"===r.collapseTarget)<<1|Number("hbox"===i),o=["bottom","right","top","left"][t]),r.collapseDirection=o),r.setOrientation("top"===o||"bottom"===o?"horizontal":"vertical"),o},getCollapseTarget:function(){var e=this;return e.collapseTarget.isComponent?e.collapseTarget:"prev"===e.collapseTarget?e.previousSibling():e.nextSibling()},setCollapseEl:function(e){var t=this.collapseEl;t&&t.setDisplayed(e)},onBeforeTargetExpand:function(){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(){this.el.addCls([this.collapsedClsInternal,this.collapsedCls]),this.setCollapseEl("")},onTargetExpand:function(){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls]),this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var e,t=this,n=t.collapseEl,i=t.collapseDirProps[t.collapseDirection];n&&(e=n.lastCollapseDirCls,e&&n.removeCls(e),n.addCls(n.lastCollapseDirCls=i.cls))},applyOrientation:function(){var e=this,t=e.orientation,n=e.orientationProps[t],i=e.size,r=n.fixedAxis,o=n.stretchedAxis,a=e.baseCls+"-";e[t]=!0,e[n.opposite]=!1,e.hasOwnProperty(r)&&"100%"!==e[r]||(e[r]=i),e.hasOwnProperty(o)&&e[o]!==i||(e[o]="100%"),e.removeCls(a+n.opposite),e.addCls(a+t)},setOrientation:function(e){var t=this;t.orientation!==e&&(t.orientation=e,t.applyOrientation())},updateOrientation:function(){delete this.collapseDirection,this.getCollapseDirection(),this.applyCollapseDirection()},toggleTargetCmp:function(){var e,t=this.getCollapseTarget(),n=t.placeholder;Ext.isFunction(t.expand)&&Ext.isFunction(t.collapse)&&(e=n&&!n.hidden?!0:!t.hidden,e&&(t.collapsed?t.expand():t.collapseDirection?t.collapse():t.collapse(this.renderData.collapseDir)))},setSize:function(){var e=this;e.callParent(arguments),Ext.isIE&&e.el&&e.el.repaint()},beforeDestroy:function(){Ext.destroy(this.tracker),this.callParent()}}),Ext.define("Ext.resizer.BorderSplitter",{extend:Ext.resizer.Splitter,alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var e=this.callParent();return e.xclass="Ext.resizer.BorderSplitterTracker",e}}),Ext.define("Ext.layout.container.Border",{extend:Ext.layout.container.Container,alias:"layout.border",alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",isBorderLayout:!0,padding:void 0,percentageRe:/(\d+)%/,horzMarginProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,g=this,p=g.axisProps[n],m=!p.horizontal,x=p.sizeProp,y=0,E=e.childItems,v=E.length;for(r=0;v>r;++r)if(o=E[r],s=o.target,o.layoutPos={},s.region){if(o.region=l=s.region,o.isCenter=s.isCenter,o.isHorz=s.isHorz,o.isVert=s.isVert,o.weight=s.weight||g.regionWeights[l]||0,t[s.id]=o,s.isCenter){i=o,a=s.flex,e.centerRegion=i;continue}if(m!==o.isVert)continue;o.reverseWeighting=l==p.borderEnd,c=s[x],u=typeof c,s.collapsed||("string"==u&&(d=g.percentageRe.exec(c))?o.percentage=parseInt(d[1],10):s.flex&&(y+=o.flex=s.flex))}return i&&(h=i.target,(f=h.placeholderFor)?a||m!==f.collapsedVertical()||(a=0,i.collapseAxis=n):h.collapsed&&m===h.collapsedVertical()&&(a=0,i.collapseAxis=n)),null==a&&(a=1),y+=a,Ext.apply({before:m?"top":"left",totalFlex:y},p)},beginLayout:function(e){var t,n,i,r,o,a,s,l,d,c=this,u=c.getLayoutItems(),h=c.padding,f=typeof h,g=!1;for(h?("string"==f||"number"==f)&&(h=Ext.util.Format.parseBox(h)):(h=e.getEl("getTargetEl").getPaddingInfo(),g=!0),e.outerPad=h,e.padOnContainer=g,r=0,i=u.length;i>r;++r)n=u[r],a=c.getSplitterTarget(n),a&&(s=void 0,l=!!n.hidden,a.split?l!==a.hidden&&(s=!a.hidden):a.isCollapsingOrExpanding&&(s=!!a.collapsed),s?n.show():s===!1&&n.hide());for(c.callParent(arguments),u=e.childItems,i=u.length,o={},e.borderAxisHorz=c.beginAxis(e,o,"horz"),e.borderAxisVert=c.beginAxis(e,o,"vert"),r=0;i>r;++r)t=u[r],a=c.getSplitterTarget(t.target),a&&(d=o[a.id],d||(d=e.getEl(a.el,c),d.region=a.region),t.collapseTarget=a=d,t.weight=a.weight,t.reverseWeighting=a.reverseWeighting,a.splitter=t,t.isHorz=a.isHorz,t.isVert=a.isVert);c.sortWeightedItems(u,"reverseWeighting"),c.setupSplitterNeighbors(u)},calculate:function(e){var t,n,i,r,o,a,s=this,l=s.getContainerSize(e),d=e.childItems,c=d.length,u=e.borderAxisHorz,h=e.borderAxisVert,f=e.outerPad,g=e.padOnContainer;for(u.begin=f[s.padOnContainerProp],h.begin=f.top,o=u.end=u.flexSpace=l.width+(g?f[s.padOnContainerProp]:-f[s.padNotOnContainerProp]),a=h.end=h.flexSpace=l.height+(g?f.top:-f.bottom),t=0;c>t;++t)n=d[t],i=n.getMarginInfo(),(n.isHorz||n.isCenter)&&(u.addUnflexed(i.width),o-=i.width),(n.isVert||n.isCenter)&&(h.addUnflexed(i.height),a-=i.height),n.flex||n.percentage||(n.isHorz||n.isCenter&&"horz"===n.collapseAxis?(r=n.getProp("width"),u.addUnflexed(r),n.collapseTarget&&(o-=r)):(n.isVert||n.isCenter&&"vert"===n.collapseAxis)&&(r=n.getProp("height"),h.addUnflexed(r),n.collapseTarget&&(a-=r)));for(t=0;c>t;++t)n=d[t],i=n.getMarginInfo(),n.percentage&&(n.isHorz?(r=Math.ceil(o*n.percentage/100),r=n.setWidth(r),u.addUnflexed(r)):n.isVert&&(r=Math.ceil(a*n.percentage/100),r=n.setHeight(r),h.addUnflexed(r)));for(t=0;c>t;++t)n=d[t],n.isCenter||(s.calculateChildAxis(n,u),s.calculateChildAxis(n,h));s.finishAxis(e,h)+s.finishAxis(e,u)<2?s.done=!1:s.finishPositions(d)},calculateChildAxis:function(e,t){var n,i,r,o,a,s=e.collapseTarget,l="set"+t.sizePropCap,d=t.sizeProp,c=e.getMarginInfo()[d];s?n=s.region:(n=e.region,r=e.flex),i=n==t.borderBegin,i||n==t.borderEnd?(r?(a=Math.ceil(t.flexSpace*(r/t.totalFlex)),a=e[l](a)):a=e.percentage?e.peek(d):e.getProp(d),a+=c,i?(o=t.begin,t.begin+=a):t.end=o=t.end-a):(e[l](t.end-t.begin-c),o=t.begin),e.layoutPos[t.posProp]=o},finishAxis:function(e,t){var n=t.end-t.begin,i=e.centerRegion;return i&&(i["set"+t.sizePropCap](n-i.getMarginInfo()[t.sizeProp]),i.layoutPos[t.posProp]=t.begin),Ext.isNumber(n)?1:0},finishPositions:function(e){var t,n,i=e.length,r=this.horzMarginProp;for(t=0;i>t;++t)n=e[t],n.setProp("x",n.layoutPos.x+n.marginInfo[r]),n.setProp("y",n.layoutPos.y+n.marginInfo.top)},getLayoutItems:function(){for(var e,t,n=this.owner,i=n&&n.items&&n.items.items||[],r=i.length,o=[],a=0;r>a;a++)e=i[a],t=e.placeholderFor,!e.hidden&&(e.floated&&2!==e.isCollapsingOrExpanding||t&&2===t.isCollapsingOrExpanding)||o.push(e);return o},getPlaceholder:function(e){return e.getPlaceholder&&e.getPlaceholder()},getSplitterTarget:function(e){var t=e.collapseTarget;return t&&t.collapsed?t.placeholder||t:t},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},insertSplitter:function(e,t,n,i){var r=e.region,o=Ext.apply({xtype:"bordersplitter",collapseTarget:e,id:e.id+"-splitter",hidden:n,canResize:e.splitterResize!==!1,splitterFor:e},i),a=t+("south"===r||"east"===r?0:1);"mini"===e.collapseMode&&(o.collapsedCls=e.collapsedCls),e.splitter=this.owner.add(a,o)},onAdd:function(e,t){var n,i,r,o=this,a=e.placeholderFor,s=e.region;o.callParent(arguments),s?(Ext.apply(e,o.regionFlags[s]),e.initBorderRegion&&e.initBorderRegion(),"center"===s?o.centerRegion=e:(n=e.split,i=!!e.hidden,"object"==typeof n&&(r=n,n=!0),!e.isHorz&&!e.isVert||!n&&"mini"!=e.collapseMode||o.insertSplitter(e,t,i||!n,r)),e.hasOwnProperty("collapseMode")||(e.collapseMode=o.panelCollapseMode),e.hasOwnProperty("animCollapse")||(e.animCollapse="placeholder"!==e.collapseMode?!1:o.panelCollapseAnimate)):a&&(Ext.apply(e,o.regionFlags[a.region]),e.region=a.region,e.weight=a.weight)},onDestroy:function(){this.centerRegion=null,this.callParent()},onRemove:function(e){var t=this,n=e.region,i=e.splitter;n&&(e.isCenter&&(t.centerRegion=null),delete e.isCenter,delete e.isHorz,delete e.isVert,i&&(t.owner.doRemove(i,!0),delete e.splitter)),t.callParent(arguments)},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"top"},south:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"bottom"},west:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"left"},east:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"right"}},setupSplitterNeighbors:function(e){var t,n,i,r,o,a,s,l,d,c={},u=e.length,h=this.touchedRegions;for(t=0;u>t;++t)if(a=e[t].target,s=a.region,a.isCenter)i=a;else if(s){for(d=h[s],n=0,r=d.length;r>n;++n)o=c[d[n]],o&&o.neighbors.push(a);l=a.placeholderFor?a.placeholderFor.splitter:a.splitter,l&&(l.neighbors=[]),c[s]=l}if(i)for(d=h.center,n=0,r=d.length;r>n;++n)o=c[d[n]],o&&o.neighbors.push(i)},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e){var t,n,i,r,o=this,a=this.sizePolicies;return e.isCenter?(r=e.placeholderFor,r?r.collapsedVertical()?a.vert:a.horz:e.collapsed?e.collapsedVertical()?a.vert:a.horz:a.flexAll):(t=e.collapseTarget,t?t.isVert?a.vert:a.horz:e.region?(e.isVert?(n=e.height,i=a.vert):(n=e.width,i=a.horz),e.flex||"string"==typeof n&&o.percentageRe.test(n)?a.flexAll:i):o.autoSizePolicy)}},function(){var e={addUnflexed:function(e){this.flexSpace=Math.max(this.flexSpace-e,0)}},t=this.prototype.axisProps;Ext.apply(t.horz,e),Ext.apply(t.vert,e)}),Ext.define("Ext.layout.container.Card",{extend:Ext.layout.container.Fit,alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var e=this,t=e.getActiveItem();if(t){if(t.hasListeners.beforeactivate&&t.fireEvent("beforeactivate",t)===!1?t=e.activeItem=e.owner.activeItem=null:t.hasListeners.activate&&t.on({boxready:function(){t.fireEvent("activate",t)},single:!0}),!e.deferredRender)return e.callParent(arguments);if(t)return e.getItemsRenderTree([t])}},renderChildren:function(){var e=this,t=e.getActiveItem();e.deferredRender?t&&e.renderItems([t],e.getRenderTarget()):e.callParent()},isValidParent:function(e,t){var n=e.el?e.el.dom:Ext.getDom(e);return n&&n.parentNode===(t.dom||t)||!1},getActiveItem:function(){var e=this,t=e.parseActiveItem(e.activeItem||e.owner&&e.owner.activeItem);return e.activeItem=t&&-1!=e.owner.items.indexOf(t)?t:null,e.activeItem},parseActiveItem:function(e){return e&&e.isComponent?e:"number"==typeof e||void 0===e?this.getLayoutItems()[e||0]:this.owner.getComponent(e)},configureItem:function(e){e.hidden=e===this.getActiveItem()?!1:!0,this.callParent(arguments)},onRemove:function(e){var t=this;e===t.activeItem&&(t.activeItem=null)},getAnimation:function(e,t){var n=(e||{}).cardSwitchAnimation;return n===!1?!1:n||t.cardSwitchAnimation},getNext:function(){var e=arguments[0],t=this.getLayoutItems(),n=Ext.Array.indexOf(t,this.activeItem);return t[n+1]||(e?t[0]:!1)},next:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getNext(t),e)},getPrev:function(){var e=arguments[0],t=this.getLayoutItems(),n=Ext.Array.indexOf(t,this.activeItem);return t[n-1]||(e?t[t.length-1]:!1)},prev:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getPrev(t),e)},setActiveItem:function(e){var t,n=this,i=n.owner,r=n.activeItem,o=i.rendered;return e=n.parseActiveItem(e),t=i.items.indexOf(e),-1==t&&(t=i.items.items.length,Ext.suspendLayouts(),e=i.add(e),Ext.resumeLayouts()),e&&r!=e?e.fireEvent("beforeactivate",e,r)===!1?!1:r&&r.fireEvent("beforedeactivate",r,e)===!1?!1:(o?(Ext.suspendLayouts(),e.rendered||n.renderItem(e,n.getRenderTarget(),i.items.length),r&&(n.hideInactive&&(r.hide(),r.hiddenByLayout=!0),r.fireEvent("deactivate",r,e)),e.hidden&&e.show(),e.hidden||(n.activeItem=e),Ext.resumeLayouts(!0)):n.activeItem=e,e.fireEvent("activate",e,r),n.activeItem):!1}}),Ext.define("Ext.layout.container.Column",{extend:Ext.layout.container.Auto,alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:!0,manageOverflow:!0,isItemShrinkWrap:function(){return!0},getItemSizePolicy:function(e,t){return e.columnWidth&&(t||(t=this.owner.getSizeModel()),!t.width.shrinkWrap)?this.columnWidthSizePolicy:this.autoSizePolicy},calculateItems:function(e,t){var n,i,r,o,a,s,l=this,d=e.targetContext,c=e.childItems,u=c.length,h=0,f=t.gotWidth;if(f===!1)d.domBlock(l,"width"),n=!0;else{if(!f)return!0;i=t.width}for(r=0;u>r;++r)o=c[r],a=o.getMarginInfo().width,o.widthModel.calculated||(s=o.getProp("width"),"number"!=typeof s&&(o.block(l,"width"),n=!0),h+=s+a);if(!n){for(i=h>i?0:i-h,r=0;u>r;++r)o=c[r],o.widthModel.calculated&&(a=o.marginInfo.width,s=o.target.columnWidth,s=Math.floor(s*i)-a,s=o.setWidth(s),h+=s+a);e.setContentWidth(h+e.paddingContext.getPaddingInfo().width)}return!n},setCtSizeIfNeeded:function(e,t){var n=this,i=e.paddingContext.getPaddingInfo();n.callParent(arguments),(Ext.isIEQuirks||Ext.isIE7m)&&n.isShrinkWrapTpl&&i.right&&e.outerCtContext.setProp("width",t.width+i.left)}}),Ext.define("Ext.layout.container.Form",{alias:"layout.form",extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.FormLayout",tableCls:Ext.baseCSSPrefix+"form-layout-table",type:"form",createsInnerCt:!0,manageOverflow:!0,lastOverflowAdjust:{width:0,height:0},childEls:["formTable"],padRow:'<tr><td class="'+Ext.baseCSSPrefix+'form-item-pad" colspan="3"></td></tr>',renderTpl:['<table id="{ownerId}-formTable" class="{tableCls}" style="width:100%" cellpadding="0">',"{%this.renderBody(out,values)%}","</table>","{%this.renderPadder(out,values)%}"],getRenderData:function(){var e=this.callParent();return e.tableCls=this.tableCls,e},calculate:function(e){var t,n,i,r=this,o=r.getContainerSize(e,!0),a=0,s=e.sizeModel.height.shrinkWrap;if(s&&(e.hasDomProp("containerChildrenSizeDone")?e.setProp("contentHeight",r.formTable.dom.offsetHeight+e.targetContext.getPaddingInfo().height):r.done=!1),o.gotWidth)for(t=r.formTable.dom.offsetWidth,n=e.childItems,i=n.length;i>a;++a)n[a].setWidth(t,!1);else r.done=!1},getRenderTarget:function(){return this.formTable},getRenderTree:function(){var e,t,n=this,i=n.callParent(arguments);for(e=0,t=i.length;t>e;e++)i[e]=n.transformItemRenderTree(i[e]);return i},transformItemRenderTree:function(e){return e.tag&&"table"==e.tag?(e.tag="tbody",delete e.cellspacing,delete e.cellpadding,Ext.isIE6&&(e.cn=this.padRow),e):{tag:"tbody",cn:{tag:"tr",cn:{tag:"td",colspan:3,style:"width:100%",cn:e}}}},isValidParent:function(){return!0},isItemShrinkWrap:function(e){return 2&(e.shrinkWrap===!0?3:e.shrinkWrap||0)},getItemSizePolicy:function(){return{setsWidth:1,setsHeight:0}},beginLayoutCycle:function(e){var t=this.overflowPadderEl;t&&t.setStyle("display","none"),e.state.overflowAdjust||(e.state.overflowAdjust=this.lastOverflowAdjust)},calculateOverflow:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,g,p,m=this,x=e.targetContext,y=m.manageOverflow,E=e.state,v=E.overflowAdjust;!y||E.secondPass||m.reserveScrollbar||(g="auto"===m.getOverflowXStyle(e),p="auto"===m.getOverflowYStyle(e),t.gotWidth||(g=!1),t.gotHeight||(p=!1),(g||p)&&(l=Ext.getScrollbarSize(),d=e.peek("contentWidth"),c=e.peek("contentHeight"),a=x.getPaddingInfo(),d-=a.width,c-=a.height,u=t.width,h=t.height,f=m.getScrollbarsNeeded(u,h,d,c),E.overflowState=f,"number"==typeof n&&(f&=~n),v={width:g&&2&f?l.width:0,height:p&&1&f?l.height:0},(v.width!==m.lastOverflowAdjust.width||v.height!==m.lastOverflowAdjust.height)&&(m.done=!1,e.invalidate({state:{overflowAdjust:v,overflowState:E.overflowState,secondPass:!0}})))),m.done&&(o=e.padElContext||(e.padElContext=e.getEl("overflowPadderEl",m)),o&&(f=E.overflowState,i=e.peek("contentWidth"),r=1,f?(a=x.getPaddingInfo(),s=m.scrollRangeFlags,2&f&&1&s&&(r+=a.bottom),1&f&&4&s&&(i+=a.right),o.setProp("display",""),o.setSize(i,r)):o.setProp("display","none")))},completeLayout:function(e){this.lastOverflowAdjust=e.state.overflowAdjust},doRenderPadder:function(e,t){var n=t.$layout,i=n.owner,r=n.getScrollRangeFlags();n.manageOverflow&&5&r&&(e.push('<div id="',i.id,'-overflowPadderEl" ','style="font-size: 1px; height: 1px; margin-top: -1px; position: relative; z-index: -99999'),e.push('"></div>'),n.scrollRangeFlags=r)},getContainerSize:function(e,t,n){var i,r,o,a,s=e.targetContext,l=s.getFrameInfo(),d=s.getPaddingInfo(),c=0,u=0,h=n?null:e.state.overflowAdjust;return e.widthModel.shrinkWrap||(++u,o=t?s.getDomProp("width"):s.getProp("width"),i="number"==typeof o,i&&(++c,o-=l.width+d.width,h&&(o-=h.width))),e.heightModel.shrinkWrap||(++u,a=t?s.getDomProp("height"):s.getProp("height"),r="number"==typeof a,r&&(++c,a-=l.height+d.height,h&&(a-=h.height))),{width:o,height:a,needed:u,got:c,gotAll:c==u,gotWidth:i,gotHeight:r}},getOverflowXStyle:function(e){var t=this;return t.overflowXStyle||(t.overflowXStyle=t.owner.scrollFlags.overflowX||e.targetContext.getStyle("overflow-x"))},getOverflowYStyle:function(e){var t=this;return t.overflowYStyle||(t.overflowYStyle=t.owner.scrollFlags.overflowY||e.targetContext.getStyle("overflow-y"))},getScrollRangeFlags:function(){var e=-1;return function(){if(0>e){var t=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"border-box",style:{width:"100px",height:"100px",padding:"10px",overflow:"auto"},children:[{style:{border:"1px solid red",width:"150px",height:"150px",margin:"0 5px 5px 0"}}]}),n=t.dom.scrollHeight,i=t.dom.scrollWidth,r={175:0,165:1,170:2,160:3},o={175:0,165:4,170:8,160:12};e=(r[n]||0)|(o[i]||0),t.remove()}return e}}(),initLayout:function(){var e=this,t=Ext.getScrollbarSize().width;e.callParent(),t&&e.manageOverflow&&!e.hasOwnProperty("lastOverflowAdjust")&&(e.owner.scrollFlags.y||e.reserveScrollbar)&&(e.lastOverflowAdjust={width:t,height:0})},setupRenderTpl:function(e){this.callParent(arguments),e.renderPadder=this.doRenderPadder}}),Ext.define("Ext.menu.Item",{extend:Ext.Component,alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",mixins:{queryable:Ext.Queryable},activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:!0,clickHideDelay:0,destroyMenu:!0,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:!0,isMenuItem:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:['<tpl if="plain">',"{text}","<tpl else>",'<a id="{id}-itemEl"',' class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}"',' href="{href}"','<tpl if="hrefTarget"> target="{hrefTarget}"</tpl>',' hidefocus="true"',' unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" unselectable="on">{text}</span>','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}','{childElCls}"/>',"</a>","</tpl>"],maskOnDisable:!1,activate:function(){var e=this;!e.activated&&e.canActivate&&e.rendered&&!e.isDisabled()&&e.isVisible()&&(e.el.addCls(e.activeCls),e.focus(),e.activated=!0,e.fireEvent("activate",e))},getFocusEl:function(){return this.itemEl},deactivate:function(){var e=this;e.activated&&(e.el.removeCls(e.activeCls),e.blur(),e.hideMenu(),e.activated=!1,e.fireEvent("deactivate",e))},deferHideMenu:function(){this.menu.isVisible()&&this.menu.hide()},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var e;Ext.menu.Manager.hideAll(),Ext.Element.getActiveElement()||(e=this.up(":not([hidden])"),e&&e.focus())},expandMenu:function(e){var t=this;t.menu&&(t.cancelDeferHide(),0===e?t.doExpandMenu():(clearTimeout(t.expandMenuTimer),t.expandMenuTimer=Ext.defer(t.doExpandMenu,Ext.isNumber(e)?e:t.menuExpandDelay,t)))},doExpandMenu:function(){var e=this,t=e.menu;!e.activated||t.rendered&&t.isVisible()||(e.parentMenu.activeChild=t,t.parentItem=e,t.parentMenu=e.parentMenu,t.showBy(e,e.menuAlign))},getRefItems:function(e){var t,n=this.menu;return n&&(t=n.getRefItems(e),t.unshift(n)),t||[]},hideMenu:function(e){var t=this;t.menu&&(clearTimeout(t.expandMenuTimer),t.hideMenuTimer=Ext.defer(t.deferHideMenu,Ext.isNumber(e)?e:t.menuHideDelay,t))},initComponent:function(){var e,t=this,n=Ext.baseCSSPrefix,i=[n+"menu-item"];t.addEvents("activate","click","deactivate","textchange","iconchange"),t.plain&&i.push(n+"menu-item-plain"),t.cls&&i.push(t.cls),t.cls=i.join(" "),t.menu&&(e=t.menu,delete t.menu,t.setMenu(e)),t.callParent(arguments)},onClick:function(e){var t=this,n=t.clickHideDelay;t.href||e.stopEvent(),t.disabled||(t.hideOnClick&&(n?t.deferHideParentMenusTimer=Ext.defer(t.deferHideParentMenus,n,t):t.deferHideParentMenus()),Ext.callback(t.handler,t.scope||t,[t,e]),t.fireEvent("click",t,e),t.hideOnClick||t.focus())},onRemoved:function(){var e=this;e.activated&&e.parentMenu.activeItem===e&&e.parentMenu.deactivateActiveItem(),e.callParent(arguments),e.parentMenu=e.ownerButton=null},beforeDestroy:function(){var e=this;e.rendered&&e.clearTip(),e.callParent()},onDestroy:function(){var e=this;clearTimeout(e.expandMenuTimer),e.cancelDeferHide(),clearTimeout(e.deferHideParentMenusTimer),e.setMenu(null),e.callParent(arguments)},beforeRender:function(){var e,t,n,i=this,r=Ext.BLANK_IMAGE_URL,o=i.glyph,a=Ext._glyphFontFamily;i.callParent(),"right"===i.iconAlign?(t=i.checkChangeDisabled?i.disabledCls:"",n=Ext.baseCSSPrefix+"menu-item-icon-right "+i.iconCls):(t=(i.iconCls||"")+(i.checkChangeDisabled?" "+i.disabledCls:""),n=i.menu?i.arrowCls:""),"string"==typeof o&&(e=o.split("@"),o=e[0],a=e[1]),Ext.applyIf(i.renderData,{href:i.href||"#",hrefTarget:i.hrefTarget,icon:i.icon,iconCls:t,glyph:o,glyphCls:o?Ext.baseCSSPrefix+"menu-item-glyph":void 0,glyphFontFamily:a,hasIcon:!!(i.icon||i.iconCls||o),iconAlign:i.iconAlign,plain:i.plain,text:i.text,arrowCls:n,blank:r,tabIndex:i.tabIndex})
},onRender:function(){var e=this;e.callParent(arguments),e.tooltip&&e.setTooltip(e.tooltip,!0)},setMenu:function(e,t){var n=this,i=n.menu,r=n.arrowEl;i&&(delete i.parentItem,delete i.parentMenu,delete i.ownerItem,(t===!0||t!==!1&&n.destroyMenu)&&Ext.destroy(i)),e?(n.menu=Ext.menu.Manager.get(e),n.menu.ownerItem=n):n.menu=null,n.rendered&&!n.destroying&&r&&r[n.menu?"addCls":"removeCls"](n.arrowCls)},setHandler:function(e,t){this.handler=e||null,this.scope=t},setIcon:function(e){var t=this.iconEl,n=this.icon;t&&(t.src=e||Ext.BLANK_IMAGE_URL),this.icon=e,this.fireEvent("iconchange",this,n,e)},setIconCls:function(e){var t=this,n=t.iconEl,i=t.iconCls;n&&(t.iconCls&&n.removeCls(t.iconCls),e&&n.addCls(e)),t.iconCls=e,t.fireEvent("iconchange",t,i,e)},setText:function(e){var t=this,n=t.textEl||t.el,i=t.text;t.text=e,t.rendered&&(n.update(e||""),t.ownerCt.updateLayout()),t.fireEvent("textchange",t,i,e)},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},clearTip:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(e,t){var n=this;return n.rendered?(t||n.clearTip(),Ext.quickTipsActive&&Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:n.itemEl.id},e)),n.tooltip=e):n.itemEl.dom.setAttribute(n.getTipAttr(),e)):n.tooltip=e,n}}),Ext.define("Ext.menu.CheckItem",{extend:Ext.menu.Item,alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,childEls:["itemEl","iconEl","textEl","checkEl"],showCheckbox:!0,renderTpl:['<tpl if="plain">',"{text}","<tpl else>","{%var showCheckbox = values.showCheckbox,",'      rightCheckbox = showCheckbox && values.hasIcon && (values.iconAlign !== "left"), textCls = rightCheckbox ? "'+Ext.baseCSSPrefix+'right-check-item-text" : "";%}','<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'{%if (values.hasIcon && (values.iconAlign !== "left")) {%}','<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>","{%} else if (showCheckbox){%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon{childElCls}" />',"{%}%}",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text {[textCls]}{childElCls}" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>',"{%if (rightCheckbox) {%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon-right{childElCls}" />',"{%} else if (values.arrowCls) {%}",'<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}{childElCls}"/>',"{%}%}","</a>","</tpl>"],initComponent:function(){var e=this;e.checked=!!e.checked,e.addEvents("beforecheckchange","checkchange"),e.callParent(arguments),Ext.menu.Manager.registerCheckable(e),e.group&&(e.showCheckbox=!1,e.iconCls||e.icon||e.glyph||(e.iconCls=e.groupCls),e.initialConfig.hideOnClick!==!1&&(e.hideOnClick=!0))},beforeRender:function(){this.callParent(),this.renderData.showCheckbox=this.showCheckbox},afterRender:function(){var e=this;e.callParent(),e.checked=!e.checked,e.setChecked(!e.checked,!0),e.checkChangeDisabled&&e.disableCheckChange()},disableCheckChange:function(){var e=this,t=e.checkEl;t&&t.addCls(e.disabledCls),Ext.isIE10p||Ext.isIE9&&Ext.isStrict||!e.rendered||e.el.repaint(),e.checkChangeDisabled=!0},enableCheckChange:function(){var e=this,t=e.checkEl;t&&t.removeCls(e.disabledCls),e.checkChangeDisabled=!1},onClick:function(e){var t=this;t.disabled||t.checkChangeDisabled||t.checked&&t.group||t.setChecked(!t.checked),this.callParent([e])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this),this.callParent(arguments)},setChecked:function(e,t){var n=this;n.checked===e||!t&&n.fireEvent("beforecheckchange",n,e)===!1||(n.el&&n.el[e?"addCls":"removeCls"](n.checkedCls)[e?"removeCls":"addCls"](n.uncheckedCls),n.checked=e,Ext.menu.Manager.onCheckChange(n,e),t||(Ext.callback(n.checkHandler,n.scope,[n,e]),n.fireEvent("checkchange",n,e)))}}),Ext.define("Ext.menu.KeyNav",{extend:Ext.util.KeyNav,constructor:function(e){var t=this;t.menu=e.target,t.callParent([Ext.apply({down:t.down,enter:t.enter,esc:t.escape,left:t.left,right:t.right,space:t.enter,tab:t.tab,up:t.up},e)])},down:function(e){var t=this,n=t.menu.focusedItem;return n&&e.getKey()==Ext.EventObject.DOWN&&t.isWhitelisted(n)?!0:(t.focusNextItem(1),void 0)},enter:function(e){var t=this.menu,n=t.focusedItem;if(t.activeItem)t.onClick(e);else if(n&&n.isFormField)return!0},escape:function(){Ext.menu.Manager.hideAll()},focusNextItem:function(e){for(var t,n=this.menu,i=n.items,r=n.focusedItem,o=r?i.indexOf(r):-1,a=o+e,s=i.length,l=0;s>l&&a!==o;){if(0>a?a=s-1:a>=s&&(a=0),t=i.getAt(a),n.canActivateItem(t)){n.setActiveItem(t);break}a+=e,++l}},isWhitelisted:function(e){return Ext.FocusManager.isWhitelisted(e)},left:function(){var e=this.menu,t=e.focusedItem;return t&&this.isWhitelisted(t)?!0:(e.hide(),e.parentMenu&&e.parentMenu.focus(),void 0)},right:function(){var e,t=this.menu,n=t.focusedItem,i=t.activeItem;return n&&this.isWhitelisted(n)?!0:(i&&(e=t.activeItem.menu,e&&(i.expandMenu(0),e.setActiveItem(e.child(":focusable")))),void 0)},tab:function(e){var t=this;e.shiftKey?t.up(e):t.down(e)},up:function(e){var t=this,n=t.menu.focusedItem;return n&&e.getKey()==Ext.EventObject.UP&&t.isWhitelisted(n)?!0:(t.focusNextItem(-1),void 0)}}),Ext.define("Ext.menu.Separator",{extend:Ext.menu.Item,alias:"widget.menuseparator",canActivate:!1,focusable:!1,hideOnClick:!1,plain:!0,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",beforeRender:function(){var e=this;e.callParent(),e.addCls(e.separatorCls)}}),Ext.define("Ext.menu.Menu",{extend:Ext.panel.Panel,alias:"widget.menu",enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,initComponent:function(){var e=this,t=Ext.baseCSSPrefix,n=[t+"menu"],i=e.bodyCls?[e.bodyCls]:[],r=e.floating!==!1;e.addEvents("click","mouseenter","mouseleave","mouseover"),Ext.menu.Manager.register(e),e.plain&&n.push(t+"menu-plain"),e.cls=n.join(" "),i.push(t+"menu-body",Ext.dom.Element.unselectableCls),e.bodyCls=i.join(" "),e.layout||(e.layout={type:"vbox",align:"stretchmax",overflowHandler:"Scroller"}),r?void 0===e.minWidth&&(e.minWidth=e.defaultMinWidth):(e.hidden=!!e.initialConfig.hidden,e.constrain=!1),e.callParent(arguments)},registerWithOwnerCt:function(){this.floating&&(this.ownerCt=null,Ext.WindowManager.register(this))},initHierarchyEvents:Ext.emptyFn,isVisible:function(){return this.callParent()},getHierarchyState:function(){var e=this.callParent();return e.hidden=this.hidden,e},beforeRender:function(){this.callParent(arguments),this.getSizeModel().width.shrinkWrap||(this.layout.align="stretch")},onBoxReady:function(){var e=this;e.callParent(arguments),e.showSeparator&&(e.iconSepEl=e.layout.getElementTarget().insertFirst({cls:Ext.baseCSSPrefix+"menu-icon-separator",html:"&#160;"})),e.mon(e.el,{click:e.onClick,mouseover:e.onMouseOver,scope:e}),e.mouseMonitor=e.el.monitorMouseLeave(100,e.onMouseLeave,e),e.enableKeyNav&&(e.keyNav=new Ext.menu.KeyNav({target:e,keyMap:e.getKeyMap()}))},getRefOwner:function(){return this.parentMenu||this.ownerButton||this.callParent(arguments)},canActivateItem:function(e){return e&&!e.isDisabled()&&e.isVisible()&&(e.canActivate||e.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(e){var t=this,n=t.activeItem,i=t.focusedItem;n&&(n.deactivate(),n.activated||delete t.activeItem),i&&e&&(i.blur(),delete t.focusedItem)},getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(!0),this.callParent(arguments)},getItemFromEvent:function(e){return this.getChildByElement(e.getTarget())},lookupComponent:function(e){var t=this;return"string"==typeof e?e=t.lookupItemFromString(e):Ext.isObject(e)&&(e=t.lookupItemFromObject(e)),e.minWidth=e.minWidth||t.minWidth,e},lookupItemFromObject:function(e){var t,n=this,i=Ext.baseCSSPrefix;return e.isComponent||(e=e.xtype?Ext.ComponentManager.create(e,e.xtype):Ext.create("Ext.menu."+(Ext.isBoolean(e.checked)?"Check":"")+"Item",e)),e.isMenuItem&&(e.parentMenu=n),e.isMenuItem||e.dock||(t=[i+"menu-item-cmp"],n.plain||e.indent===!1&&"no-icon"!==e.iconCls||t.push(i+"menu-item-indent"),e.rendered?e.el.addCls(t):e.cls=(e.cls||"")+" "+t.join(" ")),e},lookupItemFromString:function(e){return"separator"==e||"-"==e?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:e})},onClick:function(e){var t,n=this;return n.disabled?(e.stopEvent(),void 0):(t="click"===e.type?n.getItemFromEvent(e):n.activeItem,t&&t.isMenuItem&&(t.menu&&n.ignoreParentClicks?e.stopEvent():t.onClick(e)),(!t||t.disabled)&&(t=void 0),n.fireEvent("click",n,t,e),void 0)},onDestroy:function(){var e=this;Ext.menu.Manager.unregister(e),e.parentMenu=e.ownerButton=null,e.rendered&&(e.el.un(e.mouseMonitor),Ext.destroy(e.keyNav),e.keyNav=null),e.callParent(arguments)},onMouseLeave:function(e){var t=this;t.deactivateActiveItem(),t.disabled||t.fireEvent("mouseleave",t,e)},onMouseOver:function(e){var t=this,n=e.getRelatedTarget(),i=!t.el.contains(n),r=t.getItemFromEvent(e),o=t.parentMenu,a=t.parentItem;i&&o&&(o.setActiveItem(a),a.cancelDeferHide(),o.mouseMonitor.mouseenter()),t.disabled||(r&&!r.activated&&(t.setActiveItem(r),r.activated&&r.expandMenu&&r.expandMenu()),i&&t.fireEvent("mouseenter",t,e),t.fireEvent("mouseover",t,r,e))},setActiveItem:function(e){var t=this;e&&e!=t.activeItem&&(t.deactivateActiveItem(),t.canActivateItem(e)&&(e.activate?(e.activate(),e.activated&&(t.activeItem=e,t.focusedItem=e,t.focus())):(e.focus(),t.focusedItem=e)),e.el.scrollIntoView(t.layout.getRenderTarget()))},showBy:function(){var e=this;return e.callParent(arguments),e.hidden||e.setVerticalPosition(),e},beforeShow:function(){var e,t=this;t.floating&&(t.savedMaxHeight=t.maxHeight,e=t.container.getViewSize().height,t.maxHeight=Math.min(t.maxHeight||e,e)),t.callParent(arguments)},afterShow:function(){var e=this;e.callParent(arguments),e.floating&&(e.maxHeight=e.savedMaxHeight)},setVerticalPosition:function(){var e,t=this,n=t.getY(),i=n,r=t.getHeight(),o=Ext.Element.getViewportHeight().height,a=t.el.parent(),s=a.getViewSize().height,l=n-a.getScroll().top;a=null,t.floating&&(e=t.maxHeight?t.maxHeight:s-l,r>s?i=n-l:r>e?i=n-(r-e):n+r>o&&(i=o-r)),t.setY(i)}}),Ext.define("Ext.menu.ColorPicker",{extend:Ext.menu.Menu,alias:"widget.colormenu",hideOnClick:!0,pickerId:null,initComponent:function(){var e=this,t=Ext.apply({},e.initialConfig);delete t.listeners,Ext.apply(e,{plain:!0,showSeparator:!1,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",id:e.pickerId,xtype:"colorpicker"},t)}),e.callParent(arguments),e.picker=e.down("colorpicker"),e.relayEvents(e.picker,["select"]),e.hideOnClick&&e.on("select",e.hidePickerOnSelect,e)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.menu.DatePicker",{extend:Ext.menu.Menu,alias:"widget.datemenu",hideOnClick:!0,pickerId:null,initComponent:function(){var e=this,t=Ext.apply({},e.initialConfig);delete t.listeners,Ext.apply(e,{showSeparator:!1,plain:!0,border:!1,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",id:e.pickerId,xtype:"datepicker"},t)}),e.callParent(arguments),e.picker=e.down("datepicker"),e.relayEvents(e.picker,["select"]),e.hideOnClick&&e.on("select",e.hidePickerOnSelect,e)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.panel.Tool",{extend:Ext.Component,alias:"widget.tool",isTool:!0,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img role="presentation" id="{id}-toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],toolOwner:null,tooltipType:"qtip",stopEvent:!0,height:15,width:15,initComponent:function(){var e=this;e.addEvents("click"),e.type=e.type||e.id,Ext.applyIf(e.renderData,{baseCls:e.baseCls,blank:Ext.BLANK_IMAGE_URL,type:e.type}),e.tooltip=e.tooltip||e.qtip,e.callParent()},afterRender:function(){var e,t=this;t.callParent(arguments),t.el.on({click:t.onClick,mousedown:t.onMouseDown,mouseover:t.onMouseOver,mouseout:t.onMouseOut,scope:t}),t.tooltip&&(Ext.quickTipsActive&&Ext.isObject(t.tooltip)?Ext.tip.QuickTipManager.register(Ext.apply({target:t.id},t.tooltip)):(e="qtip"==t.tooltipType?"data-qtip":"title",t.el.dom.setAttribute(e,t.tooltip)))},getFocusEl:function(){return this.el},setType:function(e){var t=this,n=t.type;return t.type=e,t.rendered?(n&&t.toolEl.removeCls(t.baseCls+"-"+n),t.toolEl.addCls(t.baseCls+"-"+e)):t.renderData.type=e,t},onClick:function(e,t){var n=this;return n.disabled?!1:(n.el.removeCls(n.toolPressedCls),n.el.removeCls(n.toolOverCls),n.stopEvent!==!1&&e.stopEvent(),n.handler?Ext.callback(n.handler,n.scope||n,[e,t,n.ownerCt,n]):n.callback&&Ext.callback(n.callback,n.scope||n,[n.toolOwner||n.ownerCt,n,e]),n.fireEvent("click",n,e),!0)},onDestroy:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.id),this.callParent()},onMouseDown:function(){return this.disabled?!1:(this.el.addCls(this.toolPressedCls),void 0)},onMouseOver:function(){return this.disabled?!1:(this.el.addCls(this.toolOverCls),void 0)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}}),Ext.define("Ext.resizer.SplitterTracker",{extend:Ext.dd.DragTracker,enabled:!0,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var e;e=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:"&#160;"}),e.unselectable(),e.setSize(Ext.Element.getViewWidth(!0),Ext.Element.getViewHeight(!0)),e.show()},getPrevCmp:function(){var e=this.getSplitter();return e.previousSibling(":not([hidden])")},getNextCmp:function(){var e=this.getSplitter();return e.nextSibling(":not([hidden])")},onBeforeStart:function(e){var t,n=this,i=n.getPrevCmp(),r=n.getNextCmp(),o=n.getSplitter().collapseEl,a=e.getTarget();return i&&r?o&&a===n.getSplitter().collapseEl.dom?!1:r.collapsed||i.collapsed?!1:(n.prevBox=i.getEl().getBox(),n.nextBox=r.getEl().getBox(),n.constrainTo=t=n.calculateConstrainRegion(),t?t:!1):!1},onStart:function(){var e=this.getSplitter();this.createDragOverlay(),e.addCls(e.baseCls+"-active")},calculateConstrainRegion:function(){var e,t,n,i=this,r=i.getSplitter(),o=r.getWidth(),a=r.defaultSplitMin,s=r.orientation,l=i.prevBox,d=i.getPrevCmp(),c=i.nextBox,u=i.getNextCmp();return"vertical"===s?(n={prevCmp:d,nextCmp:u,prevBox:l,nextBox:c,defaultMin:a,splitWidth:o},e=new Ext.util.Region(l.y,i.getVertPrevConstrainRight(n),l.bottom,i.getVertPrevConstrainLeft(n)),t=new Ext.util.Region(c.y,i.getVertNextConstrainRight(n),c.bottom,i.getVertNextConstrainLeft(n))):(e=new Ext.util.Region(l.y+(d.minHeight||a),l.right,(d.maxHeight?l.y+d.maxHeight:c.bottom-(u.minHeight||a))+o,l.x),t=new Ext.util.Region((u.maxHeight?c.bottom-u.maxHeight:l.y+(d.minHeight||a))-o,c.right,c.bottom-(u.minHeight||a),c.x)),e.intersect(t)},performResize:function(e,t){for(var n,i,r=this,o=r.getSplitter(),a=o.orientation,s=r.getPrevCmp(),l=r.getNextCmp(),d=o.ownerCt,c=d.query(">[flex]"),u=c.length,h="vertical"===a,f=0,g=h?"width":"height",p=0;u>f;f++)n=c[f],i=h?n.getWidth():n.getHeight(),p+=i,n.flex=i;t=h?t[0]:t[1],s&&(i=r.prevBox[g]+t,s.flex?s.flex=i:s[g]=i),l&&(i=r.nextBox[g]-t,l.flex?l.flex=i:l[g]=i),d.updateLayout()},endDrag:function(){var e=this;e.overlay&&(e.overlay.remove(),delete e.overlay),e.callParent(arguments)},onEnd:function(e){var t=this,n=t.getSplitter();n.removeCls(n.baseCls+"-active"),t.performResize(e,t.getResizeOffset())},onDrag:function(){var e=this,t=e.getOffset("dragTarget"),n=e.getSplitter(),i=n.getEl(),r=n.orientation;"vertical"===r?i.setX(e.startRegion.left+t[0]):i.setY(e.startRegion.top+t[1])},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(e){return(e.prevCmp.maxWidth?e.prevBox.x+e.prevCmp.maxWidth:e.nextBox.right-(e.nextCmp.minWidth||e.defaultMin))+e.splitWidth},getVertPrevConstrainLeft:function(e){return e.prevBox.x+(e.prevCmp.minWidth||e.defaultMin)},getVertNextConstrainRight:function(e){return e.nextBox.right-(e.nextCmp.minWidth||e.defaultMin)},getVertNextConstrainLeft:function(e){return(e.nextCmp.maxWidth?e.nextBox.right-e.nextCmp.maxWidth:e.prevBox.x+(e.prevBox.minWidth||e.defaultMin))-e.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}}),Ext.define("Ext.resizer.BorderSplitterTracker",{extend:Ext.resizer.SplitterTracker,getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var e,t,n,i,r,o,a,s=this,l=s.splitter,d=l.collapseTarget,c=l.defaultSplitMin,u=l.vertical?"Width":"Height",h="min"+u,f="max"+u,g="get"+u,p=l.neighbors,m=p.length,x=d.el.getBox(),y=x.x,E=x.y,v=x.right,b=x.bottom,C=l.vertical?v-y:b-E;for(n=(d[h]||Math.min(C,c))-C,i=d[f],i?i-=C:i=1e9,a=C,e=0;m>e;++e)t=p[e],C=t[g](),r=C-t[f],o=C-(t[h]||Math.min(C,c)),isNaN(r)||r>n&&(n=r),i>o&&(i=o);return 2>i-n?null:(x=new Ext.util.Region(E,v,b,y),s.constraintAdjusters[s.getCollapseDirection()](x,n,i,l),s.dragInfo={minRange:n,maxRange:i,targetSize:a},x)},constraintAdjusters:{left:function(e,t,n,i){e[0]=e.x=e.left=e.right+t,e.right+=n+i.getWidth()},top:function(e,t,n,i){e[1]=e.y=e.top=e.bottom+t,e.bottom+=n+i.getHeight()},bottom:function(e,t,n,i){e.bottom=e.top-t,e.top-=n+i.getHeight()},right:function(e,t,n,i){e.right=e.left-t,e[0]=e.x=e.left=e.x-n+i.getWidth()}},onBeforeStart:function(e){var t,n,i=this,r=i.splitter,o=r.collapseTarget,a=r.neighbors,s=i.getSplitter().collapseEl,l=e.getTarget(),d=a.length;if(s&&l===r.collapseEl.dom)return!1;if(o.collapsed)return!1;for(t=0;d>t;++t)if(n=a[t],n.collapsed&&n.isHorz===o.isHorz)return!1;return(i.constrainTo=i.calculateConstrainRegion())?!0:!1},performResize:function(e,t){var n,i=this,r=i.splitter,o=r.getCollapseDirection(),a=r.collapseTarget,s=i.splitAdjusters[r.vertical?"horz":"vert"],l=t[s.index],d=i.dragInfo;("right"==o||"bottom"==o)&&(l=-l),l=Math.min(Math.max(d.minRange,l),d.maxRange),l&&((n=r.ownerCt).suspendLayouts(),s.adjustTarget(a,d.targetSize,l),n.resumeLayouts(!0))},splitAdjusters:{horz:{index:0,adjustTarget:function(e,t,n){e.flex=null,e.setSize(t+n)}},vert:{index:1,adjustTarget:function(e,t,n){e.flex=null,e.setSize(void 0,t+n)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}}),Ext.define("Ext.resizer.Handle",{extend:Ext.Component,handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",beforeRender:function(){var e=this;e.callParent(),e.protoEl.unselectable(),e.addCls(e.baseHandleCls,e.baseHandleCls+"-"+e.region,e.handleCls)}}),Ext.define("Ext.resizer.ResizeTracker",{extend:Ext.dd.DragTracker,dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(e){var t,n,i,r=this;e.el||(r.el=e.target.isComponent?e.target.getEl():e.target),this.callParent(arguments),r.preserveRatio&&r.minWidth&&r.minHeight&&(t=r.minWidth/r.el.getWidth(),n=r.minHeight/r.el.getHeight(),n>t?r.minWidth=r.el.getWidth()*n:r.minHeight=r.el.getHeight()*t),r.throttle&&(i=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(r,arguments)},r.throttle),r.resize=function(e,t,n){n?Ext.resizer.ResizeTracker.prototype.resize.apply(r,arguments):i.apply(null,arguments)})},onBeforeStart:function(){this.startBox=this.target.getBox()},getDynamicTarget:function(){var e=this,t=e.target;return e.dynamic?t:(e.proxy||(e.proxy=e.createProxy(t)),e.proxy.show(),e.proxy)},createProxy:function(e){var t,n=this.proxyCls;return t=e.isComponent?e.getProxy().addCls(n):e.createProxy({tag:"div",cls:n,id:e.id+"-rzproxy"},Ext.getBody()),t.removeCls(Ext.baseCSSPrefix+"proxy-el"),t},onStart:function(){this.activeResizeHandle=Ext.get(this.getDragTarget().id),this.dynamic||this.resize(this.startBox,{horizontal:"none",vertical:"none"})},onDrag:function(e){(this.dynamic||this.proxy)&&this.updateDimensions(e)},updateDimensions:function(e,t){var n,i,r,o,a,s,l,d,c,u=this,h=u.activeResizeHandle.region,f=u.getOffset(u.constrainTo?"dragTarget":null),g=u.startBox,p=0,m=0,x=0,y=0,E=f[0]<0?"right":"left",v=f[1]<0?"down":"up";switch(h=u.convertRegionName(h)){case"south":m=f[1],s=2;break;case"north":m=-f[1],y=-m,s=2;break;case"east":p=f[0],s=1;break;case"west":p=-f[0],x=-p,s=1;break;case"northeast":m=-f[1],y=-m,p=f[0],a=[g.x,g.y+g.height],s=3;break;case"southeast":m=f[1],p=f[0],a=[g.x,g.y],s=3;break;case"southwest":p=-f[0],x=-p,m=f[1],a=[g.x+g.width,g.y],s=3;break;case"northwest":m=-f[1],y=-m,p=-f[0],x=-p,a=[g.x+g.width,g.y+g.height],s=3}if(l={width:g.width+p,height:g.height+m,x:g.x+x,y:g.y+y},i=Ext.Number.snap(l.width,u.widthIncrement),r=Ext.Number.snap(l.height,u.heightIncrement),i!=l.width||r!=l.height){switch(h){case"northeast":l.y-=r-l.height;break;case"north":l.y-=r-l.height;break;case"southwest":l.x-=i-l.width;break;case"west":l.x-=i-l.width;break;case"northwest":l.x-=i-l.width,l.y-=r-l.height}l.width=i,l.height=r}l.width<u.minWidth||l.width>u.maxWidth?(l.width=Ext.Number.constrain(l.width,u.minWidth,u.maxWidth),x&&(l.x=g.x+(g.width-l.width))):u.lastX=l.x,l.height<u.minHeight||l.height>u.maxHeight?(l.height=Ext.Number.constrain(l.height,u.minHeight,u.maxHeight),y&&(l.y=g.y+(g.height-l.height))):u.lastY=l.y,(u.preserveRatio||e.shiftKey)&&(n=u.startBox.width/u.startBox.height,d=Math.min(Math.max(u.minHeight,l.width/n),u.maxHeight),c=Math.min(Math.max(u.minWidth,l.height*n),u.maxWidth),1==s?l.height=d:2==s?l.width=c:(o=Math.abs(a[0]-this.lastXY[0])/Math.abs(a[1]-this.lastXY[1]),o>n?l.height=d:l.width=c,"northeast"==h?l.y=g.y-(l.height-g.height):"northwest"==h?(l.y=g.y-(l.height-g.height),l.x=g.x-(l.width-g.width)):"southwest"==h&&(l.x=g.x-(l.width-g.width)))),0===m&&(v="none"),0===p&&(E="none"),u.resize(l,{horizontal:E,vertical:v},t)},getResizeTarget:function(e){return e?this.target:this.getDynamicTarget()},resize:function(e,t,n){var i=this,r=i.getResizeTarget(n);r.setBox(e),i.originalTarget&&(i.dynamic||n)&&i.originalTarget.setBox(e)},onEnd:function(e){this.updateDimensions(e,!0),this.proxy&&this.proxy.hide()},convertRegionName:function(e){return e}}),Ext.define("Ext.resizer.Resizer",{mixins:{observable:Ext.util.Observable},alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(e){var t,n,i,r,o,a,s,l,d,c,u,h=this,f=h.handles,g=0,p=[],m=Ext.dom.Element.unselectableCls;for(h.addEvents("beforeresize","resizedrag","resize"),(Ext.isString(e)||Ext.isElement(e)||e.dom)&&(t=e,e=arguments[1]||{},e.target=t),h.mixins.observable.constructor.call(h,e),t=h.target,t?t.isComponent?(t.addClsWithUI("resizable"),h.el=t.getEl(),t.minWidth&&(h.minWidth=t.minWidth),t.minHeight&&(h.minHeight=t.minHeight),t.maxWidth&&(h.maxWidth=t.maxWidth),t.maxHeight&&(h.maxHeight=t.maxHeight),t.floating&&(h.hasOwnProperty("handles")||(h.handles="n ne e se s sw w nw"))):h.el=h.target=Ext.get(t):h.target=h.el=Ext.get(h.el),i=h.el.dom.tagName.toUpperCase(),("TEXTAREA"==i||"IMG"==i||"TABLE"==i)&&(h.originalTarget=h.target,n=h.el,c=n.getBox(),h.target=h.el=h.el.wrap({cls:h.wrapCls,id:h.el.id+"-rzwrap",style:n.getStyles("margin-top","margin-bottom")}),h.el.setPositioning(n.getPositioning()),n.clearPositioning(),h.el.setBox(c),n.setStyle("position","absolute")),h.el.position(),h.pinned&&h.el.addCls(h.pinnedCls),h.resizeTracker=new Ext.resizer.ResizeTracker({disabled:h.disabled,target:h.target,constrainTo:h.constrainTo,overCls:h.overCls,throttle:h.throttle,originalTarget:h.originalTarget,delegate:"."+h.handleCls,dynamic:h.dynamic,preserveRatio:h.preserveRatio,heightIncrement:h.heightIncrement,widthIncrement:h.widthIncrement,minHeight:h.minHeight,maxHeight:h.maxHeight,minWidth:h.minWidth,maxWidth:h.maxWidth}),h.resizeTracker.on({mousedown:h.onBeforeResize,drag:h.onResize,dragend:h.onResizeEnd,scope:h}),"all"==h.handles&&(h.handles="n s e w ne nw se sw"),f=h.handles=h.handles.split(h.delimiterRe),o=h.possiblePositions,a=f.length,r=h.handleCls+" "+h.handleCls+"-{0}",h.target.isComponent&&(u=h.target.baseCls,r+=" "+u+"-handle "+u+"-handle-{0}",Ext.supports.CSS3BorderRadius&&(r+=" "+u+"-handle-{0}-br")),l=Ext.isIE6?' style="height:'+h.el.getHeight()+'px"':"";a>g;g++)f[g]&&o[f[g]]&&(s=o[f[g]],d="east"===s||"west"===s?l:"",p.push('<div id="',h.el.id,"-",s,'-handle"',' class="',Ext.String.format(r,s)," ",m,'"',' unselectable="on"',d,"></div>"));for(Ext.DomHelper.append(h.el,p.join("")),g=0;a>g;g++)f[g]&&o[f[g]]&&(s=o[f[g]],h[s]=h.el.getById(h.el.id+"-"+s+"-handle"),h[s].region=s,h.transparent&&h[s].setOpacity(0));Ext.isNumber(h.width)&&(h.width=Ext.Number.constrain(h.width,h.minWidth,h.maxWidth)),Ext.isNumber(h.height)&&(h.height=Ext.Number.constrain(h.height,h.minHeight,h.maxHeight)),(null!==h.width||null!==h.height)&&(h.originalTarget&&(h.originalTarget.setWidth(h.width),h.originalTarget.setHeight(h.height)),h.resizeTo(h.width,h.height)),h.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(e,t){var n=this.el.getBox();return this.fireEvent("beforeresize",this,n.width,n.height,t)},onResize:function(e,t){var n=this,i=n.el.getBox();return n.forceHandlesHeight(),n.fireEvent("resizedrag",n,i.width,i.height,t)},onResizeEnd:function(e,t){var n=this,i=n.el.getBox();return n.forceHandlesHeight(),n.fireEvent("resize",n,i.width,i.height,t)},resizeTo:function(e,t){var n=this;n.target.setSize(e,t),n.fireEvent("resize",n,e,t,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var e,t,n=this,i=n.handles,r=i.length,o=n.possiblePositions;for(n.resizeTracker.destroy(),e=0;r>e;e++)(t=n[o[i[e]]])&&t.remove()},forceHandlesHeight:function(){var e,t=this;Ext.isIE6&&(e=t.east,e&&e.setHeight(t.el.getHeight()),e=t.west,e&&e.setHeight(t.el.getHeight()),t.el.repaint())}}),Ext.define("Ext.selection.CellModel",{extend:Ext.selection.Model,alias:"selection.cellmodel",isCellModel:!0,enableKeyNav:!0,preventWrap:!1,noSelection:{row:-1,column:-1},constructor:function(){this.addEvents("deselect","select"),this.callParent(arguments)},bindComponent:function(e){var t=this,n=e.ownerCt;t.primaryView=e,t.views=t.views||[],t.views.push(e),t.bindStore(e.getStore(),!0),e.on({cellmousedown:t.onMouseDown,refresh:t.onViewRefresh,scope:t}),n.optimizedColumnMove!==!1&&n.on("columnmove",t.onColumnMove,t),t.enableKeyNav&&t.initKeyNav(e)},initKeyNav:function(e){var t=this;return e.rendered?(e.el.set({tabIndex:-1}),t.keyNav=new Ext.util.KeyNav({target:e.el,ignoreInputFields:!0,up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,tab:t.onKeyTab,scope:t}),void 0):(e.on("render",Ext.Function.bind(t.initKeyNav,t,[e],0),t,{single:!0}),void 0)},getHeaderCt:function(){var e=this.getCurrentPosition(),t=e?e.view:this.primaryView;return t.headerCt},onKeyUp:function(e){this.doMove("up",e)},onKeyDown:function(e){this.doMove("down",e)},onKeyLeft:function(e){this.doMove("left",e)},onKeyRight:function(e){this.doMove("right",e)},doMove:function(e,t){this.keyNavigation=!0,this.move(e,t),this.keyNavigation=!1},onVetoUIEvent:Ext.emptyFn,select:function(e,t,n){var i,r=this,o=r.getCurrentPosition(),a=r.view.store;(e||0===e)&&(e.isModel?(i=a.indexOf(e),e=-1!==i?{row:i,column:o?o.column:0}:null):"number"==typeof e&&(e={row:e,column:0})),e?r.selectByPosition(e,n):r.deselect()},deselect:function(e,t){this.selectByPosition(null,t)},move:function(e,t){var n,i=this,r=i.getCurrentPosition();return r&&(n=r.view.walkCells(r,e,t,i.preventWrap))?(n.view=r.view,i.setCurrentPosition(n)):void 0},getCurrentPosition:function(){return this.selecting?this.nextSelection:this.selection},setCurrentPosition:function(e,t){var n=this,i=n.selection;return n.lastSelection=i,i&&(e&&e.record===i.record&&e.columnHeader===i.columnHeader&&e.view===i.view?e=null:n.onCellDeselect(n.selection,t)),e?(n.nextSelection=new Ext.grid.CellContext(n.primaryView).setPosition(e),n.selecting=!0,n.onCellSelect(n.nextSelection,t),n.selecting=!1,n.selection=n.nextSelection):void 0},isCellSelected:function(e,t,n){var i,r=this,o=r.getCurrentPosition();return o&&o.view===e?(i=new Ext.grid.CellContext(e).setPosition({row:t,column:n}),i.record===o.record&&i.columnHeader===o.columnHeader):void 0},onStoreRemove:function(e,t,n){var i,r,o=this,a=o.getCurrentPosition(),s=t.length,l=0;if(o.callParent(arguments),a){if(n[0]>a.row)return;for(i=0;s>i&&(r=n[i],r<a.row);i++)l++;l&&a.setRow(a.row-l)}},onMouseDown:function(e,t,n,i,r,o){-1!==o&&this.setCurrentPosition({view:e,row:r,column:n})},onCellSelect:function(e,t){e&&void 0!==e.row&&e.row>-1&&this.doSelect(e.record,!1,t)},onCellDeselect:function(e,t){e&&void 0!==e.row&&this.doDeselect(e.record,t)},onSelectChange:function(e,t,n,i){var r,o,a,s=this;t?(r=s.nextSelection,o="select"):(r=s.lastSelection||s.noSelection,o="deselect"),a=r.view||s.primaryView,(n||s.fireEvent("before"+o,s,e,r.row,r.column))!==!1&&i()!==!1&&(t?(a.focusRow(e,!0),a.onCellSelect(r)):(a.onCellDeselect(r),delete s.selection),n||s.fireEvent(o,s,e,r.row,r.column))},onKeyTab:function(e){var t,n=this,i=n.getCurrentPosition();i&&(t=i.view.editingPlugin,t&&n.wasEditing?n.onEditorTab(t,e):n.move(e.shiftKey?"left":"right",e))},onEditorTab:function(e,t){var n=this,i=t.shiftKey?"left":"right",r=n.move(i,t);r&&(n.wasEditing=e.startEdit(r.record,r.columnHeader)?!1:!0)},refresh:function(){var e,t=this.getCurrentPosition();t&&-1!==(e=this.store.indexOf(this.selected.last()))&&(t.row=e)},onColumnMove:function(e){var t=e.up("tablepanel");t&&this.onViewRefresh(t.view)},onUpdate:function(e){var t,n=this;n.isSelected(e)&&(t=n.selecting?n.nextSelection:n.selection,n.view.onCellSelect(t))},onViewRefresh:function(e){var t,n,i=this,r=i.getCurrentPosition(),o=e.headerCt;r&&r.view===e&&(t=r.record,n=r.columnHeader,n.isDescendantOf(o)||(n=o.queryById(n.id)||o.down('[text="'+n.text+'"]')||o.down('[dataIndex="'+n.dataIndex+'"]')),n&&-1!==e.store.indexOfId(t.getId())&&i.setCurrentPosition({row:t,column:n,view:e}))},selectByPosition:function(e,t){this.setCurrentPosition(e,t)}}),Ext.define("Ext.selection.RowModel",{extend:Ext.selection.Model,alias:"selection.rowmodel",deltaScroll:5,enableKeyNav:!0,ignoreRightMouseSelection:!1,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select"),this.views=[],this.callParent(arguments)},bindComponent:function(e){var t=this;e.on({itemmousedown:t.onRowMouseDown,itemclick:t.onRowClick,scope:t}),t.enableKeyNav&&t.initKeyNav(e)},initKeyNav:function(e){var t=this;return e.rendered?(e.el.set({tabIndex:-1}),t.keyNav=new Ext.util.KeyNav({target:e,ignoreInputFields:!0,eventName:"itemkeydown",processEvent:function(e,t,n,i,r){return r.record=t,r.recordIndex=i,r},up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,space:t.onKeySpace,enter:t.onKeyEnter,scope:t}),void 0):(e.on("render",Ext.Function.bind(t.initKeyNav,t,[e],0),t,{single:!0}),void 0)},onUpdate:function(e){var t,n=this,i=n.view;
i&&n.isSelected(e)&&(t=i.indexOf(e),i.onRowSelect(t),e===n.lastFocused&&i.onRowFocus(t,!0))},getRowsVisible:function(){var e,t,n=!1,i=this.views[0],r=i.all.first();return r&&(e=r.getHeight(),t=i.el.getHeight(),n=Math.floor(t/e)),n},onKeyEnd:function(e){var t=this,n=t.views[0];n.bufferedRenderer?n.bufferedRenderer.scrollTo(t.store.getCount()-1,!1,function(n,i){t.afterKeyNavigate(e,i)}):t.afterKeyNavigate(e,n.getRecord(n.all.getCount()-1))},onKeyHome:function(e){var t=this,n=t.views[0];n.bufferedRenderer?n.bufferedRenderer.scrollTo(0,!1,function(n,i){t.afterKeyNavigate(e,i)}):t.afterKeyNavigate(e,n.getRecord(0))},onKeyPageUp:function(e){var t,n,i=this,r=i.views[0],o=i.getRowsVisible();o&&(r.bufferedRenderer?(t=Math.max(e.recordIndex-o,0),(i.lastKeyEvent||(i.lastKeyEvent=new Ext.EventObjectImpl)).setEvent(e.browserEvent),r.bufferedRenderer.scrollTo(t,!1,i.afterBufferedScrollTo,i)):(n=r.walkRecs(e.record,-o),i.afterKeyNavigate(e,n)))},onKeyPageDown:function(e){var t,n,i=this,r=i.views[0],o=i.getRowsVisible();o&&(r.bufferedRenderer?(t=Math.min(e.recordIndex+o,i.store.getCount()-1),(i.lastKeyEvent||(i.lastKeyEvent=new Ext.EventObjectImpl)).setEvent(e.browserEvent),r.bufferedRenderer.scrollTo(t,!1,i.afterBufferedScrollTo,i)):(n=r.walkRecs(e.record,o),i.afterKeyNavigate(e,n)))},onKeySpace:function(e){var t=this.lastFocused;t&&this.afterKeyNavigate(e,t)},onKeyEnter:Ext.emptyFn,onKeyUp:function(e){var t=this.views[0].walkRecs(e.record,-1);t&&this.afterKeyNavigate(e,t)},onKeyDown:function(e){var t=this.views[0].walkRecs(e.record,1);t&&this.afterKeyNavigate(e,t)},afterBufferedScrollTo:function(e,t){this.afterKeyNavigate(this.lastKeyEvent,t)},scrollByDeltaX:function(e){var t=this.views[0],n=t.up(),i=n.horizontalScroller;i&&i.scrollByDeltaX(e)},onKeyLeft:function(){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(e,t,n,i,r){var o=this;if(-1!==i){if(!o.allowRightMouseSelection(r))return;o.isSelected(t)?o.mousedownAction=!1:(o.mousedownAction=!0,o.processSelection(e,t,n,i,r))}},onVetoUIEvent:function(e,t,n,i,r,o,a){"mousedown"==e&&(this.mousedownAction=!this.isSelected(a))},onRowClick:function(e,t,n,i,r){this.mousedownAction?this.mousedownAction=!1:this.processSelection(e,t,n,i,r)},processSelection:function(e,t,n,i,r){this.selectWithEvent(t,r)},allowRightMouseSelection:function(e){var t=this.ignoreRightMouseSelection&&0!==e.button;return t&&(t=this.hasSelection()),!t},onSelectChange:function(e,t,n,i){var r=this,o=r.views,a=o.length,s=o[0].indexOf(e),l=t?"select":"deselect",d=0;if((n||r.fireEvent("before"+l,r,e,s))!==!1&&i()!==!1){for(;a>d;d++)t?o[d].onRowSelect(s,n):o[d].onRowDeselect(s,n);n||r.fireEvent(l,r,e,s)}},onLastFocusChanged:function(e,t,n){var i,r=this.views,o=r.length,a=0;if(e&&(i=r[0].indexOf(e),-1!=i))for(;o>a;a++)r[a].onRowFocus(i,!1,!0);if(t&&(i=r[0].indexOf(t),-1!=i))for(a=0;o>a;a++)r[a].onRowFocus(i,!0,n);this.callParent(arguments)},onEditorTab:function(e,t){var n=this,i=n.views[0],r=e.getActiveRecord(),o=e.getActiveColumn(),a=i.getPosition(r,o),s=t.shiftKey?"left":"right";do a=i.walkCells(a,s,t,n.preventWrap);while(a&&(!a.columnHeader.getEditor(r)||!e.startEditByPosition(a)))},getCurrentPosition:function(){var e=this.selected.items[0];return e?new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(e),0):void 0},selectByPosition:function(e){this.select(this.store.getAt(e.row))},selectNext:function(e,t){var n,i=this,r=i.store,o=i.getSelection(),a=o[o.length-1],s=i.views[0].indexOf(a)+1;return s===r.getCount()||0===s?n=!1:(i.doSelect(s,e,t),n=!0),n},selectPrevious:function(e,t){var n,i=this,r=i.getSelection(),o=r[0],a=i.views[0].indexOf(o)-1;return 0>a?n=!1:(i.doSelect(a,e,t),n=!0),n},isRowSelected:function(e){return this.isSelected(e)}}),Ext.define("Ext.selection.TreeModel",{extend:Ext.selection.RowModel,alias:"selection.treemodel",constructor:function(){this.callParent(arguments),this.pruneRemoved&&(this.pruneRemoved=!1,this.pruneRemovedNodes=!0)},bindStore:function(){var e=this;e.callParent(arguments),e.pruneRemovedNodes&&e.view.mon(e.treeStore,{remove:e.onNodeRemove,scope:e})},onNodeRemove:function(e,t,n){n||this.deselectDeletedRecords([t])},onKeyRight:function(e,t){this.navExpand(e,t)},navExpand:function(e,t){var n=this.getLastFocused(),i=this.view;n&&(n.isExpanded()?this.onKeyDown(e,t):n.isExpandable()&&(i.isTreeView||(i=i.lockingPartner),i.expand(n)))},onKeyLeft:function(e,t){this.navCollapse(e,t)},navCollapse:function(e){var t,n=this,i=this.getLastFocused(),r=this.view;i&&(t=i.parentNode,i.isExpanded()?(r.isTreeView||(r=r.lockingPartner),r.collapse(i)):t&&!t.isRoot()&&(e.shiftKey?(n.selectRange(t,i,e.ctrlKey,"up"),n.setLastFocused(t)):e.ctrlKey?n.setLastFocused(t):n.select(t)))},onKeySpace:function(e){null!=e.record.data.checked?this.toggleCheck(e):this.callParent(arguments)},onKeyEnter:function(e){null!=e.record.data.checked?this.toggleCheck(e):this.callParent(arguments)},toggleCheck:function(e){var t=this.view,n=this.getLastSelected();e.stopEvent(),n&&(t.isTreeView||(t=t.lockingPartner),t.onCheckChange(n))}}),Ext.define("Ext.slider.Thumb",{topZIndex:1e4,constructor:function(e){var t=this;Ext.apply(t,e||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:!1}),t.callParent([e])},render:function(){var e=this;e.el=e.slider.innerEl.insertFirst(e.getElConfig()),e.onRender()},onRender:function(){this.disabled&&this.disable(),this.initEvents()},getElConfig:function(){var e=this,t=e.slider,n={};return n[t.vertical?"bottom":t.horizontalProp]=t.calculateThumbPosition(t.normalizeValue(e.value))+"%",{style:n,id:this.id,cls:this.cls}},move:function(e,t){var n,i,r=this,o=r.el,a=r.slider,s=a.vertical?"bottom":a.horizontalProp;e+="%",t?(n={},n[s]=e,Ext.supports.GetPositionPercentage||(i={},i[s]=o.dom.style[s]),new Ext.fx.Anim({target:o,duration:350,from:i,to:n})):o.dom.style[s]=e},bringToFront:function(){this.el.setStyle("zIndex",this.topZIndex)},sendToBack:function(){this.el.setStyle("zIndex","")},enable:function(){var e=this;e.disabled=!1,e.el&&e.el.removeCls(e.slider.disabledCls)},disable:function(){var e=this;e.disabled=!0,e.el&&e.el.addCls(e.slider.disabledCls)},initEvents:function(){var e=this,t=e.el;e.tracker=new Ext.dd.DragTracker({onBeforeStart:Ext.Function.bind(e.onBeforeDragStart,e),onStart:Ext.Function.bind(e.onDragStart,e),onDrag:Ext.Function.bind(e.onDrag,e),onEnd:Ext.Function.bind(e.onDragEnd,e),tolerance:3,autoStart:300,overCls:Ext.baseCSSPrefix+"slider-thumb-over"}),e.tracker.initEl(t)},onBeforeDragStart:function(){return this.disabled?!1:(this.slider.promoteThumb(this),!0)},onDragStart:function(e){var t=this,n=t.slider;n.onDragStart(t,e),t.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag"),t.dragging=t.slider.dragging=!0,t.dragStartValue=t.value,n.fireEvent("dragstart",n,e,t)},onDrag:function(e){var t,n,i=this,r=i.slider,o=i.index,a=i.getValueFromTracker();void 0!==a&&(i.constrain&&(t=r.thumbs[o+1],n=r.thumbs[o-1],void 0!==n&&a<=n.value&&(a=n.value),void 0!==t&&a>=t.value&&(a=t.value)),r.setValue(o,a,!1),r.fireEvent("drag",r,e,i))},getValueFromTracker:function(){var e=this.slider,t=e.getTrackpoint(this.tracker.getXY());return void 0!==t?e.reversePixelValue(t):void 0},onDragEnd:function(e){var t=this,n=t.slider,i=t.value;n.onDragEnd(t,e),t.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag"),t.dragging=n.dragging=!1,n.fireEvent("dragend",n,e),t.dragStartValue!=i&&n.fireEvent("changecomplete",n,i,t)},destroy:function(){Ext.destroy(this.tracker)}}),Ext.define("Ext.slider.Tip",{extend:Ext.tip.Tip,minWidth:10,alias:"widget.slidertip",offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:!0,init:function(e){var t,n,i=this;switch(i.position||(i.position=e.vertical?i.defaultVerticalPosition:i.defaultHorizontalPosition),i.position){case"top":n=[0,-10],t="b-t?";break;case"bottom":n=[0,10],t="t-b?";break;case"left":n=[-10,0],t="r-l?";break;case"right":n=[10,0],t="l-r?"}i.align||(i.align=t),i.offsets||(i.offsets=n),e.on({scope:i,dragstart:i.onSlide,drag:i.onSlide,dragend:i.hide,destroy:i.destroy})},onSlide:function(e,t,n){var i=this;i.show(),i.update(i.getText(n)),i.el.alignTo(n.el,i.align,i.offsets)},getText:function(e){return String(e.value)}}),Ext.define("Ext.slider.Multi",{extend:Ext.form.field.Base,alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" class="'+Ext.baseCSSPrefix+"slider {fieldCls} {vertical}","{childElCls}",'" aria-valuemin="{minValue}" aria-valuemax="{maxValue}" aria-valuenow="{value}" aria-valuetext="{value}">','<div id="{cmpId}-endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(e,t){for(var n,i,r=t.$comp,o=0,a=r.thumbs,s=a.length;s>o;o++)n=a[o],i=n.getElConfig(),i.id=r.id+"-thumb-"+o,Ext.DomHelper.generateMarkup(i,e)},disableFormats:!0}],horizontalProp:"left",vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,componentLayout:"sliderfield",useTips:!0,tipText:null,ariaRole:"slider",initValue:function(){var e=this,t=Ext.value,n=t(e.values,[t(e.value,t(e.minValue,0))]),i=0,r=n.length;for(e.originalValue=n;r>i;i++)e.addThumb(n[i])},initComponent:function(){var e,t,n,i,r,o=this;if(o.thumbs=[],o.keyIncrement=Math.max(o.increment,o.keyIncrement),o.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend"),o.callParent(),o.useTips){for(e=Ext.isObject(o.useTips)?Ext.apply({},o.useTips):o.tipText?{getText:o.tipText}:{},r=o.plugins=o.plugins||[],i=r.length,n=0;i>n;n++)if(r[n].isSliderTip){t=!0;break}t||o.plugins.push(new Ext.slider.Tip(e))}},addThumb:function(e){var t=this,n=new Ext.slider.Thumb({ownerCt:t,ownerLayout:t.getComponentLayout(),value:e,slider:t,index:t.thumbs.length,constrain:t.constrainThumbs,disabled:!!t.readOnly});return t.thumbs.push(n),t.rendered&&n.render(),n},promoteThumb:function(e){var t,n,i=this.thumbs,r=i.length;for(n=0;r>n;n++)t=i[n],t==e?t.bringToFront():t.sendToBack()},getSubTplData:function(){var e=this;return Ext.apply(e.callParent(),{$comp:e,vertical:e.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:e.minValue,maxValue:e.maxValue,value:e.value,childElCls:""})},onRender:function(){var e,t=this,n=t.thumbs,i=n.length,r=0;for(t.callParent(arguments),r=0;i>r;r++)e=n[r],e.el=t.el.getById(t.id+"-thumb-"+r),e.onRender()},initEvents:function(){var e=this;e.mon(e.el,{scope:e,mousedown:e.onMouseDown,keydown:e.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(e){var t,n,i,r=this,o=r.vertical,a=r.innerEl;return o?(i="top",t=a.getHeight()):(i=r.horizontalProp,t=a.getWidth()),e=r.transformTrackPoints(a.translatePoints(e)),n=Ext.Number.constrain(e[i],0,t),o?t-n:n},transformTrackPoints:Ext.identityFn,onMouseDown:function(e){var t,n=this,i=!1,r=0,o=n.thumbs,a=o.length;if(!n.disabled){for(;a>r;r++)i=i||e.target==o[r].el.dom;n.clickToChange&&!i&&(t=n.getTrackpoint(e.getXY()),void 0!==t&&n.onClickChange(t)),n.focus()}},onClickChange:function(e){var t,n,i=this;t=i.getNearest(e),t.disabled||(n=t.index,i.setValue(n,Ext.util.Format.round(i.reversePixelValue(e),i.decimalPrecision),void 0,!0))},getNearest:function(e){for(var t,n,i,r=this,o=r.reversePixelValue(e),a=r.getRange()+5,s=null,l=r.thumbs,d=0,c=l.length;c>d;d++)t=r.thumbs[d],n=t.value,i=Math.abs(n-o),Math.abs(a>=i)&&(s=t,a=i);return s},onKeyDown:function(e){var t,n,i=this;if(i.disabled||1!==i.thumbs.length)return e.preventDefault(),void 0;switch(t=e.getKey()){case e.UP:case e.RIGHT:e.stopEvent(),n=e.ctrlKey?i.maxValue:i.getValue(0)+i.keyIncrement,i.setValue(0,n,void 0,!0);break;case e.DOWN:case e.LEFT:e.stopEvent(),n=e.ctrlKey?i.minValue:i.getValue(0)-i.keyIncrement,i.setValue(0,n,void 0,!0);break;default:e.preventDefault()}},normalizeValue:function(e){var t=this,n=t.zeroBasedSnapping?"snap":"snapInRange";return e=Ext.Number[n](e,t.increment,t.minValue,t.maxValue),e=Ext.util.Format.round(e,t.decimalPrecision),e=Ext.Number.constrain(e,t.minValue,t.maxValue)},setMinValue:function(e){var t,n,i=this,r=i.thumbs,o=r.length;for(i.minValue=e,i.rendered&&i.inputEl.dom.setAttribute("aria-valuemin",e),n=0;o>n;++n)t=r[n],t.value<e&&i.setValue(n,e,!1);i.syncThumbs()},setMaxValue:function(e){var t,n,i=this,r=i.thumbs,o=r.length;for(i.maxValue=e,i.rendered&&i.inputEl.dom.setAttribute("aria-valuemax",e),n=0;o>n;++n)t=r[n],t.value>e&&i.setValue(n,e,!1);i.syncThumbs()},setValue:function(e,t,n,i){var r,o,a,s,l=this,d=l.thumbs;if(Ext.isArray(e)){for(s=e,n=t,a=0,o=s.length;o>a;++a)r=d[a],r&&l.setValue(a,s[a],n);return l}return r=l.thumbs[e],t=l.normalizeValue(t),t!==r.value&&l.fireEvent("beforechange",l,t,r.value,r)!==!1&&(r.value=t,l.rendered&&(l.inputEl.set({"aria-valuenow":t,"aria-valuetext":t}),r.move(l.calculateThumbPosition(t),Ext.isDefined(n)?n!==!1:l.animate),l.fireEvent("change",l,t,r),l.checkDirty(),i&&l.fireEvent("changecomplete",l,t,r))),l},calculateThumbPosition:function(e){var t=this,n=t.minValue,i=100*((e-n)/t.getRange());return isNaN(i)&&(i=n),i},getRatio:function(){var e=this,t=e.innerEl,n=e.vertical?t.getHeight():t.getWidth(),i=e.getRange();return 0===i?n:n/i},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(e){return this.minValue+e/this.getRatio()},reversePercentageValue:function(e){return this.minValue+this.getRange()*(e/100)},onDisable:function(){var e,t,n,i=this,r=0,o=i.thumbs,a=o.length;for(i.callParent();a>r;r++)e=o[r],t=e.el,e.disable(),Ext.isIE&&(n=t.getXY(),t.hide(),i.innerEl.addCls(i.disabledCls).dom.disabled=!0,i.thumbHolder||(i.thumbHolder=i.endEl.createChild({cls:Ext.baseCSSPrefix+"slider-thumb "+i.disabledCls})),i.thumbHolder.show().setXY(n))},onEnable:function(){var e,t,n=this,i=0,r=n.thumbs,o=r.length;for(this.callParent();o>i;i++)e=r[i],t=e.el,e.enable(),Ext.isIE&&(n.innerEl.removeCls(n.disabledCls).dom.disabled=!1,n.thumbHolder&&n.thumbHolder.hide(),t.show(),n.syncThumbs())},syncThumbs:function(){if(this.rendered)for(var e=this.thumbs,t=e.length,n=0;t>n;n++)e[n].move(this.calculateThumbPosition(e[n].value))},getValue:function(e){return Ext.isNumber(e)?this.thumbs[e].value:this.getValues()},getValues:function(){for(var e=[],t=0,n=this.thumbs,i=n.length;i>t;t++)e.push(n[t].value);return e},getSubmitValue:function(){var e=this;return e.disabled||!e.submitValue?null:e.getValue()},reset:function(){for(var e,t=this,n=[].concat(t.originalValue),i=0,r=n.length;r>i;i++)e=n[i],t.setValue(i,e);t.clearInvalid(),delete t.wasValid},setReadOnly:function(e){var t=this,n=t.thumbs,i=n.length,r=0;for(t.callParent(arguments),e=t.readOnly;i>r;++r)e?n[r].disable():n[r].enable()},beforeDestroy:function(){var e,t=this,n=t.thumbs,i=0,r=n.length;for(Ext.destroy(t.innerEl,t.endEl,t.focusEl);r>i;i++)e=n[i],Ext.destroy(e);t.callParent()}}),Ext.define("Ext.tab.Tab",{extend:Ext.button.Button,alias:"widget.tab",isTab:!0,baseCls:Ext.baseCSSPrefix+"tab",closeElOverCls:Ext.baseCSSPrefix+"tab-close-btn-over",activeCls:"active",closableCls:"closable",closable:!0,closeText:"Close Tab",active:!1,childEls:["closeEl"],scale:!1,position:"top",initComponent:function(){var e=this;e.addEvents("activate","deactivate","beforeclose","close"),e.callParent(arguments),e.card&&e.setCard(e.card),e.overCls=["over",e.position+"-over"]},getTemplateArgs:function(){var e=this,t=e.callParent();return t.closable=e.closable,t.closeText=e.closeText,t},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},beforeRender:function(){var e=this,t=e.up("tabbar"),n=e.up("tabpanel");e.callParent(),e.addClsWithUI(e.position),e.active&&e.addClsWithUI([e.activeCls,e.position+"-"+e.activeCls]),e.syncClosableUI(),e.minWidth||(e.minWidth=t?t.minTabWidth:e.minWidth,!e.minWidth&&n&&(e.minWidth=n.minTabWidth),e.minWidth&&e.iconCls&&(e.minWidth+=25)),e.maxWidth||(e.maxWidth=t?t.maxTabWidth:e.maxWidth,!e.maxWidth&&n&&(e.maxWidth=n.maxTabWidth))},onRender:function(){var e=this;e.setElOrientation(),e.callParent(arguments),e.closable&&e.closeEl.addClsOnOver(e.closeElOverCls),e.keyNav=new Ext.util.KeyNav(e.el,{enter:e.onEnterKey,del:e.onDeleteKey,scope:e})},setElOrientation:function(){var e=this.position;("left"===e||"right"===e)&&this.el.setVertical("right"===e?90:270)},enable:function(){var e=this;return e.callParent(arguments),e.removeClsWithUI(e.position+"-disabled"),e},disable:function(){var e=this;return e.callParent(arguments),e.addClsWithUI(e.position+"-disabled"),e},onDestroy:function(){var e=this;Ext.destroy(e.keyNav),delete e.keyNav,e.callParent(arguments)},setClosable:function(e){var t=this;e=!arguments.length||!!e,t.closable!=e&&(t.closable=e,t.card&&(t.card.closable=e),t.syncClosableUI(),t.rendered&&(t.syncClosableElements(),t.updateLayout()))},syncClosableElements:function(){var e=this,t=e.closeEl;e.closable?(t||(t=e.closeEl=e.btnWrap.insertSibling({tag:"a",cls:e.baseCls+"-close-btn",href:"#",title:e.closeText},"after")),t.addClsOnOver(e.closeElOverCls)):t&&(t.remove(),delete e.closeEl)},syncClosableUI:function(){var e=this,t=[e.closableCls,e.closableCls+"-"+e.position];e.closable?e.addClsWithUI(t):e.removeClsWithUI(t)},setCard:function(e){var t=this;t.card=e,t.setText(t.title||e.title),t.setIconCls(t.iconCls||e.iconCls),t.setIcon(t.icon||e.icon),t.setGlyph(t.glyph||e.glyph)},onCloseClick:function(){var e=this;if(e.fireEvent("beforeclose",e)!==!1)if(e.tabBar){if(e.tabBar.closeTab(e)===!1)return}else e.fireClose()},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(e){var t=this;t.tabBar&&t.tabBar.onClick(e,t.el)},onDeleteKey:function(){this.closable&&this.onCloseClick()},activate:function(e){var t=this;t.active=!0,t.addClsWithUI([t.activeCls,t.position+"-"+t.activeCls]),e!==!0&&t.fireEvent("activate",t)},deactivate:function(e){var t=this;t.active=!1,t.removeClsWithUI([t.activeCls,t.position+"-"+t.activeCls]),e!==!0&&t.fireEvent("deactivate",t)}}),Ext.define("Ext.util.Point",{extend:Ext.util.Region,statics:{fromEvent:function(e){return e=e.browserEvent||e,e=e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0]:e,new this(e.pageX,e.pageY)}},constructor:function(e,t){this.callParent([t,e,t,e])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(e){return this.x==e.x&&this.y==e.y},isWithin:function(e,t){return Ext.isObject(t)||(t={x:t,y:t}),this.x<=e.x+t.x&&this.x>=e.x-t.x&&this.y<=e.y+t.y&&this.y>=e.y-t.y},isContainedBy:function(e){return e instanceof Ext.util.Region||(e=Ext.get(e.el||e).getRegion()),e.contains(this)},roundedEquals:function(e){return Math.round(this.x)==Math.round(e.x)&&Math.round(this.y)==Math.round(e.y)}},function(){this.prototype.translate=Ext.util.Region.prototype.translateBy}),Ext.define("Ext.tab.Bar",{extend:Ext.panel.Header,alias:"widget.tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",isTabBar:!0,defaultType:"tab",plain:!1,childEls:["body","strip"],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls} {bodyTargetCls}{childElCls}<tpl if="ui"> {baseCls}-body-{ui}<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl></tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>",'<div id="{id}-strip" class="{baseCls}-strip {baseCls}-strip-{dock}{childElCls}','<tpl if="ui"> {baseCls}-strip-{ui}','<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl>','</tpl>">',"</div>"],_reverseDockNames:{left:"right",right:"left"},initComponent:function(){var e=this;e.plain&&e.addCls(e.baseCls+"-plain"),e.addClsWithUI(e.orientation),e.addEvents("change"),e.callParent(arguments),Ext.merge(e.layout,e.initialConfig.layout),e.layout.align="vertical"==e.orientation?"left":"top",e.layout.overflowHandler=new Ext.layout.container.boxOverflow.Scroller(e.layout),e.remove(e.titleCmp),delete e.titleCmp,Ext.apply(e.renderData,{bodyCls:e.bodyCls,dock:e.dock})},onRender:function(){var e=this;e.callParent(),"vertical"===e.orientation&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict&&e.el.on({mousemove:e.onMouseMove,scope:e})},afterRender:function(){var e=this.layout;this.callParent(),Ext.isIE9&&Ext.isStrict&&"vertical"===this.orientation&&e.innerCt.on("scroll",function(){e.innerCt.dom.scrollLeft=0})},afterLayout:function(){this.adjustTabPositions(),this.callParent(arguments)},adjustTabPositions:function(){var e,t=this.items.items,n=t.length;if(!Ext.isIE9m)if("right"===this.dock)for(;n--;)e=t[n],e.isVisible()&&e.el.setStyle("left",e.lastBox.width+"px");else if("left"===this.dock)for(;n--;)e=t[n],e.isVisible()&&e.el.setStyle("left",-e.lastBox.height+"px")},getLayout:function(){var e=this;return e.layout.type="horizontal"===e.orientation?"hbox":"vbox",e.callParent(arguments)},onAdd:function(e){e.position=this.dock,this.callParent(arguments)},onRemove:function(e){var t=this;e===t.previousTab&&(t.previousTab=null),t.callParent(arguments)},afterComponentLayout:function(){var e=this,t=e.needsScroll;e.callParent(arguments),t&&e.layout.overflowHandler.scrollToItem(e.activeTab),delete e.needsScroll},onClick:function(e,t){var n,i,r,o,a=this,s=a.tabPanel;e.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||("vertical"===a.orientation&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict?(o=a.getTabInfoFromPoint(e.getXY()),i=o.tab,r=o.close):(n=e.getTarget("."+Ext.tab.Tab.prototype.baseCls),i=n&&Ext.getCmp(n.id),r=i&&i.closeEl&&t===i.closeEl.dom),r&&e.preventDefault(),i&&i.isDisabled&&!i.isDisabled()&&(i.closable&&r?i.onCloseClick():(s?s.setActiveTab(i.card):a.setActiveTab(i),i.focus())))},onMouseMove:function(e){var t,n,i=this,r=i._overTab;e.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||(t=i.getTabInfoFromPoint(e.getXY()),n=t.tab,n!==r&&(r&&r.rendered&&(r.onMouseLeave(e),i._overTab=null),n?(n.onMouseEnter(e),i._overTab=n,n.disabled||i.el.setStyle("cursor","pointer")):i.el.setStyle("cursor","default")))},onMouseLeave:function(e){var t=this._overTab;t&&t.rendered&&t.onMouseLeave(e)},getTabInfoFromPoint:function(e){for(var t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,y=this,E=y.items.items,v=E.length,b=y.layout.innerCt,C=b.getXY(),w=new Ext.util.Point(e[0],e[1]),S=0;v>S;S++)if(t=E[S].lastBox,c=C[0]+t.x,u=C[1]-b.dom.scrollTop+t.y,h=t.width,f=t.height,n=new Ext.util.Region(u,c+h,u+f,c),n.contains(w)){x=E[S],i=x.closeEl,i&&(o=i.getXY(),l=i.getWidth(),d=i.getHeight(),void 0===y._isTabReversed&&(y._isTabReversed=p=-1!==x.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")),m=p?this._reverseDockNames[y.dock]:y.dock,"right"===m?(a=c+h-(o[1]-u+i.getHeight()),s=u+(o[0]-c)):(a=c+(o[1]-u),s=u+c+f-o[0]-i.getWidth()),g=new Ext.util.Region(s,a+l,s+d,a),r=g.contains(w));break}return{tab:x,close:r}},closeTab:function(e){var t,n=this,i=e.card,r=n.tabPanel;if(i&&i.fireEvent("beforeclose",i)===!1)return!1;if(t=n.findNextActivatable(e),Ext.suspendLayouts(),r&&i){if(delete e.ownerCt,i.fireEvent("close",i),r.remove(i),r.getComponent(i))return e.ownerCt=n,Ext.resumeLayouts(!0),!1;e.fireClose(),n.remove(e)}t&&(r?r.setActiveTab(t.card):n.setActiveTab(t),t.focus()),Ext.resumeLayouts(!0)},findNextActivatable:function(e){var t=this;return e.active&&t.items.getCount()>1?t.previousTab&&t.previousTab!==e&&!t.previousTab.disabled?t.previousTab:e.next("tab[disabled=false]")||e.prev("tab[disabled=false]"):void 0},setActiveTab:function(e,t){var n=this;e.disabled||e===n.activeTab||(n.activeTab&&(n.activeTab.isDestroyed?n.previousTab=null:(n.previousTab=n.activeTab,n.activeTab.deactivate())),e.activate(),n.activeTab=e,n.needsScroll=!0,t||(n.fireEvent("change",n,e,e.card),n.updateLayout()))}}),Ext.define("Ext.tree.Column",{extend:Ext.grid.column.Column,alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",autoLock:!0,lockable:!1,draggable:!1,hideable:!1,iconCls:Ext.baseCSSPrefix+"tree-icon",checkboxCls:Ext.baseCSSPrefix+"tree-checkbox",elbowCls:Ext.baseCSSPrefix+"tree-elbow",expanderCls:Ext.baseCSSPrefix+"tree-expander",textCls:Ext.baseCSSPrefix+"tree-node-text",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-treecolumn",isTreeColumn:!0,cellTpl:['<tpl for="lines">','<img src="{parent.blankUrl}" class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>"/>',"</tpl>",'<img src="{blankUrl}" class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>"/>','<tpl if="checked !== null">','<input type="button" role="checkbox" <tpl if="checked">aria-checked="true" </tpl>','class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"/>',"</tpl>",'<img src="{blankUrl}" class="{childCls} {baseIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else>parent</tpl> {iconCls}"','<tpl if="icon">style="background-image:url({icon})"</tpl>/>','<tpl if="href">','<a href="{href}" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>',"<tpl else>",'<span class="{textCls} {childCls}">{value}</span>',"</tpl>"],initComponent:function(){var e=this;e.origRenderer=e.renderer,e.origScope=e.scope||window,e.renderer=e.treeRenderer,e.scope=e,e.callParent()},treeRenderer:function(e,t,n,i,r,o,a){var s,l=this,d=n.get("cls"),c=l.origRenderer,u=n.data,h=n.parentNode,f=a.rootVisible,g=[];for(d&&(t.tdCls+=" "+d);h&&(f||h.data.depth>0);)s=h.data,g[f?s.depth:s.depth-1]=s.isLast?0:1,h=h.parentNode;return l.getTpl("cellTpl").apply({record:n,baseIconCls:l.iconCls,iconCls:u.iconCls,icon:u.icon,checkboxCls:l.checkboxCls,checked:u.checked,elbowCls:l.elbowCls,expanderCls:l.expanderCls,textCls:l.textCls,leaf:u.leaf,expandable:n.isExpandable(),isLast:u.isLast,blankUrl:Ext.BLANK_IMAGE_URL,href:u.href,hrefTarget:u.hrefTarget,lines:g,metaData:t,childCls:l.getChildCls?l.getChildCls()+" ":"",value:c?c.apply(l.origScope,arguments):e})}}),Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:Ext.selection.RowModel,mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:void 0,checkSelector:"."+Ext.baseCSSPrefix+"grid-row-checker",headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",constructor:function(){var e=this;e.callParent(arguments),"SINGLE"===e.mode&&e.showHeaderCheckbox!==!0&&(e.showHeaderCheckbox=!1)},beforeViewRender:function(e){var t,n=this;n.callParent(arguments),(!n.hasLockedHeader()||e.headerCt.lockedCt)&&(n.showHeaderCheckbox!==!1&&e.headerCt.on("headerclick",n.onHeaderClick,n),n.addCheckbox(e,!0),t=e.ownerCt,e.headerCt.lockedCt&&(t=t.ownerCt),n.mon(t,"reconfigure",n.onReconfigure,n))},bindComponent:function(){var e=this;e.sortable=!1,e.callParent(arguments)},hasLockedHeader:function(){var e,t=this.views,n=t.length;for(e=0;n>e;e++)if(t[e].headerCt.lockedCt)return!0;return!1},addCheckbox:function(e,t){var n=this,i=n.injectCheckbox,r=e.headerCt;i!==!1&&("first"==i?i=0:"last"==i&&(i=r.getColumnCount()),Ext.suspendLayouts(),e.getStore().buffered&&(n.showHeaderCheckbox=!1),r.add(i,n.getHeaderConfig()),Ext.resumeLayouts()),t!==!0&&e.refresh()},onReconfigure:function(e,t,n){n&&this.addCheckbox(this.views[0])},toggleUiHeader:function(e){var t=this.views[0],n=t.headerCt,i=n.child("gridcolumn[isCheckerHd]"),r=this.checkerOnCls;i&&(e?i.addCls(r):i.removeCls(r))},onHeaderClick:function(e,t,n){if(t.isCheckerHd){n.stopEvent();var i=this,r=t.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");i.preventFocus=!0,r?i.deselectAll():i.selectAll(),delete i.preventFocus}},getHeaderConfig:function(){var e=this,t=e.showHeaderCheckbox!==!1;return{isCheckerHd:t,text:"&#160;",clickTargetName:"el",width:e.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:t?Ext.baseCSSPrefix+"column-header-checkbox ":"",renderer:Ext.Function.bind(e.renderer,e),editRenderer:e.editRenderer||e.renderEmpty,locked:e.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},refresh:function(){this.callParent(arguments),this.updateHeaderState()},renderer:function(e,t){var n=Ext.baseCSSPrefix;return t.tdCls=n+"grid-cell-special "+n+"grid-cell-row-checker",'<div class="'+n+'grid-row-checker">&#160;</div>'},processSelection:function(e,t,n,i,r){var o,a=this,s=r.getTarget(a.checkSelector);(!a.checkOnly||s)&&(s?(o=a.getSelectionMode(),"SINGLE"!==o&&a.setSelectionMode("SIMPLE"),a.selectWithEvent(t,r),a.setSelectionMode(o)):a.selectWithEvent(t,r))},onSelectChange:function(){this.callParent(arguments),this.suspendChange||this.updateHeaderState()},onStoreLoad:function(){this.callParent(arguments),this.updateHeaderState()},onStoreAdd:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRemove:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRefresh:function(){this.callParent(arguments),this.updateHeaderState()},maybeFireSelectionChange:function(e){e&&!this.suspendChange&&this.updateHeaderState(),this.callParent(arguments)},resumeChanges:function(){this.callParent(),this.suspendChange||this.updateHeaderState()},updateHeaderState:function(){var e,t,n,i=this,r=i.store,o=r.getCount(),a=i.views,s=!1,l=0;if(!r.buffered&&o>0){for(e=i.selected,s=!0,n=0,t=e.getCount();t>n&&i.storeHasSelected(e.getAt(n));++n)++l;s=o===l}a&&a.length&&i.toggleUiHeader(s)}}),Ext.define("Ext.slider.Single",{extend:Ext.slider.Multi,alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],getValue:function(){return this.callParent([0])},setValue:function(){var e=arguments,t=e.length;return(1==t||3>=t&&"number"!=typeof e[1])&&(e=Ext.toArray(e),e.unshift(0)),this.callParent(e)},getNearest:function(){return this.thumbs[0]}}),Ext.define("Ext.state.CookieProvider",{extend:Ext.state.Provider,constructor:function(){var e=this;e.path="/",e.expires=new Date(Ext.Date.now()+6048e5),e.domain=null,e.secure=!1,e.callParent(arguments),e.state=e.readCookies()},set:function(e,t){var n=this;return"undefined"==typeof t||null===t?(n.clear(e),void 0):(n.setCookie(e,t),n.callParent(arguments),void 0)},clear:function(e){this.clearCookie(e),this.callParent(arguments)},readCookies:function(){for(var e,t,n,i={},r=document.cookie+";",o=/\s?(.*?)=(.*?);/g,a=this.prefix,s=a.length;null!=(e=o.exec(r));)t=e[1],n=e[2],t&&t.substring(0,s)==a&&(i[t.substr(s)]=this.decodeValue(n));return i},setCookie:function(e,t){var n=this;document.cookie=n.prefix+e+"="+n.encodeValue(t)+(null==n.expires?"":"; expires="+n.expires.toGMTString())+(null==n.path?"":"; path="+n.path)+(null==n.domain?"":"; domain="+n.domain)+(1==n.secure?"; secure":"")},clearCookie:function(e){var t=this;document.cookie=t.prefix+e+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+(null==t.path?"":"; path="+t.path)+(null==t.domain?"":"; domain="+t.domain)+(1==t.secure?"; secure":"")}}),Ext.define("Ext.state.LocalStorageProvider",{extend:Ext.state.Provider,alias:"state.localstorage",constructor:function(){var e=this;e.callParent(arguments),e.store=e.getStorageObject(),e.state=e.store?e.readLocalStorage():{}},readLocalStorage:function(){for(var e,t=this.store,n=0,i=t.length,r=this.prefix,o=r.length,a={};i>n;++n)e=t.key(n),e.substring(0,o)==r&&(a[e.substr(o)]=this.decodeValue(t.getItem(e)));return a},set:function(e,t){var n=this;n.clear(e),"undefined"!=typeof t&&null!==t&&(n.store.setItem(n.prefix+e,n.encodeValue(t)),n.callParent(arguments))},clear:function(e){this.store.removeItem(this.prefix+e),this.callParent(arguments)},getStorageObject:function(){return Ext.supports.LocalStorage?window.localStorage:!1}}),Ext.define("Ext.tab.Panel",{extend:Ext.panel.Panel,alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],tabPosition:"top",removePanelHeader:!0,plain:!1,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:void 0,maxTabWidth:void 0,deferredRender:!0,initComponent:function(){var e=this,t=[].concat(e.dockedItems||[]),n=e.activeTab||(e.activeTab=0),i=e.tabPosition;e.layout=new Ext.layout.container.Card(Ext.apply({owner:e,deferredRender:e.deferredRender,itemCls:e.itemCls,activeItem:n},e.layout)),e.tabBar=new Ext.tab.Bar(Ext.apply({ui:e.ui,dock:e.tabPosition,orientation:"top"==i||"bottom"==i?"horizontal":"vertical",plain:e.plain,cardLayout:e.layout,tabPanel:e},e.tabBar)),t.push(e.tabBar),e.dockedItems=t,e.addEvents("beforetabchange","tabchange"),e.callParent(arguments),n=e.activeTab=e.getComponent(n),n&&e.tabBar.setActiveTab(n.tab,!0)
},setActiveTab:function(e){var t,n=this;return e=n.getComponent(e),e?(t=n.getActiveTab(),t!==e&&n.fireEvent("beforetabchange",n,e,t)===!1?!1:(e.isComponent||(Ext.suspendLayouts(),e=n.add(e),Ext.resumeLayouts()),n.activeTab=e,Ext.suspendLayouts(),n.layout.setActiveItem(e),e=n.activeTab=n.layout.getActiveItem(),e&&e!==t?(n.tabBar.setActiveTab(e.tab),Ext.resumeLayouts(!0),t!==e&&n.fireEvent("tabchange",n,e,t)):Ext.resumeLayouts(!0),e)):void 0},getActiveTab:function(){var e=this,t=e.getComponent(e.activeTab);return e.activeTab=t&&-1!=e.items.indexOf(t)?t:null,e.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(e,t){var n=this,i=e.tabConfig||{},r={xtype:"tab",ui:n.tabBar.ui,card:e,disabled:e.disabled,closable:e.closable,hidden:e.hidden&&!e.hiddenByLayout,tooltip:e.tooltip,tabBar:n.tabBar,position:n.tabPosition,closeText:e.closeText};i=Ext.applyIf(i,r),e.tab=n.tabBar.insert(t,i),e.on({scope:n,enable:n.onItemEnable,disable:n.onItemDisable,beforeshow:n.onItemBeforeShow,iconchange:n.onItemIconChange,iconclschange:n.onItemIconClsChange,titlechange:n.onItemTitleChange}),e.isPanel&&(n.removePanelHeader&&(e.rendered?e.header&&e.header.hide():e.header=!1),e.isPanel&&n.border&&e.setBorder(!1))},onItemEnable:function(e){e.tab.enable()},onItemDisable:function(e){e.tab.disable()},onItemBeforeShow:function(e){return e!==this.activeTab?(this.setActiveTab(e),!1):void 0},onItemIconChange:function(e,t){e.tab.setIcon(t)},onItemIconClsChange:function(e,t){e.tab.setIconCls(t)},onItemTitleChange:function(e,t){e.tab.setText(t)},doRemove:function(e){var t,n=this;n.destroying||1==n.items.getCount()?n.activeTab=null:-1!==(t=n.tabBar.items.indexOf(n.tabBar.findNextActivatable(e.tab)))&&n.setActiveTab(t),this.callParent(arguments),delete e.tab.card,delete e.tab},onRemove:function(e){var t=this;e.un({scope:t,enable:t.onItemEnable,disable:t.onItemDisable,beforeshow:t.onItemBeforeShow}),t.destroying||e.tab.ownerCt!==t.tabBar||t.tabBar.remove(e.tab)}}),Ext.define("Ext.toolbar.Spacer",{extend:Ext.Component,alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",focusable:!1}),Ext.define("Ext.tree.Panel",{extend:Ext.panel.Table,alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",deferRowRender:!1,rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:!0,arrowCls:Ext.baseCSSPrefix+"tree-arrows",linesCls:Ext.baseCSSPrefix+"tree-lines",noLinesCls:Ext.baseCSSPrefix+"tree-no-lines",autoWidthCls:Ext.baseCSSPrefix+"autowidth-table",constructor:function(e){e=e||{},void 0===e.animate&&(e.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx),this.enableAnimations=e.animate,delete e.animate,this.callParent([e])},initComponent:function(){var e,t=this,n=[t.treeCls],i=t.store;t.useArrows&&(n.push(t.arrowCls),t.lines=!1),t.lines?n.push(t.linesCls):t.useArrows||n.push(t.noLinesCls),Ext.isString(i)?i=t.store=Ext.StoreMgr.lookup(i):!i||Ext.isObject(i)&&!i.isStore?i=t.store=new Ext.data.TreeStore(Ext.apply({root:t.root,fields:t.fields,model:t.model,folderSort:t.folderSort},i)):t.root&&(i=t.store=Ext.data.StoreManager.lookup(i),i.setRootNode(t.root),void 0!==t.folderSort&&(i.folderSort=t.folderSort,i.sort())),t.viewConfig=Ext.apply({rootVisible:t.rootVisible,animate:t.enableAnimations,singleExpand:t.singleExpand,node:i.getRootNode(),hideHeaders:t.hideHeaders},t.viewConfig),t.columns||(void 0===t.initialConfig.hideHeaders&&(t.hideHeaders=!0),t.addCls(t.autoWidthCls),t.columns=[{xtype:"treecolumn",text:"Name",width:Ext.isIE6?"100%":1e4,dataIndex:t.displayField}]),t.cls&&n.push(t.cls),t.cls=n.join(" "),t.callParent(),t.selModel.treeStore=t.store,e=t.getView(),t.relayEvents(e,["checkchange","afteritemexpand","afteritemcollapse"]),e.isLockingView||e.rootVisible||t.getRootNode()||t.setRootNode({expanded:!0})},bindStore:function(e,t){var n=this;n.store=e,n.storeListeners=n.mon(e,{destroyable:!0,load:n.onStoreLoad,rootchange:n.onRootChange,clear:n.onClear,scope:n}),n.storeRelayers=n.relayEvents(e,["beforeload","load"]),n.storeRelayers1=n.mon(e,{destroyable:!0,append:n.createRelayer("itemappend"),remove:n.createRelayer("itemremove"),move:n.createRelayer("itemmove",[0,4]),insert:n.createRelayer("iteminsert"),beforeappend:n.createRelayer("beforeitemappend"),beforeremove:n.createRelayer("beforeitemremove"),beforemove:n.createRelayer("beforeitemmove"),beforeinsert:n.createRelayer("beforeiteminsert"),expand:n.createRelayer("itemexpand",[0,1]),collapse:n.createRelayer("itemcollapse",[0,1]),beforeexpand:n.createRelayer("beforeitemexpand",[0,1]),beforecollapse:n.createRelayer("beforeitemcollapse",[0,1])}),e.ownerTree=n,t||n.view.setRootNode(n.getRootNode())},unbindStore:function(){var e=this,t=e.store;t&&(Ext.destroy(e.storeListeners,e.storeRelayers,e.storeRelayers1),delete t.ownerTree)},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRootNode.apply(this.store,arguments)},getRootNode:function(){return this.store.getRootNode()},onRootChange:function(e){this.view.setRootNode(e)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(e){return e.get("checked")},expandNode:function(e,t,n,i){return this.getView().expand(e,t,n,i||this)},collapseNode:function(e,t,n,i){return this.getView().collapse(e,t,n,i||this)},expandAll:function(e,t){var n=this,i=n.getRootNode(),r=n.enableAnimations;i&&(r||Ext.suspendLayouts(),i.expand(!0,e,t||n),r||Ext.resumeLayouts(!0))},collapseAll:function(e,t){var n=this,i=n.getRootNode(),r=n.enableAnimations,o=n.getView();i&&(r||Ext.suspendLayouts(),t=t||n,o.rootVisible?i.collapse(!0,e,t):i.collapseChildren(!0,e,t),r||Ext.resumeLayouts(!0))},expandPath:function(e,t,n,i,r){var o,a,s=this,l=s.getRootNode(),d=1;return s.getView(),t=t||s.getRootNode().idProperty,n=n||"/",Ext.isEmpty(e)?(Ext.callback(i,r||s,[!1,null]),void 0):(o=e.split(n),l.get(t)!=o[1]?(Ext.callback(i,r||s,[!1,l]),void 0):(a=function(){if(++d===o.length)return Ext.callback(i,r||s,[!0,l]),void 0;var e=l.findChild(t,o[d]);return e?(l=e,l.expand(!1,a),void 0):(Ext.callback(i,r||s,[!1,l]),void 0)},l.expand(!1,a),void 0))},selectPath:function(e,t,n,i,r){var o,a,s,l=this;t=t||l.getRootNode().idProperty,n=n||"/",a=e.split(n),s=a.pop(),a.length>1?l.expandPath(a.join(n),t,n,function(e,n){var o=n;return e&&n&&(n=n.findChild(t,s))?(l.getSelectionModel().select(n),Ext.callback(i,r||l,[!0,n]),void 0):(Ext.callback(i,r||l,[!1,o]),void 0)},l):(o=l.getRootNode(),o.getId()===s?(l.getSelectionModel().select(o),Ext.callback(i,r||l,[!0,o])):Ext.callback(i,r||l,[!1,null]))}}),Ext.define("Ext.view.DragZone",{extend:Ext.dd.DragZone,containerScroll:!1,constructor:function(e){var t,n,i,r=this;Ext.apply(r,e),r.ddGroup||(r.ddGroup="view-dd-zone-"+r.view.id),t=r.view,n=t.ownerCt,i=n?n.getTargetEl().dom:t.el.dom.parentNode,r.callParent([i]),r.ddel=Ext.get(document.createElement("div")),r.ddel.addCls(Ext.baseCSSPrefix+"grid-dd-wrap")},init:function(e,t,n){this.initTarget(e,t,n),this.view.mon(this.view,{itemmousedown:this.onItemMouseDown,scope:this})},onValidDrop:function(e){this.callParent(),e.el.focus()},onItemMouseDown:function(e,t,n,i,r){this.isPreventDrag(r,t,n,i)||(e.focusRow&&e.focusRow(t),this.handleMouseDown(r))},isPreventDrag:function(){return!1},getDragData:function(e){var t=this.view,n=e.getTarget(t.getItemSelector());return n?{copy:t.copy||t.allowCopy&&e.ctrlKey,event:new Ext.EventObjectImpl(e),view:t,ddel:this.ddel,item:n,records:t.getSelectionModel().getSelection(),fromPosition:Ext.fly(n).getXY()}:void 0},onInitDrag:function(e,t){var n=this,i=n.dragData,r=i.view,o=r.getSelectionModel(),a=r.getRecord(i.item);return o.isSelected(a)||o.select(a,!0),i.records=o.getSelection(),n.ddel.update(n.getDragText()),n.proxy.update(n.ddel.dom),n.onStartDrag(e,t),!0},getDragText:function(){var e=this.dragData.records.length;return Ext.String.format(this.dragText,e,1==e?"":"s")},getRepairXY:function(e,t){return t?t.fromPosition:!1}}),Ext.define("Ext.tree.ViewDragZone",{extend:Ext.view.DragZone,isPreventDrag:function(e,t){return t.get("allowDrag")===!1||!!e.getTarget(this.view.expanderSelector)},getDragText:function(){var e=this.dragData.records,t=e.length,n=e[0].get(this.displayField),i="s";return 1===t&&n?n:(n||(i=""),Ext.String.format(this.dragText,t,i))},afterRepair:function(){var e,t,n=this,i=n.view,r=i.selectedItemCls,o=n.dragData.records,a=o.length,s=Ext.fly;if(Ext.enableFx&&n.repairHighlight)for(e=0;a>e;e++)t=i.getNode(o[e]),s(t.firstChild).highlight(n.repairHighlightColor,{listeners:{beforeanimate:function(){i.isSelected(t)&&s(t).removeCls(r)},afteranimate:function(){i.isSelected(t)&&s(t).addCls(r)}}});n.dragging=!1}}),Ext.define("Ext.tree.ViewDropZone",{extend:Ext.view.DropZone,allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,expandDelay:500,indicatorCls:Ext.baseCSSPrefix+"tree-ddindicator",expandNode:function(e){var t=this.view;this.expandProcId=!1,e.isLeaf()||e.isExpanded()||(t.expand(e),this.expandProcId=!1)},queueExpand:function(e){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[e])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=!1)},getPosition:function(e,t){var n,i=this.view,r=i.getRecord(t),o=e.getPageY(),a=r.isLeaf(),s=!1,l=Ext.fly(t).getRegion();return r.isRoot()?"append":this.appendOnly?a?!1:"append":(this.allowParentInserts||(s=r.hasChildNodes()&&r.isExpanded()),n=(l.bottom-l.top)/(a?2:3),o>=l.top&&o<l.top+n?"before":!s&&(a||o>=l.bottom-n&&o<=l.bottom)?"after":"append")},isValidDropPoint:function(e,t,n,i,r){if(!e||!r.item)return!1;var o,a,s=this.view,l=s.getRecord(e),d=r.records,c=d.length,u=d.length;if(!(l&&t&&c))return!1;for(o=0;u>o;o++)if(a=d[o],a.isNode&&a.contains(l))return!1;return"append"===t&&l.get("allowDrop")===!1?!1:"append"!=t&&l.parentNode.get("allowDrop")===!1?!1:Ext.Array.contains(d,l)?!1:s.fireEvent("nodedragover",l,t,r,i)!==!1},onNodeOver:function(e,t,n,i){var r=this.getPosition(n,e),o=this.dropNotAllowed,a=this.view,s=a.getRecord(e),l=this.getIndicator(),d=0;return this.cancelExpand(),"append"!=r||this.expandProcId||Ext.Array.contains(i.records,s)||s.isLeaf()||s.isExpanded()||this.queueExpand(s),this.isValidDropPoint(e,r,t,n,i)?(this.valid=!0,this.currentPosition=r,this.overRecord=s,l.setWidth(Ext.fly(e).getWidth()),d=Ext.fly(e).getY()-Ext.fly(a.el).getY()-1,"before"==r?(o=s.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between",l.showAt(0,d),t.proxy.show()):"after"==r?(o=s.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between",d+=Ext.fly(e).getHeight(),l.showAt(0,d),t.proxy.show()):(o=Ext.baseCSSPrefix+"tree-drop-ok-append",l.hide())):this.valid=!1,this.currentCls=o,o},onNodeOut:function(){this.valid=!1,this.getIndicator().hide()},onContainerOver:function(e,t){return t.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},notifyOut:function(){this.callParent(arguments),this.cancelExpand()},handleNodeDrop:function(e,t,n){var i,r,o,a,s,l,d,c,u=this,h=u.view,f=t?t.parentNode:h.panel.getRootNode(),g=h.getStore().treeStore.model;if(e.copy)for(i=e.records,e.records=[],r=0,o=i.length;o>r;r++)a=i[r],a.isNode?e.records.push(a.copy(void 0,!0)):e.records.push(new g(a.data,a.getId()));u.cancelExpand(),"before"==n?(s=f.insertBefore,l=[null,t],t=f):"after"==n?(t.nextSibling?(s=f.insertBefore,l=[null,t.nextSibling]):(s=f.appendChild,l=[null]),t=f):(t.isExpanded()||t.isLoading()||(d=!0),s=t.appendChild,l=[null]),c=function(){var n,i;for(Ext.suspendLayouts(),h.getSelectionModel().clearSelections(),r=0,o=e.records.length;o>r;r++)a=e.records[r],a.isNode||(a=a.isModel?new g(a.data,a.getId()):new g(a),e.records[r]=a),l[0]=a,s.apply(t,l);if(u.sortOnDrop&&t.sort(t.getOwnerTree().store.generateComparator()),Ext.resumeLayouts(!0),Ext.enableFx&&u.dropHighlight)for(n=u.dropHighlightColor,r=0;o>r;r++)i=h.getNode(e.records[r]),i&&Ext.fly(i).highlight(n)},d?t.expand(!1,c):t.isLoading()?t.on({expand:c,delay:1,single:!0}):c()}}),Ext.define("Ext.tree.plugin.TreeViewDragDrop",{extend:Ext.AbstractPlugin,alias:"plugin.treeviewdragdrop",dragText:"{0} selected node{1}",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,ddGroup:"TreeDD",containerScroll:!1,expandDelay:1e3,enableDrop:!0,enableDrag:!0,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,nodeHighlightOnRepair:Ext.enableFx,displayField:"text",init:function(e){e.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onViewRender:function(e){var t,n=this;n.enableDrag&&(n.containerScroll&&(t=e.getEl()),n.dragZone=new Ext.tree.ViewDragZone({view:e,ddGroup:n.dragGroup||n.ddGroup,dragText:n.dragText,displayField:n.displayField,repairHighlightColor:n.nodeHighlightColor,repairHighlight:n.nodeHighlightOnRepair,scrollEl:t})),n.enableDrop&&(n.dropZone=new Ext.tree.ViewDropZone({view:e,ddGroup:n.dropGroup||n.ddGroup,allowContainerDrops:n.allowContainerDrops,appendOnly:n.appendOnly,allowParentInserts:n.allowParentInserts,expandDelay:n.expandDelay,dropHighlightColor:n.nodeHighlightColor,dropHighlight:n.nodeHighlightOnDrop,sortOnDrop:n.sortOnDrop,containerScroll:n.containerScroll}))}},function(){var e=this.prototype;e.nodeHighlightOnDrop=e.nodeHighlightOnRepair=Ext.enableFx}),Ext.define("Ext.util.Cookies",{singleton:!0,set:function(e,t){var n=arguments,i=arguments.length,r=i>2?n[2]:null,o=i>3?n[3]:"/",a=i>4?n[4]:null,s=i>5?n[5]:!1;document.cookie=e+"="+escape(t)+(null===r?"":"; expires="+r.toGMTString())+(null===o?"":"; path="+o)+(null===a?"":"; domain="+a)+(s===!0?"; secure":"")},get:function(e){for(var t=e+"=",n=t.length,i=document.cookie.length,r=0,o=0;i>r;){if(o=r+n,document.cookie.substring(r,o)==t)return this.getCookieVal(o);if(r=document.cookie.indexOf(" ",r)+1,0===r)break}return null},clear:function(e,t){this.get(e)&&(t=t||"/",document.cookie=e+"="+"; expires=Thu, 01-Jan-70 00:00:01 GMT; path="+t)},getCookieVal:function(e){var t=document.cookie.indexOf(";",e);return-1==t&&(t=document.cookie.length),unescape(document.cookie.substring(e,t))}}),Ext.define("Ext.util.Grouper",{extend:Ext.util.Sorter,isGrouper:!0,getGroupString:function(e){return e.get(this.property)}}),Ext.define("Ext.util.History",{singleton:!0,alternateClassName:"Ext.History",mixins:{observable:Ext.util.Observable},useTopWindow:!0,fieldId:Ext.baseCSSPrefix+"history-field",iframeId:Ext.baseCSSPrefix+"history-frame",constructor:function(){var e=this;e.oldIEMode=Ext.isIE7m||!Ext.isStrict&&Ext.isIE8,e.iframe=null,e.hiddenField=null,e.ready=!1,e.currentToken=null,e.mixins.observable.constructor.call(e)},getHash:function(){var e=window.location.href,t=e.indexOf("#");return t>=0?e.substr(t+1):null},setHash:function(e){var t=this,n=t.useTopWindow?window.top:window;try{n.location.hash=e}catch(i){}},doSave:function(){this.hiddenField.value=this.currentToken},handleStateChange:function(e){this.currentToken=e,this.fireEvent("change",e)},updateIFrame:function(e){var t,n='<html><body><div id="state">'+Ext.util.Format.htmlEncode(e)+"</div></body></html>";try{return t=this.iframe.contentWindow.document,t.open(),t.write(n),t.close(),!0}catch(i){return!1}},checkIFrame:function(){var e,t,n,i,r=this,o=r.iframe.contentWindow;return o&&o.document?(e=o.document,t=e.getElementById("state"),n=t?t.innerText:null,i=r.getHash(),Ext.TaskManager.start({run:function(){var e=o.document,t=e.getElementById("state"),a=t?t.innerText:null,s=r.getHash();a!==n?(n=a,r.handleStateChange(a),r.setHash(a),i=a,r.doSave()):s!==i&&(i=s,r.updateIFrame(s))},interval:50,scope:r}),r.ready=!0,r.fireEvent("ready",r),void 0):(Ext.Function.defer(this.checkIFrame,10,this),void 0)},startUp:function(){var e,t=this;t.currentToken=t.hiddenField.value||this.getHash(),t.oldIEMode?t.checkIFrame():(e=t.getHash(),Ext.TaskManager.start({run:function(){var n=t.getHash();n!==e&&(e=n,t.handleStateChange(e),t.doSave())},interval:50,scope:t}),t.ready=!0,t.fireEvent("ready",t))},init:function(e,t){var n=this,i=Ext.DomHelper;return n.ready?(Ext.callback(e,t,[n]),void 0):Ext.isReady?(n.hiddenField=Ext.getDom(n.fieldId),n.hiddenField||(n.hiddenField=Ext.getBody().createChild({id:Ext.id(),tag:"form",cls:Ext.baseCSSPrefix+"hide-display",children:[{tag:"input",type:"hidden",id:n.fieldId}]},!1,!0).firstChild),n.oldIEMode&&(n.iframe=Ext.getDom(n.iframeId),n.iframe||(n.iframe=i.append(n.hiddenField.parentNode,{tag:"iframe",id:n.iframeId,src:Ext.SSL_SECURE_URL}))),n.addEvents("ready","change"),e&&n.on("ready",e,t,{single:!0}),n.startUp(),void 0):(Ext.onReady(function(){n.init(e,t)}),void 0)},add:function(e,t){var n=this;return t!==!1&&n.getToken()===e?!0:n.oldIEMode?n.updateIFrame(e):(n.setHash(e),!0)},back:function(){window.history.go(-1)},forward:function(){window.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}});